/*
* Telerik UI for Windows 8 HTML 2014.1.221 (http://telerik.com)
* Copyright 2014 Telerik AD. All rights reserved.
*/
(function(a, aF) {
  var T = window.kendo = window.kendo || {
    cultures: {}
  }, B = a.extend,
    s = a.each,
    N = a.isArray,
    ap = a.proxy,
    ab = a.noop,
    X = Math,
    az, Q = window.JSON || {}, ay = {}, am = /%/,
    D = /\{(\d+)(:[^\}]+)?\}/g,
    i = /(\d+?)px\s*(\d+?)px\s*(\d+?)px\s*(\d+?)?/i,
    ae = /^(\+|-?)\d+(\.?)\d*$/,
    E = "function",
    ax = "string",
    ad = "number",
    af = "object",
    ac = "null",
    h = "boolean",
    aG = "undefined",
    J = {}, at = {}, aw = [].slice,
    K = window.Globalize;
  T.version = "$KENDO_VERSION";

  function j() {}
  j.extend = function(aP) {
    var aM = function() {}, aO, aR = this,
      aQ = aP && aP.init ? aP.init : function() {
        aR.apply(this, arguments)
      }, aN;
    aM.prototype = aR.prototype;
    aN = aQ.fn = aQ.prototype = new aM();
    for (aO in aP) {
      if (typeof aP[aO] === af && !(aP[aO] instanceof Array) && aP[aO] !== null) {
        aN[aO] = B(true, {}, aM.prototype[aO], aP[aO])
      } else {
        aN[aO] = aP[aO]
      }
    }
    aN.constructor = aQ;
    aQ.extend = aR.extend;
    return aQ
  };
  j.prototype._initOptions = function(aM) {
    this.options = p({}, this.options, aM)
  };
  var P = T.isFunction = function(aM) {
    return typeof aM === "function"
  };
  var ao = function() {
    this._defaultPrevented = true
  };
  var O = function() {
    return this._defaultPrevented === true
  };
  var ag = j.extend({
    init: function() {
      this._events = {}
    },
    bind: function(aM, aQ, aU) {
      var aW = this,
        aS, aN = typeof aM === ax ? [aM] : aM,
        aT, aV, aP, aR = typeof aQ === E,
        aO;
      if (aQ === aF) {
        for (aS in aM) {
          aW.bind(aS, aM[aS])
        }
        return aW
      }
      for (aS = 0, aT = aN.length; aS < aT; aS++) {
        aM = aN[aS];
        aP = aR ? aQ : aQ[aM];
        if (aP) {
          if (aU) {
            aV = aP;
            aP = function() {
              aW.unbind(aM, aP);
              aV.apply(aW, arguments)
            }
          }
          aO = aW._events[aM] = aW._events[aM] || [];
          aO.push(aP)
        }
      }
      return aW
    },
    one: function(aM, aN) {
      return this.bind(aM, aN, true)
    },
    first: function(aM, aQ) {
      var aU = this,
        aS, aN = typeof aM === ax ? [aM] : aM,
        aT, aP, aR = typeof aQ === E,
        aO;
      for (aS = 0, aT = aN.length; aS < aT; aS++) {
        aM = aN[aS];
        aP = aR ? aQ : aQ[aM];
        if (aP) {
          aO = aU._events[aM] = aU._events[aM] || [];
          aO.unshift(aP)
        }
      }
      return aU
    },
    trigger: function(aN, aM) {
      var aR = this,
        aO = aR._events[aN],
        aP, aQ;
      if (aO) {
        aM = aM || {};
        aM.sender = aR;
        aM._defaultPrevented = false;
        aM.preventDefault = ao;
        aM.isDefaultPrevented = O;
        aO = aO.slice();
        for (aP = 0, aQ = aO.length; aP < aQ; aP++) {
          aO[aP].call(aR, aM)
        }
        return aM._defaultPrevented === true
      }
      return false
    },
    unbind: function(aM, aO) {
      var aQ = this,
        aN = aQ._events[aM],
        aP;
      if (aM === aF) {
        aQ._events = {}
      } else {
        if (aN) {
          if (aO) {
            for (aP = aN.length - 1; aP >= 0; aP--) {
              if (aN[aP] === aO) {
                aN.splice(aP, 1)
              }
            }
          } else {
            aQ._events[aM] = []
          }
        }
      }
      return aQ
    }
  });

  function k(aN, aP) {
    if (aP) {
      return "'" + aN.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/\t/g, "\\t") + "'"
    } else {
      var aM = aN.charAt(0),
        aO = aN.substring(1);
      if (aM === "=") {
        return "+(" + aO + ")+"
      } else {
        if (aM === ":") {
          return "+e(" + aO + ")+"
        } else {
          return ";" + aN + ";o+="
        }
      }
    }
  }
  var g = /^\w+/,
    u = /\$\{([^}]*)\}/g,
    v = /\\\}/g,
    n = /__CURLY__/g,
    w = /\\#/g,
    au = /__SHARP__/g,
    aL = ["", "0", "00", "000", "0000"];
  az = {
    paramName: "data",
    useWithBlock: true,
    render: function(aQ, aM) {
      var aO, aP, aN = "";
      for (aO = 0, aP = aM.length; aO < aP; aO++) {
        aN += aQ(aM[aO])
      }
      return aN
    },
    compile: function(aV, aR) {
      var aU = B({}, this, aR),
        aS = aU.paramName,
        aM = aS.match(g)[0],
        aW = aU.useWithBlock,
        aP = "var o,e=kendo.htmlEncode;",
        aO, aT, aQ;
      if (P(aV)) {
        if (aV.length === 2) {
          return function(aX) {
            return aV(a, {
              data: aX
            }).join("")
          }
        }
        return aV
      }
      aP += aW ? "with(" + aS + "){" : "";
      aP += "o=";
      aT = aV.replace(v, "__CURLY__").replace(u, "#=e($1)#").replace(n, "}").replace(w, "__SHARP__").split("#");
      for (aQ = 0; aQ < aT.length; aQ++) {
        aP += k(aT[aQ], aQ % 2 === 0)
      }
      aP += aW ? ";}" : ";";
      aP += "return o;";
      aP = aP.replace(au, "#");
      try {
        aO = new Function(aM, aP);
        aO._slotCount = Math.floor(aT.length / 2);
        return aO
      } catch (aN) {
        throw new Error(T.format("Invalid template:'{0}' Generated code:'{1}'", aV, aP))
      }
    }
  };

  function ai(aO, aM, aN) {
    aO = aO + "";
    aM = aM || 2;
    aN = aM - aO.length;
    if (aN) {
      return aL[aM].substring(0, aN) + aO
    }
    return aO
  }(function() {
    var aM = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
      aN, aO, aP = {
        "\b": "\\b",
        "\t": "\\t",
        "\n": "\\n",
        "\f": "\\f",
        "\r": "\\r",
        '"': '\\"',
        "\\": "\\\\"
      }, aR, aT = {}.toString;
    if (typeof Date.prototype.toJSON !== E) {
      Date.prototype.toJSON = function() {
        var aU = this;
        return isFinite(aU.valueOf()) ? ai(aU.getUTCFullYear(), 4) + "-" + ai(aU.getUTCMonth() + 1) + "-" + ai(aU.getUTCDate()) + "T" + ai(aU.getUTCHours()) + ":" + ai(aU.getUTCMinutes()) + ":" + ai(aU.getUTCSeconds()) + "Z" : null
      };
      String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function() {
        return this.valueOf()
      }
    }
    function aQ(aU) {
      aM.lastIndex = 0;
      return aM.test(aU) ? '"' + aU.replace(aM, function(aV) {
        var aW = aP[aV];
        return typeof aW === ax ? aW : "\\u" + ("0000" + aV.charCodeAt(0).toString(16)).slice(-4)
      }) + '"' : '"' + aU + '"'
    }
    function aS(aX, aU) {
      var aV, aW, a2, aY, aZ = aN,
        a0, a3 = aU[aX],
        a1;
      if (a3 && typeof a3 === af && typeof a3.toJSON === E) {
        a3 = a3.toJSON(aX)
      }
      if (typeof aR === E) {
        a3 = aR.call(aU, aX, a3)
      }
      a1 = typeof a3;
      if (a1 === ax) {
        return aQ(a3)
      } else {
        if (a1 === ad) {
          return isFinite(a3) ? String(a3) : ac
        } else {
          if (a1 === h || a1 === ac) {
            return String(a3)
          } else {
            if (a1 === af) {
              if (!a3) {
                return ac
              }
              aN += aO;
              a0 = [];
              if (aT.apply(a3) === "[object Array]") {
                aY = a3.length;
                for (aV = 0; aV < aY; aV++) {
                  a0[aV] = aS(aV, a3) || ac
                }
                a2 = a0.length === 0 ? "[]" : aN ? "[\n" + aN + a0.join(",\n" + aN) + "\n" + aZ + "]" : "[" + a0.join(",") + "]";
                aN = aZ;
                return a2
              }
              if (aR && typeof aR === af) {
                aY = aR.length;
                for (aV = 0; aV < aY; aV++) {
                  if (typeof aR[aV] === ax) {
                    aW = aR[aV];
                    a2 = aS(aW, a3);
                    if (a2) {
                      a0.push(aQ(aW) + (aN ? ": " : ":") + a2)
                    }
                  }
                }
              } else {
                for (aW in a3) {
                  if (Object.hasOwnProperty.call(a3, aW)) {
                    a2 = aS(aW, a3);
                    if (a2) {
                      a0.push(aQ(aW) + (aN ? ": " : ":") + a2)
                    }
                  }
                }
              }
              a2 = a0.length === 0 ? "{}" : aN ? "{\n" + aN + a0.join(",\n" + aN) + "\n" + aZ + "}" : "{" + a0.join(",") + "}";
              aN = aZ;
              return a2
            }
          }
        }
      }
    }
    if (typeof Q.stringify !== E) {
      Q.stringify = function(aX, aV, aW) {
        var aU;
        aN = "";
        aO = "";
        if (typeof aW === ad) {
          for (aU = 0; aU < aW; aU += 1) {
            aO += " "
          }
        } else {
          if (typeof aW === ax) {
            aO = aW
          }
        }
        aR = aV;
        if (aV && typeof aV !== E && (typeof aV !== af || typeof aV.length !== ad)) {
          throw new Error("JSON.stringify")
        }
        return aS("", {
          "": aX
        })
      }
    }
  })();
  (function() {
    var aO = /dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|"[^"]*"|'[^']*'/g,
      a2 = /^(n|c|p|e)(\d*)$/i,
      aW = /(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,
      aN = /\,/g,
      aP = "",
      aZ = ".",
      aM = ",",
      a1 = "#",
      a4 = "0",
      aY = "??",
      aQ = "en-US",
      aX = {}.toString;
    T.cultures["en-US"] = {
      name: aQ,
      numberFormat: {
        pattern: ["-n"],
        decimals: 2,
        ",": ",",
        ".": ".",
        groupSize: [3],
        percent: {
          pattern: ["-n %", "n %"],
          decimals: 2,
          ",": ",",
          ".": ".",
          groupSize: [3],
          symbol: "%"
        },
        currency: {
          pattern: ["($n)", "$n"],
          decimals: 2,
          ",": ",",
          ".": ".",
          groupSize: [3],
          symbol: "$"
        }
      },
      calendars: {
        standard: {
          days: {
            names: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            namesAbbr: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
            namesShort: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"]
          },
          months: {
            names: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            namesAbbr: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
          },
          AM: ["AM", "am", "AM"],
          PM: ["PM", "pm", "PM"],
          patterns: {
            d: "M/d/yyyy",
            D: "dddd, MMMM dd, yyyy",
            F: "dddd, MMMM dd, yyyy h:mm:ss tt",
            g: "M/d/yyyy h:mm tt",
            G: "M/d/yyyy h:mm:ss tt",
            m: "MMMM dd",
            M: "MMMM dd",
            s: "yyyy'-'MM'-'ddTHH':'mm':'ss",
            t: "h:mm tt",
            T: "h:mm:ss tt",
            u: "yyyy'-'MM'-'dd HH':'mm':'ss'Z'",
            y: "MMMM, yyyy",
            Y: "MMMM, yyyy"
          },
          "/": "/",
          ":": ":",
          firstDay: 0,
          twoDigitYearMax: 2029
        }
      }
    };

    function aS(a5) {
      if (a5) {
        if (a5.numberFormat) {
          return a5
        }
        if (typeof a5 === ax) {
          var a6 = T.cultures;
          return a6[a5] || a6[a5.split("-")[0]] || null
        }
        return null
      }
      return null
    }
    function aV(a5) {
      if (a5) {
        a5 = aS(a5)
      }
      return a5 || T.cultures.current
    }
    function aR(a5) {
      a5.groupSizes = a5.groupSize;
      a5.percent.groupSizes = a5.percent.groupSize;
      a5.currency.groupSizes = a5.currency.groupSize
    }
    T.culture = function(a6) {
      var a7 = T.cultures,
        a5;
      if (a6 !== aF) {
        a5 = aS(a6) || a7[aQ];
        a5.calendar = a5.calendars.standard;
        a7.current = a5;
        if (K) {
          aR(a5.numberFormat)
        }
      } else {
        return a7.current
      }
    };
    T.findCulture = aS;
    T.getCulture = aV;
    T.culture(aQ);

    function aT(a7, a9, a6) {
      a6 = aV(a6);
      var a5 = a6.calendars.standard,
        a8 = a5.days,
        ba = a5.months;
      a9 = a5.patterns[a9] || a9;
      return a9.replace(aO, function(bb) {
        var bc;
        if (bb === "d") {
          bc = a7.getDate()
        } else {
          if (bb === "dd") {
            bc = ai(a7.getDate())
          } else {
            if (bb === "ddd") {
              bc = a8.namesAbbr[a7.getDay()]
            } else {
              if (bb === "dddd") {
                bc = a8.names[a7.getDay()]
              } else {
                if (bb === "M") {
                  bc = a7.getMonth() + 1
                } else {
                  if (bb === "MM") {
                    bc = ai(a7.getMonth() + 1)
                  } else {
                    if (bb === "MMM") {
                      bc = ba.namesAbbr[a7.getMonth()]
                    } else {
                      if (bb === "MMMM") {
                        bc = ba.names[a7.getMonth()]
                      } else {
                        if (bb === "yy") {
                          bc = ai(a7.getFullYear() % 100)
                        } else {
                          if (bb === "yyyy") {
                            bc = ai(a7.getFullYear(), 4)
                          } else {
                            if (bb === "h") {
                              bc = a7.getHours() % 12 || 12
                            } else {
                              if (bb === "hh") {
                                bc = ai(a7.getHours() % 12 || 12)
                              } else {
                                if (bb === "H") {
                                  bc = a7.getHours()
                                } else {
                                  if (bb === "HH") {
                                    bc = ai(a7.getHours())
                                  } else {
                                    if (bb === "m") {
                                      bc = a7.getMinutes()
                                    } else {
                                      if (bb === "mm") {
                                        bc = ai(a7.getMinutes())
                                      } else {
                                        if (bb === "s") {
                                          bc = a7.getSeconds()
                                        } else {
                                          if (bb === "ss") {
                                            bc = ai(a7.getSeconds())
                                          } else {
                                            if (bb === "f") {
                                              bc = X.floor(a7.getMilliseconds() / 100)
                                            } else {
                                              if (bb === "ff") {
                                                bc = X.floor(a7.getMilliseconds() / 10)
                                              } else {
                                                if (bb === "fff") {
                                                  bc = a7.getMilliseconds()
                                                } else {
                                                  if (bb === "tt") {
                                                    bc = a7.getHours() < 12 ? a5.AM[0] : a5.PM[0]
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
        return bc !== aF ? bc : bb.slice(1, bb.length - 1)
      })
    }
    function aU(bu, bc, a6) {
      a6 = aV(a6);
      var bv = a6.numberFormat,
        bh = bv.groupSize[0],
        bg = bv[aM],
        a9 = bv[aZ],
        by = bv.decimals,
        bw = bv.pattern[0],
        bs = [],
        bD, bp, bq, a8, bd, bt = bu < 0,
        bn, be, bo, bf, bz = aP,
        bE = aP,
        bm, br, a5, bi, bj, ba, bA, bF, bl, bk, bx, a7, bC, bB = -1,
        bb;
      if (bu === aF) {
        return aP
      }
      if (!isFinite(bu)) {
        return bu
      }
      if (!bc) {
        return a6.name.length ? bu.toLocaleString() : bu.toString()
      }
      bd = a2.exec(bc);
      if (bd) {
        bc = bd[1].toLowerCase();
        bp = bc === "c";
        bq = bc === "p";
        if (bp || bq) {
          bv = bp ? bv.currency : bv.percent;
          bh = bv.groupSize[0];
          bg = bv[aM];
          a9 = bv[aZ];
          by = bv.decimals;
          bD = bv.symbol;
          bw = bv.pattern[bt ? 0 : 1]
        }
        a8 = bd[2];
        if (a8) {
          by = +a8
        }
        if (bc === "e") {
          return a8 ? bu.toExponential(by) : bu.toExponential()
        }
        if (bq) {
          bu *= 100
        }
        bu = a0(bu, by);
        bu = bu.split(aZ);
        bn = bu[0];
        be = bu[1];
        if (bt) {
          bn = bn.substring(1)
        }
        bE = bn;
        bo = bn.length;
        if (bo >= bh) {
          bE = aP;
          for (bm = 0; bm < bo; bm++) {
            if (bm > 0 && (bo - bm) % bh === 0) {
              bE += bg
            }
            bE += bn.charAt(bm)
          }
        }
        if (be) {
          bE += a9 + be
        }
        if (bc === "n" && !bt) {
          return bE
        }
        bu = aP;
        for (bm = 0, br = bw.length; bm < br; bm++) {
          a5 = bw.charAt(bm);
          if (a5 === "n") {
            bu += bE
          } else {
            if (a5 === "$" || a5 === "%") {
              bu += bD
            } else {
              bu += a5
            }
          }
        }
        return bu
      }
      if (bt) {
        bu = -bu
      }
      if (bc.indexOf("'") > -1 || bc.indexOf('"') > -1 || bc.indexOf("\\") > -1) {
        bc = bc.replace(aW, function(bH) {
          var bI = bH.charAt(0).replace("\\", ""),
            bG = bH.slice(1).replace(bI, "");
          bs.push(bG);
          return aY
        })
      }
      bc = bc.split(";");
      if (bt && bc[1]) {
        bc = bc[1];
        bj = true
      } else {
        if (bu === 0) {
          bc = bc[2] || bc[0];
          if (bc.indexOf(a1) == -1 && bc.indexOf(a4) == -1) {
            return bc
          }
        } else {
          bc = bc[0]
        }
      }
      bx = bc.indexOf("%");
      a7 = bc.indexOf("$");
      bq = bx != -1;
      bp = a7 != -1;
      if (bq) {
        bu *= 100
      }
      if (bp && bc[a7 - 1] === "\\") {
        bc = bc.split("\\").join("");
        bp = false
      }
      if (bp || bq) {
        bv = bp ? bv.currency : bv.percent;
        bh = bv.groupSize[0];
        bg = bv[aM];
        a9 = bv[aZ];
        by = bv.decimals;
        bD = bv.symbol
      }
      bi = bc.indexOf(aM) > -1;
      if (bi) {
        bc = bc.replace(aN, aP)
      }
      ba = bc.indexOf(aZ);
      br = bc.length;
      if (ba != -1) {
        be = bu.toString().split("e");
        if (be[1]) {
          be = a0(bu, Math.abs(be[1]))
        } else {
          be = be[0]
        }
        be = be.split(aZ)[1] || aP;
        bF = bc.lastIndexOf(a4) - ba;
        bA = bc.lastIndexOf(a1) - ba;
        bl = bF > -1;
        bk = bA > -1;
        bm = be.length;
        if (!bl && !bk) {
          bc = bc.substring(0, ba) + bc.substring(ba + 1);
          br = bc.length;
          ba = -1;
          bm = 0
        }
        if (bl && bF > bA) {
          bm = bF
        } else {
          if (bA > bF) {
            if (bk && bm > bA) {
              bm = bA
            } else {
              if (bl && bm < bF) {
                bm = bF
              }
            }
          }
        }
        if (bm > -1) {
          bu = a0(bu, bm)
        }
      } else {
        bu = a0(bu)
      }
      bA = bc.indexOf(a1);
      bC = bF = bc.indexOf(a4);
      if (bA == -1 && bF != -1) {
        bB = bF
      } else {
        if (bA != -1 && bF == -1) {
          bB = bA
        } else {
          bB = bA > bF ? bF : bA
        }
      }
      bA = bc.lastIndexOf(a1);
      bF = bc.lastIndexOf(a4);
      if (bA == -1 && bF != -1) {
        bb = bF
      } else {
        if (bA != -1 && bF == -1) {
          bb = bA
        } else {
          bb = bA > bF ? bA : bF
        }
      }
      if (bB == br) {
        bb = bB
      }
      if (bB != -1) {
        bE = bu.toString().split(aZ);
        bn = bE[0];
        be = bE[1] || aP;
        bo = bn.length;
        bf = be.length;
        if (bi) {
          if (bo === bh && bo < ba - bC) {
            bn = bg + bn
          } else {
            if (bo > bh) {
              bE = aP;
              for (bm = 0; bm < bo; bm++) {
                if (bm > 0 && (bo - bm) % bh === 0) {
                  bE += bg
                }
                bE += bn.charAt(bm)
              }
              bn = bE
            }
          }
        }
        bu = bc.substring(0, bB);
        if (bt && !bj) {
          bu += "-"
        }
        for (bm = bB; bm < br; bm++) {
          a5 = bc.charAt(bm);
          if (ba == -1) {
            if (bb - bm < bo) {
              bu += bn;
              break
            }
          } else {
            if (bF != -1 && bF < bm) {
              bz = aP
            }
            if ((ba - bm) <= bo && ba - bm > -1) {
              bu += bn;
              bm = ba
            }
            if (ba === bm) {
              bu += (be ? a9 : aP) + be;
              bm += bb - ba + 1;
              continue
            }
          }
          if (a5 === a4) {
            bu += a5;
            bz = a5
          } else {
            if (a5 === a1) {
              bu += bz
            }
          }
        }
        if (bb >= bB) {
          bu += bc.substring(bb + 1)
        }
        if (bp || bq) {
          bE = aP;
          for (bm = 0, br = bu.length; bm < br; bm++) {
            a5 = bu.charAt(bm);
            bE += (a5 === "$" || a5 === "%") ? bD : a5
          }
          bu = bE
        }
        br = bs.length;
        if (br) {
          for (bm = 0; bm < br; bm++) {
            bu = bu.replace(aY, bs[bm])
          }
        }
      }
      return bu
    }
    var a0 = function(a7, a6) {
      var a5 = Math.pow(10, a6 || 0);
      return (Math.round(a7 * a5) / a5).toFixed(a6)
    };
    var a3 = function(a7, a6, a5) {
      if (a6) {
        if (aX.call(a7) === "[object Date]") {
          return aT(a7, a6, a5)
        } else {
          if (typeof a7 === ad) {
            return aU(a7, a6, a5)
          }
        }
      }
      return a7 !== aF ? a7 : ""
    };
    if (K) {
      a3 = function(a7, a6, a5) {
        if (typeof a5 !== ax) {
          a5 = a5.name
        }
        return K.format(a7, a6, a5)
      }
    }
    T.format = function(a5) {
      var a6 = arguments;
      return a5.replace(D, function(a8, a7, a9) {
        var ba = a6[parseInt(a7, 10) + 1];
        return a3(ba, a9 ? a9.substring(1) : "")
      })
    };
    T._extractFormat = function(a5) {
      if (a5.slice(0, 3) === "{0:") {
        a5 = a5.slice(3, a5.length - 1)
      }
      return a5
    };
    T._activeElement = function() {
      try {
        return document.activeElement
      } catch (a5) {
        return document.documentElement.activeElement
      }
    };
    T._round = a0;
    T.toString = a3
  })();
  (function() {
    var aV = /\u00A0/g,
      aP = /[eE][\-+]?[0-9]+/,
      a0 = /[+|\-]\d{1,2}/,
      aR = /[+|\-]\d{1,2}:\d{2}/,
      aN = /^\/Date\((.*?)\)\/$/,
      aQ = ["G", "g", "d", "F", "D", "y", "m", "T", "t"],
      aW = {
        2: /^\d{1,2}/,
        4: /^\d{4}/
      }, aX = {}.toString;

    function aY(a3, a2, a1) {
      return !(a3 >= a2 && a3 <= a1)
    }
    function aO(a1) {
      return a1.charAt(0)
    }
    function aU(a1) {
      return a.map(a1, aO)
    }
    function aM(a1, a2) {
      if (!a2 && a1.getHours() === 23) {
        a1.setHours(a1.getHours() + 2)
      }
    }
    function aS(a2) {
      var a3 = 0,
        a4 = a2.length,
        a1 = [];
      for (; a3 < a4; a3++) {
        a1[a3] = (a2[a3] + "").toLowerCase()
      }
      return a1
    }
    function aT(a1) {
      var a2 = {}, a3;
      for (a3 in a1) {
        a2[a3] = aS(a1[a3])
      }
      return a2
    }
    function aZ(bw, ba, a6) {
      if (!bw) {
        return null
      }
      var bk = function(bA) {
        var bz = 0;
        while (ba[bg] === bA) {
          bz++;
          bg++
        }
        if (bz > 0) {
          bg -= 1
        }
        return bz
      }, bc = function(bB) {
        var bA = aW[bB] || new RegExp("^\\d{1," + bB + "}"),
          bz = bw.substr(bx, bB).match(bA);
        if (bz) {
          bz = bz[0];
          bx += bz.length;
          return parseInt(bz, 10)
        }
        return null
      }, bb = function(bE, bB) {
        var bz = 0,
          bA = bE.length,
          bC, bD, bF;
        for (; bz < bA; bz++) {
          bC = bE[bz];
          bD = bC.length;
          bF = bw.substr(bx, bD);
          if (bB) {
            bF = bF.toLowerCase()
          }
          if (bF == bC) {
            bx += bD;
            return bz + 1
          }
        }
        return null
      }, a4 = function() {
        var bz = false;
        if (bw.charAt(bx) === ba[bg]) {
          bx++;
          bz = true
        }
        return bz
      }, a2 = a6.calendars.standard,
        by = null,
        bp = null,
        a8 = null,
        be = null,
        bn = null,
        bt = null,
        bm = null,
        bg = 0,
        bx = 0,
        bj = false,
        a7 = new Date(),
        bu = a2.twoDigitYearMax || 2029,
        a9 = a7.getFullYear(),
        a3, a5, bi, bq, bs, bv, bh, bl, a1, br, bf, bo, bd;
      if (!ba) {
        ba = "d"
      }
      bq = a2.patterns[ba];
      if (bq) {
        ba = bq
      }
      ba = ba.split("");
      bi = ba.length;
      for (; bg < bi; bg++) {
        a3 = ba[bg];
        if (bj) {
          if (a3 === "'") {
            bj = false
          } else {
            a4()
          }
        } else {
          if (a3 === "d") {
            a5 = bk("d");
            if (!a2._lowerDays) {
              a2._lowerDays = aT(a2.days)
            }
            a8 = a5 < 3 ? bc(2) : bb(a2._lowerDays[a5 == 3 ? "namesAbbr" : "names"], true);
            if (a8 === null || aY(a8, 1, 31)) {
              return null
            }
          } else {
            if (a3 === "M") {
              a5 = bk("M");
              if (!a2._lowerMonths) {
                a2._lowerMonths = aT(a2.months)
              }
              bp = a5 < 3 ? bc(2) : bb(a2._lowerMonths[a5 == 3 ? "namesAbbr" : "names"], true);
              if (bp === null || aY(bp, 1, 12)) {
                return null
              }
              bp -= 1
            } else {
              if (a3 === "y") {
                a5 = bk("y");
                by = bc(a5);
                if (by === null) {
                  return null
                }
                if (a5 == 2) {
                  if (typeof bu === "string") {
                    bu = a9 + parseInt(bu, 10)
                  }
                  by = (a9 - a9 % 100) + by;
                  if (by > bu) {
                    by -= 100
                  }
                }
              } else {
                if (a3 === "h") {
                  bk("h");
                  be = bc(2);
                  if (be == 12) {
                    be = 0
                  }
                  if (be === null || aY(be, 0, 11)) {
                    return null
                  }
                } else {
                  if (a3 === "H") {
                    bk("H");
                    be = bc(2);
                    if (be === null || aY(be, 0, 23)) {
                      return null
                    }
                  } else {
                    if (a3 === "m") {
                      bk("m");
                      bn = bc(2);
                      if (bn === null || aY(bn, 0, 59)) {
                        return null
                      }
                    } else {
                      if (a3 === "s") {
                        bk("s");
                        bt = bc(2);
                        if (bt === null || aY(bt, 0, 59)) {
                          return null
                        }
                      } else {
                        if (a3 === "f") {
                          a5 = bk("f");
                          bm = bc(a5);
                          if (bm !== null && a5 > 3) {
                            bm = parseInt(bm.toString().substring(0, 3), 10)
                          }
                          if (bm === null || aY(bm, 0, 999)) {
                            return null
                          }
                        } else {
                          if (a3 === "t") {
                            a5 = bk("t");
                            a1 = a2.AM;
                            br = a2.PM;
                            if (a5 === 1) {
                              a1 = aU(a1);
                              br = aU(br)
                            }
                            bs = bb(br);
                            if (!bs && !bb(a1)) {
                              return null
                            }
                          } else {
                            if (a3 === "z") {
                              bv = true;
                              a5 = bk("z");
                              if (bw.substr(bx, 1) === "Z") {
                                if (!bh) {
                                  return null
                                }
                                a4();
                                continue
                              }
                              bl = bw.substr(bx, 6).match(a5 > 2 ? aR : a0);
                              if (!bl) {
                                return null
                              }
                              bl = bl[0];
                              bx = bl.length;
                              bl = bl.split(":");
                              bf = parseInt(bl[0], 10);
                              if (aY(bf, -12, 13)) {
                                return null
                              }
                              if (a5 > 2) {
                                bo = parseInt(bl[1], 10);
                                if (isNaN(bo) || aY(bo, 0, 59)) {
                                  return null
                                }
                              }
                            } else {
                              if (a3 === "T") {
                                bh = a4()
                              } else {
                                if (a3 === "'") {
                                  bj = true;
                                  a4()
                                } else {
                                  if (!a4()) {
                                    return null
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      bd = be !== null || bn !== null || bt || null;
      if (by === null && bp === null && a8 === null && bd) {
        by = a9;
        bp = a7.getMonth();
        a8 = a7.getDate()
      } else {
        if (by === null) {
          by = a9
        }
        if (a8 === null) {
          a8 = 1
        }
      }
      if (bs && be < 12) {
        be += 12
      }
      if (bv) {
        if (bf) {
          be += -bf
        }
        if (bo) {
          bn += -bo
        }
        bw = new Date(Date.UTC(by, bp, a8, be, bn, bt, bm))
      } else {
        bw = new Date(by, bp, a8, be, bn, bt, bm);
        aM(bw, be)
      }
      if (by < 100) {
        bw.setFullYear(by)
      }
      if (bw.getDate() !== a8 && bv === aF) {
        return null
      }
      return bw
    }
    T.parseDate = function(a7, a3, a1) {
      if (aX.call(a7) === "[object Date]") {
        return a7
      }
      var a4 = 0,
        a2 = null,
        a5, a6;
      if (a7 && a7.indexOf("/D") === 0) {
        a2 = aN.exec(a7);
        if (a2) {
          return new Date(parseInt(a2[1], 10))
        }
      }
      a1 = T.getCulture(a1);
      if (!a3) {
        a3 = [];
        a6 = a1.calendar.patterns;
        a5 = aQ.length;
        for (; a4 < a5; a4++) {
          a3[a4] = a6[aQ[a4]]
        }
        a4 = 0;
        a3 = ["yyyy/MM/dd HH:mm:ss", "yyyy/MM/dd HH:mm", "yyyy/MM/dd", "ddd MMM dd yyyy HH:mm:ss", "yyyy-MM-ddTHH:mm:ss.fffffffzzz", "yyyy-MM-ddTHH:mm:ss.fffzzz", "yyyy-MM-ddTHH:mm:sszzz", "yyyy-MM-ddTHH:mmzzz", "yyyy-MM-ddTHH:mmzz", "yyyy-MM-ddTHH:mm:ss", "yyyy-MM-ddTHH:mm", "yyyy-MM-dd HH:mm:ss", "yyyy-MM-dd HH:mm", "yyyy-MM-dd"].concat(a3)
      }
      a3 = N(a3) ? a3 : [a3];
      a5 = a3.length;
      for (; a4 < a5; a4++) {
        a2 = aZ(a7, a3[a4], a1);
        if (a2) {
          return a2
        }
      }
      return a2
    };
    T.parseInt = function(a3, a1) {
      var a2 = T.parseFloat(a3, a1);
      if (a2) {
        a2 = a2 | 0
      }
      return a2
    };
    T.parseFloat = function(bb, a1, a3) {
      if (!bb && bb !== 0) {
        return null
      }
      if (typeof bb === ad) {
        return bb
      }
      bb = bb.toString();
      a1 = T.getCulture(a1);
      var a6 = a1.numberFormat,
        a8 = a6.percent,
        a2 = a6.currency,
        ba = a2.symbol,
        a9 = a8.symbol,
        a5 = bb.indexOf("-"),
        a7, a4;
      if (aP.test(bb)) {
        bb = parseFloat(bb.replace(a6["."], "."));
        if (isNaN(bb)) {
          bb = null
        }
        return bb
      }
      if (a5 > 0) {
        return null
      } else {
        a5 = a5 > -1
      }
      if (bb.indexOf(ba) > -1 || (a3 && a3.toLowerCase().indexOf("c") > -1)) {
        a6 = a2;
        a7 = a6.pattern[0].replace("$", ba).split("n");
        if (bb.indexOf(a7[0]) > -1 && bb.indexOf(a7[1]) > -1) {
          bb = bb.replace(a7[0], "").replace(a7[1], "");
          a5 = true
        }
      } else {
        if (bb.indexOf(a9) > -1) {
          a4 = true;
          a6 = a8;
          ba = a9
        }
      }
      bb = bb.replace("-", "").replace(ba, "").replace(aV, " ").split(a6[","].replace(aV, " ")).join("").replace(a6["."], ".");
      bb = parseFloat(bb);
      if (isNaN(bb)) {
        bb = null
      } else {
        if (a5) {
          bb *= -1
        }
      }
      if (bb && a4) {
        bb /= 100
      }
      return bb
    };
    if (K) {
      T.parseDate = function(a3, a2, a1) {
        if (aX.call(a3) === "[object Date]") {
          return a3
        }
        return K.parseDate(a3, a2, a1)
      };
      T.parseFloat = function(a2, a1) {
        if (typeof a2 === ad) {
          return a2
        }
        if (a2 === aF || a2 === null) {
          return null
        }
        if (typeof a1 !== ax) {
          a1 = a1.name
        }
        a2 = K.parseFloat(a2, a1);
        return isNaN(a2) ? null : a2
      }
    }
  })();

  function aJ(aQ, aM) {
    var aP = ay.browser,
      aU, aS = aQ.css("direction") == "rtl";
    if (!aQ.parent().hasClass("k-animation-container")) {
      var aZ = aQ.css(T.support.transitions.css + "box-shadow") || aQ.css("box-shadow"),
        aX = aZ ? aZ.match(i) || [0, 0, 0, 0, 0] : [0, 0, 0, 0, 0],
        aN = X.max((+aX[3]), +(aX[4] || 0)),
        aT = (-aX[1]) + aN,
        aY = (+aX[1]) + aN,
        aO = (+aX[2]) + aN,
        a0 = aQ[0].style.width,
        aR = aQ[0].style.height,
        aW = am.test(a0),
        aV = am.test(aR);
      if (aP.opera) {
        aT = aY = aO = 5
      }
      aU = aW || aV;
      if (!aW && (!aM || (aM && a0))) {
        a0 = aQ.outerWidth()
      }
      if (!aV && (!aM || (aM && aR))) {
        aR = aQ.outerHeight()
      }
      aQ.wrap(a("<div/>").addClass("k-animation-container").css({
        width: a0,
        height: aR,
        marginLeft: aT * (aS ? 1 : -1),
        paddingLeft: aT,
        paddingRight: aY,
        paddingBottom: aO
      }));
      if (aU) {
        aQ.css({
          width: "100%",
          height: "100%",
          boxSizing: "border-box",
          mozBoxSizing: "border-box",
          webkitBoxSizing: "border-box"
        })
      }
    } else {
      var a1 = aQ.parent(".k-animation-container"),
        a2 = a1[0].style;
      if (a1.is(":hidden")) {
        a1.show()
      }
      aU = am.test(a2.width) || am.test(a2.height);
      if (!aU) {
        a1.css({
          width: aQ.outerWidth(),
          height: aQ.outerHeight(),
          boxSizing: "content-box",
          mozBoxSizing: "content-box",
          webkitBoxSizing: "content-box"
        })
      }
    }
    if (aP.msie && X.floor(aP.version) <= 7) {
      aQ.css({
        zoom: 1
      });
      aQ.children(".k-menu").width(aQ.width())
    }
    return aQ.parent()
  }
  function p(aM) {
    var aN = 1,
      aO = arguments.length;
    for (aN = 1; aN < aO; aN++) {
      q(aM, arguments[aN])
    }
    return aM
  }
  function q(aN, aT) {
    var aP = T.data.ObservableArray,
      aM = T.data.DataSource,
      aQ, aS, aR, aO;
    for (aQ in aT) {
      aS = aT[aQ];
      aR = typeof aS;
      if (aR === af && aS !== null && aS.constructor !== Array && aS.constructor !== aP && aS.constructor !== aM) {
        if (aS instanceof Date) {
          aN[aQ] = new Date(aS.getTime())
        } else {
          if (P(aS.clone)) {
            aN[aQ] = aS.clone()
          } else {
            aO = aN[aQ];
            if (typeof(aO) === af) {
              aN[aQ] = aO || {}
            } else {
              aN[aQ] = {}
            }
            q(aN[aQ], aS)
          }
        }
      } else {
        if (aR !== aG) {
          aN[aQ] = aS
        }
      }
    }
    return aN
  }
  function aB(aM, aP, aN) {
    for (var aO in aP) {
      if (aP.hasOwnProperty(aO) && aP[aO].test(aM)) {
        return aO
      }
    }
    return aN !== aF ? aN : aM
  }
  function aE(aM) {
    return aM.replace(/([a-z][A-Z])/g, function(aN) {
      return aN.charAt(0) + "-" + aN.charAt(1).toLowerCase()
    })
  }
  function aC(aM) {
    return aM.replace(/\-(\w)/g, function(aO, aN) {
      return aN.toUpperCase()
    })
  }
  function G(aN, aO) {
    var aP = {}, aM;
    if (document.defaultView && document.defaultView.getComputedStyle) {
      aM = document.defaultView.getComputedStyle(aN, "");
      if (aO) {
        a.each(aO, function(aQ, aR) {
          aP[aR] = aM.getPropertyValue(aR)
        })
      }
    } else {
      aM = aN.currentStyle;
      if (aO) {
        a.each(aO, function(aQ, aR) {
          aP[aR] = aM[aC(aR)]
        })
      }
    }
    if (!T.size(aP)) {
      aP = aM
    }
    return aP
  }(function() {
    ay.scrollbar = function() {
      var aU = document.createElement("div"),
        aV;
      aU.style.cssText = "overflow:scroll;overflow-x:hidden;zoom:1;clear:both";
      aU.innerHTML = "&nbsp;";
      document.body.appendChild(aU);
      aV = aU.offsetWidth - aU.scrollWidth;
      document.body.removeChild(aU);
      return aV
    };
    ay.isRtl = function(aU) {
      return a(aU).closest(".k-rtl").length > 0
    };
    var aR = document.createElement("table");
    try {
      aR.innerHTML = "<tr><td></td></tr>";
      ay.tbodyInnerHtml = true
    } catch (aN) {
      ay.tbodyInnerHtml = false
    }
    ay.touch = "ontouchstart" in window;
    ay.msPointers = window.MSPointerEvent;
    ay.pointers = window.PointerEvent;
    var aT = ay.transitions = false,
      aS = ay.transforms = false,
      aO = "HTMLElement" in window ? HTMLElement.prototype : [];
    ay.hasHW3D = ("WebKitCSSMatrix" in window && "m11" in new window.WebKitCSSMatrix()) || "MozPerspective" in document.documentElement.style || "msPerspective" in document.documentElement.style;
    s(["Moz", "webkit", "O", "ms"], function() {
      var aW = this.toString(),
        aU = typeof aR.style[aW + "Transition"] === ax;
      if (aU || typeof aR.style[aW + "Transform"] === ax) {
        var aV = aW.toLowerCase();
        aS = {
          css: (aV != "ms") ? "-" + aV + "-" : "",
          prefix: aW,
          event: (aV === "o" || aV === "webkit") ? aV : ""
        };
        if (aU) {
          aT = aS;
          aT.event = aT.event ? aT.event + "TransitionEnd" : "transitionend"
        }
        return false
      }
    });
    aR = null;
    ay.transforms = aS;
    ay.transitions = aT;
    ay.devicePixelRatio = window.devicePixelRatio === aF ? 1 : window.devicePixelRatio;
    try {
      ay.screenWidth = window.outerWidth || window.screen ? window.screen.availWidth : window.innerWidth;
      ay.screenHeight = window.outerHeight || window.screen ? window.screen.availHeight : window.innerHeight
    } catch (aN) {
      ay.screenWidth = window.screen.availWidth;
      ay.screenHeight = window.screen.availHeight
    }
    ay.detectOS = function(a3) {
      var a1 = false,
        aZ, aY = [],
        a0 = !/mobile safari/i.test(a3),
        aV = {
          fire: /(Silk)\/(\d+)\.(\d+(\.\d+)?)/,
          android: /(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,
          iphone: /(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,
          ipad: /(iPad).*OS\s+(\d+)[\._]([\d_]+)/,
          meego: /(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,
          webos: /(webOS)\/(\d+)\.(\d+(\.\d+)?)/,
          blackberry: /(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,
          playbook: /(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,
          wp: /(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,
          windows: /(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,
          ffos: /(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/
        }, a2 = {
          ios: /^i(phone|pad|pod)$/i,
          android: /^android|fire$/i,
          blackberry: /^blackberry|playbook/i,
          windows: /windows/,
          wp: /wp/,
          meego: /meego|ffos/
        }, aX = {
          tablet: /playbook|ipad|fire/i
        }, aW = {
          omini: /Opera\sMini/i,
          omobile: /Opera\sMobi/i,
          firefox: /Firefox|Fennec/i,
          mobilesafari: /version\/.*safari/i,
          chrome: /chrome/i,
          webkit: /webkit/i,
          ie: /MSIE|Windows\sPhone/i
        };
      for (var aU in aV) {
        if (aV.hasOwnProperty(aU)) {
          aY = a3.match(aV[aU]);
          if (aY) {
            if (aU == "windows" && "plugins" in navigator) {
              return false
            }
            a1 = {};
            a1.device = aU;
            a1.tablet = aB(aU, aX, false);
            a1.browser = aB(a3, aW, "default");
            a1.name = aB(aU, a2);
            a1[a1.name] = true;
            a1.majorVersion = aY[2];
            a1.minorVersion = aY[3].replace("_", ".");
            aZ = a1.minorVersion.replace(".", "").substr(0, 2);
            a1.flatVersion = a1.majorVersion + aZ + (new Array(3 - (aZ.length < 3 ? aZ.length : 2)).join("0"));
            a1.appMode = window.navigator.standalone || (/file|local|wmapp/).test(window.location.protocol) || typeof window.PhoneGap !== aG || typeof window.cordova !== aG;
            if (a1.android && (ay.devicePixelRatio < 1.5 && a1.flatVersion < 400 || a0) && (ay.screenWidth > 800 || ay.screenHeight > 800)) {
              a1.tablet = aU
            }
            break
          }
        }
      }
      return a1
    };
    var aQ = ay.mobileOS = ay.detectOS(navigator.userAgent);
    ay.wpDevicePixelRatio = aQ.wp ? screen.width / 320 : 0;
    ay.kineticScrollNeeded = aQ && (ay.touch || ay.msPointers || ay.pointers);
    ay.hasNativeScrolling = false;
    if ((aQ.ios && aQ.majorVersion > 4) || (aQ.android && aQ.majorVersion > 2) || aQ.wp) {
      ay.hasNativeScrolling = aQ
    }
    ay.mouseAndTouchPresent = ay.touch && !(ay.mobileOS.ios || ay.mobileOS.android);
    ay.detectBrowser = function(aY) {
      var aV = false,
        aX = [],
        aW = {
          webkit: /(chrome)[ \/]([\w.]+)/i,
          safari: /(webkit)[ \/]([\w.]+)/i,
          opera: /(opera)(?:.*version|)[ \/]([\w.]+)/i,
          msie: /(msie\s|trident.*? rv:)([\w.]+)/i,
          mozilla: /(mozilla)(?:.*? rv:([\w.]+)|)/i
        };
      for (var aU in aW) {
        if (aW.hasOwnProperty(aU)) {
          aX = aY.match(aW[aU]);
          if (aX) {
            aV = {};
            aV[aU] = true;
            aV[aX[1].toLowerCase()] = true;
            aV.version = parseInt(document.documentMode || aX[2], 10);
            break
          }
        }
      }
      return aV
    };
    ay.browser = ay.detectBrowser(navigator.userAgent);
    ay.zoomLevel = function() {
      try {
        return ay.touch ? (document.documentElement.clientWidth / window.innerWidth) : ay.browser.msie && ay.browser.version >= 10 ? ((top || window).outerWidth / (top || window).innerWidth) : 1
      } catch (aU) {
        return 1
      }
    };
    ay.cssBorderSpacing = typeof document.documentElement.style.borderSpacing != "undefined" && !(ay.browser.msie && ay.browser.version < 8);
    (function(aU) {
      var aV, aW = parseInt(aU.version, 10);
      if (aU.msie) {
        aV = "ie"
      } else {
        if (aU.mozilla) {
          aV = "ff"
        } else {
          if (aU.safari) {
            aV = "safari"
          } else {
            if (aU.webkit) {
              aV = "webkit"
            } else {
              if (aU.opera) {
                aV = "opera"
              }
            }
          }
        }
      }
      if (aV) {
        a(document.documentElement).addClass("k-" + aV + " k-" + aV + aW)
      }
    })(ay.browser);
    ay.eventCapture = document.documentElement.addEventListener;
    var aP = document.createElement("input");
    ay.placeholder = "placeholder" in aP;
    ay.input = (function() {
      var aY = ["number", "date", "time", "month", "week", "datetime", "datetime-local"];
      var aV = aY.length;
      var aZ = "test";
      var aW = {};
      var aU = 0;
      var aX;
      for (; aU < aV; aU++) {
        aX = aY[aU];
        aP.setAttribute("type", aX);
        aP.value = aZ;
        aW[aX.replace("-", "")] = aP.type !== "text" && aP.value !== aZ
      }
      return aW
    })();
    aP = null;
    ay.stableSort = (function() {
      var aU = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12].sort(function() {
        return 0
      });
      return aU[0] === 0 && aU[1] === 1 && aU[2] === 2 && aU[3] === 3 && aU[4] === 4 && aU[5] === 5 && aU[6] === 6 && aU[7] === 7 && aU[8] === 8 && aU[9] === 9 && aU[10] === 10 && aU[11] === 11 && aU[12] === 12
    })();
    ay.matchesSelector = aO.webkitMatchesSelector || aO.mozMatchesSelector || aO.msMatchesSelector || aO.oMatchesSelector || aO.matchesSelector || function(aW) {
      var aV = document.querySelectorAll ? (this.parentNode || document).querySelectorAll(aW) || [] : a(aW),
        aU = aV.length;
      while (aU--) {
        if (aV[aU] == this) {
          return true
        }
      }
      return false
    };
    ay.pushState = window.history && window.history.pushState;
    var aM = document.documentMode;
    ay.hashChange = ("onhashchange" in window) && !(ay.browser.msie && (!aM || aM <= 8))
  })();

  function av(aN) {
    var aO = 0,
      aM;
    for (aM in aN) {
      if (aN.hasOwnProperty(aM) && aM != "toJSON") {
        aO++
      }
    }
    return aO
  }
  function I(aM, aS, aQ) {
    if (!aS) {
      aS = "offset"
    }
    var aR = aM[aS](),
      aN = ay.mobileOS;
    if (ay.touch && aN.ios && aN.flatVersion < 410) {
      var aO = aS == "offset" ? aR : aM.offset(),
        aP = (aR.left == aO.left && aR.top == aO.top);
      if (aP) {
        return {
          top: aR.top - window.scrollY,
          left: aR.left - window.scrollX
        }
      }
    }
    if (ay.browser.msie && (ay.pointers || ay.msPointers) && !aQ && aS != "position") {
      aR.top -= (window.pageYOffset - document.documentElement.scrollTop);
      aR.left -= (window.pageXOffset - document.documentElement.scrollLeft)
    }
    return aR
  }
  var r = {
    left: {
      reverse: "right"
    },
    right: {
      reverse: "left"
    },
    down: {
      reverse: "up"
    },
    up: {
      reverse: "down"
    },
    top: {
      reverse: "bottom"
    },
    bottom: {
      reverse: "top"
    },
    "in": {
      reverse: "out"
    },
    out: {
      reverse: "in"
    }
  };

  function aj(aN) {
    var aM = {};
    s((typeof aN === "string" ? aN.split(" ") : aN), function(aO) {
      aM[aO] = this
    });
    return aM
  }
  function F(aM) {
    return new T.effects.Element(aM)
  }
  var t = {};
  a.extend(t, {
    Element: function(aM) {
      this.element = a(aM)
    },
    promise: function(aM, aN) {
      if (!aM.is(":visible")) {
        aM.css({
          display: aM.data("olddisplay") || "block"
        }).css("display")
      }
      if (aN.hide) {
        aM.data("olddisplay", aM.css("display")).hide()
      }
      if (aN.init) {
        aN.init()
      }
      if (aN.completeCallback) {
        aN.completeCallback(aM)
      }
      aM.dequeue()
    },
    transitionPromise: function(aO, aN, aP) {
      var aM = T.wrap(aO);
      aM.append(aN);
      aO.hide();
      aN.show();
      if (aP.completeCallback) {
        aP.completeCallback(aO)
      }
      return aO
    },
    disable: function() {
      this.promise = this.promiseShim;
      this.transitionPromise = this.transitionPromiseShim
    },
    enable: function() {
      this.promise = this.animatedPromise;
      this.transitionPromise = this.animatedTransitionPromise
    }
  });
  t.promiseShim = t.promise;
  t.transitionPromiseShim = t.transitionPromise;

  function an(aO, aN, aP, aM) {
    if (typeof aO === ax) {
      if (P(aN)) {
        aM = aN;
        aN = 400;
        aP = false
      }
      if (P(aP)) {
        aM = aP;
        aP = false
      }
      if (typeof aN === h) {
        aP = aN;
        aN = 400
      }
      aO = {
        effects: aO,
        duration: aN,
        reverse: aP,
        complete: aM
      }
    }
    return B({
      effects: {},
      duration: 400,
      reverse: false,
      init: ab,
      teardown: ab,
      hide: false
    }, aO, {
      completeCallback: aO.complete,
      complete: ab
    })
  }
  function c(aO, aS, aN, aT, aM) {
    var aP = 0,
      aR = aO.length,
      aQ;
    for (; aP < aR; aP++) {
      aQ = a(aO[aP]);
      aQ.queue(function() {
        t.promise(aQ, an(aS, aN, aT, aM))
      })
    }
    return aO
  }
  function d(aP, aN, aQ, aO, aR, aM) {
    return t.transitionPromise(aP, aN, an(aQ, aO, aR, aM))
  }
  function aD(aO, aN, aP, aM) {
    if (aN) {
      aN = aN.split(" ");
      s(aN, function(aQ, aR) {
        aO.toggleClass(aR, aM)
      })
    }
    return aO
  }
  if (!("kendoAnimate" in a.fn)) {
    B(a.fn, {
      kendoStop: function(aM, aN) {
        return this.stop(aM, aN)
      },
      kendoAnimate: function(aO, aN, aP, aM) {
        return c(this, aO, aN, aP, aM)
      },
      kendoAnimateTo: function(aN, aP, aO, aQ, aM) {
        return d(this, aN, aP, aO, aQ, aM)
      },
      kendoAddClass: function(aM, aN) {
        return T.toggleClass(this, aM, aN, true)
      },
      kendoRemoveClass: function(aM, aN) {
        return T.toggleClass(this, aM, aN, false)
      },
      kendoToggleClass: function(aM, aN, aO) {
        return T.toggleClass(this, aM, aN, aO)
      }
    })
  }
  var b = /&/g,
    W = /</g,
    L = />/g;

  function M(aM) {
    return ("" + aM).replace(b, "&amp;").replace(W, "&lt;").replace(L, "&gt;")
  }
  var z = function(aM) {
    return aM.target
  };
  if (ay.touch) {
    z = function(aM) {
      var aN = "originalEvent" in aM ? aM.originalEvent.changedTouches : "changedTouches" in aM ? aM.changedTouches : null;
      return aN ? document.elementFromPoint(aN[0].clientX, aN[0].clientY) : aM.target
    };
    s(["swipe", "swipeLeft", "swipeRight", "swipeUp", "swipeDown", "doubleTap", "tap"], function(aM, aN) {
      a.fn[aN] = function(aO) {
        return this.bind(aN, aO)
      }
    })
  }
  if (ay.touch) {
    if (!ay.mobileOS) {
      ay.mousedown = "mousedown touchstart";
      ay.mouseup = "mouseup touchend";
      ay.mousemove = "mousemove touchmove";
      ay.mousecancel = "mouseleave touchcancel";
      ay.click = "click";
      ay.resize = "resize"
    } else {
      ay.mousedown = "touchstart";
      ay.mouseup = "touchend";
      ay.mousemove = "touchmove";
      ay.mousecancel = "touchcancel";
      ay.click = "touchend";
      ay.resize = "orientationchange"
    }
  } else {
    if (ay.pointers) {
      ay.mousemove = "pointermove";
      ay.mousedown = "pointerdown";
      ay.mouseup = "pointerup";
      ay.mousecancel = "pointercancel";
      ay.click = "pointerup";
      ay.resize = "orientationchange resize"
    } else {
      if (ay.msPointers) {
        ay.mousemove = "MSPointerMove";
        ay.mousedown = "MSPointerDown";
        ay.mouseup = "MSPointerUp";
        ay.mousecancel = "MSPointerCancel";
        ay.click = "MSPointerUp";
        ay.resize = "orientationchange resize"
      } else {
        ay.mousemove = "mousemove";
        ay.mousedown = "mousedown";
        ay.mouseup = "mouseup";
        ay.mousecancel = "mouseleave";
        ay.click = "click";
        ay.resize = "resize"
      }
    }
  }
  var aK = function(aR, aS) {
    var aT = aS || "d",
      aO, aN, aP, aQ, aM = 1;
    for (aN = 0, aP = aR.length; aN < aP; aN++) {
      aQ = aR[aN];
      if (aQ !== "") {
        aO = aQ.indexOf("[");
        if (aO !== 0) {
          if (aO == -1) {
            aQ = "." + aQ
          } else {
            aM++;
            aQ = "." + aQ.substring(0, aO) + " || {})" + aQ.substring(aO)
          }
        }
        aM++;
        aT += aQ + ((aN < aP - 1) ? " || {})" : ")")
      }
    }
    return new Array(aM).join("(") + aT
  }, V = /^([a-z]+:)?\/\//i;
  B(T, {
    ui: T.ui || {},
    fx: T.fx || F,
    effects: T.effects || t,
    mobile: T.mobile || {},
    data: T.data || {},
    dataviz: T.dataviz || {
      ui: {
        roles: {}
      }
    },
    keys: {
      INSERT: 45,
      DELETE: 46,
      BACKSPACE: 8,
      TAB: 9,
      ENTER: 13,
      ESC: 27,
      LEFT: 37,
      UP: 38,
      RIGHT: 39,
      DOWN: 40,
      END: 35,
      HOME: 36,
      SPACEBAR: 32,
      PAGEUP: 33,
      PAGEDOWN: 34,
      F2: 113,
      F10: 121,
      F12: 123
    },
    support: T.support || ay,
    animate: T.animate || c,
    ns: "",
    attr: function(aM) {
      return "data-" + T.ns + aM
    },
    wrap: aJ,
    deepExtend: p,
    getComputedStyles: G,
    size: av,
    toCamelCase: aC,
    toHyphens: aE,
    getOffset: T.getOffset || I,
    parseEffects: T.parseEffects || aj,
    toggleClass: T.toggleClass || aD,
    directions: T.directions || r,
    Observable: ag,
    Class: j,
    Template: az,
    template: ap(az.compile, az),
    render: ap(az.render, az),
    stringify: ap(Q.stringify, Q),
    eventTarget: z,
    htmlEncode: M,
    isLocalUrl: function(aM) {
      return aM && !V.test(aM)
    },
    expr: function(aM, aO, aN) {
      aM = aM || "";
      if (typeof aO == ax) {
        aN = aO;
        aO = false
      }
      aN = aN || "d";
      if (aM && aM.charAt(0) !== "[") {
        aM = "." + aM
      }
      if (aO) {
        aM = aK(aM.split("."), aN)
      } else {
        aM = aN + aM
      }
      return aM
    },
    getter: function(aM, aN) {
      return J[aM] = J[aM] || new Function("d", "return " + T.expr(aM, aN))
    },
    setter: function(aM) {
      return at[aM] = at[aM] || new Function("d,value", T.expr(aM) + "=value")
    },
    accessor: function(aM) {
      return {
        get: T.getter(aM),
        set: T.setter(aM)
      }
    },
    guid: function() {
      var aN = "",
        aM, aO;
      for (aM = 0; aM < 32; aM++) {
        aO = X.random() * 16 | 0;
        if (aM == 8 || aM == 12 || aM == 16 || aM == 20) {
          aN += "-"
        }
        aN += (aM == 12 ? 4 : (aM == 16 ? (aO & 3 | 8) : aO)).toString(16)
      }
      return aN
    },
    roleSelector: function(aM) {
      return aM.replace(/(\S+)/g, "[" + T.attr("role") + "=$1],").slice(0, -1)
    },
    triggeredByInput: function(aM) {
      return (/^(label|input|textarea|select)$/i).test(aM.target.tagName)
    },
    logToConsole: function(aN) {
      var aM = window.console;
      if (typeof(aM) != "undefined" && aM.log) {
        aM.log(aN)
      }
    }
  });
  var aI = ag.extend({
    init: function(aM, aN) {
      var aO = this;
      aO.element = T.jQuery(aM).handler(aO);
      ag.fn.init.call(aO);
      aN = aO.options = B(true, {}, aO.options, aN);
      if (!aO.element.attr(T.attr("role"))) {
        aO.element.attr(T.attr("role"), (aN.name || "").toLowerCase())
      }
      aO.element.data("kendo" + aN.prefix + aN.name, aO);
      aO.bind(aO.events, aN)
    },
    events: [],
    options: {
      prefix: ""
    },
    _hasBindingTarget: function() {
      return !!this.element[0].kendoBindingTarget
    },
    _tabindex: function(aP) {
      aP = aP || this.wrapper;
      var aM = this.element,
        aO = "tabindex",
        aN = aP.attr(aO) || aM.attr(aO);
      aM.removeAttr(aO);
      aP.attr(aO, !isNaN(aN) ? aN : 0)
    },
    setOptions: function(aP) {
      var aQ = this,
        aN = 0,
        aO = aQ.events.length,
        aM;
      for (; aN < aO; aN++) {
        aM = aQ.events[aN];
        if (aQ.options[aM] && aP[aM]) {
          aQ.unbind(aM, aQ.options[aM])
        }
      }
      a.extend(aQ.options, aP);
      aQ.bind(aQ.events, aP)
    },
    resize: function(aN) {
      var aO = this.getSize(),
        aM = this._size;
      if (aN || !aM || aO.width !== aM.width || aO.height !== aM.height) {
        this._resize(aO);
        this.trigger("resize", aO);
        this._size = aO
      }
    },
    getSize: function() {
      return T.dimensions(this.element)
    },
    size: function(aM) {
      if (!aM) {
        return this.getSize()
      } else {
        this.setSize(aM)
      }
    },
    setSize: a.noop,
    _resize: a.noop,
    destroy: function() {
      var aM = this;
      aM.element.removeData("kendo" + aM.options.prefix + aM.options.name);
      aM.element.removeData("handler");
      aM.unbind()
    }
  });
  T.dimensions = function(aO, aM) {
    var aN = aO[0];
    if (aM) {
      aO.css(aM)
    }
    return {
      width: aN.offsetWidth,
      height: aN.offsetHeight
    }
  };
  T.notify = ab;
  var aA = /template$/i,
    S = /^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,
    R = /^\{(\d+)(:[^\}]+)?\}/,
    o = /([A-Z])/g;

  function ak(aM, aN) {
    var aO;
    if (aN.indexOf("data") === 0) {
      aN = aN.substring(4);
      aN = aN.charAt(0).toLowerCase() + aN.substring(1)
    }
    aN = aN.replace(o, "-$1");
    aO = aM.getAttribute("data-" + T.ns + aN);
    if (aO === null) {
      aO = aF
    } else {
      if (aO === "null") {
        aO = null
      } else {
        if (aO === "true") {
          aO = true
        } else {
          if (aO === "false") {
            aO = false
          } else {
            if (ae.test(aO)) {
              aO = parseFloat(aO)
            } else {
              if (S.test(aO) && !R.test(aO)) {
                aO = new Function("return (" + aO + ")")()
              }
            }
          }
        }
      }
    }
    return aO
  }
  function al(aM, aO) {
    var aP = {}, aN, aQ;
    for (aN in aO) {
      aQ = ak(aM, aN);
      if (aQ !== aF) {
        if (aA.test(aN)) {
          aQ = T.template(a("#" + aQ).html())
        }
        aP[aN] = aQ
      }
    }
    return aP
  }
  T.initWidget = function(aN, aR, aU) {
    var aS, aQ, aW, aO, aP, aT, aV, aM;
    if (!aU) {
      aU = T.ui.roles
    } else {
      if (aU.roles) {
        aU = aU.roles
      }
    }
    aN = aN.nodeType ? aN : aN[0];
    aT = aN.getAttribute("data-" + T.ns + "role");
    if (!aT) {
      return
    }
    if (aT.indexOf(".") === -1) {
      aW = aU[aT]
    } else {
      aW = T.getter(aT)(window)
    }
    if (!aW) {
      return
    }
    aM = ak(aN, "dataSource");
    aR = a.extend({}, al(aN, aW.fn.options), aR);
    if (aM) {
      if (typeof aM === ax) {
        aR.dataSource = T.getter(aM)(window)
      } else {
        aR.dataSource = aM
      }
    }
    for (aO = 0, aP = aW.fn.events.length; aO < aP; aO++) {
      aQ = aW.fn.events[aO];
      aV = ak(aN, aQ);
      if (aV !== aF) {
        aR[aQ] = T.getter(aV)(window)
      }
    }
    aS = a(aN).data("kendo" + aW.fn.options.prefix + aW.fn.options.name);
    if (!aS) {
      aS = new aW(aN, aR)
    } else {
      aS.setOptions(aR)
    }
    return aS
  };
  T.rolesFromNamespaces = function(aO) {
    var aP = [],
      aM, aN;
    if (!aO[0]) {
      aO = [T.ui, T.dataviz.ui]
    }
    for (aM = 0, aN = aO.length; aM < aN; aM++) {
      aP[aM] = aO[aM].roles
    }
    return B.apply(null, [{}].concat(aP.reverse()))
  };
  T.init = function(aM) {
    var aN = T.rolesFromNamespaces(aw.call(arguments, 1));
    a(aM).find("[data-" + T.ns + "role]").addBack().each(function() {
      T.initWidget(this, {}, aN)
    })
  };
  T.destroy = function(aM) {
    a(aM).find("[data-" + T.ns + "role]").addBack().each(function() {
      var aN = T.widgetInstance(a(this));
      if (aN) {
        aN.destroy()
      }
    })
  };

  function m(aM, aN) {
    return a.contains(aM, aN) ? -1 : 1
  }
  function aq() {
    var aM = a(this);
    return (a.inArray(aM.attr("data-role"), ["slider", "rangeslider"]) > 0) || aM.is(":visible")
  }
  T.resize = function(aM) {
    var aN = a(aM).find("[data-" + T.ns + "role]").addBack().filter(aq);
    if (!aN.length) {
      return
    }
    var aO = a.makeArray(aN);
    aO.sort(m);
    a.each(aO, function() {
      var aP = T.widgetInstance(a(this));
      if (aP) {
        aP.resize()
      }
    })
  };
  T.parseOptions = al;
  B(T.ui, {
    Widget: aI,
    roles: {},
    progress: function(aN, aT) {
      var aR = aN.find(".k-loading-mask"),
        aS = T.support,
        aM = aS.browser,
        aP, aQ, aU, aO;
      if (aT) {
        if (!aR.length) {
          aP = aS.isRtl(aN);
          aQ = aP ? "right" : "left";
          aO = aN.scrollLeft();
          aU = aM.webkit ? (!aP ? 0 : aN[0].scrollWidth - aN.width() - 2 * aO) : 0;
          aR = a("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top", aN.scrollTop()).css(aQ, Math.abs(aO) + aU).prependTo(aN)
        }
      } else {
        if (aR) {
          aR.remove()
        }
      }
    },
    plugin: function(aQ, aP, aO) {
      var aN = aQ.fn.options.name,
        aM;
      aP = aP || T.ui;
      aO = aO || "";
      aP[aN] = aQ;
      aP.roles[aN.toLowerCase()] = aQ;
      aM = "getKendo" + aO + aN;
      aN = "kendo" + aO + aN;
      a.fn[aN] = function(aS) {
        var aT = this,
          aR;
        if (typeof aS === ax) {
          aR = aw.call(arguments, 1);
          this.each(function() {
            var aW = a.data(this, aN),
              aU, aV;
            if (!aW) {
              throw new Error(T.format("Cannot call method '{0}' of {1} before it is initialized", aS, aN))
            }
            aU = aW[aS];
            if (typeof aU !== E) {
              throw new Error(T.format("Cannot find method '{0}' of {1}", aS, aN))
            }
            aV = aU.apply(aW, aR);
            if (aV !== aF) {
              aT = aV;
              return false
            }
          })
        } else {
          this.each(function() {
            new aQ(this, aS)
          })
        }
        return aT
      };
      a.fn[aM] = function() {
        return this.data(aN)
      }
    }
  });
  var l = {
    bind: function() {
      return this
    }
  };
  var Y = aI.extend({
    init: function(aM, aN) {
      aI.fn.init.call(this, aM, aN);
      this.element.autoApplyNS();
      this.wrapper = this.element;
      this.element.addClass("km-widget")
    },
    destroy: function() {
      aI.fn.destroy.call(this);
      this.element.kendoDestroy()
    },
    options: {
      prefix: "Mobile"
    },
    events: [],
    view: function() {
      var aM = this.element.closest(T.roleSelector("view splitview modalview drawer"));
      return T.widgetInstance(aM, T.mobile.ui)
    },
    container: function() {
      var aM = this.element.closest(T.roleSelector("view layout modalview drawer"));
      return T.widgetInstance(aM, T.mobile.ui) || l
    }
  });
  B(T.mobile, {
    init: function(aM) {
      T.init(aM, T.mobile.ui, T.ui, T.dataviz.ui)
    },
    ui: {
      Widget: Y,
      roles: {},
      plugin: function(aM) {
        T.ui.plugin(aM, T.mobile.ui, "Mobile")
      }
    }
  });
  T.touchScroller = function(aM, aN) {
    return a(aM).map(function(aP, aO) {
      aO = a(aO);
      if (ay.kineticScrollNeeded && T.mobile.ui.Scroller && !aO.data("kendoMobileScroller")) {
        aO.kendoMobileScroller(aN);
        return aO.data("kendoMobileScroller")
      } else {
        return false
      }
    })[0]
  };
  T.preventDefault = function(aM) {
    aM.preventDefault()
  };
  T.widgetInstance = function(aM, aR) {
    var aQ = aM.data(T.ns + "role"),
      aT;
    if (aQ) {
      if (aQ === "content") {
        aQ = "scroller"
      }
      if (aR) {
        aT = [aR.roles[aQ]]
      } else {
        aT = [T.ui.roles[aQ], T.dataviz.ui.roles[aQ], T.mobile.ui.roles[aQ]]
      }
      if (aQ.indexOf(".") >= 0) {
        aT = [T.getter(aQ)(window)]
      }
      for (var aN = 0, aP = aT.length; aN < aP; aN++) {
        var aS = aT[aN];
        if (aS) {
          var aO = aM.data("kendo" + aS.fn.options.prefix + aS.fn.options.name);
          if (aO) {
            return aO
          }
        }
      }
    }
  };
  T.onResize = function(aM) {
    var aN = aM;
    if (ay.mobileOS.android) {
      aN = function() {
        setTimeout(aM, 600)
      }
    }
    a(window).on(ay.resize, aN);
    return aN
  };
  T.unbindResize = function(aM) {
    a(window).off(ay.resize, aM)
  };
  T.attrValue = function(aM, aN) {
    return aM.data(T.ns + aN)
  };
  T.days = {
    Sunday: 0,
    Monday: 1,
    Tuesday: 2,
    Wednesday: 3,
    Thursday: 4,
    Friday: 5,
    Saturday: 6
  };

  function C(aM, aN) {
    var aO = aM.nodeName.toLowerCase();
    return (/input|select|textarea|button|object/.test(aO) ? !aM.disabled : "a" === aO ? aM.href || aN : aN) && aH(aM)
  }
  function aH(aM) {
    return !a(aM).parents().addBack().filter(function() {
      return a.css(this, "visibility") === "hidden" || a.expr.filters.hidden(this)
    }).length
  }
  a.extend(a.expr[":"], {
    kendoFocusable: function(aM) {
      var aN = a.attr(aM, "tabindex");
      return C(aM, !isNaN(aN) && aN > -1)
    }
  });
  var Z = ["mousedown", "mousemove", "mouseenter", "mouseleave", "mouseover", "mouseout", "mouseup", "click"];
  var A = "label, input, [data-rel=external]";
  var aa = {
    setupMouseMute: function() {
      var aO = 0,
        aP = Z.length,
        aM = document.documentElement;
      if (aa.mouseTrap || !ay.eventCapture) {
        return
      }
      aa.mouseTrap = true;
      aa.bustClick = false;
      aa.captureMouse = false;
      var aN = function(aQ) {
        if (aa.captureMouse) {
          if (aQ.type === "click") {
            if (aa.bustClick && !a(aQ.target).is(A)) {
              aQ.preventDefault();
              aQ.stopPropagation()
            }
          } else {
            aQ.stopPropagation()
          }
        }
      };
      for (; aO < aP; aO++) {
        aM.addEventListener(Z[aO], aN, true)
      }
    },
    muteMouse: function(aM) {
      aa.captureMouse = true;
      if (aM.data.bustClick) {
        aa.bustClick = true
      }
      clearTimeout(aa.mouseTrapTimeoutID)
    },
    unMuteMouse: function() {
      clearTimeout(aa.mouseTrapTimeoutID);
      aa.mouseTrapTimeoutID = setTimeout(function() {
        aa.captureMouse = false;
        aa.bustClick = false
      }, 400)
    }
  };
  var x = {
    down: "touchstart mousedown",
    move: "mousemove touchmove",
    up: "mouseup touchend touchcancel",
    cancel: "mouseleave touchcancel"
  };
  if (ay.touch && (ay.mobileOS.ios || ay.mobileOS.android)) {
    x = {
      down: "touchstart",
      move: "touchmove",
      up: "touchend touchcancel",
      cancel: "touchcancel"
    }
  } else {
    if (ay.pointers) {
      x = {
        down: "pointerdown",
        move: "pointermove",
        up: "pointerup",
        cancel: "pointercancel pointerleave"
      }
    } else {
      if (ay.msPointers) {
        x = {
          down: "MSPointerDown",
          move: "MSPointerMove",
          up: "MSPointerUp",
          cancel: "MSPointerCancel MSPointerLeave"
        }
      }
    }
  }
  if (ay.msPointers && !("onmspointerenter" in window)) {
    a.each({
      MSPointerEnter: "MSPointerOver",
      MSPointerLeave: "MSPointerOut"
    }, function(aN, aM) {
      a.event.special[aN] = {
        delegateType: aM,
        bindType: aM,
        handle: function(aO) {
          var aR, aS = this,
            aQ = aO.relatedTarget,
            aP = aO.handleObj;
          if (!aQ || (aQ !== aS && !a.contains(aS, aQ))) {
            aO.type = aP.origType;
            aR = aP.handler.apply(this, arguments);
            aO.type = aM
          }
          return aR
        }
      }
    })
  }
  var H = function(aM) {
    return (x[aM] || aM)
  }, y = /([^ ]+)/g;
  T.applyEventMap = function(aM, aN) {
    aM = aM.replace(y, H);
    if (aN) {
      aM = aM.replace(y, "$1." + aN)
    }
    return aM
  };
  var ah = a.fn.on;

  function U(aN, aM) {
    return new U.fn.init(aN, aM)
  }
  B(true, U, a);
  U.fn = U.prototype = new a();
  U.fn.constructor = U;
  U.fn.init = function(aN, aM) {
    if (aM && aM instanceof a && !(aM instanceof U)) {
      aM = U(aM)
    }
    return a.fn.init.call(this, aN, aM, ar)
  };
  U.fn.init.prototype = U.fn;
  var ar = U(document);
  B(U.fn, {
    handler: function(aM) {
      this.data("handler", aM);
      return this
    },
    autoApplyNS: function(aM) {
      this.data("kendoNS", aM || T.guid());
      return this
    },
    on: function() {
      var aT = this,
        aR = aT.data("kendoNS");
      if (arguments.length === 1) {
        return ah.call(aT, arguments[0])
      }
      var aP = aT,
        aM = aw.call(arguments);
      if (typeof aM[aM.length - 1] === aG) {
        aM.pop()
      }
      var aO = aM[aM.length - 1],
        aQ = T.applyEventMap(aM[0], aR);
      if (ay.mouseAndTouchPresent && aQ.search(/mouse|click/) > -1 && this[0] !== document.documentElement) {
        aa.setupMouseMute();
        var aS = aM.length === 2 ? null : aM[1],
          aN = aQ.indexOf("click") > -1 && aQ.indexOf("touchend") > -1;
        ah.call(this, {
          touchstart: aa.muteMouse,
          touchend: aa.unMuteMouse
        }, aS, {
          bustClick: aN
        })
      }
      if (typeof aO === ax) {
        aP = aT.data("handler");
        aO = aP[aO];
        aM[aM.length - 1] = function(aU) {
          aO.call(aP, aU)
        }
      }
      aM[0] = aQ;
      ah.apply(aT, aM);
      return aT
    },
    kendoDestroy: function(aM) {
      aM = aM || this.data("kendoNS");
      if (aM) {
        this.off("." + aM)
      }
      return this
    }
  });
  T.jQuery = U;
  T.eventMap = x;
  T.timezone = (function() {
    var aS = {
      Jan: 0,
      Feb: 1,
      Mar: 2,
      Apr: 3,
      May: 4,
      Jun: 5,
      Jul: 6,
      Aug: 7,
      Sep: 8,
      Oct: 9,
      Nov: 10,
      Dec: 11
    };
    var aP = {
      Sun: 0,
      Mon: 1,
      Tue: 2,
      Wed: 3,
      Thu: 4,
      Fri: 5,
      Sat: 6
    };

    function aV(a6, a3) {
      var aZ;
      var a4;
      var a2;
      var a0 = a3[3];
      var a1 = a3[4];
      var a5 = a3[5];
      var aY = a3[8];
      if (!aY) {
        a3[8] = aY = {}
      }
      if (aY[a6]) {
        return aY[a6]
      }
      if (!isNaN(a1)) {
        aZ = new Date(Date.UTC(a6, aS[a0], a1, a5[0], a5[1], a5[2], 0))
      } else {
        if (a1.indexOf("last") === 0) {
          aZ = new Date(Date.UTC(a6, aS[a0] + 1, 1, a5[0] - 24, a5[1], a5[2], 0));
          a4 = aP[a1.substr(4, 3)];
          a2 = aZ.getUTCDay();
          aZ.setUTCDate(aZ.getUTCDate() + a4 - a2 - (a4 > a2 ? 7 : 0))
        } else {
          if (a1.indexOf(">=") >= 0) {
            aZ = new Date(Date.UTC(a6, aS[a0], a1.substr(5), a5[0], a5[1], a5[2], 0));
            a4 = aP[a1.substr(0, 3)];
            a2 = aZ.getUTCDay();
            aZ.setUTCDate(aZ.getUTCDate() + a4 - a2 + (a4 < a2 ? 7 : 0))
          }
        }
      }
      return aY[a6] = aZ
    }
    function aQ(a1, aZ, a3) {
      aZ = aZ[a3];
      if (!aZ) {
        var a0 = a3.split(":");
        var aY = 0;
        if (a0.length > 1) {
          aY = a0[0] * 60 + Number(a0[1])
        }
        return [-1000000, "max", "-", "Jan", 1, [0, 0, 0], aY, "-"]
      }
      var a2 = new Date(a1).getUTCFullYear();
      aZ = jQuery.grep(aZ, function(a5) {
        var a4 = a5[0];
        var a6 = a5[1];
        return a4 <= a2 && (a6 >= a2 || (a4 == a2 && a6 == "only") || a6 == "max")
      });
      aZ.push(a1);
      aZ.sort(function(a4, a5) {
        if (typeof a4 != "number") {
          a4 = Number(aV(a2, a4))
        }
        if (typeof a5 != "number") {
          a5 = Number(aV(a2, a5))
        }
        return a4 - a5
      });
      return aZ[jQuery.inArray(a1, aZ) - 1]
    }
    function aR(a1, a4, aZ) {
      var a3 = a4[aZ];
      if (typeof a3 === "string") {
        a3 = a4[a3]
      }
      if (!a3) {
        throw new Error('Timezone "' + aZ + '" is either incorrect, or kendo.timezones.min.js is not included.')
      }
      for (var aY = a3.length - 1; aY >= 0; aY--) {
        var a0 = a3[aY][3];
        if (a0 && a1 > a0) {
          break
        }
      }
      var a2 = a3[aY + 1];
      if (!a2) {
        throw new Error('Timezone "' + aZ + '" not found on ' + a1 + ".")
      }
      return a2
    }
    function aX(a0, a2, aY, aZ) {
      if (typeof a0 != ad) {
        a0 = Date.UTC(a0.getFullYear(), a0.getMonth(), a0.getDate(), a0.getHours(), a0.getMinutes(), a0.getSeconds(), a0.getMilliseconds())
      }
      var a1 = aR(a0, a2, aZ);
      return {
        zone: a1,
        rule: aQ(a0, aY, a1[1])
      }
    }
    function aT(a1, a0) {
      if (a0 == "Etc/UTC" || a0 == "Etc/GMT") {
        return 0
      }
      var aY = aX(a1, this.zones, this.rules, a0);
      var a2 = aY.zone;
      var aZ = aY.rule;
      return aZ ? a2[0] - aZ[6] : a2[0]
    }
    function aM(a2, a1) {
      var aZ = aX(a2, this.zones, this.rules, a1);
      var a3 = aZ.zone;
      var a0 = aZ.rule;
      var aY = a3[2];
      if (aY.indexOf("/") >= 0) {
        return aY.split("/")[a0 && a0[6] ? 1 : 0]
      } else {
        if (aY.indexOf("%s") >= 0) {
          return aY.replace("%s", (!a0 || a0[7] == "-") ? "" : a0[7])
        }
      }
      return aY
    }
    function aO(aY, a0, a2) {
      if (typeof a0 == ax) {
        a0 = this.offset(aY, a0)
      }
      if (typeof a2 == ax) {
        a2 = this.offset(aY, a2)
      }
      var aZ = aY.getTimezoneOffset();
      aY = new Date(aY.getTime() + (a0 - a2) * 60000);
      var a1 = aY.getTimezoneOffset();
      return new Date(aY.getTime() + (a1 - aZ) * 60000)
    }
    function aN(aY, aZ) {
      return this.convert(aY, aY.getTimezoneOffset(), aZ)
    }
    function aU(aY, aZ) {
      return this.convert(aY, aZ, aY.getTimezoneOffset())
    }
    function aW(aY) {
      return this.apply(new Date(aY), "Etc/UTC")
    }
    return {
      zones: {},
      rules: {},
      offset: aT,
      convert: aO,
      apply: aN,
      remove: aU,
      abbr: aM,
      toLocalDate: aW
    }
  })();
  T.date = (function() {
    var aX = 60000,
      aW = 86400000;

    function aN(a3, a4) {
      if (a4 === 0 && a3.getHours() === 23) {
        a3.setHours(a3.getHours() + 2);
        return true
      }
      return false
    }
    function aY(a3, a4, a5) {
      var a6 = a3.getHours();
      a5 = a5 || 1;
      a4 = ((a4 - a3.getDay()) + (7 * a5)) % 7;
      a3.setDate(a3.getDate() + a4);
      aN(a3, a6)
    }
    function aO(a3, a4, a5) {
      a3 = new Date(a3);
      aY(a3, a4, a5);
      return a3
    }
    function aP(a3) {
      return new Date(a3.getFullYear(), a3.getMonth(), 1)
    }
    function aV(a3) {
      var a5 = new Date(a3.getFullYear(), a3.getMonth() + 1, 0),
        a4 = aP(a3),
        a6 = Math.abs(a5.getTimezoneOffset() - a4.getTimezoneOffset());
      if (a6) {
        a5.setHours(a4.getHours() + (a6 / 60))
      }
      return a5
    }
    function aQ(a3) {
      a3 = new Date(a3.getFullYear(), a3.getMonth(), a3.getDate(), 0, 0, 0);
      aN(a3, 0);
      return a3
    }
    function a2(a3) {
      return Date.UTC(a3.getFullYear(), a3.getMonth(), a3.getDate(), a3.getHours(), a3.getMinutes(), a3.getSeconds(), a3.getMilliseconds())
    }
    function aR(a3) {
      return a3.getTime() - aQ(a3)
    }
    function aT(a8, a4, a3) {
      var a6 = aR(a4),
        a5 = aR(a3),
        a7;
      if (!a8 || a6 == a5) {
        return true
      }
      if (a4 >= a3) {
        a3 += aW
      }
      a7 = aR(a8);
      if (a6 > a7) {
        a7 += aW
      }
      if (a5 < a6) {
        a5 += aW
      }
      return a7 >= a6 && a7 <= a5
    }
    function aS(a8, a4, a3) {
      var a6 = a4.getTime(),
        a5 = a3.getTime(),
        a7;
      if (a6 >= a5) {
        a5 += aW
      }
      a7 = a8.getTime();
      return a7 >= a6 && a7 <= a5
    }
    function aM(a3, a5) {
      var a4 = a3.getHours();
      a3 = new Date(a3);
      aZ(a3, a5 * aW);
      aN(a3, a4);
      return a3
    }
    function aZ(a3, a6, a5) {
      var a7 = a3.getTimezoneOffset();
      var a4;
      a3.setTime(a3.getTime() + a6);
      if (!a5) {
        a4 = a3.getTimezoneOffset() - a7;
        a3.setTime(a3.getTime() + a4 * aX)
      }
    }
    function a0() {
      return aQ(new Date())
    }
    function aU(a3) {
      return aQ(a3).getTime() == a0().getTime()
    }
    function a1(a3) {
      var a4 = new Date(1980, 1, 1, 0, 0, 0);
      if (a3) {
        a4.setHours(a3.getHours(), a3.getMinutes(), a3.getSeconds(), a3.getMilliseconds())
      }
      return a4
    }
    return {
      adjustDST: aN,
      dayOfWeek: aO,
      setDayOfWeek: aY,
      getDate: aQ,
      isInDateRange: aS,
      isInTimeRange: aT,
      isToday: aU,
      nextDay: function(a3) {
        return aM(a3, 1)
      },
      previousDay: function(a3) {
        return aM(a3, -1)
      },
      toUtcTime: a2,
      MS_PER_DAY: aW,
      MS_PER_MINUTE: aX,
      setTime: aZ,
      addDays: aM,
      today: a0,
      toInvariantTime: a1,
      firstDayOfMonth: aP,
      lastDayOfMonth: aV,
      getMilliseconds: aR
    }
  })();
  T.stripWhitespace = function(aM) {
    var aN = document.createNodeIterator(aM, NodeFilter.SHOW_TEXT, function(aO) {
      return aO.parentNode == aM ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT
    }, false);
    while (aN.nextNode()) {
      if (aN.referenceNode && !aN.referenceNode.textContent.trim()) {
        aN.referenceNode.parentNode.removeChild(aN.referenceNode)
      }
    }
  };
  var e = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(aM) {
      setTimeout(aM, 1000 / 60)
    };
  T.animationFrame = function(aM) {
    e.call(window, aM)
  };
  var f = [];
  T.queueAnimation = function(aM) {
    f[f.length] = aM;
    if (f.length === 1) {
      T.runNextAnimation()
    }
  };
  T.runNextAnimation = function() {
    var aM = f.shift();
    T.animationFrame(function() {
      aM();
      if (e[0]) {
        T.runNextAnimation()
      }
    })
  };
  T.parseQueryStringParams = function(aR) {
    var aQ = aR.split("?")[1] || "",
      aP = {}, aO = aQ.split(/&|=/),
      aN = aO.length,
      aM = 0;
    for (; aM < aN; aM += 2) {
      if (aO[aM] !== "") {
        aP[decodeURIComponent(aO[aM])] = decodeURIComponent(aO[aM + 1])
      }
    }
    return aP
  }
})(jQuery);
if (typeof kendo_module === "undefined") {
  kendo_module = function() {}
}
kendo_module({
  id: "core",
  name: "Core",
  category: "framework",
  description: "The core of the Kendo framework."
});
kendo_module({
  id: "router",
  name: "Router",
  category: "framework",
  description: "The Router class is responsible for tracking the application state and navigating between the application states.",
  depends: ["core"],
  hidden: false
});
(function(a, p) {
  var k = window.kendo,
    d = "change",
    c = "back",
    o = k.support,
    l = window.location,
    i = window.history,
    e = 50,
    h = /^#*/,
    f = window.document;

  function b(q, r) {
    if (!r) {
      return q
    }
    if (q + "/" === r) {
      q = r
    }
    var s = new RegExp("^" + r, "i");
    if (!s.test(q)) {
      q = r + "/" + q
    }
    return l.protocol + "//" + (l.host + "/" + q).replace(/\/\/+/g, "/")
  }
  function n(q, r) {
    if (r.indexOf(q) === 0) {
      return (r.substr(q.length)).replace(/\/\//g, "/")
    } else {
      return q
    }
  }
  var m = k.Class.extend({
    init: function(q) {
      this.root = q
    },
    navigate: function(q) {
      i.pushState({}, f.title, b(q, this.root));
      return this.current()
    },
    current: function() {
      var q = l.pathname;
      if (l.search) {
        q += l.search
      }
      return n(this.root, q)
    },
    change: function(q) {
      a(window).bind("popstate.kendo", q)
    },
    stop: function() {
      a(window).unbind("popstate.kendo")
    }
  });
  var g = k.Class.extend({
    navigate: function(q) {
      l.hash = q;
      return q
    },
    change: function(q) {
      if (o.hashChange) {
        a(window).bind("hashchange.kendo", q)
      } else {
        this._interval = setInterval(q, e)
      }
    },
    stop: function() {
      a(window).unbind("popstate.kendo");
      clearInterval(this._interval)
    },
    current: function() {
      return l.hash.replace(h, "")
    }
  });
  var j = k.Observable.extend({
    start: function(t) {
      t = t || {};
      this.bind([d, c], t);
      if (this._started) {
        return
      }
      this._started = true;
      var u = l.pathname,
        s = l.hash,
        v = o.pushState && t.pushState,
        w = t.root || "/",
        q = w === u;
      this.adapter = v ? new m(w) : new g();
      if (t.pushState && !o.pushState && !q) {
        l.replace(w + "#" + n(w, u));
        return true
      }
      if (v) {
        var r;
        if (w === u + "/") {
          r = w
        }
        if (q && s) {
          r = b(s.replace(h, ""), w)
        }
        if (r) {
          i.replaceState({}, f.title, r)
        }
      }
      this.root = w;
      this.current = this.adapter.current();
      this.locations = [this.current];
      this.adapter.change(a.proxy(this, "_checkUrl"))
    },
    stop: function() {
      if (!this._started) {
        return
      }
      this.adapter.stop();
      this.unbind(d);
      this._started = false
    },
    change: function(q) {
      this.bind(d, q)
    },
    navigate: function(r, q) {
      if (r === "#:back") {
        i.back();
        return
      }
      r = r.replace(h, "");
      if (this.current === r || this.current === decodeURIComponent(r)) {
        return
      }
      if (!q) {
        if (this.trigger(d, {
          url: r
        })) {
          return
        }
      }
      this.current = this.adapter.navigate(r);
      this.locations.push(this.current)
    },
    _checkUrl: function() {
      var r = this.adapter.current(),
        q = r === this.locations[this.locations.length - 2],
        s = this.current;
      if (this.current === r || this.current === decodeURIComponent(r)) {
        return
      }
      this.current = r;
      if (q && this.trigger("back", {
        url: s,
        to: r
      })) {
        i.forward();
        this.current = s;
        return
      }
      if (this.trigger(d, {
        url: r
      })) {
        if (q) {
          i.forward()
        } else {
          i.back()
        }
        this.current = s;
        return
      }
      if (q) {
        this.locations.pop()
      } else {
        this.locations.push(r)
      }
    }
  });
  k.absoluteURL = b;
  k.history = new j()
})(window.kendo.jQuery);
(function() {
  var f = window.kendo,
    d = f.history,
    i = f.Observable,
    e = "init",
    l = "routeMissing",
    b = "change",
    a = "back",
    j = /\((.*?)\)/g,
    g = /(\(\?)?:\w+/g,
    o = /\*\w+/g,
    c = /[\-{}\[\]+?.,\\\^$|#\s]/g;

  function h(q, r) {
    return r ? q : "([^/]+)"
  }
  function n(q) {
    return new RegExp("^" + q.replace(c, "\\$&").replace(j, "(?:$1)?").replace(g, h).replace(o, "(.*?)") + "$")
  }
  function p(q) {
    return q.replace(/(\?.*)|(#.*)/g, "")
  }
  var k = f.Class.extend({
    init: function(r, q) {
      if (!(r instanceof RegExp)) {
        r = n(r)
      }
      this.route = r;
      this._callback = q
    },
    callback: function(u) {
      var s, q = 0,
        r, t = f.parseQueryStringParams(u);
      u = p(u);
      s = this.route.exec(u).slice(1);
      r = s.length;
      for (; q < r; q++) {
        if (typeof s[q] !== "undefined") {
          s[q] = decodeURIComponent(s[q])
        }
      }
      s.push(t);
      this._callback.apply(null, s)
    },
    worksWith: function(q) {
      if (this.route.test(q)) {
        this.callback(q);
        return true
      } else {
        return false
      }
    }
  });
  var m = i.extend({
    init: function(q) {
      i.fn.init.call(this);
      this.routes = [];
      this.pushState = q ? q.pushState : false;
      if (q && q.root) {
        this.root = q.root
      }
      this.bind([e, l, b], q)
    },
    destroy: function() {
      d.unbind(b, this._urlChangedProxy);
      d.unbind(a, this._backProxy);
      this.unbind()
    },
    start: function() {
      var s = this,
        q = function(u) {
          s._back(u)
        }, t = function(u) {
          s._urlChanged(u)
        };
      d.start({
        change: t,
        back: q,
        pushState: s.pushState,
        root: s.root
      });
      var r = {
        url: d.current || "/"
      };
      if (!s.trigger(e, r)) {
        s._urlChanged(r)
      }
      this._urlChangedProxy = t;
      this._backProxy = q
    },
    route: function(r, q) {
      this.routes.push(new k(r, q))
    },
    navigate: function(r, q) {
      f.history.navigate(r, q)
    },
    _back: function(q) {
      if (this.trigger(a, {
        url: q.url,
        to: q.to
      })) {
        q.preventDefault()
      }
    },
    _urlChanged: function(q) {
      var v = q.url;
      if (!v) {
        v = "/"
      }
      if (this.trigger(b, {
        url: q.url,
        params: f.parseQueryStringParams(q.url)
      })) {
        q.preventDefault();
        return
      }
      var r = 0,
        u = this.routes,
        t, s = u.length;
      for (; r < s; r++) {
        t = u[r];
        if (t.worksWith(v)) {
          return
        }
      }
      if (this.trigger(l, {
        url: v,
        params: f.parseQueryStringParams(v)
      })) {
        q.preventDefault()
      }
    }
  });
  f.Router = m
})();
kendo_module({
  id: "fx",
  name: "Effects",
  category: "framework",
  description: "Required for animation effects in all Kendo UI widgets.",
  depends: ["core"]
});
(function(a, am) {
  var E = window.kendo,
    y = E.effects,
    t = a.each,
    w = a.extend,
    R = a.proxy,
    Y = E.support,
    h = Y.browser,
    af = Y.transforms,
    ai = Y.transitions,
    V = {
      scale: 0,
      scalex: 0,
      scaley: 0,
      scale3d: 0
    }, ak = {
      translate: 0,
      translatex: 0,
      translatey: 0,
      translate3d: 0
    }, z = (typeof document.documentElement.style.zoom !== "undefined") && !af,
    G = /matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,
    o = /^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,
    al = /translatex?$/i,
    J = /(zoom|fade|expand)(\w+)/,
    W = /(zoom|fade|expand)/,
    an = /[xy]$/i,
    ae = ["perspective", "rotate", "rotatex", "rotatey", "rotatez", "rotate3d", "scale", "scalex", "scaley", "scalez", "scale3d", "skew", "skewx", "skewy", "translate", "translatex", "translatey", "translatez", "translate3d", "matrix", "matrix3d"],
    ac = ["rotate", "scale", "scalex", "scaley", "skew", "skewx", "skewy", "translate", "translatex", "translatey", "matrix"],
    ad = {
      rotate: "deg",
      scale: "",
      skew: "px",
      translate: "px"
    }, p = af.css,
    U = Math.round,
    g = "",
    S = "px",
    H = "none",
    e = "auto",
    ao = "width",
    A = "height",
    B = "hidden",
    K = "origin",
    b = "abortId",
    L = "overflow",
    aj = "translate",
    Q = "position",
    l = "completeCallback",
    ah = p + "transition",
    aa = p + "transform",
    f = p + "backface-visibility",
    P = p + "perspective",
    r = "1500px",
    ab = "perspective(" + r + ")",
    D = Y.mobileOS && Y.mobileOS.majorVersion == 7,
    s = {
      left: {
        reverse: "right",
        property: "left",
        transition: "translatex",
        vertical: false,
        modifier: -1
      },
      right: {
        reverse: "left",
        property: "left",
        transition: "translatex",
        vertical: false,
        modifier: 1
      },
      down: {
        reverse: "up",
        property: "top",
        transition: "translatey",
        vertical: true,
        modifier: 1
      },
      up: {
        reverse: "down",
        property: "top",
        transition: "translatey",
        vertical: true,
        modifier: -1
      },
      top: {
        reverse: "bottom"
      },
      bottom: {
        reverse: "top"
      },
      "in": {
        reverse: "out",
        modifier: -1
      },
      out: {
        reverse: "in",
        modifier: 1
      },
      vertical: {
        reverse: "vertical"
      },
      horizontal: {
        reverse: "horizontal"
      }
    };
  E.directions = s;
  w(a.fn, {
    kendoStop: function(ap, aq) {
      if (ai) {
        return y.stopQueue(this, ap || false, aq || false)
      } else {
        return this.stop(ap, aq)
      }
    }
  });
  if (af && !ai) {
    t(ac, function(ap, aq) {
      a.fn[aq] = function(au) {
        if (typeof au == "undefined") {
          return d(this, aq)
        } else {
          var ar = a(this)[0],
            at = aq + "(" + au + ad[aq.replace(an, "")] + ")";
          if (ar.style.cssText.indexOf(aa) == -1) {
            a(this).css(aa, at)
          } else {
            ar.style.cssText = ar.style.cssText.replace(new RegExp(aq + "\\(.*?\\)", "i"), at)
          }
        }
        return this
      };
      a.fx.step[aq] = function(ar) {
        a(ar.elem)[aq](ar.now)
      }
    });
    var q = a.fx.prototype.cur;
    a.fx.prototype.cur = function() {
      if (ac.indexOf(this.prop) != -1) {
        return parseFloat(a(this.elem)[this.prop]())
      }
      return q.apply(this, arguments)
    }
  }
  E.toggleClass = function(ar, aq, at, ap) {
    if (aq) {
      aq = aq.split(" ");
      if (ai) {
        at = w({
          exclusive: "all",
          duration: 400,
          ease: "ease-out"
        }, at);
        ar.css(ah, at.exclusive + " " + at.duration + "ms " + at.ease);
        setTimeout(function() {
          ar.css(ah, "").css(A)
        }, at.duration)
      }
      t(aq, function(au, av) {
        ar.toggleClass(av, ap)
      })
    }
    return ar
  };
  E.parseEffects = function(aq, ar) {
    var ap = {};
    if (typeof aq === "string") {
      t(aq.split(" "), function(aw, az) {
        var ax = !W.test(az),
          ay = az.replace(J, function(aC, aA, aB) {
            return aA + ":" + aB.toLowerCase()
          }),
          au = ay.split(":"),
          at = au[1],
          av = {};
        if (au.length > 1) {
          av.direction = (ar && ax ? s[at].reverse : at)
        }
        ap[au[0]] = av
      })
    } else {
      t(aq, function(au) {
        var at = this.direction;
        if (at && ar && !W.test(au)) {
          this.direction = s[at].reverse
        }
        ap[au] = this
      })
    }
    return ap
  };

  function N(ap) {
    return parseInt(ap, 10)
  }
  function M(ap, aq) {
    return N(ap.css(aq))
  }
  function O(aq) {
    var ap = aq.effects;
    if (ap === "zoom") {
      ap = "zoom:in fade:in"
    }
    if (ap === "fade") {
      ap = "fade:in"
    }
    if (ap === "slide") {
      ap = "tile:left"
    }
    if (/^slide:(.+)$/.test(ap)) {
      ap = "tile:" + RegExp.$1
    }
    if (ap === "overlay") {
      ap = "slideIn:left"
    }
    if (/^overlay:(.+)$/.test(ap)) {
      ap = "slideIn:" + RegExp.$1
    }
    aq.effects = E.parseEffects(ap);
    if (D && ap == "tile:left") {
      aq.previousDivisor = 3
    }
    return aq
  }
  function F(aq) {
    var ap = [];
    for (var ar in aq) {
      ap.push(ar)
    }
    return ap
  }
  function X(aq) {
    for (var ap in aq) {
      if (ae.indexOf(ap) != -1 && ac.indexOf(ap) == -1) {
        delete aq[ap]
      }
    }
    return aq
  }
  function I(aq, av) {
    var aw = [],
      ap = {}, au, at, ax, ar;
    for (at in av) {
      au = at.toLowerCase();
      ar = af && ae.indexOf(au) != -1;
      if (!Y.hasHW3D && ar && ac.indexOf(au) == -1) {
        delete av[at]
      } else {
        ax = av[at];
        if (ar) {
          aw.push(at + "(" + ax + ")")
        } else {
          ap[at] = ax
        }
      }
    }
    if (aw.length) {
      ap[aa] = aw.join(" ")
    }
    return ap
  }
  if (ai) {
    w(y, {
      transition: function(ar, av, au) {
        var ap, aq = 0,
          at = ar.data("keys") || [],
          ay;
        au = w({
          duration: 200,
          ease: "ease-out",
          complete: null,
          exclusive: "all"
        }, au);
        var ax = false;
        var aw = function() {
          if (!ax) {
            ax = true;
            if (ay) {
              clearTimeout(ay);
              ay = null
            }
            ar.removeData(b).dequeue().css(ah, "").css(ah);
            au.complete.call(ar)
          }
        };
        au.duration = a.fx ? a.fx.speeds[au.duration] || au.duration : au.duration;
        ap = I(ar, av);
        a.merge(at, F(ap));
        ar.data("keys", a.unique(at)).height();
        ar.css(ah, au.exclusive + " " + au.duration + "ms " + au.ease).css(ah);
        ar.css(ap).css(aa);
        if (ai.event) {
          ar.one(ai.event, aw);
          if (au.duration !== 0) {
            aq = 500
          }
        }
        ay = setTimeout(aw, au.duration + aq);
        ar.data(b, ay);
        ar.data(l, aw)
      },
      stopQueue: function(at, ap, au) {
        var ar, aw = at.data("keys"),
          av = (!au && aw),
          aq = at.data(l);
        if (av) {
          ar = E.getComputedStyles(at[0], aw)
        }
        if (aq) {
          aq()
        }
        if (av) {
          at.css(ar)
        }
        return at.removeData("keys").stop(ap)
      }
    })
  }
  function d(aq, at) {
    if (af) {
      var au = aq.css(aa);
      if (au == H) {
        return at == "scale" ? 1 : 0
      }
      var ar = au.match(new RegExp(at + "\\s*\\(([\\d\\w\\.]+)")),
        ap = 0;
      if (ar) {
        ap = N(ar[1])
      } else {
        ar = au.match(G) || [0, 0, 0, 0, 0];
        at = at.toLowerCase();
        if (al.test(at)) {
          ap = parseFloat(ar[3] / ar[2])
        } else {
          if (at == "translatey") {
            ap = parseFloat(ar[4] / ar[2])
          } else {
            if (at == "scale") {
              ap = parseFloat(ar[2])
            } else {
              if (at == "rotate") {
                ap = parseFloat(Math.atan2(ar[2], ar[1]))
              }
            }
          }
        }
      }
      return ap
    } else {
      return parseFloat(aq.css(at))
    }
  }
  var v = E.Class.extend({
    init: function(ap, aq) {
      var ar = this;
      ar.element = ap;
      ar.effects = [];
      ar.options = aq;
      ar.restore = []
    },
    run: function(av) {
      var aE = this,
        at, ay, az, aA = av.length,
        aw = aE.element,
        aB = aE.options,
        ar = a.Deferred(),
        aC = {}, ax = {}, aD, ap, aq;
      aE.effects = av;
      ar.then(a.proxy(aE, "complete"));
      aw.data("animating", true);
      for (ay = 0; ay < aA; ay++) {
        at = av[ay];
        at.setReverse(aB.reverse);
        at.setOptions(aB);
        aE.addRestoreProperties(at.restore);
        at.prepare(aC, ax);
        ap = at.children();
        for (az = 0, aq = ap.length; az < aq; az++) {
          ap[az].duration(aB.duration).run()
        }
      }
      for (var au in aB.effects) {
        w(ax, aB.effects[au].properties)
      }
      if (!aw.is(":visible")) {
        w(aC, {
          display: aw.data("olddisplay") || "block"
        })
      }
      if (af && !aB.reset) {
        aD = aw.data("targetTransform");
        if (aD) {
          aC = w(aD, aC)
        }
      }
      aC = I(aw, aC);
      if (af && !ai) {
        aC = X(aC)
      }
      aw.css(aC).css(aa);
      for (ay = 0; ay < aA; ay++) {
        av[ay].setup()
      }
      if (aB.init) {
        aB.init()
      }
      aw.data("targetTransform", ax);
      y.animate(aw, ax, w({}, aB, {
        complete: ar.resolve
      }));
      return ar.promise()
    },
    stop: function() {
      a(this.element).kendoStop(true, true)
    },
    addRestoreProperties: function(at) {
      var ap = this.element,
        au, aq = 0,
        ar = at.length;
      for (; aq < ar; aq++) {
        au = at[aq];
        this.restore.push(au);
        if (!ap.data(au)) {
          ap.data(au, ap.css(au))
        }
      }
    },
    restoreCallback: function() {
      var ap = this.element;
      for (var aq = 0, ar = this.restore.length; aq < ar; aq++) {
        var at = this.restore[aq];
        ap.css(at, ap.data(at))
      }
    },
    complete: function() {
      var av = this,
        ar = 0,
        aq = av.element,
        au = av.options,
        ap = av.effects,
        at = ap.length;
      aq.removeData("animating").dequeue();
      if (au.hide) {
        aq.data("olddisplay", aq.css("display")).hide()
      }
      this.restoreCallback();
      if (z && !af) {
        setTimeout(a.proxy(this, "restoreCallback"), 0)
      }
      for (; ar < at; ar++) {
        ap[ar].teardown()
      }
      if (au.completeCallback) {
        au.completeCallback(aq)
      }
    }
  });
  y.promise = function(av, aw) {
    var at = [],
      aq, au = new v(av, aw),
      ax = E.parseEffects(aw.effects),
      ap;
    aw.effects = ax;
    for (var ar in ax) {
      aq = y[i(ar)];
      if (aq) {
        ap = new aq(av, ax[ar].direction);
        at.push(ap)
      }
    }
    if (at[0]) {
      au.run(at)
    } else {
      if (!av.is(":visible")) {
        av.css({
          display: av.data("olddisplay") || "block"
        }).css("display")
      }
      if (aw.init) {
        aw.init()
      }
      av.dequeue();
      au.complete()
    }
  };
  y.transitionPromise = function(aq, ap, ar) {
    y.animateTo(aq, ap, ar);
    return aq
  };
  w(y, {
    animate: function(ap, ar, aq) {
      var at = aq.transition !== false;
      delete aq.transition;
      if (ai && "transition" in y && at) {
        y.transition(ap, ar, aq)
      } else {
        if (af) {
          ap.animate(X(ar), {
            queue: false,
            show: false,
            hide: false,
            duration: aq.duration,
            complete: aq.complete
          })
        } else {
          ap.each(function() {
            var au = a(this),
              av = {};
            t(ae, function(az, aF) {
              var aC, aw = ar ? ar[aF] + " " : null;
              if (aw) {
                var aE = ar;
                if (aF in V && ar[aF] !== am) {
                  aC = aw.match(o);
                  if (af) {
                    w(aE, {
                      scale: +aC[0]
                    })
                  }
                } else {
                  if (aF in ak && ar[aF] !== am) {
                    var aD = au.css(Q),
                      aA = (aD == "absolute" || aD == "fixed");
                    if (!au.data(aj)) {
                      if (aA) {
                        au.data(aj, {
                          top: M(au, "top") || 0,
                          left: M(au, "left") || 0,
                          bottom: M(au, "bottom"),
                          right: M(au, "right")
                        })
                      } else {
                        au.data(aj, {
                          top: M(au, "marginTop") || 0,
                          left: M(au, "marginLeft") || 0
                        })
                      }
                    }
                    var aB = au.data(aj);
                    aC = aw.match(o);
                    if (aC) {
                      var ax = aF == aj + "y" ? +null : +aC[1],
                        ay = aF == aj + "y" ? +aC[1] : +aC[2];
                      if (aA) {
                        if (!isNaN(aB.right)) {
                          if (!isNaN(ax)) {
                            w(aE, {
                              right: aB.right - ax
                            })
                          }
                        } else {
                          if (!isNaN(ax)) {
                            w(aE, {
                              left: aB.left + ax
                            })
                          }
                        }
                        if (!isNaN(aB.bottom)) {
                          if (!isNaN(ay)) {
                            w(aE, {
                              bottom: aB.bottom - ay
                            })
                          }
                        } else {
                          if (!isNaN(ay)) {
                            w(aE, {
                              top: aB.top + ay
                            })
                          }
                        }
                      } else {
                        if (!isNaN(ax)) {
                          w(aE, {
                            marginLeft: aB.left + ax
                          })
                        }
                        if (!isNaN(ay)) {
                          w(aE, {
                            marginTop: aB.top + ay
                          })
                        }
                      }
                    }
                  }
                }
                if (!af && aF != "scale" && aF in aE) {
                  delete aE[aF]
                }
                if (aE) {
                  w(av, aE)
                }
              }
            });
            if (h.msie) {
              delete av.scale
            }
            au.animate(av, {
              queue: false,
              show: false,
              hide: false,
              duration: aq.duration,
              complete: aq.complete
            })
          })
        }
      }
    },
    animateTo: function(av, at, ax) {
      var au, aq = av.parents().filter(at.parents()).first(),
        ap = a().add(av.parent()).add(at.parent()),
        aw = av.css(Q) == "absolute",
        ay, az;
      if (!aw) {
        az = ap.css(Q);
        ap.css(Q, "absolute")
      }
      ax = O(ax);
      if (!Y.mobileOS.android) {
        ay = aq.css(L);
        aq.css(L, "hidden")
      }
      a.each(ax.effects, function(aB, aA) {
        au = au || aA.direction
      });

      function ar(aA) {
        at[0].style.cssText = "";
        av.each(function() {
          this.style.cssText = ""
        });
        if (!Y.mobileOS.android) {
          aq.css(L, ay)
        }
        if (!aw) {
          ap.css(Q, az)
        }
        if (ax.completeCallback) {
          ax.completeCallback.call(av, aA)
        }
      }
      ax.complete = h.msie ? function() {
        setTimeout(ar, 0)
      } : ar;
      ax.previous = (ax.reverse ? at : av);
      ax.reset = true;
      (ax.reverse ? av : at).each(function() {
        a(this).kendoAnimate(w(true, {}, ax));
        ax.complete = null;
        ax.previous = null
      })
    }
  });
  y.animatedPromise = y.promise;
  y.animatedTransitionPromise = y.transitionPromise;
  var u = E.Class.extend({
    init: function(aq, ap) {
      var ar = this;
      ar.element = aq;
      ar._direction = ap;
      ar.options = {};
      ar._additionalEffects = [];
      if (!ar.restore) {
        ar.restore = []
      }
    },
    reverse: function() {
      this._reverse = true;
      return this.run()
    },
    play: function() {
      this._reverse = false;
      return this.run()
    },
    add: function(ap) {
      this._additionalEffects.push(ap);
      return this
    },
    direction: function(ap) {
      this._direction = ap;
      return this
    },
    duration: function(ap) {
      this._duration = ap;
      return this
    },
    compositeRun: function() {
      var ar = this,
        aq = new v(ar.element, {
          reverse: ar._reverse,
          duration: ar._duration
        }),
        ap = ar._additionalEffects.concat([ar]);
      return aq.run(ap)
    },
    run: function() {
      if (this._additionalEffects && this._additionalEffects[0]) {
        return this.compositeRun()
      }
      var aA = this,
        at = aA.element,
        av = 0,
        ax = aA.restore,
        aw = ax.length,
        aB, ar = a.Deferred(),
        ay = {}, au = {}, az, ap = aA.children(),
        aq = ap.length;
      ar.then(a.proxy(aA, "_complete"));
      at.data("animating", true);
      for (av = 0; av < aw; av++) {
        aB = ax[av];
        if (!at.data(aB)) {
          at.data(aB, at.css(aB))
        }
      }
      for (av = 0; av < aq; av++) {
        ap[av].duration(aA._duration).run()
      }
      aA.prepare(ay, au);
      if (!at.is(":visible")) {
        w(ay, {
          display: at.data("olddisplay") || "block"
        })
      }
      if (af) {
        az = at.data("targetTransform");
        if (az) {
          ay = w(az, ay)
        }
      }
      ay = I(at, ay);
      if (af && !ai) {
        ay = X(ay)
      }
      at.css(ay).css(aa);
      aA.setup();
      at.data("targetTransform", au);
      y.animate(at, au, {
        duration: aA._duration,
        complete: ar.resolve
      });
      return ar.promise()
    },
    stop: function() {
      var ar = 0,
        ap = this.children(),
        aq = ap.length;
      for (ar = 0; ar < aq; ar++) {
        ap[ar].stop()
      }
      a(this.element).kendoStop(true, true);
      return this
    },
    restoreCallback: function() {
      var ap = this.element;
      for (var aq = 0, ar = this.restore.length; aq < ar; aq++) {
        var at = this.restore[aq];
        ap.css(at, ap.data(at))
      }
    },
    _complete: function() {
      var aq = this,
        ap = aq.element;
      ap.removeData("animating").dequeue();
      aq.restoreCallback();
      if (aq.shouldHide()) {
        ap.data("olddisplay", ap.css("display")).hide()
      }
      if (z && !af) {
        setTimeout(a.proxy(aq, "restoreCallback"), 0)
      }
      aq.teardown()
    },
    setOptions: function(ap) {
      w(true, this.options, ap)
    },
    children: function() {
      return []
    },
    shouldHide: a.noop,
    setup: a.noop,
    prepare: a.noop,
    teardown: a.noop,
    directions: [],
    setReverse: function(ap) {
      this._reverse = ap;
      return this
    }
  });

  function i(ap) {
    return ap.charAt(0).toUpperCase() + ap.substring(1)
  }
  function m(at, ap) {
    var ar = u.extend(ap),
      aq = ar.prototype.directions;
    y[i(at)] = ar;
    y.Element.prototype[at] = function(au, av, aw, ax) {
      return new ar(this.element, au, av, aw, ax)
    };
    t(aq, function(au, av) {
      y.Element.prototype[at + i(av)] = function(aw, ax, ay) {
        return new ar(this.element, av, aw, ax, ay)
      }
    })
  }
  var x = ["left", "right", "up", "down"],
    C = ["in", "out"];
  m("slideIn", {
    directions: x,
    divisor: function(ap) {
      this.options.divisor = ap;
      return this
    },
    prepare: function(av, ar) {
      var ax = this,
        ay, aq = ax.element,
        ap = s[ax._direction],
        au = -ap.modifier * (ap.vertical ? aq.outerHeight() : aq.outerWidth()),
        aw = au / (ax.options && ax.options.divisor || 1) + S,
        at = "0px";
      if (ax._reverse) {
        ay = av;
        av = ar;
        ar = ay
      }
      if (af) {
        av[ap.transition] = aw;
        ar[ap.transition] = at
      } else {
        av[ap.property] = aw;
        ar[ap.property] = at
      }
    }
  });
  m("tile", {
    directions: x,
    init: function(aq, ap, ar) {
      u.prototype.init.call(this, aq, ap);
      this.options = {
        previous: ar
      }
    },
    previousDivisor: function(ap) {
      this.options.previousDivisor = ap;
      return this
    },
    children: function() {
      var av = this,
        au = av._reverse,
        at = av.options.previous,
        ar = av.options.previousDivisor || 1,
        aq = av._direction;
      var ap = [E.fx(av.element).slideIn(aq).setReverse(au)];
      if (at) {
        ap.push(E.fx(at).slideIn(s[aq].reverse).divisor(ar).setReverse(!au))
      }
      return ap
    }
  });

  function n(ar, at, aq, ap) {
    m(ar, {
      directions: C,
      startValue: function(au) {
        this._startValue = au;
        return this
      },
      endValue: function(au) {
        this._endValue = au;
        return this
      },
      shouldHide: function() {
        return this._shouldHide
      },
      prepare: function(ax, au) {
        var aB = this,
          aA, av, aw = this._direction === "out",
          ay = aB.element.data(at),
          az = !(isNaN(ay) || ay == aq);
        if (az) {
          aA = ay
        } else {
          if (typeof this._startValue !== "undefined") {
            aA = this._startValue
          } else {
            aA = aw ? aq : ap
          }
        }
        if (typeof this._endValue !== "undefined") {
          av = this._endValue
        } else {
          av = aw ? ap : aq
        }
        if (this._reverse) {
          ax[at] = av;
          au[at] = aA
        } else {
          ax[at] = aA;
          au[at] = av
        }
        aB._shouldHide = au[at] === ap
      }
    })
  }
  n("fade", "opacity", 1, 0);
  n("zoom", "scale", 1, 0.01);
  m("slideMargin", {
    prepare: function(ax, aq) {
      var ay = this,
        ap = ay.element,
        au = ay.options,
        av = ap.data(K),
        at = au.offset,
        ar, aw = ay._reverse;
      if (!aw && av === null) {
        ap.data(K, parseFloat(ap.css("margin-" + au.axis)))
      }
      ar = (ap.data(K) || 0);
      aq["margin-" + au.axis] = !aw ? ar + at : ar
    }
  });
  m("slideTo", {
    prepare: function(av, aq) {
      var aw = this,
        ap = aw.element,
        at = aw.options,
        ar = at.offset.split(","),
        au = aw._reverse;
      if (af) {
        aq.translatex = !au ? ar[0] : 0;
        aq.translatey = !au ? ar[1] : 0
      } else {
        aq.left = !au ? ar[0] : 0;
        aq.top = !au ? ar[1] : 0
      }
      ap.css("left")
    }
  });
  m("expand", {
    directions: ["horizontal", "vertical"],
    restore: [L],
    prepare: function(az, aq) {
      var aA = this,
        ap = aA.element,
        au = aA.options,
        ax = aA._reverse,
        av = aA._direction === "vertical" ? A : ao,
        ay = ap[0].style[av],
        at = ap.data(av),
        ar = parseFloat(at || ay),
        aw = U(ap.css(av, e)[av]());
      az.overflow = B;
      ar = (au && au.reset) ? aw || ar : ar || aw;
      aq[av] = (ax ? 0 : ar) + S;
      az[av] = (ax ? ar : 0) + S;
      if (at === am) {
        ap.data(av, ay)
      }
    },
    shouldHide: function() {
      return this._reverse
    },
    teardown: function() {
      var at = this,
        ap = at.element,
        ar = at._direction === "vertical" ? A : ao,
        aq = ap.data(ar);
      if (aq == e || aq === g) {
        setTimeout(function() {
          ap.css(ar, e).css(ar)
        }, 0)
      }
    }
  });
  var Z = {
    position: "absolute",
    marginLeft: 0,
    marginTop: 0,
    scale: 1
  };
  m("transfer", {
    init: function(ap, aq) {
      this.element = ap;
      this.options = {
        target: aq
      };
      this.restore = []
    },
    setup: function() {
      this.element.appendTo(document.body)
    },
    prepare: function(ax, ar) {
      var aA = this,
        aq = aA.element,
        au = aA.options,
        av = aA._reverse,
        ay = au.target,
        at, ap = d(aq, "scale"),
        az = ay.offset(),
        aw = ay.outerHeight() / aq.outerHeight();
      w(ax, Z);
      ar.scale = 1;
      aq.css(aa, "scale(1)").css(aa);
      at = aq.offset();
      aq.css(aa, "scale(" + ap + ")");
      var aC = 0,
        aH = 0,
        aD = az.left - at.left,
        aI = az.top - at.top,
        aE = aC + aq.outerWidth(),
        aJ = aH,
        aF = aD + ay.outerWidth(),
        aK = aI,
        aL = (aI - aH) / (aD - aC),
        aM = (aK - aJ) / (aF - aE),
        aB = (aH - aJ - aL * aC + aM * aE) / (aM - aL),
        aG = aH + aL * (aB - aC);
      ax.top = at.top;
      ax.left = at.left;
      ax.transformOrigin = aB + S + " " + aG + S;
      if (av) {
        ax.scale = aw
      } else {
        ar.scale = aw
      }
    }
  });
  var k = {
    top: "rect(auto auto $size auto)",
    bottom: "rect($size auto auto auto)",
    left: "rect(auto $size auto auto)",
    right: "rect(auto auto auto $size)"
  };
  var T = {
    top: {
      start: "rotatex(0deg)",
      end: "rotatex(180deg)"
    },
    bottom: {
      start: "rotatex(-180deg)",
      end: "rotatex(0deg)"
    },
    left: {
      start: "rotatey(0deg)",
      end: "rotatey(-180deg)"
    },
    right: {
      start: "rotatey(180deg)",
      end: "rotatey(0deg)"
    }
  };

  function j(ap, aq) {
    var at = E.directions[aq].vertical,
      ar = (ap[at ? A : ao]() / 2) + "px";
    return k[aq].replace("$size", ar)
  }
  m("turningPage", {
    directions: x,
    init: function(ar, aq, ap) {
      u.prototype.init.call(this, ar, aq);
      this._container = ap
    },
    prepare: function(au, aq) {
      var av = this,
        ar = av._reverse,
        ap = ar ? s[av._direction].reverse : av._direction,
        at = T[ap];
      au.zIndex = 1;
      if (av._clipInHalf) {
        au.clip = j(av._container, E.directions[ap].reverse)
      }
      au[f] = B;
      aq[aa] = ab + (ar ? at.start : at.end);
      au[aa] = ab + (ar ? at.end : at.start)
    },
    setup: function() {
      this._container.append(this.element)
    },
    face: function(ap) {
      this._face = ap;
      return this
    },
    shouldHide: function() {
      var ar = this,
        aq = ar._reverse,
        ap = ar._face;
      return (aq && !ap) || (!aq && ap)
    },
    clipInHalf: function(ap) {
      this._clipInHalf = ap;
      return this
    },
    temporary: function() {
      this.element.addClass("temp-page");
      return this
    }
  });
  m("staticPage", {
    directions: x,
    init: function(ar, aq, ap) {
      u.prototype.init.call(this, ar, aq);
      this._container = ap
    },
    restore: ["clip"],
    prepare: function(ar, aq) {
      var at = this,
        ap = at._reverse ? s[at._direction].reverse : at._direction;
      ar.clip = j(at._container, ap);
      ar.opacity = 0.999;
      aq.opacity = 1
    },
    shouldHide: function() {
      var ar = this,
        aq = ar._reverse,
        ap = ar._face;
      return (aq && !ap) || (!aq && ap)
    },
    face: function(ap) {
      this._face = ap;
      return this
    }
  });
  m("pageturn", {
    directions: ["horizontal", "vertical"],
    init: function(ar, aq, at, ap) {
      u.prototype.init.call(this, ar, aq);
      this.options = {};
      this.options.face = at;
      this.options.back = ap
    },
    children: function() {
      var ay = this,
        au = ay.options,
        aq = ay._direction === "horizontal" ? "left" : "top",
        aw = E.directions[aq].reverse,
        av = ay._reverse,
        ax, at = au.face.clone(true).removeAttr("id"),
        ap = au.back.clone(true).removeAttr("id"),
        ar = ay.element;
      if (av) {
        ax = aq;
        aq = aw;
        aw = ax
      }
      return [E.fx(au.face).staticPage(aq, ar).face(true).setReverse(av), E.fx(au.back).staticPage(aw, ar).setReverse(av), E.fx(at).turningPage(aq, ar).face(true).clipInHalf(true).temporary().setReverse(av), E.fx(ap).turningPage(aw, ar).clipInHalf(true).temporary().setReverse(av)]
    },
    prepare: function(aq, ap) {
      aq[P] = r;
      aq.transformStyle = "preserve-3d";
      aq.opacity = 0.999;
      ap.opacity = 1
    },
    teardown: function() {
      this.element.find(".temp-page").remove()
    }
  });
  m("flip", {
    directions: ["horizontal", "vertical"],
    init: function(ar, aq, at, ap) {
      u.prototype.init.call(this, ar, aq);
      this.options = {};
      this.options.face = at;
      this.options.back = ap
    },
    children: function() {
      var aw = this,
        ar = aw.options,
        ap = aw._direction === "horizontal" ? "left" : "top",
        au = E.directions[ap].reverse,
        at = aw._reverse,
        av, aq = aw.element;
      if (at) {
        av = ap;
        ap = au;
        au = av
      }
      return [E.fx(ar.face).turningPage(ap, aq).face(true).setReverse(at), E.fx(ar.back).turningPage(au, aq).setReverse(at)]
    },
    prepare: function(ap) {
      ap[P] = r;
      ap.transformStyle = "preserve-3d"
    }
  });
  var c = E.Class.extend({
    init: function() {
      var ap = this;
      ap._tickProxy = R(ap._tick, ap);
      ap._started = false
    },
    tick: a.noop,
    done: a.noop,
    onEnd: a.noop,
    onCancel: a.noop,
    start: function() {
      if (!this.done()) {
        this._started = true;
        E.animationFrame(this._tickProxy)
      }
    },
    cancel: function() {
      this._started = false;
      this.onCancel()
    },
    _tick: function() {
      var ap = this;
      if (!ap._started) {
        return
      }
      ap.tick();
      if (!ap.done()) {
        E.queueAnimation(ap._tickProxy)
      } else {
        ap._started = false;
        ap.onEnd()
      }
    }
  });
  var ag = c.extend({
    init: function(ap) {
      var aq = this;
      w(aq, ap);
      c.fn.init.call(aq)
    },
    done: function() {
      return this.timePassed() >= this.duration
    },
    timePassed: function() {
      return Math.min(this.duration, (new Date()) - this.startDate)
    },
    moveTo: function(aq) {
      var ar = this,
        ap = ar.movable;
      ar.initial = ap[ar.axis];
      ar.delta = aq.location - ar.initial;
      ar.duration = typeof aq.duration == "number" ? aq.duration : 300;
      ar.tick = ar._easeProxy(aq.ease);
      ar.startDate = new Date();
      ar.start()
    },
    _easeProxy: function(ap) {
      var aq = this;
      return function() {
        aq.movable.moveAxis(aq.axis, ap(aq.timePassed(), aq.initial, aq.delta, aq.duration))
      }
    }
  });
  w(ag, {
    easeOutExpo: function(at, ap, aq, ar) {
      return (at == ar) ? ap + aq : aq * (-Math.pow(2, -10 * at / ar) + 1) + ap
    },
    easeOutBack: function(au, ap, aq, ar, at) {
      at = 1.70158;
      return aq * ((au = au / ar - 1) * au * ((at + 1) * au + at) + 1) + ap
    }
  });
  y.Animation = c;
  y.Transition = ag;
  y.createEffect = m
})(window.kendo.jQuery);
kendo_module({
  id: "data.odata",
  name: "OData",
  category: "framework",
  depends: ["core"],
  hidden: true
});
(function(a, h) {
  var d = window.kendo,
    c = a.extend,
    f = {
      eq: "eq",
      neq: "ne",
      gt: "gt",
      gte: "ge",
      lt: "lt",
      lte: "le",
      contains: "substringof",
      doesnotcontain: "substringof",
      endswith: "endswith",
      startswith: "startswith"
    }, e = {
      pageSize: a.noop,
      page: a.noop,
      filter: function(j, i) {
        if (i) {
          j.$filter = g(i)
        }
      },
      sort: function(k, j) {
        var i = a.map(j, function(m) {
          var l = m.field.replace(/\./g, "/");
          if (m.dir === "desc") {
            l += " desc"
          }
          return l
        }).join(",");
        if (i) {
          k.$orderby = i
        }
      },
      skip: function(i, j) {
        if (j) {
          i.$skip = j
        }
      },
      take: function(i, j) {
        if (j) {
          i.$top = j
        }
      }
    }, b = {
      read: {
        dataType: "jsonp"
      }
    };

  function g(j) {
    var r = [],
      p = j.logic || "and",
      m, o, i, s, l, q, t, n, k = j.filters;
    for (m = 0, o = k.length; m < o; m++) {
      j = k[m];
      i = j.field;
      t = j.value;
      q = j.operator;
      if (j.filters) {
        j = g(j)
      } else {
        n = j.ignoreCase;
        i = i.replace(/\./g, "/");
        j = f[q];
        if (j && t !== h) {
          s = a.type(t);
          if (s === "string") {
            l = "'{1}'";
            t = t.replace(/'/g, "''");
            if (n === true) {
              i = "tolower(" + i + ")"
            }
          } else {
            if (s === "date") {
              l = "datetime'{1:yyyy-MM-ddTHH:mm:ss}'"
            } else {
              l = "{1}"
            }
          }
          if (j.length > 3) {
            if (j !== "substringof") {
              l = "{0}({2}," + l + ")"
            } else {
              l = "{0}(" + l + ",{2})";
              if (q === "doesnotcontain") {
                l += " eq false"
              }
            }
          } else {
            l = "{2} {0} " + l
          }
          j = d.format(l, j, t, i)
        }
      }
      r.push(j)
    }
    j = r.join(" " + p + " ");
    if (r.length > 1) {
      j = "(" + j + ")"
    }
    return j
  }
  c(true, d.data, {
    schemas: {
      odata: {
        type: "json",
        data: function(i) {
          return i.d.results || [i.d]
        },
        total: "d.__count"
      }
    },
    transports: {
      odata: {
        read: {
          cache: true,
          dataType: "jsonp",
          jsonp: "$callback"
        },
        update: {
          cache: true,
          dataType: "json",
          contentType: "application/json",
          type: "PUT"
        },
        create: {
          cache: true,
          dataType: "json",
          contentType: "application/json",
          type: "POST"
        },
        destroy: {
          cache: true,
          dataType: "json",
          type: "DELETE"
        },
        parameterMap: function(k, m) {
          var l, n, j, i;
          k = k || {};
          m = m || "read";
          i = (this.options || b)[m];
          i = i ? i.dataType : "json";
          if (m === "read") {
            l = {
              $inlinecount: "allpages"
            };
            if (i != "json") {
              l.$format = "json"
            }
            for (j in k) {
              if (e[j]) {
                e[j](l, k[j])
              } else {
                l[j] = k[j]
              }
            }
          } else {
            if (i !== "json") {
              throw new Error("Only json dataType can be used for " + m + " operation.")
            }
            if (m !== "destroy") {
              for (j in k) {
                n = k[j];
                if (typeof n === "number") {
                  k[j] = n + ""
                }
              }
              l = d.stringify(k)
            }
          }
          return l
        }
      }
    }
  })
})(window.kendo.jQuery);
kendo_module({
  id: "data.xml",
  name: "XML",
  category: "framework",
  depends: ["core"],
  hidden: true
});
(function(a, j) {
  var h = window.kendo,
    f = a.isArray,
    g = a.isPlainObject,
    i = a.map,
    c = a.each,
    d = a.extend,
    e = h.getter,
    b = h.Class;
  var k = b.extend({
    init: function(q) {
      var t = this,
        u = q.total,
        p = q.model,
        r = q.parse,
        m = q.errors,
        s = q.serialize,
        l = q.data;
      if (p) {
        if (g(p)) {
          if (p.fields) {
            c(p.fields, function(w, x) {
              if (g(x) && x.field) {
                x = d(x, {
                  field: t.getter(x.field)
                })
              } else {
                x = {
                  field: t.getter(x)
                }
              }
              p.fields[w] = x
            })
          }
          var n = p.id;
          if (n) {
            var o = {};
            o[t.xpathToMember(n, true)] = {
              field: t.getter(n)
            };
            p.fields = d(o, p.fields);
            p.id = t.xpathToMember(n)
          }
          p = h.data.Model.define(p)
        }
        t.model = p
      }
      if (u) {
        if (typeof u == "string") {
          u = t.getter(u);
          t.total = function(w) {
            return parseInt(u(w), 10)
          }
        } else {
          if (typeof u == "function") {
            t.total = u
          }
        }
      }
      if (m) {
        if (typeof m == "string") {
          m = t.getter(m);
          t.errors = function(w) {
            return m(w) || null
          }
        } else {
          if (typeof m == "function") {
            t.errors = m
          }
        }
      }
      if (l) {
        if (typeof l == "string") {
          l = t.xpathToMember(l);
          t.data = function(y) {
            var x = t.evaluate(y, l),
              w;
            x = f(x) ? x : [x];
            if (t.model && p.fields) {
              w = new t.model();
              return i(x, function(B) {
                if (B) {
                  var A = {}, z;
                  for (z in p.fields) {
                    A[z] = w._parse(z, p.fields[z].field(B))
                  }
                  return A
                }
              })
            }
            return x
          }
        } else {
          if (typeof l == "function") {
            t.data = l
          }
        }
      }
      if (typeof r == "function") {
        var v = t.parse;
        t.parse = function(w) {
          var x = r.call(t, w);
          return v.call(t, x)
        }
      }
      if (typeof s == "function") {
        t.serialize = s
      }
    },
    total: function(l) {
      return this.data(l).length
    },
    errors: function(l) {
      return l ? l.errors : null
    },
    serialize: function(l) {
      return l
    },
    parseDOM: function(o) {
      var v = {}, u, r, t, s, q, l, n = o.attributes,
        m = n.length,
        p;
      for (p = 0; p < m; p++) {
        l = n[p];
        v["@" + l.nodeName] = l.nodeValue
      }
      for (r = o.firstChild; r; r = r.nextSibling) {
        t = r.nodeType;
        if (t === 3 || t === 4) {
          v["#text"] = r.nodeValue
        } else {
          if (t === 1) {
            u = this.parseDOM(r);
            s = r.nodeName;
            q = v[s];
            if (f(q)) {
              q.push(u)
            } else {
              if (q !== j) {
                q = [q, u]
              } else {
                q = u
              }
            }
            v[s] = q
          }
        }
      }
      return v
    },
    evaluate: function(s, l) {
      var q = l.split("."),
        p, r, o, n, m;
      while (p = q.shift()) {
        s = s[p];
        if (f(s)) {
          r = [];
          l = q.join(".");
          for (m = 0, o = s.length; m < o; m++) {
            n = this.evaluate(s[m], l);
            n = f(n) ? n : [n];
            r.push.apply(r, n)
          }
          return r
        }
      }
      return s
    },
    parse: function(o) {
      var l, n, m = {};
      l = o.documentElement || a.parseXML(o).documentElement;
      n = this.parseDOM(l);
      m[l.nodeName] = n;
      return m
    },
    xpathToMember: function(l, m) {
      if (!l) {
        return ""
      }
      l = l.replace(/^\//, "").replace(/\//g, ".");
      if (l.indexOf("@") >= 0) {
        return l.replace(/\.?(@.*)/, m ? "$1" : '["$1"]')
      }
      if (l.indexOf("text()") >= 0) {
        return l.replace(/(\.?text\(\))/, m ? "#text" : '["#text"]')
      }
      return l
    },
    getter: function(l) {
      return e(this.xpathToMember(l), true)
    }
  });
  a.extend(true, h.data, {
    XmlDataReader: k,
    readers: {
      xml: k
    }
  })
})(window.kendo.jQuery);
kendo_module({
  id: "data",
  name: "Data source",
  category: "framework",
  description: "Powerful component for using local and remote data.Fully supports CRUD, Sorting, Paging, Filtering, Grouping, and Aggregates.",
  depends: ["core"],
  features: [{
    id: "data-odata",
    name: "OData",
    description: "Support for accessing Open Data Protocol (OData) services.",
    depends: ["data.odata"]
  }, {
    id: "data-XML",
    name: "XML",
    description: "Support for binding to XML.",
    depends: ["data.xml"]
  }]
});
(function(a, aR) {
  var B = a.extend,
    aw = a.proxy,
    X = a.isPlainObject,
    U = a.isEmptyObject,
    T = a.isArray,
    J = a.grep,
    b = a.ajax,
    ab, w = a.each,
    ah = a.noop,
    Z = window.kendo,
    V = Z.isFunction,
    an = Z.Observable,
    i = Z.Class,
    aL = "string",
    E = "function",
    o = "create",
    aA = "read",
    aT = "update",
    v = "destroy",
    h = "change",
    aN = "sync",
    G = "get",
    z = "error",
    aE = "requestStart",
    av = "progress",
    aD = "requestEnd",
    p = [o, aA, aT, v],
    M = function(aX) {
      return aX
    }, I = Z.getter,
    aM = Z.stringify,
    ac = Math,
    ax = [].push,
    Y = [].join,
    au = [].pop,
    aI = [].splice,
    aG = [].shift,
    aH = [].slice,
    aS = [].unshift,
    aP = {}.toString,
    aK = Z.support.stableSort,
    t = /^\/Date\((.*?)\)\/$/,
    af = /(\r+|\n+)/g,
    az = /(?=['\\])/g;
  var ao = an.extend({
    init: function(aX, aZ) {
      var aY = this;
      aY.type = aZ || ap;
      an.fn.init.call(aY);
      aY.length = aX.length;
      aY.wrapAll(aX, aY)
    },
    toJSON: function() {
      var aX, aZ = this.length,
        a0, aY = new Array(aZ);
      for (aX = 0; aX < aZ; aX++) {
        a0 = this[aX];
        if (a0 instanceof ap) {
          a0 = a0.toJSON()
        }
        aY[aX] = a0
      }
      return aY
    },
    parent: ah,
    wrapAll: function(a0, a1) {
      var a2 = this,
        aX, aY, aZ = function() {
          return a2
        };
      a1 = a1 || [];
      for (aX = 0, aY = a0.length; aX < aY; aX++) {
        a1[aX] = a2.wrap(a0[aX], aZ)
      }
      return a1
    },
    wrap: function(aX, aZ) {
      var a0 = this,
        aY;
      if (aX !== null && aP.call(aX) === "[object Object]") {
        aY = aX instanceof a0.type || aX instanceof ae;
        if (!aY) {
          aX = aX instanceof ap ? aX.toJSON() : aX;
          aX = new a0.type(aX)
        }
        aX.parent = aZ;
        aX.bind(h, function(a1) {
          a0.trigger(h, {
            field: a1.field,
            node: a1.node,
            index: a1.index,
            items: a1.items || [this],
            action: a1.node ? (a1.action || "itemchange") : "itemchange"
          })
        })
      }
      return aX
    },
    push: function() {
      var aX = this.length,
        aY = this.wrapAll(arguments),
        aZ;
      aZ = ax.apply(this, aY);
      this.trigger(h, {
        action: "add",
        index: aX,
        items: aY
      });
      return aZ
    },
    slice: aH,
    join: Y,
    pop: function() {
      var aX = this.length,
        aY = au.apply(this);
      if (aX) {
        this.trigger(h, {
          action: "remove",
          index: aX - 1,
          items: [aY]
        })
      }
      return aY
    },
    splice: function(aZ, aX, a0) {
      var a1 = this.wrapAll(aH.call(arguments, 2)),
        a3, aY, a2;
      a3 = aI.apply(this, [aZ, aX].concat(a1));
      if (a3.length) {
        this.trigger(h, {
          action: "remove",
          index: aZ,
          items: a3
        });
        for (aY = 0, a2 = a3.length; aY < a2; aY++) {
          if (a3[aY].children) {
            a3[aY].unbind(h)
          }
        }
      }
      if (a0) {
        this.trigger(h, {
          action: "add",
          index: aZ,
          items: a1
        })
      }
      return a3
    },
    shift: function() {
      var aX = this.length,
        aY = aG.apply(this);
      if (aX) {
        this.trigger(h, {
          action: "remove",
          index: 0,
          items: [aY]
        })
      }
      return aY
    },
    unshift: function() {
      var aX = this.wrapAll(arguments),
        aY;
      aY = aS.apply(this, aX);
      this.trigger(h, {
        action: "add",
        index: 0,
        items: aX
      });
      return aY
    },
    indexOf: function(aY) {
      var a0 = this,
        aX, aZ;
      for (aX = 0, aZ = a0.length; aX < aZ; aX++) {
        if (a0[aX] === aY) {
          return aX
        }
      }
      return -1
    },
    forEach: function(aX) {
      var aY = 0,
        aZ = this.length;
      for (; aY < aZ; aY++) {
        aX(this[aY], aY, this)
      }
    },
    map: function(aX) {
      var aY = 0,
        a0 = [],
        aZ = this.length;
      for (; aY < aZ; aY++) {
        a0[aY] = aX(this[aY], aY, this)
      }
      return a0
    },
    filter: function(aX) {
      var aY = 0,
        a1 = [],
        aZ, a0 = this.length;
      for (; aY < a0; aY++) {
        aZ = this[aY];
        if (aX(aZ, aY, this)) {
          a1[a1.length] = aZ
        }
      }
      return a1
    },
    find: function(aX) {
      var aY = 0,
        aZ, a0 = this.length;
      for (; aY < a0; aY++) {
        aZ = this[aY];
        if (aX(aZ, aY, this)) {
          return aZ
        }
      }
    },
    every: function(aX) {
      var aY = 0,
        aZ, a0 = this.length;
      for (; aY < a0; aY++) {
        aZ = this[aY];
        if (!aX(aZ, aY, this)) {
          return false
        }
      }
      return true
    },
    some: function(aX) {
      var aY = 0,
        aZ, a0 = this.length;
      for (; aY < a0; aY++) {
        aZ = this[aY];
        if (aX(aZ, aY, this)) {
          return true
        }
      }
      return false
    },
    remove: function(aX) {
      this.splice(this.indexOf(aX), 1)
    },
    empty: function() {
      this.splice(0, this.length)
    }
  });

  function A(aX, a0, aY, aZ) {
    return function(a1) {
      var a2 = {}, a3;
      for (a3 in a1) {
        a2[a3] = a1[a3]
      }
      if (aZ) {
        a2.field = aY + "." + a1.field
      } else {
        a2.field = aY
      }
      if (a0 == h && aX._notifyChange) {
        aX._notifyChange(a2)
      }
      aX.trigger(a0, a2)
    }
  }
  var ap = an.extend({
    init: function(a1) {
      var a0 = this,
        aY, aX, aZ = function() {
          return a0
        };
      an.fn.init.call(this);
      for (aX in a1) {
        aY = a1[aX];
        if (aX.charAt(0) != "_") {
          aY = a0.wrap(aY, aX, aZ)
        }
        a0[aX] = aY
      }
      a0.uid = Z.guid()
    },
    shouldSerialize: function(aX) {
      return this.hasOwnProperty(aX) && aX !== "_events" && typeof this[aX] !== E && aX !== "uid"
    },
    forEach: function(aX) {
      for (var aY in this) {
        if (this.shouldSerialize(aY)) {
          aX(this[aY], aY)
        }
      }
    },
    toJSON: function() {
      var aY = {}, aZ, aX;
      for (aX in this) {
        if (this.shouldSerialize(aX)) {
          aZ = this[aX];
          if (aZ instanceof ap || aZ instanceof ao) {
            aZ = aZ.toJSON()
          }
          aY[aX] = aZ
        }
      }
      return aY
    },
    get: function(aX) {
      var aZ = this,
        aY;
      aZ.trigger(G, {
        field: aX
      });
      if (aX === "this") {
        aY = aZ
      } else {
        aY = Z.getter(aX, true)(aZ)
      }
      return aY
    },
    _set: function(aY, a3) {
      var a2 = this;
      var aX = aY.indexOf(".") >= 0;
      if (aX) {
        var a1 = aY.split("."),
          a0 = "";
        while (a1.length > 1) {
          a0 += a1.shift();
          var aZ = Z.getter(a0, true)(a2);
          if (aZ instanceof ap) {
            aZ.set(a1.join("."), a3);
            return aX
          }
          a0 += "."
        }
      }
      Z.setter(aY)(a2, a3);
      return aX
    },
    set: function(aY, a0) {
      var aZ = this,
        aX = Z.getter(aY, true)(aZ);
      if (aX !== a0) {
        if (!aZ.trigger("set", {
          field: aY,
          value: a0
        })) {
          if (!aZ._set(aY, aZ.wrap(a0, aY, function() {
            return aZ
          })) || aY.indexOf("(") >= 0 || aY.indexOf("[") >= 0) {
            aZ.trigger(h, {
              field: aY
            })
          }
        }
      }
    },
    parent: ah,
    wrap: function(a0, aX, a1) {
      var a2 = this,
        a3 = aP.call(a0);
      if (a0 != null && (a3 === "[object Object]" || a3 === "[object Array]")) {
        var aZ = a0 instanceof ao;
        var aY = a0 instanceof s;
        if (a3 === "[object Object]" && !aY && !aZ) {
          if (!(a0 instanceof ap)) {
            a0 = new ap(a0)
          }
          if (a0.parent() != a1()) {
            a0.bind(G, A(a2, G, aX, true));
            a0.bind(h, A(a2, h, aX, true))
          }
        } else {
          if (a3 === "[object Array]" || aZ || aY) {
            if (!aZ && !aY) {
              a0 = new ao(a0)
            }
            if (a0.parent() != a1()) {
              a0.bind(h, A(a2, h, aX, false))
            }
          }
        }
        a0.parent = a1
      }
      return a0
    }
  });

  function y(aY, a0) {
    if (aY === a0) {
      return true
    }
    var aZ = a.type(aY),
      a1 = a.type(a0),
      aX;
    if (aZ !== a1) {
      return false
    }
    if (aZ === "date") {
      return aY.getTime() === a0.getTime()
    }
    if (aZ !== "object" && aZ !== "array") {
      return false
    }
    for (aX in aY) {
      if (!y(aY[aX], a0[aX])) {
        return false
      }
    }
    return true
  }
  var at = {
    number: function(aX) {
      return Z.parseFloat(aX)
    },
    date: function(aX) {
      return Z.parseDate(aX)
    },
    "boolean": function(aX) {
      if (typeof aX === aL) {
        return aX.toLowerCase() === "true"
      }
      return aX != null ? !! aX : aX
    },
    string: function(aX) {
      return aX != null ? (aX + "") : aX
    },
    "default": function(aX) {
      return aX
    }
  };
  var u = {
    string: "",
    number: 0,
    date: new Date(),
    "boolean": false,
    "default": ""
  };

  function H(a0, aZ) {
    var aX, aY;
    for (aY in a0) {
      aX = a0[aY];
      if (X(aX) && aX.field && aX.field === aZ) {
        return aX
      } else {
        if (aX === aZ) {
          return aX
        }
      }
    }
    return null
  }
  var ae = ap.extend({
    init: function(aX) {
      var aY = this;
      if (!aX || a.isEmptyObject(aX)) {
        aX = a.extend({}, aY.defaults, aX)
      }
      ap.fn.init.call(aY, aX);
      aY.dirty = false;
      if (aY.idField) {
        aY.id = aY.get(aY.idField);
        if (aY.id === aR) {
          aY.id = aY._defaultId
        }
      }
    },
    shouldSerialize: function(aX) {
      return ap.fn.shouldSerialize.call(this, aX) && aX !== "uid" && !(this.idField !== "id" && aX === "id") && aX !== "dirty" && aX !== "_accessors"
    },
    _parse: function(aX, a2) {
      var a1 = this,
        aY = aX,
        aZ = (a1.fields || {}),
        a0;
      aX = aZ[aX];
      if (!aX) {
        aX = H(aZ, aY)
      }
      if (aX) {
        a0 = aX.parse;
        if (!a0 && aX.type) {
          a0 = at[aX.type.toLowerCase()]
        }
      }
      return a0 ? a0(a2) : a2
    },
    _notifyChange: function(aY) {
      var aX = aY.action;
      if (aX == "add" || aX == "remove") {
        this.dirty = true
      }
    },
    editable: function(aX) {
      aX = (this.fields || {})[aX];
      return aX ? aX.editable !== false : true
    },
    set: function(aX, a0, aY) {
      var aZ = this;
      if (aZ.editable(aX)) {
        a0 = aZ._parse(aX, a0);
        if (!y(a0, aZ.get(aX))) {
          aZ.dirty = true;
          ap.fn.set.call(aZ, aX, a0, aY)
        }
      }
    },
    accept: function(aX) {
      var a0 = this,
        aZ = function() {
          return a0
        }, aY;
      for (aY in aX) {
        var a1 = aX[aY];
        if (aY.charAt(0) != "_") {
          a1 = a0.wrap(aX[aY], aY, aZ)
        }
        a0._set(aY, a1)
      }
      if (a0.idField) {
        a0.id = a0.get(a0.idField)
      }
      a0.dirty = false
    },
    isNew: function() {
      return this.id === this._defaultId
    }
  });
  ae.define = function(aX, a5) {
    if (a5 === aR) {
      a5 = aX;
      aX = ae
    }
    var a3, a7 = B({
      defaults: {}
    }, a5),
      a4, aY, a8, a9, a1, a2, aZ = {}, a6, a0 = a7.id;
    if (a0) {
      a7.idField = a0
    }
    if (a7.id) {
      delete a7.id
    }
    if (a0) {
      a7.defaults[a0] = a7._defaultId = ""
    }
    if (aP.call(a7.fields) === "[object Array]") {
      for (a1 = 0, a2 = a7.fields.length; a1 < a2; a1++) {
        aY = a7.fields[a1];
        if (typeof aY === aL) {
          aZ[aY] = {}
        } else {
          if (aY.field) {
            aZ[aY.field] = aY
          }
        }
      }
      a7.fields = aZ
    }
    for (a4 in a7.fields) {
      aY = a7.fields[a4];
      a8 = aY.type || "default";
      a9 = null;
      a6 = a4;
      a4 = typeof(aY.field) === aL ? aY.field : a4;
      if (!aY.nullable) {
        a9 = a7.defaults[a6 !== a4 ? a6 : a4] = aY.defaultValue !== aR ? aY.defaultValue : u[a8.toLowerCase()]
      }
      if (a5.id === a4) {
        a7._defaultId = a9
      }
      a7.defaults[a6 !== a4 ? a6 : a4] = a9;
      aY.parse = aY.parse || at[a8]
    }
    a3 = aX.extend(a7);
    a3.define = function(ba) {
      return ae.define(a3, ba)
    };
    if (a7.fields) {
      a3.fields = a7.fields;
      a3.idField = a7.idField
    }
    return a3
  };
  var j = {
    selector: function(aX) {
      return V(aX) ? aX : I(aX)
    },
    compare: function(aX) {
      var aY = this.selector(aX);
      return function(aZ, a0) {
        aZ = aY(aZ);
        a0 = aY(a0);
        if (aZ == null && a0 == null) {
          return 0
        }
        if (aZ == null) {
          return -1
        }
        if (a0 == null) {
          return 1
        }
        if (aZ.localeCompare) {
          return aZ.localeCompare(a0)
        }
        return aZ > a0 ? 1 : (aZ < a0 ? -1 : 0)
      }
    },
    create: function(aY) {
      var aX = aY.compare || this.compare(aY.field);
      if (aY.dir == "desc") {
        return function(aZ, a0) {
          return aX(a0, aZ, true)
        }
      }
      return aX
    },
    combine: function(aX) {
      return function(aY, aZ) {
        var a2 = aX[0](aY, aZ),
          a0, a1;
        for (a0 = 1, a1 = aX.length; a0 < a1; a0++) {
          a2 = a2 || aX[a0](aY, aZ)
        }
        return a2
      }
    }
  };
  var aJ = B({}, j, {
    asc: function(aX) {
      var aY = this.selector(aX);
      return function(aZ, a0) {
        var a1 = aY(aZ);
        var a2 = aY(a0);
        if (a1 && a1.getTime && a2 && a2.getTime) {
          a1 = a1.getTime();
          a2 = a2.getTime()
        }
        if (a1 === a2) {
          return aZ.__position - a0.__position
        }
        if (a1 == null) {
          return -1
        }
        if (a2 == null) {
          return 1
        }
        if (a1.localeCompare) {
          return a1.localeCompare(a2)
        }
        return a1 > a2 ? 1 : -1
      }
    },
    desc: function(aX) {
      var aY = this.selector(aX);
      return function(aZ, a0) {
        var a1 = aY(aZ);
        var a2 = aY(a0);
        if (a1 && a1.getTime && a2 && a2.getTime) {
          a1 = a1.getTime();
          a2 = a2.getTime()
        }
        if (a1 === a2) {
          return aZ.__position - a0.__position
        }
        if (a1 == null) {
          return 1
        }
        if (a2 == null) {
          return -1
        }
        if (a2.localeCompare) {
          return a2.localeCompare(a1)
        }
        return a1 < a2 ? 1 : -1
      }
    },
    create: function(aX) {
      return this[aX.dir](aX.field)
    }
  });
  ab = function(aX, aY) {
    var aZ, a0 = aX.length,
      a1 = new Array(a0);
    for (aZ = 0; aZ < a0; aZ++) {
      a1[aZ] = aY(aX[aZ], aZ, aX)
    }
    return a1
  };
  var ar = (function() {
    function aY(aZ) {
      return aZ.replace(az, "\\").replace(af, "")
    }
    function aX(a3, aZ, a0, a2) {
      var a1;
      if (a0 != null) {
        if (typeof a0 === aL) {
          a0 = aY(a0);
          a1 = t.exec(a0);
          if (a1) {
            a0 = new Date(+a1[1])
          } else {
            if (a2) {
              a0 = "'" + a0.toLowerCase() + "'";
              aZ = "(" + aZ + " || '').toLowerCase()"
            } else {
              a0 = "'" + a0 + "'"
            }
          }
        }
        if (a0.getTime) {
          aZ = "(" + aZ + "?" + aZ + ".getTime():" + aZ + ")";
          a0 = a0.getTime()
        }
      }
      return aZ + " " + a3 + " " + a0
    }
    return {
      eq: function(aZ, a0, a1) {
        return aX("==", aZ, a0, a1)
      },
      neq: function(aZ, a0, a1) {
        return aX("!=", aZ, a0, a1)
      },
      gt: function(aZ, a0, a1) {
        return aX(">", aZ, a0, a1)
      },
      gte: function(aZ, a0, a1) {
        return aX(">=", aZ, a0, a1)
      },
      lt: function(aZ, a0, a1) {
        return aX("<", aZ, a0, a1)
      },
      lte: function(aZ, a0, a1) {
        return aX("<=", aZ, a0, a1)
      },
      startswith: function(aZ, a0, a1) {
        if (a1) {
          aZ = "(" + aZ + " || '').toLowerCase()";
          if (a0) {
            a0 = a0.toLowerCase()
          }
        }
        if (a0) {
          a0 = aY(a0)
        }
        return aZ + ".lastIndexOf('" + a0 + "', 0) == 0"
      },
      endswith: function(aZ, a0, a1) {
        if (a1) {
          aZ = "(" + aZ + " || '').toLowerCase()";
          if (a0) {
            a0 = a0.toLowerCase()
          }
        }
        if (a0) {
          a0 = aY(a0)
        }
        return aZ + ".indexOf('" + a0 + "', " + aZ + ".length - " + (a0 || "").length + ") >= 0"
      },
      contains: function(aZ, a0, a1) {
        if (a1) {
          aZ = "(" + aZ + " || '').toLowerCase()";
          if (a0) {
            a0 = a0.toLowerCase()
          }
        }
        if (a0) {
          a0 = aY(a0)
        }
        return aZ + ".indexOf('" + a0 + "') >= 0"
      },
      doesnotcontain: function(aZ, a0, a1) {
        if (a1) {
          aZ = "(" + aZ + " || '').toLowerCase()";
          if (a0) {
            a0 = a0.toLowerCase()
          }
        }
        if (a0) {
          a0 = aY(a0)
        }
        return aZ + ".indexOf('" + a0 + "') == -1"
      }
    }
  })();

  function ay(aX) {
    this.data = aX || []
  }
  ay.filterExpr = function(aY) {
    var aZ = [],
      a6 = {
        and: " && ",
        or: " || "
      }, a4, a5, a2, aX, a1 = [],
      a8 = [],
      a0, a7, a3 = aY.filters;
    for (a4 = 0, a5 = a3.length; a4 < a5; a4++) {
      a2 = a3[a4];
      a0 = a2.field;
      a7 = a2.operator;
      if (a2.filters) {
        aX = ay.filterExpr(a2);
        a2 = aX.expression.replace(/__o\[(\d+)\]/g, function(ba, a9) {
          a9 = +a9;
          return "__o[" + (a8.length + a9) + "]"
        }).replace(/__f\[(\d+)\]/g, function(ba, a9) {
          a9 = +a9;
          return "__f[" + (a1.length + a9) + "]"
        });
        a8.push.apply(a8, aX.operators);
        a1.push.apply(a1, aX.fields)
      } else {
        if (typeof a0 === E) {
          aX = "__f[" + a1.length + "](d)";
          a1.push(a0)
        } else {
          aX = Z.expr(a0)
        }
        if (typeof a7 === E) {
          a2 = "__o[" + a8.length + "](" + aX + ", " + a2.value + ")";
          a8.push(a7)
        } else {
          a2 = ar[(a7 || "eq").toLowerCase()](aX, a2.value, a2.ignoreCase !== aR ? a2.ignoreCase : true)
        }
      }
      aZ.push(a2)
    }
    return {
      expression: "(" + aZ.join(a6[aY.logic]) + ")",
      fields: a1,
      operators: a8
    }
  };

  function am(a0, aZ) {
    if (a0) {
      var aX = typeof a0 === aL ? {
        field: a0,
        dir: aZ
      } : a0,
        aY = T(aX) ? aX : (aX !== aR ? [aX] : []);
      return J(aY, function(a1) {
        return !!a1.dir
      })
    }
  }
  var aq = {
    "==": "eq",
    equals: "eq",
    isequalto: "eq",
    equalto: "eq",
    equal: "eq",
    "!=": "neq",
    ne: "neq",
    notequals: "neq",
    isnotequalto: "neq",
    notequalto: "neq",
    notequal: "neq",
    "<": "lt",
    islessthan: "lt",
    lessthan: "lt",
    less: "lt",
    "<=": "lte",
    le: "lte",
    islessthanorequalto: "lte",
    lessthanequal: "lte",
    ">": "gt",
    isgreaterthan: "gt",
    greaterthan: "gt",
    greater: "gt",
    ">=": "gte",
    isgreaterthanorequalto: "gte",
    greaterthanequal: "gte",
    ge: "gte",
    notsubstringof: "doesnotcontain"
  };

  function al(aX) {
    var a0, a1, aY, a2, aZ = aX.filters;
    if (aZ) {
      for (a0 = 0, a1 = aZ.length; a0 < a1; a0++) {
        aY = aZ[a0];
        a2 = aY.operator;
        if (a2 && typeof a2 === aL) {
          aY.operator = aq[a2.toLowerCase()] || a2
        }
        al(aY)
      }
    }
  }
  function aj(aX) {
    if (aX && !U(aX)) {
      if (T(aX) || !aX.filters) {
        aX = {
          logic: "and",
          filters: T(aX) ? aX : [aX]
        }
      }
      al(aX);
      return aX
    }
  }
  ay.normalizeFilter = aj;

  function ai(aX) {
    return T(aX) ? aX : [aX]
  }
  function ak(a0, aZ) {
    var aX = typeof a0 === aL ? {
      field: a0,
      dir: aZ
    } : a0,
      aY = T(aX) ? aX : (aX !== aR ? [aX] : []);
    return ab(aY, function(a1) {
      return {
        field: a1.field,
        dir: a1.dir || "asc",
        aggregates: a1.aggregates
      }
    })
  }
  ay.prototype = {
    toArray: function() {
      return this.data
    },
    range: function(aY, aX) {
      return new ay(this.data.slice(aY, aY + aX))
    },
    skip: function(aX) {
      return new ay(this.data.slice(aX))
    },
    take: function(aX) {
      return new ay(this.data.slice(0, aX))
    },
    select: function(aX) {
      return new ay(ab(this.data, aX))
    },
    order: function(aY, aX) {
      var aZ = {
        dir: aX
      };
      if (aY) {
        if (aY.compare) {
          aZ.compare = aY.compare
        } else {
          aZ.field = aY
        }
      }
      return new ay(this.data.slice(0).sort(j.create(aZ)))
    },
    orderBy: function(aX) {
      return this.order(aX, "asc")
    },
    orderByDescending: function(aX) {
      return this.order(aX, "desc")
    },
    sort: function(a1, a0, aX) {
      var a2, a3, aZ = am(a1, a0),
        aY = [];
      aX = aX || j;
      if (aZ.length) {
        for (a2 = 0, a3 = aZ.length; a2 < a3; a2++) {
          aY.push(aX.create(aZ[a2]))
        }
        return this.orderBy({
          compare: aX.combine(aY)
        })
      }
      return this
    },
    filter: function(a0) {
      var a3, aY, a4, aX, a6, aZ = this.data,
        a1, a5, a7 = [],
        a2;
      a0 = aj(a0);
      if (!a0 || a0.filters.length === 0) {
        return this
      }
      aX = ay.filterExpr(a0);
      a1 = aX.fields;
      a5 = aX.operators;
      a6 = a2 = new Function("d, __f, __o", "return " + aX.expression);
      if (a1.length || a5.length) {
        a2 = function(a8) {
          return a6(a8, a1, a5)
        }
      }
      for (a3 = 0, a4 = aZ.length; a3 < a4; a3++) {
        aY = aZ[a3];
        if (a2(aY)) {
          a7.push(aY)
        }
      }
      return new ay(a7)
    },
    group: function(aZ, aX) {
      aZ = ak(aZ || []);
      aX = aX || this.data;
      var a1 = this,
        a0 = new ay(a1.data),
        aY;
      if (aZ.length > 0) {
        aY = aZ[0];
        a0 = a0.groupBy(aY).select(function(a3) {
          var a2 = new ay(aX).filter([{
            field: a3.field,
            operator: "eq",
            value: a3.value,
            ignoreCase: false
          }]);
          return {
            field: a3.field,
            value: a3.value,
            items: aZ.length > 1 ? new ay(a3.items).group(aZ.slice(1), a2.toArray()).toArray() : a3.items,
            hasSubgroups: aZ.length > 1,
            aggregates: a2.aggregate(aY.aggregates)
          }
        })
      }
      return a0
    },
    groupBy: function(aZ) {
      if (U(aZ) || !this.data.length) {
        return new ay([])
      }
      var a0 = aZ.field,
        a7 = this._sortForGrouping(a0, aZ.dir || "asc"),
        aX = Z.accessor(a0),
        a4, a2 = aX.get(a7[0], a0),
        a1 = {
          field: a0,
          value: a2,
          items: []
        }, aY, a3, a5, a6 = [a1];
      for (a3 = 0, a5 = a7.length; a3 < a5; a3++) {
        a4 = a7[a3];
        aY = aX.get(a4, a0);
        if (!K(a2, aY)) {
          a2 = aY;
          a1 = {
            field: a0,
            value: a2,
            items: []
          };
          a6.push(a1)
        }
        a1.items.push(a4)
      }
      return new ay(a6)
    },
    _sortForGrouping: function(aZ, aY) {
      var a0, a1, aX = this.data;
      if (!aK) {
        for (a0 = 0, a1 = aX.length; a0 < a1; a0++) {
          aX[a0].__position = a0
        }
        aX = new ay(aX).sort(aZ, aY, aJ).toArray();
        for (a0 = 0, a1 = aX.length; a0 < a1; a0++) {
          delete aX[a0].__position
        }
        return aX
      }
      return this.sort(aZ, aY).toArray()
    },
    aggregate: function(aX) {
      var aY, aZ, a0 = {};
      if (aX && aX.length) {
        for (aY = 0, aZ = this.data.length; aY < aZ; aY++) {
          f(a0, aX, this.data[aY], aY, aZ)
        }
      }
      return a0
    }
  };

  function K(aX, aY) {
    if (aX && aX.getTime && aY && aY.getTime) {
      return aX.getTime() === aY.getTime()
    }
    return aX === aY
  }
  function f(aX, aZ, a4, a3, a6) {
    aZ = aZ || [];
    var a2, aY, a1, a5 = aZ.length;
    for (a2 = 0; a2 < a5; a2++) {
      aY = aZ[a2];
      a1 = aY.aggregate;
      var a0 = aY.field;
      aX[a0] = aX[a0] || {};
      aX[a0][a1] = F[a1.toLowerCase()](aX[a0][a1], a4, Z.accessor(a0), a3, a6)
    }
  }
  var F = {
    sum: function(aY, aZ, aX) {
      return (aY || 0) + aX.get(aZ)
    },
    count: function(aX) {
      return (aX || 0) + 1
    },
    average: function(aY, a0, aX, aZ, a1) {
      aY = (aY || 0) + aX.get(a0);
      if (aZ == a1 - 1) {
        aY = aY / a1
      }
      return aY
    },
    max: function(aY, aZ, aX) {
      var a0 = aX.get(aZ);
      aY = aY || 0;
      if (aY < a0) {
        aY = a0
      }
      return aY
    },
    min: function(aY, aZ, aX) {
      var a0 = aX.get(aZ);
      if (!W(aY)) {
        aY = a0
      }
      if (aY > a0 && W(a0)) {
        aY = a0
      }
      return aY
    }
  };

  function W(aX) {
    return typeof aX === "number" && !isNaN(aX)
  }
  function aO(aX) {
    var aY, aZ = aX.length,
      a0 = new Array(aZ);
    for (aY = 0; aY < aZ; aY++) {
      a0[aY] = aX[aY].toJSON()
    }
    return a0
  }
  ay.process = function(aX, a0) {
    a0 = a0 || {};
    var a1 = new ay(aX),
      aZ = a0.group,
      a3 = ak(aZ || []).concat(am(a0.sort || [])),
      a5, aY = a0.filter,
      a2 = a0.skip,
      a4 = a0.take;
    if (aY) {
      a1 = a1.filter(aY);
      a5 = a1.toArray().length
    }
    if (a3) {
      a1 = a1.sort(a3);
      if (aZ) {
        aX = a1.toArray()
      }
    }
    if (a2 !== aR && a4 !== aR) {
      a1 = a1.range(a2, a4)
    }
    if (aZ) {
      a1 = a1.group(aZ, aX)
    }
    return {
      total: a5,
      data: a1.toArray()
    }
  };

  function g(aY, a0) {
    a0 = a0 || {};
    var a1 = new ay(aY),
      aX = a0.aggregate,
      aZ = a0.filter;
    if (aZ) {
      a1 = a1.filter(aZ)
    }
    return a1.aggregate(aX)
  }
  var aa = i.extend({
    init: function(aX) {
      this.data = aX.data
    },
    read: function(aX) {
      aX.success(this.data)
    },
    update: function(aX) {
      aX.success(aX.data)
    },
    create: function(aX) {
      aX.success(aX.data)
    },
    destroy: function(aX) {
      aX.success(aX.data)
    }
  });
  var aB = i.extend({
    init: function(aX) {
      var aZ = this,
        aY;
      aX = aZ.options = B({}, aZ.options, aX);
      w(p, function(a0, a1) {
        if (typeof aX[a1] === aL) {
          aX[a1] = {
            url: aX[a1]
          }
        }
      });
      aZ.cache = aX.cache ? e.create(aX.cache) : {
        find: ah,
        add: ah
      };
      aY = aX.parameterMap;
      aZ.parameterMap = V(aY) ? aY : function(a0) {
        var a1 = {};
        w(a0, function(a2, a3) {
          if (a2 in aY) {
            a2 = aY[a2];
            if (X(a2)) {
              a3 = a2.value(a3);
              a2 = a2.key
            }
          }
          a1[a2] = a3
        });
        return a1
      }
    },
    options: {
      parameterMap: M
    },
    create: function(aX) {
      return b(this.setup(aX, o))
    },
    read: function(aZ) {
      var a2 = this,
        a1, aY, a0, aX = a2.cache;
      aZ = a2.setup(aZ, aA);
      a1 = aZ.success || ah;
      aY = aZ.error || ah;
      a0 = aX.find(aZ.data);
      if (a0 !== aR) {
        a1(a0)
      } else {
        aZ.success = function(a3) {
          aX.add(aZ.data, a3);
          a1(a3)
        };
        a.ajax(aZ)
      }
    },
    update: function(aX) {
      return b(this.setup(aX, aT))
    },
    destroy: function(aX) {
      return b(this.setup(aX, v))
    },
    setup: function(aZ, a2) {
      aZ = aZ || {};
      var a1 = this,
        a0, aY = a1.options[a2],
        aX = V(aY.data) ? aY.data(aZ.data) : aY.data;
      aZ = B(true, {}, aY, aZ);
      a0 = B(true, {}, aX, aZ.data);
      aZ.data = a1.parameterMap(a0, a2);
      if (V(aZ.url)) {
        aZ.url = aZ.url(a0)
      }
      return aZ
    }
  });
  var e = i.extend({
    init: function() {
      this._store = {}
    },
    add: function(aY, aX) {
      if (aY !== aR) {
        this._store[aM(aY)] = aX
      }
    },
    find: function(aX) {
      return this._store[aM(aX)]
    },
    clear: function() {
      this._store = {}
    },
    remove: function(aX) {
      delete this._store[aM(aX)]
    }
  });
  e.create = function(aX) {
    var aY = {
      inmemory: function() {
        return new e()
      }
    };
    if (X(aX) && V(aX.find)) {
      return aX
    }
    if (aX === true) {
      return new e()
    }
    return aY[aX]()
  };

  function aF(aX, a0, a3, a4, aY) {
    var a6, aZ, a5, a1, a2;
    for (a1 = 0, a2 = aX.length; a1 < a2; a1++) {
      a6 = aX[a1];
      for (aZ in a0) {
        a5 = aY[aZ];
        if (a5 && a5 !== aZ) {
          a6[a5] = a0[aZ](a6);
          delete a6[aZ]
        }
      }
    }
  }
  function n(aX, a0, a3, a4, aY) {
    var a6, aZ, a5, a1, a2;
    for (a1 = 0, a2 = aX.length; a1 < a2; a1++) {
      a6 = aX[a1];
      for (aZ in a0) {
        a6[aZ] = a3._parse(aZ, a0[aZ](a6));
        a5 = aY[aZ];
        if (a5 && a5 !== aZ) {
          delete a6[a5]
        }
      }
    }
  }
  function m(aX, a0, a3, a4, aZ) {
    var a5, a1, aY, a2;
    for (a1 = 0, a2 = aX.length; a1 < a2; a1++) {
      a5 = aX[a1];
      aY = a4[a5.field];
      if (aY && aY != a5.field) {
        a5.field = aY
      }
      a5.value = a3._parse(a5.field, a5.value);
      if (a5.hasSubgroups) {
        m(a5.items, a0, a3, a4, aZ)
      } else {
        n(a5.items, a0, a3, a4, aZ)
      }
    }
  }
  function aU(a2, a0, aX, aZ, a1, aY) {
    return function(a3) {
      a3 = a2(a3);
      if (a3 && !U(aZ)) {
        if (aP.call(a3) !== "[object Array]" && !(a3 instanceof ao)) {
          a3 = [a3]
        }
        aX(a3, aZ, new a0(), a1, aY)
      }
      return a3 || []
    }
  }
  var r = i.extend({
    init: function(a7) {
      var bb = this,
        a4, a1, a5, aX;
      a7 = a7 || {};
      for (a4 in a7) {
        a1 = a7[a4];
        bb[a4] = typeof a1 === aL ? I(a1) : a1
      }
      aX = a7.modelBase || ae;
      if (X(bb.model)) {
        bb.model = a5 = aX.define(bb.model)
      }
      if (bb.model) {
        var aY = aw(bb.data, bb),
          a3 = aw(bb.groups, bb),
          a8 = aw(bb.serialize, bb),
          a6 = {}, a2 = {}, a9 = {}, a0 = {}, ba = false,
          aZ;
        a5 = bb.model;
        if (a5.fields) {
          w(a5.fields, function(bc, be) {
            var bd;
            aZ = bc;
            if (X(be) && be.field) {
              aZ = be.field
            } else {
              if (typeof be === aL) {
                aZ = be
              }
            }
            if (X(be) && be.from) {
              bd = be.from
            }
            ba = ba || (bd && bd !== bc) || aZ !== bc;
            a2[bc] = I(bd || aZ);
            a9[bc] = I(bc);
            a6[bd || aZ] = bc;
            a0[bc] = bd || aZ
          });
          if (!a7.serialize && ba) {
            bb.serialize = aU(a8, a5, aF, a9, a6, a0)
          }
        }
        bb.data = aU(aY, a5, n, a2, a6, a0);
        bb.groups = aU(a3, a5, m, a2, a6, a0)
      }
    },
    errors: function(aX) {
      return aX ? aX.errors : null
    },
    parse: M,
    data: M,
    total: function(aX) {
      return aX.length
    },
    groups: M,
    aggregates: function() {
      return {}
    },
    serialize: function(aX) {
      return aX
    }
  });

  function ad(a3, aY, a2, aX) {
    var aZ, a0 = 0,
      a1;
    while (aY.length && aX) {
      aZ = aY[a0];
      a1 = aZ.items;
      if (a3 && a3.field === aZ.field && a3.value === aZ.value) {
        if (a3.hasSubgroups && a3.items.length) {
          ad(a3.items[a3.items.length - 1], aZ.items, a2, aX)
        } else {
          a1 = a1.slice(a2, aX);
          aX -= a1.length;
          a3.items = a3.items.concat(a1)
        }
        aY.splice(a0--, 1)
      } else {
        a1 = a1.slice(a2, aX);
        aX -= a1.length;
        aZ.items = a1;
        if (!aZ.items.length) {
          aY.splice(a0--, 1);
          aX -= a2
        }
      }
      a2 = 0;
      if (++a0 >= aY.length) {
        break
      }
    }
    if (a0 < aY.length) {
      aY.splice(a0, aY.length - a0)
    }
  }
  function D(aX) {
    var aY, aZ, a0 = [];
    for (aY = 0, aZ = aX.length; aY < aZ; aY++) {
      if (aX[aY].hasSubgroups) {
        a0 = a0.concat(D(aX[aY].items))
      } else {
        a0 = a0.concat(aX[aY].items.slice())
      }
    }
    return a0
  }
  function aV(aX, a2) {
    var aZ, a1, aY, a0;
    if (a2) {
      for (aZ = 0, a1 = aX.length; aZ < a1; aZ++) {
        aY = aX[aZ];
        a0 = aY.items;
        if (aY.hasSubgroups) {
          aV(a0, a2)
        } else {
          if (a0.length && !(a0[0] instanceof a2)) {
            a0.type = a2;
            a0.wrapAll(a0, a0)
          }
        }
      }
    }
  }
  function x(aX, aY) {
    var aZ, a0;
    for (aZ = 0, a0 = aX.length; aZ < a0; aZ++) {
      if (aX[aZ].hasSubgroups) {
        if (x(aX[aZ].items, aY)) {
          return true
        }
      } else {
        if (aY(aX[aZ].items, aX[aZ])) {
          return true
        }
      }
    }
  }
  function aC(aX, a0) {
    var aY, aZ;
    for (aY = 0, aZ = aX.length; aY < aZ; aY++) {
      if (aX[aY].uid == a0.uid) {
        a0 = aX[aY];
        aX.splice(aY, 1);
        return a0
      }
    }
  }
  function aW(aY, a1) {
    var a2, aX, aZ, a0;
    for (aZ = aY.length - 1, a0 = 0; aZ >= a0; aZ--) {
      aX = aY[aZ];
      a2 = {
        value: a1.get(aX.field),
        field: aX.field,
        items: a2 ? [a2] : [a1],
        hasSubgroups: !! a2,
        aggregates: {}
      }
    }
    return a2
  }
  function P(aX, aY) {
    if (aY) {
      return N(aX, function(aZ) {
        return aZ[aY.idField] === aY.id
      })
    }
    return -1
  }
  function O(aX, aY) {
    if (aY) {
      return N(aX, function(aZ) {
        return aZ.uid == aY.uid
      })
    }
    return -1
  }
  function N(aY, aX) {
    var aZ, a0;
    for (aZ = 0, a0 = aY.length; aZ < a0; aZ++) {
      if (aX(aY[aZ])) {
        return aZ
      }
    }
    return -1
  }
  function C(aZ, a0) {
    if (aZ && !U(aZ)) {
      var aX = aZ[a0];
      var aY;
      if (X(aX)) {
        aY = aX.from || aX.field || a0
      } else {
        aY = aZ[a0] || a0
      }
      if (V(aY)) {
        return a0
      }
      return aY
    }
    return a0
  }
  function l(aX, a1) {
    var aZ, a0, a2 = {};
    for (var aY in aX) {
      if (aY !== "filters") {
        a2[aY] = aX[aY]
      }
    }
    if (aX.filters) {
      a2.filters = [];
      for (aZ = 0, a0 = aX.filters.length; aZ < a0; aZ++) {
        a2.filters[aZ] = l(aX.filters[aZ], a1)
      }
    } else {
      a2.field = C(a1.fields, a2.field)
    }
    return a2
  }
  function k(aY, a2) {
    var a0, a1, a3 = [],
      a4, aX;
    for (a0 = 0, a1 = aY.length; a0 < a1; a0++) {
      a4 = {};
      aX = aY[a0];
      for (var aZ in aX) {
        a4[aZ] = aX[aZ]
      }
      a4.field = C(a2.fields, a4.field);
      if (a4.aggregates && T(a4.aggregates)) {
        a4.aggregates = k(a4.aggregates, a2)
      }
      a3.push(a4)
    }
    return a3
  }
  var s = an.extend({
    init: function(aZ) {
      var a0 = this,
        aY, aX;
      if (aZ) {
        aX = aZ.data
      }
      aZ = a0.options = B({}, a0.options, aZ);
      a0._map = {};
      a0._prefetch = {};
      a0._data = [];
      a0._pristineData = [];
      a0._ranges = [];
      a0._view = [];
      a0._pristine = [];
      a0._destroyed = [];
      a0._pageSize = aZ.pageSize;
      a0._page = aZ.page || (aZ.pageSize ? 1 : aR);
      a0._sort = am(aZ.sort);
      a0._filter = aj(aZ.filter);
      a0._group = ak(aZ.group);
      a0._aggregate = aZ.aggregate;
      a0._total = aZ.total;
      an.fn.init.call(a0);
      a0.transport = aQ.create(aZ, aX);
      a0.reader = new Z.data.readers[aZ.schema.type || "json"](aZ.schema);
      aY = a0.reader.model || {};
      a0._data = a0._observe(a0._data);
      a0.bind([z, h, aE, aN, aD, av], aZ)
    },
    options: {
      data: [],
      schema: {
        modelBase: ae
      },
      serverSorting: false,
      serverPaging: false,
      serverFiltering: false,
      serverGrouping: false,
      serverAggregates: false,
      batch: false
    },
    _isServerGrouped: function() {
      var aX = this.group() || [];
      return this.options.serverGrouping && aX.length
    },
    _flatData: function(aX) {
      if (this._isServerGrouped()) {
        return D(aX)
      }
      return aX
    },
    parent: ah,
    get: function(aY) {
      var aZ, a0, aX = this._flatData(this._data);
      for (aZ = 0, a0 = aX.length; aZ < a0; aZ++) {
        if (aX[aZ].id == aY) {
          return aX[aZ]
        }
      }
    },
    getByUid: function(aY) {
      var aZ, a0, aX = this._flatData(this._data);
      if (!aX) {
        return
      }
      for (aZ = 0, a0 = aX.length; aZ < a0; aZ++) {
        if (aX[aZ].uid == aY) {
          return aX[aZ]
        }
      }
    },
    indexOf: function(aX) {
      return O(this._data, aX)
    },
    at: function(aX) {
      return this._data[aX]
    },
    data: function(aY) {
      var aX = this;
      if (aY !== aR) {
        aX._data = this._observe(aY);
        aX._ranges = [];
        aX._addRange(aX._data);
        aX._total = aX._data.length;
        aX._process(aX._data)
      } else {
        return aX._data
      }
    },
    view: function() {
      return this._view
    },
    add: function(aX) {
      return this.insert(this._data.length, aX)
    },
    _createNewModel: function(aX) {
      if (this.reader.model) {
        return new this.reader.model(aX)
      }
      return new ap(aX)
    },
    insert: function(aX, aY) {
      if (!aY) {
        aY = aX;
        aX = 0
      }
      if (!(aY instanceof ae)) {
        aY = this._createNewModel(aY)
      }
      if (this._isServerGrouped()) {
        this._data.splice(aX, 0, aW(this.group(), aY))
      } else {
        this._data.splice(aX, 0, aY)
      }
      return aY
    },
    remove: function(aY) {
      var aZ, a0 = this,
        aX = a0._isServerGrouped();
      this._eachItem(a0._data, function(a1) {
        aZ = aC(a1, aY);
        if (aZ && aX) {
          if (!aZ.isNew || !aZ.isNew()) {
            a0._destroyed.push(aZ)
          }
          return true
        }
      });
      return aY
    },
    sync: function() {
      var a3 = this,
        a0, a1, aX = [],
        a4 = [],
        aZ = a3._destroyed,
        aY = a3._flatData(a3._data);
      if (!a3.reader.model) {
        return
      }
      for (a0 = 0, a1 = aY.length; a0 < a1; a0++) {
        if (aY[a0].isNew()) {
          aX.push(aY[a0])
        } else {
          if (aY[a0].dirty) {
            a4.push(aY[a0])
          }
        }
      }
      var a2 = a3._send("create", aX);
      a2.push.apply(a2, a3._send("update", a4));
      a2.push.apply(a2, a3._send("destroy", aZ));
      a.when.apply(null, a2).then(function() {
        var a5, a6;
        for (a5 = 0, a6 = arguments.length; a5 < a6; a5++) {
          a3._accept(arguments[a5])
        }
        a3._change({
          action: "sync"
        });
        a3.trigger(aN)
      })
    },
    cancelChanges: function(aX) {
      var aY = this;
      if (aX instanceof Z.data.Model) {
        aY._cancelModel(aX)
      } else {
        aY._destroyed = [];
        aY._data = aY._observe(aY._pristineData);
        if (aY.options.serverPaging) {
          aY._total = aY.reader.total(aY._pristine)
        }
        aY._change()
      }
    },
    hasChanges: function() {
      var aY, aZ, aX = this._data;
      if (this._destroyed.length) {
        return true
      }
      for (aY = 0, aZ = aX.length; aY < aZ; aY++) {
        if (aX[aY].isNew() || aX[aY].dirty) {
          return true
        }
      }
      return false
    },
    _accept: function(a2) {
      var a4 = this,
        aZ = a2.models,
        a1 = a2.response,
        aX = 0,
        a3 = a4._isServerGrouped(),
        a0 = a4._pristineData,
        a5 = a2.type,
        aY;
      a4.trigger(aD, {
        response: a1,
        type: a5
      });
      if (a1 && !U(a1)) {
        a1 = a4.reader.parse(a1);
        if (a4._handleCustomErrors(a1)) {
          return
        }
        a1 = a4.reader.data(a1);
        if (!a.isArray(a1)) {
          a1 = [a1]
        }
      } else {
        a1 = a.map(aZ, function(a6) {
          return a6.toJSON()
        })
      }
      if (a5 === "destroy") {
        a4._destroyed = []
      }
      for (aX = 0, aY = aZ.length; aX < aY; aX++) {
        if (a5 !== "destroy") {
          aZ[aX].accept(a1[aX]);
          if (a5 === "create") {
            a0.push(a3 ? aW(a4.group(), aZ[aX]) : a1[aX])
          } else {
            if (a5 === "update") {
              a4._updatePristineForModel(aZ[aX], a1[aX])
            }
          }
        } else {
          a4._removePristineForModel(aZ[aX])
        }
      }
    },
    _updatePristineForModel: function(aX, aY) {
      this._executeOnPristineForModel(aX, function(aZ, a0) {
        Z.deepExtend(a0[aZ], aY)
      })
    },
    _executeOnPristineForModel: function(aY, aX) {
      this._eachPristineItem(function(a0) {
        var aZ = P(a0, aY);
        if (aZ > -1) {
          aX(aZ, a0);
          return true
        }
      })
    },
    _removePristineForModel: function(aX) {
      this._executeOnPristineForModel(aX, function(aY, aZ) {
        aZ.splice(aY, 1)
      })
    },
    _readData: function(aX) {
      var aY = !this._isServerGrouped() ? this.reader.data : this.reader.groups;
      return aY(aX)
    },
    _eachPristineItem: function(aX) {
      this._eachItem(this._pristineData, aX)
    },
    _eachItem: function(aY, aX) {
      if (aY && aY.length) {
        if (this._isServerGrouped()) {
          x(aY, aX)
        } else {
          aX(aY)
        }
      }
    },
    _pristineForModel: function(aZ) {
      var a0, aY, aX = function(a1) {
        aY = P(a1, aZ);
        if (aY > -1) {
          a0 = a1[aY];
          return true
        }
      };
      this._eachPristineItem(aX);
      return a0
    },
    _cancelModel: function(aY) {
      var aZ = this._pristineForModel(aY),
        aX;
      this._eachItem(this._data, function(a0) {
        aX = O(a0, aY);
        if (aX != -1) {
          if (!aY.isNew() && aZ) {
            a0[aX].accept(aZ)
          } else {
            a0.splice(aX, 1)
          }
        }
      })
    },
    _promise: function(aX, aY, a1) {
      var aZ = this,
        a0 = aZ.transport;
      return a.Deferred(function(a2) {
        aZ.trigger(aE, {
          type: a1
        });
        a0[a1].call(a0, B({
          success: function(a3) {
            a2.resolve({
              response: a3,
              models: aY,
              type: a1
            })
          },
          error: function(a4, a5, a3) {
            a2.reject(a4);
            aZ.error(a4, a5, a3)
          }
        }, aX))
      }).promise()
    },
    _send: function(a1, aY) {
      var a3 = this,
        aZ, a0, a2 = [],
        aX = a3.reader.serialize(aO(aY));
      if (a3.options.batch) {
        if (aY.length) {
          a2.push(a3._promise({
            data: {
              models: aX
            }
          }, aY, a1))
        }
      } else {
        for (aZ = 0, a0 = aY.length; aZ < a0; aZ++) {
          a2.push(a3._promise({
            data: aX[aZ]
          }, [aY[aZ]], a1))
        }
      }
      return a2
    },
    read: function(aX) {
      var aZ = this,
        aY = aZ._params(aX);
      aZ._queueRequest(aY, function() {
        if (!aZ.trigger(aE, {
          type: "read"
        })) {
          aZ.trigger(av);
          aZ._ranges = [];
          aZ.transport.read({
            data: aY,
            success: aw(aZ.success, aZ),
            error: aw(aZ.error, aZ)
          })
        } else {
          aZ._dequeueRequest()
        }
      })
    },
    success: function(aX) {
      var aZ = this,
        aY = aZ.options;
      aZ.trigger(aD, {
        response: aX,
        type: "read"
      });
      aX = aZ.reader.parse(aX);
      if (aZ._handleCustomErrors(aX)) {
        aZ._dequeueRequest();
        return
      }
      aZ._pristine = X(aX) ? a.extend(true, {}, aX) : aX.slice ? aX.slice(0) : aX;
      aZ._total = aZ.reader.total(aX);
      if (aZ._aggregate && aY.serverAggregates) {
        aZ._aggregateResult = aZ.reader.aggregates(aX)
      }
      aX = aZ._readData(aX);
      aZ._pristineData = aX.slice(0);
      aZ._data = aZ._observe(aX);
      aZ._addRange(aZ._data);
      aZ._process(aZ._data);
      aZ._dequeueRequest()
    },
    _addRange: function(aX) {
      var a0 = this,
        aZ = a0._skip || 0,
        aY = aZ + a0._flatData(aX).length;
      a0._ranges.push({
        start: aZ,
        end: aY,
        data: aX
      });
      a0._ranges.sort(function(a1, a2) {
        return a1.start - a2.start
      })
    },
    error: function(aZ, aY, aX) {
      this._dequeueRequest();
      this.trigger(aD, {});
      this.trigger(z, {
        xhr: aZ,
        status: aY,
        errorThrown: aX
      })
    },
    _params: function(aX) {
      var aZ = this,
        aY = B({
          take: aZ.take(),
          skip: aZ.skip(),
          page: aZ.page(),
          pageSize: aZ.pageSize(),
          sort: aZ._sort,
          filter: aZ._filter,
          group: aZ._group,
          aggregate: aZ._aggregate
        }, aX);
      if (!aZ.options.serverPaging) {
        delete aY.take;
        delete aY.skip;
        delete aY.page;
        delete aY.pageSize
      }
      if (!aZ.options.serverGrouping) {
        delete aY.group
      } else {
        if (aZ.reader.model && aY.group) {
          aY.group = k(aY.group, aZ.reader.model)
        }
      }
      if (!aZ.options.serverFiltering) {
        delete aY.filter
      } else {
        if (aZ.reader.model && aY.filter) {
          aY.filter = l(aY.filter, aZ.reader.model)
        }
      }
      if (!aZ.options.serverSorting) {
        delete aY.sort
      } else {
        if (aZ.reader.model && aY.sort) {
          aY.sort = k(aY.sort, aZ.reader.model)
        }
      }
      if (!aZ.options.serverAggregates) {
        delete aY.aggregate
      } else {
        if (aZ.reader.model && aY.aggregate) {
          aY.aggregate = k(aY.aggregate, aZ.reader.model)
        }
      }
      return aY
    },
    _queueRequest: function(aY, aX) {
      var aZ = this;
      if (!aZ._requestInProgress) {
        aZ._requestInProgress = true;
        aZ._pending = aR;
        aX()
      } else {
        aZ._pending = {
          callback: aw(aX, aZ),
          options: aY
        }
      }
    },
    _dequeueRequest: function() {
      var aX = this;
      aX._requestInProgress = false;
      if (aX._pending) {
        aX._queueRequest(aX._pending.options, aX._pending.callback)
      }
    },
    _handleCustomErrors: function(aY) {
      if (this.reader.errors) {
        var aX = this.reader.errors(aY);
        if (aX) {
          this.trigger(z, {
            xhr: null,
            status: "customerror",
            errorThrown: "custom error",
            errors: aX
          });
          return true
        }
      }
      return false
    },
    _observe: function(aX) {
      var aZ = this,
        aY = aZ.reader.model,
        a0 = false;
      if (aY && aX.length) {
        a0 = !(aX[0] instanceof aY)
      }
      if (aX instanceof ao) {
        if (a0) {
          aX.type = aZ.reader.model;
          aX.wrapAll(aX, aX)
        }
      } else {
        aX = new ao(aX, aZ.reader.model);
        aX.parent = function() {
          return aZ.parent()
        }
      }
      if (aZ._isServerGrouped()) {
        aV(aX, aY)
      }
      if (aZ._changeHandler && aZ._data && aZ._data instanceof ao) {
        aZ._data.unbind(h, aZ._changeHandler)
      } else {
        aZ._changeHandler = aw(aZ._change, aZ)
      }
      return aX.bind(h, aZ._changeHandler)
    },
    _change: function(aY) {
      var a1 = this,
        aZ, a0, aX = aY ? aY.action : "";
      if (aX === "remove") {
        for (aZ = 0, a0 = aY.items.length; aZ < a0; aZ++) {
          if (!aY.items[aZ].isNew || !aY.items[aZ].isNew()) {
            a1._destroyed.push(aY.items[aZ])
          }
        }
      }
      if (a1.options.autoSync && (aX === "add" || aX === "remove" || aX === "itemchange")) {
        a1.sync()
      } else {
        var a2 = parseInt(a1._total || a1.reader.total(a1._pristine), 10);
        if (aX === "add") {
          a2 += aY.items.length
        } else {
          if (aX === "remove") {
            a2 -= aY.items.length
          } else {
            if (aX !== "itemchange" && aX !== "sync" && !a1.options.serverPaging) {
              a2 = a1.reader.total(a1._pristine)
            }
          }
        }
        a1._total = a2;
        a1._process(a1._data, aY)
      }
    },
    _process: function(aX, aY) {
      var a1 = this,
        aZ = {}, a0;
      if (a1.options.serverPaging !== true) {
        aZ.skip = a1._skip;
        aZ.take = a1._take || a1._pageSize;
        if (aZ.skip === aR && a1._page !== aR && a1._pageSize !== aR) {
          aZ.skip = (a1._page - 1) * a1._pageSize
        }
      }
      if (a1.options.serverSorting !== true) {
        aZ.sort = a1._sort
      }
      if (a1.options.serverFiltering !== true) {
        aZ.filter = a1._filter
      }
      if (a1.options.serverGrouping !== true) {
        aZ.group = a1._group
      }
      if (a1.options.serverAggregates !== true) {
        aZ.aggregate = a1._aggregate;
        a1._aggregateResult = g(aX, aZ)
      }
      a0 = ay.process(aX, aZ);
      a1._view = a0.data;
      if (a0.total !== aR && !a1.options.serverFiltering) {
        a1._total = a0.total
      }
      aY = aY || {};
      aY.items = aY.items || a1._view;
      a1.trigger(h, aY)
    },
    _mergeState: function(aX) {
      var aY = this;
      if (aX !== aR) {
        aY._pageSize = aX.pageSize;
        aY._page = aX.page;
        aY._sort = aX.sort;
        aY._filter = aX.filter;
        aY._group = aX.group;
        aY._aggregate = aX.aggregate;
        aY._skip = aX.skip;
        aY._take = aX.take;
        if (aY._skip === aR) {
          aY._skip = aY.skip();
          aX.skip = aY.skip()
        }
        if (aY._take === aR && aY._pageSize !== aR) {
          aY._take = aY._pageSize;
          aX.take = aY._take
        }
        if (aX.sort) {
          aY._sort = aX.sort = am(aX.sort)
        }
        if (aX.filter) {
          aY._filter = aX.filter = aj(aX.filter)
        }
        if (aX.group) {
          aY._group = aX.group = ak(aX.group)
        }
        if (aX.aggregate) {
          aY._aggregate = aX.aggregate = ai(aX.aggregate)
        }
      }
      return aX
    },
    query: function(aX) {
      var a0 = this,
        aZ, aY = a0.options.serverSorting || a0.options.serverPaging || a0.options.serverFiltering || a0.options.serverGrouping || a0.options.serverAggregates;
      if (aY || ((a0._data === aR || a0._data.length === 0) && !a0._destroyed.length)) {
        a0.read(a0._mergeState(aX))
      } else {
        if (!a0.trigger(aE, {
          type: "read"
        })) {
          a0.trigger(av);
          aZ = ay.process(a0._data, a0._mergeState(aX));
          if (!a0.options.serverFiltering) {
            if (aZ.total !== aR) {
              a0._total = aZ.total
            } else {
              a0._total = a0._data.length
            }
          }
          a0._view = aZ.data;
          a0._aggregateResult = g(a0._data, aX);
          a0.trigger(aD, {});
          a0.trigger(h, {
            items: aZ.data
          })
        }
      }
    },
    fetch: function(aX) {
      var aY = this;
      return a.Deferred(function(aZ) {
        var a1 = function(a2) {
          aY.unbind(z, a0);
          aZ.resolve();
          if (aX) {
            aX.call(aY, a2)
          }
        };
        var a0 = function(a2) {
          aZ.reject(a2)
        };
        aY.one(h, a1);
        aY.one(z, a0);
        aY._query()
      }).promise()
    },
    _query: function(aX) {
      var aY = this;
      aY.query(B({}, {
        page: aY.page(),
        pageSize: aY.pageSize(),
        sort: aY.sort(),
        filter: aY.filter(),
        group: aY.group(),
        aggregate: aY.aggregate()
      }, aX))
    },
    next: function(aX) {
      var aZ = this,
        aY = aZ.page(),
        a0 = aZ.total();
      aX = aX || {};
      if (!aY || (a0 && aY + 1 > aZ.totalPages())) {
        return
      }
      aZ._skip = aY * aZ.take();
      aY += 1;
      aX.page = aY;
      aZ._query(aX);
      return aY
    },
    prev: function(aX) {
      var aZ = this,
        aY = aZ.page();
      aX = aX || {};
      if (!aY || aY === 1) {
        return
      }
      aZ._skip = aZ._skip - aZ.take();
      aY -= 1;
      aX.page = aY;
      aZ._query(aX);
      return aY
    },
    page: function(aZ) {
      var aY = this,
        aX;
      if (aZ !== aR) {
        aZ = ac.max(ac.min(ac.max(aZ, 1), aY.totalPages()), 1);
        aY._query({
          page: aZ
        });
        return
      }
      aX = aY.skip();
      return aX !== aR ? ac.round((aX || 0) / (aY.take() || 1)) + 1 : aR
    },
    pageSize: function(aY) {
      var aX = this;
      if (aY !== aR) {
        aX._query({
          pageSize: aY,
          page: 1
        });
        return
      }
      return aX.take()
    },
    sort: function(aY) {
      var aX = this;
      if (aY !== aR) {
        aX._query({
          sort: aY
        });
        return
      }
      return aX._sort
    },
    filter: function(aY) {
      var aX = this;
      if (aY === aR) {
        return aX._filter
      }
      aX._query({
        filter: aY,
        page: 1
      })
    },
    group: function(aY) {
      var aX = this;
      if (aY !== aR) {
        aX._query({
          group: aY
        });
        return
      }
      return aX._group
    },
    total: function() {
      return parseInt(this._total || 0, 10)
    },
    aggregate: function(aY) {
      var aX = this;
      if (aY !== aR) {
        aX._query({
          aggregate: aY
        });
        return
      }
      return aX._aggregate
    },
    aggregates: function() {
      return this._aggregateResult
    },
    totalPages: function() {
      var aY = this,
        aX = aY.pageSize() || aY.total();
      return ac.ceil((aY.total() || 0) / aX)
    },
    inRange: function(aY, aZ) {
      var a0 = this,
        aX = ac.min(aY + aZ, a0.total());
      if (!a0.options.serverPaging && a0.data.length > 0) {
        return true
      }
      return a0._findRange(aY, aX).length > 0
    },
    lastRange: function() {
      var aX = this._ranges;
      return aX[aX.length - 1] || {
        start: 0,
        end: 0,
        data: []
      }
    },
    firstItemUid: function() {
      var aX = this._ranges;
      return aX.length && aX[0].data.length && aX[0].data[0].uid
    },
    range: function(a2, a4) {
      a2 = ac.min(a2 || 0, this.total());
      var a5 = this,
        aZ = ac.max(ac.floor(a2 / a4), 0) * a4,
        a1 = ac.min(aZ + a4, a5.total()),
        aX;
      aX = a5._findRange(a2, ac.min(a2 + a4, a5.total()));
      if (aX.length) {
        a5._skip = a2 > a5.skip() ? ac.min(a1, (a5.totalPages() - 1) * a5.take()) : aZ;
        a5._take = a4;
        var a0 = a5.options.serverPaging;
        var a3 = a5.options.serverSorting;
        var aY = a5.options.serverFiltering;
        try {
          a5.options.serverPaging = true;
          if (!a5._isServerGrouped() && !(a5.group() && a5.group().length)) {
            a5.options.serverSorting = true
          }
          a5.options.serverFiltering = true;
          if (a0) {
            a5._data = aX = a5._observe(aX)
          }
          a5._process(aX)
        } finally {
          a5.options.serverPaging = a0;
          a5.options.serverSorting = a3;
          a5.options.serverFiltering = aY
        }
        return
      }
      if (a4 !== aR) {
        if (!a5._rangeExists(aZ, a1)) {
          a5.prefetch(aZ, a4, function() {
            if (a2 > aZ && a1 < a5.total() && !a5._rangeExists(a1, ac.min(a1 + a4, a5.total()))) {
              a5.prefetch(a1, a4, function() {
                a5.range(a2, a4)
              })
            } else {
              a5.range(a2, a4)
            }
          })
        } else {
          if (aZ < a2) {
            a5.prefetch(a1, a4, function() {
              a5.range(a2, a4)
            })
          }
        }
      }
    },
    _findRange: function(bc, aZ) {
      var bf = this,
        a8 = bf._ranges,
        a5, aY = [],
        ba, be, bd, a0, a6, a7, a4, a3 = bf.options,
        a9 = a3.serverSorting || a3.serverPaging || a3.serverFiltering || a3.serverGrouping || a3.serverAggregates,
        a1, aX, a2;
      for (ba = 0, a2 = a8.length; ba < a2; ba++) {
        a5 = a8[ba];
        if (bc >= a5.start && bc <= a5.end) {
          aX = 0;
          for (be = ba; be < a2; be++) {
            a5 = a8[be];
            a1 = bf._flatData(a5.data);
            if (a1.length && bc + aX >= a5.start) {
              a6 = a5.data;
              a7 = a5.end;
              if (!a9) {
                var bb = ak(bf.group() || []).concat(am(bf.sort() || []));
                a4 = ay.process(a5.data, {
                  sort: bb,
                  filter: bf.filter()
                });
                a1 = a6 = a4.data;
                if (a4.total !== aR) {
                  a7 = a4.total
                }
              }
              bd = 0;
              if (bc + aX > a5.start) {
                bd = (bc + aX) - a5.start
              }
              a0 = a1.length;
              if (a7 > aZ) {
                a0 = a0 - (a7 - aZ)
              }
              aX += a0 - bd;
              aY = bf._mergeGroups(aY, a6, bd, a0);
              if (aZ <= a5.end && aX == aZ - bc) {
                return aY
              }
            }
          }
          break
        }
      }
      return []
    },
    _mergeGroups: function(aX, a0, a1, aY) {
      if (this._isServerGrouped()) {
        var a2 = a0.toJSON(),
          aZ;
        if (aX.length) {
          aZ = aX[aX.length - 1]
        }
        ad(aZ, a2, a1, aY);
        return aX.concat(a2)
      }
      return aX.concat(a0.slice(a1, aY))
    },
    skip: function() {
      var aX = this;
      if (aX._skip === aR) {
        return (aX._page !== aR ? (aX._page - 1) * (aX.take() || 1) : aR)
      }
      return aX._skip
    },
    take: function() {
      return this._take || this._pageSize
    },
    _prefetchSuccessHandler: function(aZ, aY, aX) {
      var a0 = this;
      return function(a1) {
        var a2 = false,
          a5 = {
            start: aZ,
            end: aY,
            data: []
          }, a3, a4, a6;
        a0._dequeueRequest();
        a0.trigger(aD, {
          response: a1,
          type: "read"
        });
        a1 = a0.reader.parse(a1);
        a6 = a0._readData(a1);
        if (a6.length) {
          for (a3 = 0, a4 = a0._ranges.length; a3 < a4; a3++) {
            if (a0._ranges[a3].start === aZ) {
              a2 = true;
              a5 = a0._ranges[a3];
              break
            }
          }
          if (!a2) {
            a0._ranges.push(a5)
          }
        }
        a5.data = a0._observe(a6);
        a5.end = a5.start + a0._flatData(a5.data).length;
        a0._ranges.sort(function(a7, a8) {
          return a7.start - a8.start
        });
        a0._total = a0.reader.total(a1);
        if (aX && a6.length) {
          aX()
        } else {
          a0.trigger(h, {})
        }
      }
    },
    prefetch: function(a0, a1, aX) {
      var a2 = this,
        aZ = ac.min(a0 + a1, a2.total()),
        aY = {
          take: a1,
          skip: a0,
          page: a0 / a1 + 1,
          pageSize: a1,
          sort: a2._sort,
          filter: a2._filter,
          group: a2._group,
          aggregate: a2._aggregate
        };
      if (!a2._rangeExists(a0, aZ)) {
        clearTimeout(a2._timeout);
        a2._timeout = setTimeout(function() {
          a2._queueRequest(aY, function() {
            if (!a2.trigger(aE, {
              type: "read"
            })) {
              a2.transport.read({
                data: a2._params(aY),
                success: a2._prefetchSuccessHandler(a0, aZ, aX)
              })
            } else {
              a2._dequeueRequest()
            }
          })
        }, 100)
      } else {
        if (aX) {
          aX()
        }
      }
    },
    _rangeExists: function(a1, aX) {
      var a2 = this,
        a0 = a2._ranges,
        aY, aZ;
      for (aY = 0, aZ = a0.length; aY < aZ; aY++) {
        if (a0[aY].start <= a1 && a0[aY].end >= aX) {
          return true
        }
      }
      return false
    }
  });
  var aQ = {};
  aQ.create = function(aY, aX) {
    var aZ, a0 = aY.transport;
    if (a0) {
      a0.read = typeof a0.read === aL ? {
        url: a0.read
      } : a0.read;
      if (aY.type) {
        if (Z.data.transports[aY.type] && !X(Z.data.transports[aY.type])) {
          aZ = new Z.data.transports[aY.type](B(a0, {
            data: aX
          }))
        } else {
          a0 = B(true, {}, Z.data.transports[aY.type], a0)
        }
        aY.schema = B(true, {}, Z.data.schemas[aY.type], aY.schema)
      }
      if (!aZ) {
        aZ = V(a0.read) ? a0 : new aB(a0)
      }
    } else {
      aZ = new aa({
        data: aY.data
      })
    }
    return aZ
  };
  s.create = function(a4) {
    a4 = a4 && a4.push ? {
      data: a4
    } : a4;
    var aY = a4 || {}, aX = aY.data,
      a0 = aY.fields,
      a6 = aY.table,
      a5 = aY.select,
      a1, a2, a3 = {}, aZ;
    if (!aX && a0 && !aY.transport) {
      if (a6) {
        aX = S(a6, a0)
      } else {
        if (a5) {
          aX = R(a5, a0)
        }
      }
    }
    if (Z.data.Model && a0 && (!aY.schema || !aY.schema.model)) {
      for (a1 = 0, a2 = a0.length; a1 < a2; a1++) {
        aZ = a0[a1];
        if (aZ.type) {
          a3[aZ.field] = aZ
        }
      }
      if (!U(a3)) {
        aY.schema = B(true, aY.schema, {
          model: {
            fields: a3
          }
        })
      }
    }
    aY.data = aX;
    return aY instanceof s ? aY : new s(aY)
  };

  function R(a6, aY) {
    var a3 = a(a6)[0].children,
      a0, a1, aX = [],
      a4, aZ = aY[0],
      a5 = aY[1],
      a7, a2;
    for (a0 = 0, a1 = a3.length; a0 < a1; a0++) {
      a4 = {};
      a2 = a3[a0];
      if (a2.disabled) {
        continue
      }
      a4[aZ.field] = a2.text;
      a7 = a2.attributes.value;
      if (a7 && a7.specified) {
        a7 = a2.value
      } else {
        a7 = a2.text
      }
      a4[a5.field] = a7;
      aX.push(a4)
    }
    return aX
  }
  function S(a8, a3) {
    var a9 = a(a8)[0].tBodies[0],
      a7 = a9 ? a9.rows : [],
      a4, a5, a2, a1 = a3.length,
      aZ = [],
      aY, a6, aX, a0;
    for (a4 = 0, a5 = a7.length; a4 < a5; a4++) {
      a6 = {};
      a0 = true;
      aY = a7[a4].cells;
      for (a2 = 0; a2 < a1; a2++) {
        aX = aY[a2];
        if (aX.nodeName.toLowerCase() !== "th") {
          a0 = false;
          a6[a3[a2].field] = aX.innerHTML
        }
      }
      if (!a0) {
        aZ.push(a6)
      }
    }
    return aZ
  }
  var ag = ae.define({
    init: function(a1) {
      var a0 = this,
        aZ = a0.hasChildren || a1 && a1.hasChildren,
        aX = "items",
        aY = {};
      Z.data.Model.fn.init.call(a0, a1);
      if (typeof a0.children === aL) {
        aX = a0.children
      }
      aY = {
        schema: {
          data: aX,
          model: {
            hasChildren: aZ,
            id: a0.idField
          }
        }
      };
      if (typeof a0.children !== aL) {
        B(aY, a0.children)
      }
      aY.data = a1;
      if (!aZ) {
        aZ = aY.schema.data
      }
      if (typeof aZ === aL) {
        aZ = Z.getter(aZ)
      }
      if (V(aZ)) {
        a0.hasChildren = !! aZ.call(a0, a0)
      }
      a0._childrenOptions = aY;
      if (a0.hasChildren) {
        a0._initChildren()
      }
      a0._loaded = !! (a1 && (a1[aX] || a1._loaded))
    },
    _initChildren: function() {
      var aZ = this;
      var aX, a0, aY;
      if (!(aZ.children instanceof L)) {
        aX = aZ.children = new L(aZ._childrenOptions);
        a0 = aX.transport;
        aY = a0.parameterMap;
        a0.parameterMap = function(a1) {
          a1[aZ.idField || "id"] = aZ.id;
          if (aY) {
            a1 = aY(a1)
          }
          return a1
        };
        aX.parent = function() {
          return aZ
        };
        aX.bind(h, function(a1) {
          a1.node = a1.node || aZ;
          aZ.trigger(h, a1)
        });
        aX.bind(z, function(a2) {
          var a1 = aZ.parent();
          if (a1) {
            a2.node = a2.node || aZ;
            a1.trigger(z, a2)
          }
        });
        aZ._updateChildrenField()
      }
    },
    append: function(aX) {
      this._initChildren();
      this.loaded(true);
      this.children.add(aX)
    },
    hasChildren: false,
    level: function() {
      var aY = this.parentNode(),
        aX = 0;
      while (aY && aY.parentNode) {
        aX++;
        aY = aY.parentNode ? aY.parentNode() : null
      }
      return aX
    },
    _updateChildrenField: function() {
      var aX = this._childrenOptions.schema.data;
      this[aX || "items"] = this.children.data()
    },
    load: function() {
      var aY = this,
        aX = {};
      if (aY.hasChildren) {
        aY._initChildren();
        aX[aY.idField || "id"] = aY.id;
        if (!aY._loaded) {
          aY.children._data = aR
        }
        aY.children.one(h, function() {
          aY._loaded = true;
          aY._updateChildrenField()
        })._query(aX)
      } else {
        aY.loaded(true)
      }
    },
    parentNode: function() {
      var aX = this.parent();
      return aX.parent()
    },
    loaded: function(aX) {
      if (aX !== aR) {
        this._loaded = aX
      } else {
        return this._loaded
      }
    },
    shouldSerialize: function(aX) {
      return ae.fn.shouldSerialize.call(this, aX) && aX !== "children" && aX !== "_loaded" && aX !== "hasChildren" && aX !== "_childrenOptions"
    }
  });

  function q(aX) {
    return function() {
      var aY = this._data,
        aZ = s.fn[aX].apply(this, aH.call(arguments));
      if (this._data != aY) {
        this._attachBubbleHandlers()
      }
      return aZ
    }
  }
  var L = s.extend({
    init: function(aY) {
      var aX = ag.define({
        children: aY
      });
      s.fn.init.call(this, B(true, {}, {
        schema: {
          modelBase: aX,
          model: aX
        }
      }, aY));
      this._attachBubbleHandlers()
    },
    _attachBubbleHandlers: function() {
      var aX = this;
      aX._data.bind(z, function(aY) {
        aX.trigger(z, aY)
      })
    },
    remove: function(aY) {
      var aZ = aY.parentNode(),
        aX = this,
        a0;
      if (aZ && aZ._initChildren) {
        aX = aZ.children
      }
      a0 = s.fn.remove.call(aX, aY);
      if (aZ && !aX.data().length) {
        aZ.hasChildren = false
      }
      return a0
    },
    success: q("success"),
    data: q("data"),
    insert: function(aX, aY) {
      var aZ = this.parent();
      if (aZ && aZ._initChildren) {
        aZ.hasChildren = true;
        aZ._initChildren()
      }
      return s.fn.insert.call(this, aX, aY)
    },
    _find: function(a1, a3) {
      var aZ, a0, a2, aY, aX;
      a2 = s.fn[a1].call(this, a3);
      if (a2) {
        return a2
      }
      aY = this._flatData(this.data());
      if (!aY) {
        return
      }
      for (aZ = 0, a0 = aY.length; aZ < a0; aZ++) {
        aX = aY[aZ].children;
        if (!(aX instanceof L)) {
          continue
        }
        a2 = aX[a1](a3);
        if (a2) {
          return a2
        }
      }
    },
    get: function(aX) {
      return this._find("get", aX)
    },
    getByUid: function(aX) {
      return this._find("getByUid", aX)
    }
  });

  function Q(a8, a1) {
    var a6 = a(a8).children(),
      a3, a7, aZ = [],
      a9, bc = a1[0].field,
      bd = a1[1] && a1[1].field,
      ba = a1[2] && a1[2].field,
      a4 = a1[3] && a1[3].field,
      a5, a2, bb, aY, aX;

    function a0(be, bf) {
      return be.filter(bf).add(be.find(bf))
    }
    for (a3 = 0, a7 = a6.length; a3 < a7; a3++) {
      a9 = {
        _loaded: true
      };
      a5 = a6.eq(a3);
      bb = a5[0].firstChild;
      aX = a5.children();
      a8 = aX.filter("ul");
      aX = aX.filter(":not(ul)");
      a2 = a5.attr("data-id");
      if (a2) {
        a9.id = a2
      }
      if (bb) {
        a9[bc] = bb.nodeType == 3 ? bb.nodeValue : aX.text()
      }
      if (bd) {
        a9[bd] = a0(aX, "a").attr("href")
      }
      if (a4) {
        a9[a4] = a0(aX, "img").attr("src")
      }
      if (ba) {
        aY = a0(aX, ".k-sprite").prop("className");
        a9[ba] = aY && a.trim(aY.replace("k-sprite", ""))
      }
      if (a8.length) {
        a9.items = Q(a8.eq(0), a1)
      }
      if (a5.attr("data-hasChildren") == "true") {
        a9.hasChildren = true
      }
      aZ.push(a9)
    }
    return aZ
  }
  L.create = function(a1) {
    a1 = a1 && a1.push ? {
      data: a1
    } : a1;
    var aY = a1 || {}, aX = aY.data,
      aZ = aY.fields,
      a0 = aY.list;
    if (aX && aX._dataSource) {
      return aX._dataSource
    }
    if (!aX && aZ && !aY.transport) {
      if (a0) {
        aX = Q(a0, aZ)
      }
    }
    aY.data = aX;
    return aY instanceof L ? aY : new L(aY)
  };
  var d = Z.Observable.extend({
    init: function(aY, a0, aZ) {
      Z.Observable.fn.init.call(this);
      this._prefetching = false;
      this.dataSource = aY;
      this.prefetch = !aZ;
      var aX = this;
      aY.bind("change", function() {
        aX._change()
      });
      this._syncWithDataSource();
      this.setViewSize(a0)
    },
    setViewSize: function(aX) {
      this.viewSize = aX;
      this._recalculate()
    },
    at: function(aX) {
      var a0 = this.pageSize,
        aY;
      if (aX >= this.total()) {
        this.trigger("endreached", {
          index: aX
        });
        return
      }
      if (!this.useRanges) {
        return this.dataSource.view()[aX]
      }
      if (this.useRanges) {
        if (aX < this.dataOffset || aX > this.skip + a0) {
          var aZ = Math.floor(aX / a0) * a0;
          this.range(aZ)
        }
        if (aX === this.prefetchThreshold) {
          this._prefetch()
        }
        if (aX === this.midPageThreshold) {
          this.range(this.nextMidRange)
        } else {
          if (aX === this.nextPageThreshold) {
            this.range(this.nextFullRange)
          } else {
            if (aX === this.pullBackThreshold) {
              if (this.offset === this.skip) {
                this.range(this.previousMidRange)
              } else {
                this.range(this.previousFullRange)
              }
            }
          }
        }
        aY = this.dataSource.at(aX - this.dataOffset)
      }
      if (aY === aR) {
        this.trigger("endreached", {
          index: aX
        })
      }
      return aY
    },
    indexOf: function(aX) {
      return this.dataSource.data().indexOf(aX) + this.dataOffset
    },
    total: function() {
      return parseInt(this.dataSource.total(), 10)
    },
    next: function() {
      var aX = this,
        aZ = aX.pageSize,
        aY = aX.skip - aX.viewSize,
        a0 = ac.max(ac.floor(aY / aZ), 0) * aZ + aZ;
      this.offset = aY;
      this.dataSource.prefetch(a0, aZ, function() {
        aX._goToRange(aY, true)
      })
    },
    range: function(aZ) {
      if (this.offset === aZ) {
        return
      }
      var aX = this,
        a0 = this.pageSize,
        a1 = ac.max(ac.floor(aZ / a0), 0) * a0 + a0,
        aY = this.dataSource;
      this.offset = aZ;
      this._recalculate();
      if (aY.inRange(aZ, a0)) {
        this._goToRange(aZ)
      } else {
        if (this.prefetch) {
          aY.prefetch(a1, a0, function() {
            aX._goToRange(aZ, true)
          })
        }
      }
    },
    syncDataSource: function() {
      var aX = this.offset;
      this.offset = null;
      this.range(aX)
    },
    destroy: function() {
      this.unbind()
    },
    _prefetch: function() {
      var aX = this,
        aZ = this.pageSize,
        a0 = this.skip + aZ,
        aY = this.dataSource;
      if (!aY.inRange(a0, aZ) && !this._prefetching && this.prefetch) {
        this._prefetching = true;
        this.trigger("prefetching", {
          skip: a0,
          take: aZ
        });
        aY.prefetch(a0, aZ, function() {
          aX._prefetching = false;
          aX.trigger("prefetched", {
            skip: a0,
            take: aZ
          })
        })
      }
    },
    _goToRange: function(aY, aX) {
      if (this.offset !== aY) {
        return
      }
      this.dataOffset = aY;
      this._expanding = aX;
      this.dataSource.range(aY, this.pageSize)
    },
    _change: function() {
      var aX = this.dataSource,
        aY = aX.firstItemUid();
      this.length = this.useRanges ? aX.lastRange().end : aX.view().length;
      if (this._firstItemUid !== aY || !this.useRanges) {
        this._syncWithDataSource();
        this._recalculate();
        this.trigger("reset", {
          offset: this.offset
        })
      }
      this.trigger("resize");
      if (this._expanding) {
        this.trigger("expand")
      }
      delete this._expanding
    },
    _syncWithDataSource: function() {
      var aX = this.dataSource;
      this._firstItemUid = aX.firstItemUid();
      this.dataOffset = this.offset = aX.skip() || 0;
      this.pageSize = aX.pageSize();
      this.useRanges = aX.options.serverPaging
    },
    _recalculate: function() {
      var aY = this.pageSize,
        aX = this.offset,
        a0 = this.viewSize,
        aZ = Math.ceil(aX / aY) * aY;
      this.skip = aZ;
      this.midPageThreshold = aZ + aY - 1;
      this.nextPageThreshold = aZ + a0 - 1;
      this.prefetchThreshold = aZ + Math.floor(aY / 3 * 2);
      this.pullBackThreshold = this.offset - 1;
      this.nextMidRange = aZ + aY - a0;
      this.nextFullRange = aZ;
      this.previousMidRange = aX - a0;
      this.previousFullRange = aZ - aY
    }
  });
  var c = Z.Observable.extend({
    init: function(aZ, aY) {
      var aX = this;
      Z.Observable.fn.init.call(aX);
      this.dataSource = aZ;
      this.batchSize = aY;
      this._total = 0;
      this.buffer = new d(aZ, aY * 3);
      this.buffer.bind({
        endreached: function(a0) {
          aX.trigger("endreached", {
            index: a0.index
          })
        },
        prefetching: function(a0) {
          aX.trigger("prefetching", {
            skip: a0.skip,
            take: a0.take
          })
        },
        prefetched: function(a0) {
          aX.trigger("prefetched", {
            skip: a0.skip,
            take: a0.take
          })
        },
        reset: function() {
          aX._total = 0;
          aX.trigger("reset")
        },
        resize: function() {
          aX._total = Math.ceil(this.length / aX.batchSize);
          aX.trigger("resize", {
            total: aX.total(),
            offset: this.offset
          })
        }
      })
    },
    syncDataSource: function() {
      this.buffer.syncDataSource()
    },
    at: function(aZ) {
      var aX = this.buffer,
        a1 = aZ * this.batchSize,
        a2 = this.batchSize,
        a3 = [],
        a0;
      if (aX.offset > a1) {
        aX.at(aX.offset - 1)
      }
      for (var aY = 0; aY < a2; aY++) {
        a0 = aX.at(a1 + aY);
        if (a0 === aR) {
          break
        }
        a3.push(a0)
      }
      return a3
    },
    total: function() {
      return this._total
    },
    destroy: function() {
      this.buffer.destroy();
      this.unbind()
    }
  });
  B(true, Z.data, {
    readers: {
      json: r
    },
    Query: ay,
    DataSource: s,
    HierarchicalDataSource: L,
    Node: ag,
    ObservableObject: ap,
    ObservableArray: ao,
    LocalTransport: aa,
    RemoteTransport: aB,
    Cache: e,
    DataReader: r,
    Model: ae,
    Buffer: d,
    BatchBuffer: c
  })
})(window.kendo.jQuery);
kendo_module({
  id: "binder",
  name: "MVVM",
  category: "framework",
  description: "Model View ViewModel (MVVM) is a design pattern which helps developers separate the Model (the data) from the View (the UI).",
  depends: ["core", "data"]
});
(function(a, G) {
  var q = window.kendo,
    t = q.Observable,
    v = q.data.ObservableObject,
    u = q.data.ObservableArray,
    B = {}.toString,
    e = {}, z = Array.prototype.splice,
    k = q.Class,
    p, x = a.proxy,
    H = "value",
    y = "source",
    n = "events",
    j = "checked",
    i = "change";
  (function() {
    var K = document.createElement("a");
    if (K.innerText !== G) {
      p = "innerText"
    } else {
      if (K.textContent !== G) {
        p = "textContent"
      }
    }
  })();
  var f = t.extend({
    init: function(K, L) {
      var M = this;
      t.fn.init.call(M);
      M.source = K[0];
      M.parents = K;
      M.path = L;
      M.dependencies = {};
      M.dependencies[L] = true;
      M.observable = M.source instanceof t;
      M._access = function(N) {
        M.dependencies[N.field] = true
      };
      if (M.observable) {
        M._change = function(N) {
          M.change(N)
        };
        M.source.bind(i, M._change)
      }
    },
    _parents: function() {
      var L = this.parents;
      var M = this.get();
      if (M && typeof M.parent == "function") {
        var K = M.parent();
        if (a.inArray(K, L) < 0) {
          L = [K].concat(L)
        }
      }
      return L
    },
    change: function(M) {
      var L, K, N = M.field,
        O = this;
      if (O.path === "this") {
        O.trigger(i, M)
      } else {
        for (L in O.dependencies) {
          if (L.indexOf(N) === 0) {
            K = L.charAt(N.length);
            if (!K || K === "." || K === "[") {
              O.trigger(i, M);
              break
            }
          }
        }
      }
    },
    start: function(K) {
      K.bind("get", this._access)
    },
    stop: function(K) {
      K.unbind("get", this._access)
    },
    get: function() {
      var O = this,
        N = O.source,
        K = 0,
        L = O.path,
        M = N;
      if (!O.observable) {
        return M
      }
      O.start(O.source);
      M = N.get(L);
      while (M === G && N) {
        N = O.parents[++K];
        if (N instanceof v) {
          M = N.get(L)
        }
      }
      if (M === G) {
        N = O.source;
        while (M === G && N) {
          N = N.parent();
          if (N instanceof v) {
            M = N.get(L)
          }
        }
      }
      if (typeof M === "function") {
        K = L.lastIndexOf(".");
        if (K > 0) {
          N = N.get(L.substring(0, K))
        }
        O.start(N);
        M = M.call(N, O.source);
        O.stop(N)
      }
      if (N && N !== O.source) {
        O.currentSource = N;
        N.unbind(i, O._change).bind(i, O._change)
      }
      O.stop(O.source);
      return M
    },
    set: function(M) {
      var L = this,
        K = L.currentSource || L.source;
      K.set(L.path, M)
    },
    destroy: function() {
      if (this.observable) {
        this.source.unbind(i, this._change)
      }
    }
  });
  var m = f.extend({
    get: function() {
      var N = this.source,
        M = this.path,
        L = 0,
        K;
      K = N.get(M);
      while (!K && N) {
        N = this.parents[++L];
        if (N instanceof v) {
          K = N.get(M)
        }
      }
      return x(K, N)
    }
  });
  var A = f.extend({
    init: function(L, K, M) {
      var N = this;
      f.fn.init.call(N, L, K);
      N.template = M
    },
    render: function(L) {
      var K;
      this.start(this.source);
      K = q.render(this.template, L);
      this.stop(this.source);
      return K
    }
  });
  var d = k.extend({
    init: function(L, K, M) {
      this.element = L;
      this.bindings = K;
      this.options = M
    },
    bind: function(L, K) {
      var M = this;
      L = K ? L[K] : L;
      L.bind(i, function(N) {
        M.refresh(K || N)
      });
      M.refresh(K)
    },
    destroy: function() {}
  });
  e.attr = d.extend({
    refresh: function(K) {
      this.element.setAttribute(K, this.bindings.attr[K].get())
    }
  });
  e.style = d.extend({
    refresh: function(K) {
      this.element.style[K] = this.bindings.style[K].get() || ""
    }
  });
  e.enabled = d.extend({
    refresh: function() {
      if (this.bindings.enabled.get()) {
        this.element.removeAttribute("disabled")
      } else {
        this.element.setAttribute("disabled", "disabled")
      }
    }
  });
  e.readonly = d.extend({
    refresh: function() {
      if (this.bindings.readonly.get()) {
        this.element.setAttribute("readonly", "readonly")
      } else {
        this.element.removeAttribute("readonly")
      }
    }
  });
  e.disabled = d.extend({
    refresh: function() {
      if (this.bindings.disabled.get()) {
        this.element.setAttribute("disabled", "disabled")
      } else {
        this.element.removeAttribute("disabled")
      }
    }
  });
  e.events = d.extend({
    init: function(L, K, M) {
      d.fn.init.call(this, L, K, M);
      this.handlers = {}
    },
    refresh: function(N) {
      var L = a(this.element),
        K = this.bindings.events[N],
        M = this.handlers[N];
      if (M) {
        L.off(N, M)
      }
      M = this.handlers[N] = K.get();
      L.on(N, K.source, M)
    },
    destroy: function() {
      var K = a(this.element),
        L;
      for (L in this.handlers) {
        K.off(L, this.handlers[L])
      }
    }
  });
  e.text = d.extend({
    refresh: function() {
      var K = this.bindings.text.get();
      if (K == null) {
        K = ""
      }
      this.element[p] = K
    }
  });
  e.visible = d.extend({
    refresh: function() {
      if (this.bindings.visible.get()) {
        this.element.style.display = ""
      } else {
        this.element.style.display = "none"
      }
    }
  });
  e.invisible = d.extend({
    refresh: function() {
      if (!this.bindings.invisible.get()) {
        this.element.style.display = ""
      } else {
        this.element.style.display = "none"
      }
    }
  });
  e.html = d.extend({
    refresh: function() {
      this.element.innerHTML = this.bindings.html.get()
    }
  });
  e.value = d.extend({
    init: function(L, K, M) {
      d.fn.init.call(this, L, K, M);
      this._change = x(this.change, this);
      this.eventName = M.valueUpdate || i;
      a(this.element).on(this.eventName, this._change);
      this._initChange = false
    },
    change: function() {
      this._initChange = this.eventName != i;
      var L = this.element.value;
      var K = this.element.type;
      if (K == "date") {
        L = q.parseDate(L, "yyyy-MM-dd")
      } else {
        if (K == "datetime-local") {
          L = q.parseDate(L, ["yyyy-MM-ddTHH:mm:ss", "yyyy-MM-ddTHH:mm"])
        } else {
          if (K == "number") {
            L = q.parseFloat(L)
          }
        }
      }
      this.bindings[H].set(L);
      this._initChange = false
    },
    refresh: function() {
      if (!this._initChange) {
        var L = this.bindings[H].get();
        if (L == null) {
          L = ""
        }
        var K = this.element.type;
        if (K == "date") {
          L = q.toString(L, "yyyy-MM-dd")
        } else {
          if (K == "datetime-local") {
            L = q.toString(L, "yyyy-MM-ddTHH:mm:ss")
          }
        }
        this.element.value = L
      }
      this._initChange = false
    },
    destroy: function() {
      a(this.element).off(this.eventName, this._change)
    }
  });
  e.source = d.extend({
    init: function(L, K, M) {
      d.fn.init.call(this, L, K, M);
      var N = this.bindings.source.get();
      if (N instanceof q.data.DataSource && M.autoBind !== false) {
        N.fetch()
      }
    },
    refresh: function(K) {
      var M = this,
        L = M.bindings.source.get();
      if (L instanceof u || L instanceof q.data.DataSource) {
        K = K || {};
        if (K.action == "add") {
          M.add(K.index, K.items)
        } else {
          if (K.action == "remove") {
            M.remove(K.index, K.items)
          } else {
            if (K.action != "itemchange") {
              M.render()
            }
          }
        }
      } else {
        M.render()
      }
    },
    container: function() {
      var K = this.element;
      if (K.nodeName.toLowerCase() == "table") {
        if (!K.tBodies[0]) {
          K.appendChild(document.createElement("tbody"))
        }
        K = K.tBodies[0]
      }
      return K
    },
    template: function() {
      var L = this.options,
        M = L.template,
        K = this.container().nodeName.toLowerCase();
      if (!M) {
        if (K == "select") {
          if (L.valueField || L.textField) {
            M = q.format('<option value="#:{0}#">#:{1}#</option>', L.valueField || L.textField, L.textField || L.valueField)
          } else {
            M = "<option>#:data#</option>"
          }
        } else {
          if (K == "tbody") {
            M = "<tr><td>#:data#</td></tr>"
          } else {
            if (K == "ul" || K == "ol") {
              M = "<li>#:data#</li>"
            } else {
              M = "#:data#"
            }
          }
        }
        M = q.template(M)
      }
      return M
    },
    destroy: function() {
      var K = this.bindings.source.get();
      K.unbind(i, this._change)
    },
    add: function(O, P) {
      var M = this.container(),
        R, N, Q, K, L = M.cloneNode(false),
        S = M.children[O];
      a(L).html(q.render(this.template(), P));
      if (L.children.length) {
        R = this.bindings.source._parents();
        for (N = 0, Q = P.length; N < Q; N++) {
          K = L.children[0];
          M.insertBefore(K, S || null);
          c(K, P[N], this.options.roles, [P[N]].concat(R))
        }
      }
    },
    remove: function(N, O) {
      var M, L = this.container();
      for (M = 0; M < O.length; M++) {
        var K = L.children[N];
        F(K);
        L.removeChild(K)
      }
    },
    render: function() {
      var P = this.bindings.source.get(),
        O, L, M, K = this.container(),
        Q = this.template(),
        N;
      if (P instanceof q.data.DataSource) {
        P = P.view()
      }
      if (!(P instanceof u) && B.call(P) !== "[object Array]") {
        if (P.parent) {
          N = P.parent
        }
        P = new u([P]);
        if (P.parent) {
          P.parent = N
        }
      }
      if (this.bindings.template) {
        E(K);
        a(K).html(this.bindings.template.render(P));
        if (K.children.length) {
          O = this.bindings.source._parents();
          for (L = 0, M = P.length; L < M; L++) {
            c(K.children[L], P[L], this.options.roles, [P[L]].concat(O))
          }
        }
      } else {
        a(K).html(q.render(Q, P))
      }
    }
  });
  e.input = {
    checked: d.extend({
      init: function(L, K, M) {
        d.fn.init.call(this, L, K, M);
        this._change = x(this.change, this);
        a(this.element).change(this._change)
      },
      change: function() {
        var K = this.element;
        var N = this.value();
        if (K.type == "radio") {
          this.bindings[j].set(N)
        } else {
          if (K.type == "checkbox") {
            var M = this.bindings[j].get();
            var L;
            if (M instanceof u) {
              N = this.element.value;
              if (N !== "on" && N !== "off") {
                L = M.indexOf(N);
                if (L > -1) {
                  M.splice(L, 1)
                } else {
                  M.push(N)
                }
              }
            } else {
              this.bindings[j].set(N)
            }
          }
        }
      },
      refresh: function() {
        var M = this.bindings[j].get(),
          L = M,
          K = this.element;
        if (K.type == "checkbox") {
          if (L instanceof u) {
            M = this.element.value;
            if (L.indexOf(M) >= 0) {
              M = true
            }
          }
          K.checked = M === true
        } else {
          if (K.type == "radio" && M != null) {
            if (K.value === M.toString()) {
              K.checked = true
            }
          }
        }
      },
      value: function() {
        var K = this.element,
          L = K.value;
        if (K.type == "checkbox") {
          L = K.checked
        }
        return L
      },
      destroy: function() {
        a(this.element).off(i, this._change)
      }
    })
  };
  e.select = {
    value: d.extend({
      init: function(M, K, L) {
        d.fn.init.call(this, M, K, L);
        this._change = x(this.change, this);
        a(this.element).change(this._change)
      },
      change: function() {
        var T = [],
          K = this.element,
          P, L = this.options.valueField || this.options.textField,
          S = this.options.valuePrimitive,
          O, R, Q, M, N;
        for (M = 0, N = K.options.length; M < N; M++) {
          O = K.options[M];
          if (O.selected) {
            Q = O.attributes.value;
            if (Q && Q.specified) {
              Q = O.value
            } else {
              Q = O.text
            }
            T.push(Q)
          }
        }
        if (L) {
          P = this.bindings.source.get();
          for (R = 0; R < T.length; R++) {
            for (M = 0, N = P.length; M < N; M++) {
              if (P[M].get(L) == T[R]) {
                T[R] = P[M];
                break
              }
            }
          }
        }
        Q = this.bindings[H].get();
        if (Q instanceof u) {
          Q.splice.apply(Q, [0, Q.length].concat(T))
        } else {
          if (!S && (Q instanceof v || !L)) {
            this.bindings[H].set(T[0])
          } else {
            this.bindings[H].set(T[0].get(L))
          }
        }
      },
      refresh: function() {
        var N, K = this.element,
          O = K.options,
          Q = this.bindings[H].get(),
          S = Q,
          L = this.options.valueField || this.options.textField,
          M = false,
          P;
        if (!(S instanceof u)) {
          S = new u([Q])
        }
        K.selectedIndex = -1;
        for (var R = 0; R < S.length; R++) {
          Q = S[R];
          if (L && Q instanceof v) {
            Q = Q.get(L)
          }
          for (N = 0; N < O.length; N++) {
            P = O[N].value;
            if (P === "" && Q !== "") {
              P = O[N].text
            }
            if (P == Q) {
              O[N].selected = true;
              M = true
            }
          }
        }
      },
      destroy: function() {
        a(this.element).off(i, this._change)
      }
    })
  };
  e.widget = {
    events: d.extend({
      init: function(M, K, L) {
        d.fn.init.call(this, M.element[0], K, L);
        this.widget = M;
        this.handlers = {}
      },
      refresh: function(M) {
        var K = this.bindings.events[M],
          L = this.handlers[M];
        if (L) {
          this.widget.unbind(M, L)
        }
        L = K.get();
        this.handlers[M] = function(N) {
          N.data = K.source;
          L(N);
          if (N.data === K.source) {
            delete N.data
          }
        };
        this.widget.bind(M, this.handlers[M])
      },
      destroy: function() {
        var K;
        for (K in this.handlers) {
          this.widget.unbind(K, this.handlers[K])
        }
      }
    }),
    checked: d.extend({
      init: function(M, K, L) {
        d.fn.init.call(this, M.element[0], K, L);
        this.widget = M;
        this._change = x(this.change, this);
        this.widget.bind(i, this._change)
      },
      change: function() {
        this.bindings[j].set(this.value())
      },
      refresh: function() {
        this.widget.check(this.bindings[j].get() === true)
      },
      value: function() {
        var K = this.element,
          L = K.value;
        if (L == "on" || L == "off") {
          L = K.checked
        }
        return L
      },
      destroy: function() {
        this.widget.unbind(i, this._change)
      }
    }),
    visible: d.extend({
      init: function(M, K, L) {
        d.fn.init.call(this, M.element[0], K, L);
        this.widget = M
      },
      refresh: function() {
        var K = this.bindings.visible.get();
        this.widget.wrapper[0].style.display = K ? "" : "none"
      }
    }),
    invisible: d.extend({
      init: function(M, K, L) {
        d.fn.init.call(this, M.element[0], K, L);
        this.widget = M
      },
      refresh: function() {
        var K = this.bindings.invisible.get();
        this.widget.wrapper[0].style.display = K ? "none" : ""
      }
    }),
    enabled: d.extend({
      init: function(M, K, L) {
        d.fn.init.call(this, M.element[0], K, L);
        this.widget = M
      },
      refresh: function() {
        if (this.widget.enable) {
          this.widget.enable(this.bindings.enabled.get())
        }
      }
    }),
    disabled: d.extend({
      init: function(M, K, L) {
        d.fn.init.call(this, M.element[0], K, L);
        this.widget = M
      },
      refresh: function() {
        if (this.widget.enable) {
          this.widget.enable(!this.bindings.disabled.get())
        }
      }
    }),
    source: d.extend({
      init: function(N, K, L) {
        var M = this;
        d.fn.init.call(M, N.element[0], K, L);
        M.widget = N;
        M._dataBinding = x(M.dataBinding, M);
        M._dataBound = x(M.dataBound, M);
        M._itemChange = x(M.itemChange, M)
      },
      itemChange: function(K) {
        c(K.item[0], K.data, this._ns(K.ns), [K.data].concat(this.bindings.source._parents()))
      },
      dataBinding: function() {
        var K, M, N = this.widget,
          L = N.items();
        for (K = 0, M = L.length; K < M; K++) {
          F(L[K])
        }
      },
      _ns: function(L) {
        L = L || q.ui;
        var K = [q.ui, q.dataviz.ui, q.mobile.ui];
        K.splice(a.inArray(L, K), 1);
        K.unshift(L);
        return q.rolesFromNamespaces(K)
      },
      dataBound: function(L) {
        var N, P, S = this.widget,
          O = S.items(),
          K = S.dataSource,
          R = K.view(),
          Q, M = K.group() || [];
        if (O.length) {
          if (M.length) {
            R = o(R)
          }
          Q = this.bindings.source._parents();
          for (N = 0, P = R.length; N < P; N++) {
            c(O[N], R[N], this._ns(L.ns), [R[N]].concat(Q))
          }
        }
      },
      refresh: function(K) {
        var M = this,
          L, N = M.widget;
        K = K || {};
        if (!K.action) {
          M.destroy();
          N.bind("dataBinding", M._dataBinding);
          N.bind("dataBound", M._dataBound);
          N.bind("itemChange", M._itemChange);
          L = M.bindings.source.get();
          if (N.dataSource instanceof q.data.DataSource && N.dataSource != L) {
            if (L instanceof q.data.DataSource) {
              N.setDataSource(L)
            } else {
              if (L && L._dataSource) {
                N.setDataSource(L._dataSource)
              } else {
                N.dataSource.data(L)
              }
            }
          }
        }
      },
      destroy: function() {
        var K = this.widget;
        K.unbind("dataBinding", this._dataBinding);
        K.unbind("dataBound", this._dataBound);
        K.unbind("itemChange", this._itemChange)
      }
    }),
    value: d.extend({
      init: function(N, K, L) {
        d.fn.init.call(this, N.element[0], K, L);
        this.widget = N;
        this._change = a.proxy(this.change, this);
        this.widget.first(i, this._change);
        var M = this.bindings.value.get();
        this._valueIsObservableObject = !L.valuePrimitive && (M == null || M instanceof v);
        this._valueIsObservableArray = M instanceof u;
        this._initChange = false
      },
      change: function() {
        var S = this.widget.value(),
          K = this.options.dataValueField || this.options.dataTextField,
          M = B.call(S) === "[object Array]",
          N = this._valueIsObservableObject,
          T, U, V = [],
          Q, R, L, O, P;
        this._initChange = true;
        if (K) {
          if (this.bindings.source) {
            P = this.bindings.source.get()
          }
          if (S === "" && (N || this.options.valuePrimitive)) {
            S = null
          } else {
            if (!P || P instanceof q.data.DataSource) {
              P = this.widget.dataSource.view()
            }
            if (M) {
              U = S.length;
              V = S.slice(0)
            }
            for (L = 0, O = P.length; L < O; L++) {
              Q = P[L];
              R = Q.get(K);
              if (M) {
                for (T = 0; T < U; T++) {
                  if (R == V[T]) {
                    V[T] = Q;
                    break
                  }
                }
              } else {
                if (R == S) {
                  S = N ? Q : R;
                  break
                }
              }
            }
            if (V[0]) {
              if (this._valueIsObservableArray) {
                S = V
              } else {
                if (N || !K) {
                  S = V[0]
                } else {
                  S = V[0].get(K)
                }
              }
            }
          }
        }
        this.bindings.value.set(S);
        this._initChange = false
      },
      refresh: function() {
        if (!this._initChange) {
          var K = this.options.dataValueField || this.options.dataTextField,
            N = this.bindings.value.get(),
            L = 0,
            M, O = [];
          if (K) {
            if (N instanceof u) {
              for (M = N.length; L < M; L++) {
                O[L] = N[L].get(K)
              }
              N = O
            } else {
              if (N instanceof v) {
                N = N.get(K)
              }
            }
          }
          this.widget.value(N)
        }
        this._initChange = false
      },
      destroy: function() {
        this.widget.unbind(i, this._change)
      }
    }),
    multiselect: {
      value: d.extend({
        init: function(M, K, L) {
          d.fn.init.call(this, M.element[0], K, L);
          this.widget = M;
          this._change = a.proxy(this.change, this);
          this.widget.first(i, this._change);
          this._initChange = false
        },
        change: function() {
          var W = this,
            S = W.bindings[H].get(),
            X = W.options.valuePrimitive,
            Q = X ? W.widget.value() : W.widget.dataItems();
          var K = this.options.dataValueField || this.options.dataTextField;
          Q = Q.slice(0);
          W._initChange = true;
          if (S instanceof u) {
            var T = [];
            var O = Q.length;
            var M = 0,
              N = 0;
            var R = S[M];
            var V = false;
            var U;
            var P;
            var L;
            while (R) {
              L = false;
              for (N = 0; N < O; N++) {
                if (X) {
                  V = Q[N] == R
                } else {
                  P = Q[N];
                  P = P.get ? P.get(K) : P;
                  V = P == (R.get ? R.get(K) : R)
                }
                if (V) {
                  Q.splice(N, 1);
                  O -= 1;
                  L = true;
                  break
                }
              }
              if (!L) {
                T.push(R);
                z.call(S, M, 1);
                U = M
              } else {
                M += 1
              }
              R = S[M]
            }
            z.apply(S, [S.length, 0].concat(Q));
            if (T.length) {
              S.trigger("change", {
                action: "remove",
                items: T,
                index: U
              })
            }
            if (Q.length) {
              S.trigger("change", {
                action: "add",
                items: Q,
                index: S.length - 1
              })
            }
          } else {
            W.bindings[H].set(Q)
          }
          W._initChange = false
        },
        refresh: function() {
          if (!this._initChange) {
            var K = this.options.dataValueField || this.options.dataTextField,
              O = this.bindings.value.get(),
              L = 0,
              M, P = [],
              N;
            if (K) {
              if (O instanceof u) {
                for (M = O.length; L < M; L++) {
                  N = O[L];
                  P[L] = N.get ? N.get(K) : N
                }
                O = P
              } else {
                if (O instanceof v) {
                  O = O.get(K)
                }
              }
            }
            this.widget.value(O)
          }
        },
        destroy: function() {
          this.widget.unbind(i, this._change)
        }
      })
    }
  };
  var g = k.extend({
    init: function(L, K) {
      this.target = L;
      this.options = K;
      this.toDestroy = []
    },
    bind: function(K) {
      var P = this.target.nodeName.toLowerCase(),
        O, N, M, L, Q = e[P] || {};
      for (O in K) {
        if (O == H) {
          N = true
        } else {
          if (O == y) {
            M = true
          } else {
            if (O == n) {
              L = true
            } else {
              this.applyBinding(O, K, Q)
            }
          }
        }
      }
      if (M) {
        this.applyBinding(y, K, Q)
      }
      if (N) {
        this.applyBinding(H, K, Q)
      }
      if (L) {
        this.applyBinding(n, K, Q)
      }
    },
    applyBinding: function(O, N, P) {
      var L = P[O] || e[O],
        Q = this.toDestroy,
        K, M = N[O];
      if (L) {
        L = new L(this.target, N, this.options);
        Q.push(L);
        if (M instanceof f) {
          L.bind(M);
          Q.push(M)
        } else {
          for (K in M) {
            L.bind(M, K);
            Q.push(M[K])
          }
        }
      } else {
        if (O !== "template") {
          throw new Error("The " + O + " binding is not supported by the " + this.target.nodeName.toLowerCase() + " element")
        }
      }
    },
    destroy: function() {
      var K, L, M = this.toDestroy;
      for (K = 0, L = M.length; K < L; K++) {
        M[K].destroy()
      }
    }
  });
  var J = g.extend({
    bind: function(L) {
      var P = this,
        K, N = false,
        M = false,
        O = e.widget[P.target.options.name.toLowerCase()] || {};
      for (K in L) {
        if (K == H) {
          N = true
        } else {
          if (K == y) {
            M = true
          } else {
            P.applyBinding(K, L)
          }
        }
      }
      if (M) {
        P.applyBinding(y, L)
      }
      if (N) {
        P.applyBinding(H, L, O[H])
      }
    },
    applyBinding: function(O, N, P) {
      var L = P || e.widget[O],
        Q = this.toDestroy,
        K, M = N[O];
      if (L) {
        L = new L(this.target, N, this.target.options);
        Q.push(L);
        if (M instanceof f) {
          L.bind(M);
          Q.push(M)
        } else {
          for (K in M) {
            L.bind(M, K);
            Q.push(M[K])
          }
        }
      } else {
        throw new Error("The " + O + " binding is not supported by the " + this.target.options.name + " widget")
      }
    }
  });

  function o(K) {
    var L, P = [],
      O, N, M;
    for (L = 0, O = K.length; L < O; L++) {
      if (K[L].hasSubgroups) {
        P = P.concat(o(K[L].items))
      } else {
        N = K[L].items;
        for (M = 0; M < N.length; M++) {
          P.push(N[M])
        }
      }
    }
    return P
  }
  function h(K, L) {
    var M = q.initWidget(K, {}, L);
    if (M) {
      return new J(M)
    }
  }
  var r = /[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,
    I = /\s/g;

  function w(K) {
    var P = {}, M, O, Q, L, N, S, R;
    R = K.match(r);
    for (M = 0, O = R.length; M < O; M++) {
      Q = R[M];
      L = Q.indexOf(":");
      N = Q.substring(0, L);
      S = Q.substring(L + 1);
      if (S.charAt(0) == "{") {
        S = w(S)
      }
      P[N] = S
    }
    return P
  }
  function l(L, N, O) {
    var K, M = {};
    for (K in L) {
      M[K] = new O(N, L[K])
    }
    return M
  }
  function c(P, V, U, S) {
    var T = P.getAttribute("data-" + q.ns + "role"),
      Q, K = P.getAttribute("data-" + q.ns + "bind"),
      M = P.children,
      N = [],
      O = true,
      L, R = {}, W;
    S = S || [V];
    if (T || K) {
      D(P)
    }
    if (T) {
      W = h(P, U)
    }
    if (K) {
      K = w(K.replace(I, ""));
      if (!W) {
        R = q.parseOptions(P, {
          textField: "",
          valueField: "",
          template: "",
          valueUpdate: i,
          valuePrimitive: false,
          autoBind: true
        });
        R.roles = U;
        W = new g(P, R)
      }
      W.source = V;
      L = l(K, S, f);
      if (R.template) {
        L.template = new A(S, "", R.template)
      }
      if (L.click) {
        K.events = K.events || {};
        K.events.click = K.click;
        delete L.click
      }
      if (L.source) {
        O = false
      }
      if (K.attr) {
        L.attr = l(K.attr, S, f)
      }
      if (K.style) {
        L.style = l(K.style, S, f)
      }
      if (K.events) {
        L.events = l(K.events, S, m)
      }
      W.bind(L)
    }
    if (W) {
      P.kendoBindingTarget = W
    }
    if (O && M) {
      for (Q = 0; Q < M.length; Q++) {
        N[Q] = M[Q]
      }
      for (Q = 0; Q < N.length; Q++) {
        c(N[Q], V, U, S)
      }
    }
  }
  function b(K, O) {
    var L, M, N, P = q.rolesFromNamespaces([].slice.call(arguments, 2));
    O = q.observable(O);
    K = a(K);
    for (L = 0, M = K.length; L < M; L++) {
      N = K[L];
      if (N.nodeType === 1) {
        c(N, O, P)
      }
    }
  }
  function D(L) {
    var K = L.kendoBindingTarget;
    if (K) {
      K.destroy();
      if (a.support.deleteExpando) {
        delete L.kendoBindingTarget
      } else {
        if (L.removeAttribute) {
          L.removeAttribute("kendoBindingTarget")
        } else {
          L.kendoBindingTarget = null
        }
      }
    }
  }
  function F(K) {
    D(K);
    E(K)
  }
  function E(L) {
    var K = L.children;
    if (K) {
      for (var M = 0, N = K.length; M < N; M++) {
        F(K[M])
      }
    }
  }
  function C(K) {
    var L, M;
    K = a(K);
    for (L = 0, M = K.length; L < M; L++) {
      F(K[L])
    }
  }
  function s(N, M) {
    var L = N.element,
      K = L[0].kendoBindingTarget;
    if (K) {
      b(L, K.source, M)
    }
  }
  q.unbind = C;
  q.bind = b;
  q.data.binders = e;
  q.data.Binder = d;
  q.notify = s;
  q.observable = function(K) {
    if (!(K instanceof v)) {
      K = new v(K)
    }
    return K
  };
  q.observableHierarchy = function(K) {
    var L = q.data.HierarchicalDataSource.create(K);

    function M(O) {
      var P, N;
      for (P = 0; P < O.length; P++) {
        O[P]._initChildren();
        N = O[P].children;
        N.fetch();
        O[P].items = N.data();
        M(O[P].items)
      }
    }
    L.fetch();
    M(L.data());
    L._data._dataSource = L;
    return L._data
  }
})(window.kendo.jQuery);
kendo_module({
  id: "validator",
  name: "Validator",
  category: "web",
  description: "The Validator offers an easy way to do a client-side form validation.",
  depends: ["core"]
});
(function(a, w) {
  var l = window.kendo,
    z = l.ui.Widget,
    p = ".kendoValidator",
    j = "k-invalid-msg",
    k = new RegExp(j, "i"),
    i = "k-invalid",
    e = /^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,
    x = /^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,
    h = ":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",
    c = ":checkbox:not([disabled],[readonly])",
    q = "[type=number],[type=range]",
    b = "blur",
    n = "name",
    f = "form",
    o = "novalidate",
    u = a.proxy,
    t = function(B, A) {
      if (typeof A === "string") {
        A = new RegExp("^(?:" + A + ")$")
      }
      return A.test(B)
    }, m = function(A, C, B) {
      var D = A.val();
      if (A.filter(C).length && D !== "") {
        return t(D, B)
      }
      return true
    }, g = function(A, B) {
      if (A.length) {
        return A[0].attributes[B] != null
      }
      return false
    };
  if (!l.ui.validator) {
    l.ui.validator = {
      rules: {},
      messages: {}
    }
  }
  function v(A) {
    var C = l.ui.validator.ruleResolvers || {}, D = {}, B;
    for (B in C) {
      a.extend(true, D, C[B].resolve(A))
    }
    return D
  }
  function d(A) {
    return A.replace(/&amp/g, "&amp;").replace(/&quot;/g, '"').replace(/&#39;/g, "'").replace(/&lt;/g, "<").replace(/&gt;/g, ">")
  }
  function r(A) {
    A = (A + "").split(".");
    if (A.length > 1) {
      return A[1].length
    }
    return 0
  }
  function s(A) {
    if (a.parseHTML) {
      return a(a.parseHTML(A))
    }
    return a(A)
  }
  var y = z.extend({
    init: function(A, B) {
      var D = this,
        C = v(A);
      B = B || {};
      B.rules = a.extend({}, l.ui.validator.rules, C.rules, B.rules);
      B.messages = a.extend({}, l.ui.validator.messages, C.messages, B.messages);
      z.fn.init.call(D, A, B);
      D._errorTemplate = l.template(D.options.errorTemplate);
      if (D.element.is(f)) {
        D.element.attr(o, o)
      }
      D._errors = {};
      D._attachEvents()
    },
    events: ["validate"],
    options: {
      name: "Validator",
      errorTemplate: '<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> #=message#</span>',
      messages: {
        required: "{0} is required",
        pattern: "{0} is not valid",
        min: "{0} should be greater than or equal to {1}",
        max: "{0} should be smaller than or equal to {1}",
        step: "{0} is not valid",
        email: "{0} is not valid email",
        url: "{0} is not valid URL",
        date: "{0} is not valid date"
      },
      rules: {
        required: function(B) {
          var A = B.filter("[type=checkbox]").length && !B.is(":checked"),
            C = B.val();
          return !(g(B, "required") && (C === "" || !C || A))
        },
        pattern: function(A) {
          if (A.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length && A.val() !== "") {
            return t(A.val(), A.attr("pattern"))
          }
          return true
        },
        min: function(A) {
          if (A.filter(q + ",[" + l.attr("type") + "=number]").filter("[min]").length && A.val() !== "") {
            var B = parseFloat(A.attr("min")) || 0,
              C = l.parseFloat(A.val());
            return B <= C
          }
          return true
        },
        max: function(A) {
          if (A.filter(q + ",[" + l.attr("type") + "=number]").filter("[max]").length && A.val() !== "") {
            var B = parseFloat(A.attr("max")) || 0,
              C = l.parseFloat(A.val());
            return B >= C
          }
          return true
        },
        step: function(B) {
          if (B.filter(q + ",[" + l.attr("type") + "=number]").filter("[step]").length && B.val() !== "") {
            var C = parseFloat(B.attr("min")) || 0,
              E = parseFloat(B.attr("step")) || 1,
              F = parseFloat(B.val()),
              A = r(E),
              D;
            if (A) {
              D = Math.pow(10, A);
              return (((F - C) * D) % (E * D)) / Math.pow(100, A) === 0
            }
            return ((F - C) % E) === 0
          }
          return true
        },
        email: function(A) {
          return m(A, "[type=email],[" + l.attr("type") + "=email]", e)
        },
        url: function(A) {
          return m(A, "[type=url],[" + l.attr("type") + "=url]", x)
        },
        date: function(A) {
          if (A.filter("[type^=date],[" + l.attr("type") + "=date]").length && A.val() !== "") {
            return l.parseDate(A.val(), A.attr(l.attr("format"))) !== null
          }
          return true
        }
      },
      validateOnBlur: true
    },
    destroy: function() {
      z.fn.destroy.call(this);
      this.element.off(p)
    },
    _submit: function(A) {
      if (!this.validate()) {
        A.stopPropagation();
        A.stopImmediatePropagation();
        A.preventDefault();
        return false
      }
      return true
    },
    _attachEvents: function() {
      var A = this;
      if (A.element.is(f)) {
        A.element.on("submit" + p, u(A._submit, A))
      }
      if (A.options.validateOnBlur) {
        if (!A.element.is(h)) {
          A.element.on(b + p, h, function() {
            A.validateInput(a(this))
          });
          A.element.on("click" + p, c, function() {
            A.validateInput(a(this))
          })
        } else {
          A.element.on(b + p, function() {
            A.validateInput(A.element)
          });
          if (A.element.is(c)) {
            A.element.on("click" + p, function() {
              A.validateInput(A.element)
            })
          }
        }
      }
    },
    validate: function() {
      var B;
      var A;
      var E = false;
      var D;
      this._errors = {};
      if (!this.element.is(h)) {
        var C = false;
        B = this.element.find(h);
        for (A = 0, D = B.length; A < D; A++) {
          if (!this.validateInput(B.eq(A))) {
            C = true
          }
        }
        E = !C
      } else {
        E = this.validateInput(this.element)
      }
      this.trigger("validate", {
        valid: E
      });
      return E
    },
    validateInput: function(C) {
      C = a(C);
      var I = this,
        H = I._errorTemplate,
        G = I._checkValidity(C),
        J = G.valid,
        A = "." + j,
        B = (C.attr(n) || ""),
        D = I._findMessageContainer(B).add(C.next(A)).hide(),
        F;
      C.removeAttr("aria-invalid");
      if (!J) {
        F = I._extractMessage(C, G.key);
        I._errors[B] = F;
        var E = s(H({
          message: d(F)
        }));
        I._decorateMessageContainer(E, B);
        if (!D.replaceWith(E).length) {
          E.insertAfter(C)
        }
        E.show();
        C.attr("aria-invalid", true)
      }
      C.toggleClass(i, !J);
      return J
    },
    hideMessages: function() {
      var C = this,
        A = "." + j,
        B = C.element;
      if (!B.is(h)) {
        B.find(A).hide()
      } else {
        B.next(A).hide()
      }
    },
    _findMessageContainer: function(E) {
      var H = l.ui.validator.messageLocators,
        I, C = a(),
        B = this.element[0].getElementsByTagName("*");
      for (var F = 0, G = B.length; F < G; F++) {
        var D = B[F];
        if (k.test(D.className)) {
          var A = D.getAttribute(l.attr("for"));
          if (A === E) {
            C = C.add(D)
          }
        }
      }
      for (I in H) {
        C = C.add(H[I].locate(this.element, E))
      }
      return C
    },
    _decorateMessageContainer: function(A, B) {
      var C = l.ui.validator.messageLocators,
        D;
      A.addClass(j).attr(l.attr("for"), B || "");
      for (D in C) {
        C[D].decorate(A, B)
      }
      A.attr("role", "alert")
    },
    _extractMessage: function(C, D) {
      var E = this,
        A = E.options.messages[D],
        B = C.attr(n);
      A = l.isFunction(A) ? A(C) : A;
      return l.format(C.attr(l.attr(D + "-msg")) || C.attr("validationMessage") || C.attr("title") || A || "", B, C.attr(D))
    },
    _checkValidity: function(A) {
      var C = this.options.rules,
        B;
      for (B in C) {
        if (!C[B](A)) {
          return {
            valid: false,
            key: B
          }
        }
      }
      return {
        valid: true
      }
    },
    errors: function() {
      var C = [],
        B = this._errors,
        A;
      for (A in B) {
        C.push(B[A])
      }
      return C
    }
  });
  l.ui.plugin(y)
})(window.kendo.jQuery);
kendo_module({
  id: "userevents",
  name: "User Events",
  category: "framework",
  depends: ["core"],
  hidden: true
});
(function(a, E) {
  var p = window.kendo,
    z = p.support,
    f = window.document,
    c = p.Class,
    s = p.Observable,
    r = a.now,
    h = a.extend,
    t = z.mobileOS,
    o = t && t.android,
    d = 800,
    e = z.browser.ie ? 5 : 0,
    u = "press",
    n = "hold",
    x = "select",
    y = "start",
    q = "move",
    g = "end",
    b = "cancel",
    A = "tap",
    w = "release",
    k = "gesturestart",
    i = "gesturechange",
    j = "gestureend",
    l = "gesturetap";

  function D(J, K) {
    var L = J.x.location,
      N = J.y.location,
      M = K.x.location,
      O = K.y.location,
      H = L - M,
      I = N - O;
    return {
      center: {
        x: (L + M) / 2,
        y: (N + O) / 2
      },
      distance: Math.sqrt(H * H + I * I)
    }
  }
  function m(J) {
    var O = [],
      M = J.originalEvent,
      I = J.currentTarget,
      K = 0,
      L, H, N;
    if (J.api) {
      O.push({
        id: 2,
        event: J,
        target: J.target,
        currentTarget: J.target,
        location: J
      })
    } else {
      if (J.type.match(/touch/)) {
        H = M ? M.changedTouches : [];
        for (L = H.length; K < L; K++) {
          N = H[K];
          O.push({
            location: N,
            event: J,
            target: N.target,
            currentTarget: I,
            id: N.identifier
          })
        }
      } else {
        if (z.pointers || z.msPointers) {
          O.push({
            location: M,
            event: J,
            target: J.target,
            currentTarget: I,
            id: M.pointerId
          })
        } else {
          O.push({
            id: 1,
            event: J,
            target: J.target,
            currentTarget: I,
            location: J
          })
        }
      }
    }
    return O
  }
  var C = c.extend({
    init: function(H, I) {
      var J = this;
      J.axis = H;
      J._updateLocationData(I);
      J.startLocation = J.location;
      J.velocity = J.delta = 0;
      J.timeStamp = r()
    },
    move: function(H) {
      var J = this,
        I = H["page" + J.axis],
        L = r(),
        K = (L - J.timeStamp) || 1;
      if (!I && o) {
        return
      }
      J.delta = I - J.location;
      J._updateLocationData(H);
      J.initialDelta = I - J.startLocation;
      J.velocity = J.delta / K;
      J.timeStamp = L
    },
    _updateLocationData: function(I) {
      var J = this,
        H = J.axis;
      J.location = I["page" + H];
      J.client = I["client" + H];
      J.screen = I["screen" + H]
    }
  });
  var B = c.extend({
    init: function(K, H, J) {
      var I = this;
      h(I, {
        x: new C("X", J.location),
        y: new C("Y", J.location),
        userEvents: K,
        target: H,
        currentTarget: J.currentTarget,
        initialTouch: J.target,
        id: J.id,
        _moved: false,
        _finished: false
      });
      I.press = function() {
        I._trigger(u, J);
        I._holdTimeout = setTimeout(function() {
          I._trigger(n, J)
        }, K.minHold)
      }
    },
    move: function(I) {
      var H = this;
      if (H._finished) {
        return
      }
      H.x.move(I.location);
      H.y.move(I.location);
      if (!H._moved) {
        if (H._withinIgnoreThreshold()) {
          return
        }
        if (!F.current || F.current === H.userEvents) {
          H._start(I)
        } else {
          return H.dispose()
        }
      }
      if (!H._finished) {
        H._trigger(q, I)
      }
    },
    end: function(I) {
      var H = this;
      H.endTime = r();
      if (H._finished) {
        return
      }
      if (H._moved) {
        H._trigger(g, I)
      } else {
        H._trigger(A, I)
      }
      clearTimeout(H._holdTimeout);
      H._trigger(w, I);
      H.dispose()
    },
    dispose: function() {
      var I = this,
        J = I.userEvents,
        H = J.touches;
      I._finished = true;
      H.splice(a.inArray(I, H), 1)
    },
    skip: function() {
      this.dispose()
    },
    cancel: function() {
      this.dispose()
    },
    isMoved: function() {
      return this._moved
    },
    _start: function(H) {
      clearTimeout(this._holdTimeout);
      this.startTime = r();
      this._moved = true;
      this._trigger(y, H)
    },
    _trigger: function(J, L) {
      var K = this,
        I = L.event,
        H = {
          touch: K,
          x: K.x,
          y: K.y,
          target: K.target,
          event: I
        };
      if (K.userEvents.notify(J, H)) {
        I.preventDefault()
      }
    },
    _withinIgnoreThreshold: function() {
      var H = this.x.initialDelta,
        I = this.y.initialDelta;
      return Math.sqrt(H * H + I * I) <= this.userEvents.threshold
    }
  });

  function v(H) {
    H.preventDefault();
    var K = a(H.data.root),
      J = K.closest(".k-widget").parent();
    if (!J[0]) {
      J = K.parent()
    }
    var I = a.extend(true, {}, H, {
      target: K[0]
    });
    J.trigger(a.Event(H.type, I))
  }
  function G(H) {
    var I = p.eventMap.up.split(" "),
      J = 0,
      K = I.length;
    for (; J < K; J++) {
      H(I[J])
    }
  }
  var F = s.extend({
    init: function(H, K) {
      var N = this,
        I, J = p.guid();
      K = K || {};
      I = N.filter = K.filter;
      N.threshold = K.threshold || e;
      N.minHold = K.minHold || d;
      N.touches = [];
      N._maxTouches = K.multiTouch ? 2 : 1;
      N.allowSelection = K.allowSelection;
      N.captureUpIfMoved = K.captureUpIfMoved;
      N.eventNS = J;
      H = a(H).handler(N);
      s.fn.init.call(N);
      h(N, {
        element: H,
        surface: K.global ? a(f.documentElement) : a(K.surface || H),
        stopPropagation: K.stopPropagation,
        pressed: false
      });
      N.surface.handler(N).on(p.applyEventMap("move", J), "_move").on(p.applyEventMap("up cancel", J), "_end");
      H.on(p.applyEventMap("down", J), I, "_start");
      if (z.pointers || z.msPointers) {
        H.css("-ms-touch-action", "pinch-zoom double-tap-zoom")
      }
      if (K.preventDragEvent) {
        H.on(p.applyEventMap("dragstart", J), p.preventDefault)
      }
      H.on(p.applyEventMap("mousedown selectstart", J), I, {
        root: H
      }, "_select");
      if (N.captureUpIfMoved && z.eventCapture) {
        var M = N.surface[0],
          L = a.proxy(N.preventIfMoving, N);
        G(function(O) {
          M.addEventListener(O, L, true)
        })
      }
      N.bind([u, n, A, y, q, g, w, b, k, i, j, l, x], K)
    },
    preventIfMoving: function(H) {
      if (this._isMoved()) {
        H.preventDefault()
      }
    },
    destroy: function() {
      var I = this;
      if (I._destroyed) {
        return
      }
      I._destroyed = true;
      if (I.captureUpIfMoved && z.eventCapture) {
        var H = I.surface[0];
        G(function(J) {
          H.removeEventListener(J, I.preventIfMoving)
        })
      }
      I.element.kendoDestroy(I.eventNS);
      I.surface.kendoDestroy(I.eventNS);
      I.element.removeData("handler");
      I.surface.removeData("handler");
      I._disposeAll();
      I.unbind();
      delete I.surface;
      delete I.element
    },
    capture: function() {
      F.current = this
    },
    cancel: function() {
      this._disposeAll();
      this.trigger(b)
    },
    notify: function(I, H) {
      var J = this,
        K = J.touches;
      if (this._isMultiTouch()) {
        switch (I) {
          case q:
            I = i;
            break;
          case g:
            I = j;
            break;
          case A:
            I = l;
            break
        }
        h(H, {
          touches: K
        }, D(K[0], K[1]))
      }
      return this.trigger(I, H)
    },
    press: function(I, J, H) {
      this._apiCall("_start", I, J, H)
    },
    move: function(H, I) {
      this._apiCall("_move", H, I)
    },
    end: function(H, I) {
      this._apiCall("_end", H, I)
    },
    _isMultiTouch: function() {
      return this.touches.length > 1
    },
    _maxTouchesReached: function() {
      return this.touches.length >= this._maxTouches
    },
    _disposeAll: function() {
      var H = this.touches;
      while (H.length > 0) {
        H.pop().dispose()
      }
    },
    _isMoved: function() {
      return a.grep(this.touches, function(H) {
        return H.isMoved()
      }).length
    },
    _select: function(H) {
      if (!this.allowSelection || this.trigger(x, {
        event: H
      })) {
        v(H)
      }
    },
    _start: function(H) {
      var M = this,
        J = 0,
        I = M.filter,
        L, O = m(H),
        K = O.length,
        N;
      if (M._maxTouchesReached()) {
        return
      }
      F.current = null;
      M.currentTarget = H.currentTarget;
      if (M.stopPropagation) {
        H.stopPropagation()
      }
      for (; J < K; J++) {
        if (M._maxTouchesReached()) {
          break
        }
        N = O[J];
        if (I) {
          L = a(N.currentTarget)
        } else {
          L = M.element
        }
        if (!L.length) {
          continue
        }
        N = new B(M, L, N);
        M.touches.push(N);
        N.press();
        if (M._isMultiTouch()) {
          M.notify("gesturestart", {})
        }
      }
    },
    _move: function(H) {
      this._eachTouch("move", H)
    },
    _end: function(H) {
      this._eachTouch("end", H)
    },
    _eachTouch: function(M, J) {
      var N = this,
        I = {}, P = m(J),
        H = N.touches,
        K, O, Q, L;
      for (K = 0; K < H.length; K++) {
        O = H[K];
        I[O.id] = O
      }
      for (K = 0; K < P.length; K++) {
        Q = P[K];
        L = I[Q.id];
        if (L) {
          L[M](Q)
        }
      }
    },
    _apiCall: function(I, J, K, H) {
      this[I]({
        api: true,
        pageX: J,
        pageY: K,
        clientX: J,
        clientY: K,
        target: H || this.element,
        stopPropagation: a.noop,
        preventDefault: a.noop
      })
    }
  });
  F.minHold = function(H) {
    d = H
  };
  p.getTouches = m;
  p.touchDelta = D;
  p.UserEvents = F
})(window.kendo.jQuery);
kendo_module({
  id: "draganddrop",
  name: "Drag & drop",
  category: "framework",
  description: "Drag & drop functionality for any DOM element.",
  depends: ["core", "userevents"]
});
(function(a, Q) {
  var z = window.kendo,
    M = z.support,
    g = window.document,
    d = z.Class,
    S = z.ui.Widget,
    F = z.Observable,
    R = z.UserEvents,
    L = a.proxy,
    v = a.extend,
    w = z.getOffset,
    m = {}, t = {}, q = {}, B, G = M.mobileOS,
    y = G && G.android,
    C = (y && G.browser == "chrome"),
    A = "keyup",
    b = "change",
    o = "dragstart",
    x = "hold",
    h = "drag",
    j = "dragend",
    i = "dragcancel",
    k = "dragenter",
    n = "dragleave",
    p = "drop";

  function f(W, U) {
    try {
      return a.contains(W, U) || W == U
    } catch (V) {
      return false
    }
  }
  function u(U) {
    if (C) {
      return g.elementFromPoint(U.x.screen, U.y.screen)
    } else {
      return g.elementFromPoint(U.x.client, U.y.client)
    }
  }
  function E(U, V) {
    return parseInt(U.css(V), 10) || 0
  }
  function T(V, U) {
    return Math.min(Math.max(V, U.min), U.max)
  }
  function e(U, V) {
    var aa = w(U),
      Y = aa.left + E(U, "borderLeftWidth") + E(U, "paddingLeft"),
      Z = aa.top + E(U, "borderTopWidth") + E(U, "paddingTop"),
      W = Y + U.width() - V.outerWidth(true),
      X = Z + U.height() - V.outerHeight(true);
    return {
      x: {
        min: Y,
        max: W
      },
      y: {
        min: Z,
        max: X
      }
    }
  }
  function c(X, Z, V) {
    var ab, aa, W = 0,
      Y = Z && Z.length,
      U = V && V.length;
    while (X && X.parentNode) {
      for (W = 0; W < Y; W++) {
        ab = Z[W];
        if (ab.element[0] === X) {
          return {
            target: ab,
            targetElement: X
          }
        }
      }
      for (W = 0; W < U; W++) {
        aa = V[W];
        if (M.matchesSelector.call(X, aa.options.filter)) {
          return {
            target: aa,
            targetElement: X
          }
        }
      }
      X = X.parentNode
    }
    return Q
  }
  var N = F.extend({
    init: function(V, W) {
      var X = this,
        U = V[0];
      X.capture = false;
      if (U.addEventListener) {
        a.each(z.eventMap.down.split(" "), function() {
          U.addEventListener(this, L(X._press, X), true)
        });
        a.each(z.eventMap.up.split(" "), function() {
          U.addEventListener(this, L(X._release, X), true)
        })
      } else {
        a.each(z.eventMap.down.split(" "), function() {
          U.attachEvent(this, L(X._press, X))
        });
        a.each(z.eventMap.up.split(" "), function() {
          U.attachEvent(this, L(X._release, X))
        })
      }
      F.fn.init.call(X);
      X.bind(["press", "release"], W || {})
    },
    captureNext: function() {
      this.capture = true
    },
    cancelCapture: function() {
      this.capture = false
    },
    _press: function(U) {
      var V = this;
      V.trigger("press");
      if (V.capture) {
        U.preventDefault()
      }
    },
    _release: function(U) {
      var V = this;
      V.trigger("release");
      if (V.capture) {
        U.preventDefault();
        V.cancelCapture()
      }
    }
  });
  var J = F.extend({
    init: function(U) {
      var V = this;
      F.fn.init.call(V);
      V.forcedEnabled = false;
      a.extend(V, U);
      V.scale = 1;
      if (V.horizontal) {
        V.measure = "offsetWidth";
        V.scrollSize = "scrollWidth";
        V.axis = "x"
      } else {
        V.measure = "offsetHeight";
        V.scrollSize = "scrollHeight";
        V.axis = "y"
      }
    },
    makeVirtual: function() {
      a.extend(this, {
        virtual: true,
        forcedEnabled: true,
        _virtualMin: 0,
        _virtualMax: 0
      })
    },
    virtualSize: function(V, U) {
      if (this._virtualMin !== V || this._virtualMax !== U) {
        this._virtualMin = V;
        this._virtualMax = U;
        this.update()
      }
    },
    outOfBounds: function(U) {
      return U > this.max || U < this.min
    },
    forceEnabled: function() {
      this.forcedEnabled = true
    },
    getSize: function() {
      return this.container[0][this.measure]
    },
    getTotal: function() {
      return this.element[0][this.scrollSize]
    },
    rescale: function(U) {
      this.scale = U
    },
    update: function(V) {
      var X = this,
        Y = X.virtual ? X._virtualMax : X.getTotal(),
        U = Y * X.scale,
        W = X.getSize();
      X.max = X.virtual ? -X._virtualMin : 0;
      X.size = W;
      X.total = U;
      X.min = Math.min(X.max, W - U);
      X.minScale = W / Y;
      X.centerOffset = (U - W) / 2;
      X.enabled = X.forcedEnabled || (U > W);
      if (!V) {
        X.trigger(b, X)
      }
    }
  });
  var K = F.extend({
    init: function(U) {
      var V = this;
      F.fn.init.call(V);
      V.x = new J(v({
        horizontal: true
      }, U));
      V.y = new J(v({
        horizontal: false
      }, U));
      V.container = U.container;
      V.forcedMinScale = U.minScale;
      V.maxScale = U.maxScale || 100;
      V.bind(b, U)
    },
    rescale: function(U) {
      this.x.rescale(U);
      this.y.rescale(U);
      this.refresh()
    },
    centerCoordinates: function() {
      return {
        x: Math.min(0, -this.x.centerOffset),
        y: Math.min(0, -this.y.centerOffset)
      }
    },
    refresh: function() {
      var U = this;
      U.x.update();
      U.y.update();
      U.enabled = U.x.enabled || U.y.enabled;
      U.minScale = U.forcedMinScale || Math.min(U.x.minScale, U.y.minScale);
      U.fitScale = Math.max(U.x.minScale, U.y.minScale);
      U.trigger(b)
    }
  });
  var I = F.extend({
    init: function(U) {
      var V = this;
      v(V, U);
      F.fn.init.call(V)
    },
    dragMove: function(V) {
      var Z = this,
        W = Z.dimension,
        U = Z.axis,
        X = Z.movable,
        Y = X[U] + V;
      if (!W.enabled) {
        return
      }
      if ((Y < W.min && V < 0) || (Y > W.max && V > 0)) {
        V *= Z.resistance
      }
      X.translateAxis(U, V);
      Z.trigger(b, Z)
    }
  });
  var H = d.extend({
    init: function(V) {
      var X = this,
        Y, Z, W, U;
      v(X, {
        elastic: true
      }, V);
      W = X.elastic ? 0.5 : 0;
      U = X.movable;
      X.x = Y = new I({
        axis: "x",
        dimension: X.dimensions.x,
        resistance: W,
        movable: U
      });
      X.y = Z = new I({
        axis: "y",
        dimension: X.dimensions.y,
        resistance: W,
        movable: U
      });
      X.userEvents.bind(["move", "end", "gesturestart", "gesturechange"], {
        gesturestart: function(aa) {
          X.gesture = aa;
          X.offset = X.dimensions.container.offset()
        },
        gesturechange: function(ac) {
          var ai = X.gesture,
            ah = ai.center,
            aa = ac.center,
            aj = ac.distance / ai.distance,
            ae = X.dimensions.minScale,
            ad = X.dimensions.maxScale,
            ab;
          if (U.scale <= ae && aj < 1) {
            aj += (1 - aj) * 0.8
          }
          if (U.scale * aj >= ad) {
            aj = ad / U.scale
          }
          var af = U.x + X.offset.left,
            ag = U.y + X.offset.top;
          ab = {
            x: (af - ah.x) * aj + aa.x - af,
            y: (ag - ah.y) * aj + aa.y - ag
          };
          U.scaleWith(aj);
          Y.dragMove(ab.x);
          Z.dragMove(ab.y);
          X.dimensions.rescale(U.scale);
          X.gesture = ac;
          ac.preventDefault()
        },
        move: function(aa) {
          if (aa.event.target.tagName.match(/textarea|input/i)) {
            return
          }
          if (Y.dimension.enabled || Z.dimension.enabled) {
            Y.dragMove(aa.x.delta);
            Z.dragMove(aa.y.delta);
            aa.preventDefault()
          } else {
            aa.touch.skip()
          }
        },
        end: function(aa) {
          aa.preventDefault()
        }
      })
    }
  });
  var O = M.transitions.prefix + "Transform",
    P;
  if (M.hasHW3D) {
    P = function(V, W, U) {
      return "translate3d(" + V + "px," + W + "px,0) scale(" + U + ")"
    }
  } else {
    P = function(V, W, U) {
      return "translate(" + V + "px," + W + "px) scale(" + U + ")"
    }
  }
  var D = F.extend({
    init: function(U) {
      var V = this;
      F.fn.init.call(V);
      V.element = a(U);
      V.element[0].style.webkitTransformOrigin = "left top";
      V.x = 0;
      V.y = 0;
      V.scale = 1;
      V._saveCoordinates(P(V.x, V.y, V.scale))
    },
    translateAxis: function(U, V) {
      this[U] += V;
      this.refresh()
    },
    scaleTo: function(U) {
      this.scale = U;
      this.refresh()
    },
    scaleWith: function(U) {
      this.scale *= U;
      this.refresh()
    },
    translate: function(U) {
      this.x += U.x;
      this.y += U.y;
      this.refresh()
    },
    moveAxis: function(U, V) {
      this[U] = V;
      this.refresh()
    },
    moveTo: function(U) {
      v(this, U);
      this.refresh()
    },
    refresh: function() {
      var V = this,
        W = V.x,
        X = V.y,
        U;
      if (V.round) {
        W = Math.round(W);
        X = Math.round(X)
      }
      U = P(W, X, V.scale);
      if (U != V.coordinates) {
        if (z.support.browser.msie && z.support.browser.version < 10) {
          V.element[0].style.position = "absolute";
          V.element[0].style.left = V.x + "px";
          V.element[0].style.top = V.y + "px"
        } else {
          V.element[0].style[O] = U
        }
        V._saveCoordinates(U);
        V.trigger(b)
      }
    },
    _saveCoordinates: function(U) {
      this.coordinates = U
    }
  });
  var r = S.extend({
    init: function(U, W) {
      var X = this;
      S.fn.init.call(X, U, W);
      var V = X.options.group;
      if (!(V in t)) {
        t[V] = [X]
      } else {
        t[V].push(X)
      }
    },
    events: [k, n, p],
    options: {
      name: "DropTarget",
      group: "default"
    },
    destroy: function() {
      var V = this.options.group,
        U = t[V] || q[V],
        W;
      if (U.length > 1) {
        S.fn.destroy.call(this);
        for (W = 0; W < U.length; W++) {
          if (U[W] == this) {
            U.splice(W, 1);
            break
          }
        }
      } else {
        r.destroyGroup(V)
      }
    },
    _trigger: function(W, V) {
      var X = this,
        U = m[X.options.group];
      if (U) {
        return X.trigger(W, v({}, V.event, {
          draggable: U,
          dropTarget: V.dropTarget
        }))
      }
    },
    _over: function(U) {
      this._trigger(k, U)
    },
    _out: function(U) {
      this._trigger(n, U)
    },
    _drop: function(V) {
      var W = this,
        U = m[W.options.group];
      if (U) {
        U.dropped = !W._trigger(p, V)
      }
    }
  });
  r.destroyGroup = function(V) {
    var U = t[V] || q[V],
      W;
    if (U) {
      for (W = 0; W < U.length; W++) {
        S.fn.destroy.call(U[W])
      }
      U.length = 0;
      delete t[V];
      delete q[V]
    }
  };
  r._cache = t;
  var s = r.extend({
    init: function(U, W) {
      var X = this;
      S.fn.init.call(X, U, W);
      var V = X.options.group;
      if (!(V in q)) {
        q[V] = [X]
      } else {
        q[V].push(X)
      }
    },
    options: {
      name: "DropTargetArea",
      group: "default",
      filter: null
    }
  });
  var l = S.extend({
    init: function(U, V) {
      var W = this;
      S.fn.init.call(W, U, V);
      W._activated = false;
      W.userEvents = new R(W.element, {
        global: true,
        stopPropagation: true,
        filter: W.options.filter,
        threshold: W.options.distance,
        start: L(W._start, W),
        hold: L(W._hold, W),
        move: L(W._drag, W),
        end: L(W._end, W),
        cancel: L(W._cancel, W)
      });
      W._afterEndHandler = L(W._afterEnd, W);
      W.captureEscape = function(X) {
        if (X.keyCode === z.keys.ESC) {
          W._trigger(i, {
            event: X
          });
          W.userEvents.cancel()
        }
      }
    },
    events: [x, o, h, j, i],
    options: {
      name: "Draggable",
      distance: 5,
      group: "default",
      cursorOffset: null,
      axis: null,
      container: null,
      holdToDrag: false,
      dropped: false
    },
    cancelHold: function() {
      this._activated = false
    },
    _updateHint: function(Y) {
      var aa = this,
        W, Z = aa.options,
        V = aa.boundaries,
        U = Z.axis,
        X = aa.options.cursorOffset;
      if (X) {
        W = {
          left: Y.x.location + X.left,
          top: Y.y.location + X.top
        }
      } else {
        aa.hintOffset.left += Y.x.delta;
        aa.hintOffset.top += Y.y.delta;
        W = a.extend({}, aa.hintOffset)
      }
      if (V) {
        W.top = T(W.top, V.y);
        W.left = T(W.left, V.x)
      }
      if (U === "x") {
        delete W.top
      } else {
        if (U === "y") {
          delete W.left
        }
      }
      aa.hint.css(W)
    },
    _start: function(V) {
      var Z = this,
        Y = Z.options,
        U = Y.container,
        W = Y.hint;
      if (Y.holdToDrag && !Z._activated) {
        Z.userEvents.cancel();
        return
      }
      Z.currentTarget = V.target;
      Z.currentTargetOffset = w(Z.currentTarget);
      if (W) {
        if (Z.hint) {
          Z.hint.stop(true, true).remove()
        }
        Z.hint = z.isFunction(W) ? a(W.call(Z, Z.currentTarget)) : W;
        var X = w(Z.currentTarget);
        Z.hintOffset = X;
        Z.hint.css({
          position: "absolute",
          zIndex: 20000,
          left: X.left,
          top: X.top
        }).appendTo(g.body)
      }
      m[Y.group] = Z;
      Z.dropped = false;
      if (U) {
        Z.boundaries = e(U, Z.hint)
      }
      if (Z._trigger(o, V)) {
        Z.userEvents.cancel();
        Z._afterEnd()
      }
      a(g).on(A, Z.captureEscape)
    },
    _hold: function(U) {
      this.currentTarget = U.target;
      if (this._trigger(x, U)) {
        this.userEvents.cancel()
      } else {
        this._activated = true
      }
    },
    _drag: function(U) {
      var V = this;
      U.preventDefault();
      V._withDropTarget(U, function(W, X) {
        if (!W) {
          if (B) {
            B._trigger(n, v(U, {
              dropTarget: a(B.targetElement)
            }));
            B = null
          }
          return
        }
        if (B) {
          if (X === B.targetElement) {
            return
          }
          B._trigger(n, v(U, {
            dropTarget: a(B.targetElement)
          }))
        }
        W._trigger(k, v(U, {
          dropTarget: a(X)
        }));
        B = v(W, {
          targetElement: X
        })
      });
      V._trigger(h, U);
      if (V.hint) {
        V._updateHint(U)
      }
    },
    _end: function(U) {
      var V = this;
      V._withDropTarget(U, function(W, X) {
        if (W) {
          W._drop(v({}, U, {
            dropTarget: a(X)
          }));
          B = null
        }
      });
      V._trigger(j, U);
      V._cancel(U.event)
    },
    _cancel: function() {
      var U = this;
      U._activated = false;
      if (U.hint && !U.dropped) {
        setTimeout(function() {
          U.hint.stop(true, true).animate(U.currentTargetOffset, "fast", U._afterEndHandler)
        }, 0)
      } else {
        U._afterEnd()
      }
    },
    _trigger: function(V, U) {
      var W = this;
      return W.trigger(V, v({}, U.event, {
        x: U.x,
        y: U.y,
        currentTarget: W.currentTarget,
        dropTarget: U.dropTarget
      }))
    },
    _withDropTarget: function(W, V) {
      var ab = this,
        Z, Y, X = ab.options,
        aa = t[X.group],
        U = q[X.group];
      if (aa && aa.length || U && U.length) {
        Z = u(W);
        if (ab.hint && f(ab.hint[0], Z)) {
          ab.hint.hide();
          Z = u(W);
          if (!Z) {
            Z = u(W)
          }
          ab.hint.show()
        }
        Y = c(Z, aa, U);
        if (Y) {
          V(Y.target, Y.targetElement)
        } else {
          V()
        }
      }
    },
    destroy: function() {
      var U = this;
      S.fn.destroy.call(U);
      U._afterEnd();
      U.userEvents.destroy()
    },
    _afterEnd: function() {
      var U = this;
      if (U.hint) {
        U.hint.remove()
      }
      delete m[U.options.group];
      U.trigger("destroy");
      a(g).off(A, U.captureEscape)
    }
  });
  z.ui.plugin(r);
  z.ui.plugin(s);
  z.ui.plugin(l);
  z.TapCapture = N;
  z.containerBoundaries = e;
  v(z.ui, {
    Pane: H,
    PaneDimensions: K,
    Movable: D
  })
})(window.kendo.jQuery);
kendo_module({
  id: "mobile.scroller",
  name: "Scroller",
  category: "mobile",
  description: "The Kendo Mobile Scroller widget enables touch friendly kinetic scrolling for the contents of a given DOM element.",
  depends: ["core", "fx", "draganddrop"]
});
(function(a, E) {
  var l = window.kendo,
    n = l.mobile,
    k = l.effects,
    D = n.ui,
    s = a.proxy,
    i = a.extend,
    G = D.Widget,
    g = l.Class,
    o = l.ui.Movable,
    q = l.ui.Pane,
    r = l.ui.PaneDimensions,
    C = k.Transition,
    e = k.Animation,
    b = Math.abs,
    B = 500,
    z = 0.7,
    j = 0.96,
    F = 10,
    m = 55,
    p = 0.5,
    c = 5,
    v = "km-scroller-release",
    u = "km-scroller-refresh",
    t = "pull",
    f = "change",
    w = "resize",
    x = "scroll";
  var H = e.extend({
    init: function(I) {
      var J = this;
      e.fn.init.call(J);
      i(J, I);
      J.userEvents.bind("gestureend", s(J.start, J));
      J.tapCapture.bind("press", s(J.cancel, J))
    },
    done: function() {
      return this.dimensions.minScale - this.movable.scale < 0.01
    },
    tick: function() {
      var I = this.movable;
      I.scaleWith(1.1);
      this.dimensions.rescale(I.scale)
    },
    onEnd: function() {
      var I = this.movable;
      I.scaleTo(this.dimensions.minScale);
      this.dimensions.rescale(I.scale)
    }
  });
  var h = e.extend({
    init: function(I) {
      var J = this;
      e.fn.init.call(J);
      i(J, I, {
        transition: new C({
          axis: I.axis,
          movable: I.movable,
          onEnd: function() {
            J._end()
          }
        })
      });
      J.tapCapture.bind("press", function() {
        J.cancel()
      });
      J.userEvents.bind("end", s(J.start, J));
      J.userEvents.bind("gestureend", s(J.start, J));
      J.userEvents.bind("tap", s(J.onEnd, J))
    },
    onCancel: function() {
      this.transition.cancel()
    },
    freeze: function(I) {
      var J = this;
      J.cancel();
      J._moveTo(I)
    },
    onEnd: function() {
      var I = this;
      if (I._outOfBounds()) {
        I._snapBack()
      } else {
        I._end()
      }
    },
    done: function() {
      return b(this.velocity) < 1
    },
    start: function(I) {
      var J = this;
      if (!J.dimension.enabled) {
        return
      }
      if (J._outOfBounds()) {
        J._snapBack()
      } else {
        J.velocity = Math.max(Math.min(I.touch[J.axis].velocity * J.velocityMultiplier, m), -m);
        if (J.velocity) {
          J.tapCapture.captureNext();
          e.fn.start.call(J)
        } else {
          J._end()
        }
      }
    },
    tick: function() {
      var M = this,
        J = M.dimension,
        K = M._outOfBounds() ? p : M.friction,
        I = (M.velocity *= K),
        L = M.movable[M.axis] + I;
      if (!M.elastic && J.outOfBounds(L)) {
        L = Math.max(Math.min(L, J.max), J.min);
        M.velocity = 0
      }
      M.movable.moveAxis(M.axis, L)
    },
    _end: function() {
      this.tapCapture.cancelCapture();
      this.end()
    },
    _outOfBounds: function() {
      return this.dimension.outOfBounds(this.movable[this.axis])
    },
    _snapBack: function() {
      var K = this,
        I = K.dimension,
        J = K.movable[K.axis] > I.max ? I.max : I.min;
      K._moveTo(J)
    },
    _moveTo: function(I) {
      this.transition.moveTo({
        location: I,
        duration: B,
        ease: C.easeOutExpo
      })
    }
  });
  var d = e.extend({
    init: function(I) {
      var J = this;
      l.effects.Animation.fn.init.call(this);
      i(J, I, {
        origin: {},
        destination: {},
        offset: {}
      })
    },
    tick: function() {
      this._updateCoordinates();
      this.moveTo(this.origin)
    },
    done: function() {
      return b(this.offset.y) < c && b(this.offset.x) < c
    },
    onEnd: function() {
      this.moveTo(this.destination)
    },
    setCoordinates: function(I, J) {
      this.offset = {};
      this.origin = I;
      this.destination = J
    },
    _updateCoordinates: function() {
      this.offset = {
        x: (this.destination.x - this.origin.x) / 4,
        y: (this.destination.y - this.origin.y) / 4
      };
      this.origin = {
        y: this.origin.y + this.offset.y,
        x: this.origin.x + this.offset.x
      }
    }
  });
  var y = g.extend({
    init: function(K) {
      var L = this,
        J = K.axis === "x",
        I = a('<div class="km-touch-scrollbar km-' + (J ? "horizontal" : "vertical") + '-scrollbar" />');
      i(L, K, {
        element: I,
        elementSize: 0,
        movable: new o(I),
        scrollMovable: K.movable,
        size: J ? "width" : "height"
      });
      L.scrollMovable.bind(f, s(L._move, L));
      L.container.append(I)
    },
    _move: function() {
      var P = this,
        I = P.axis,
        J = P.dimension,
        K = J.size,
        M = P.scrollMovable,
        O = K / J.total,
        L = Math.round(-M[I] * O),
        N = Math.round(K * O);
      if (L + N > K) {
        N = K - L
      } else {
        if (L < 0) {
          N += L;
          L = 0
        }
      }
      if (P.elementSize != N) {
        P.element.css(P.size, N + "px");
        P.elementSize = N
      }
      P.movable.moveAxis(I, L)
    },
    show: function() {
      this.element.css({
        opacity: z,
        visibility: "visible"
      })
    },
    hide: function() {
      this.element.css({
        opacity: 0
      })
    }
  });
  var A = G.extend({
    init: function(L, O) {
      var R = this;
      G.fn.init.call(R, L, O);
      L = R.element;
      R._native = R.options.useNative && l.support.hasNativeScrolling;
      if (R._native) {
        L.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>');
        i(R, {
          scrollElement: L,
          fixedContainer: L.children().first()
        });
        return
      }
      L.css("overflow", "hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');
      var M = L.children().eq(1),
        Q = new l.TapCapture(L),
        N = new o(M),
        K = new r({
          element: M,
          container: L,
          forcedEnabled: R.options.zoom
        }),
        J = this.options.avoidScrolling,
        S = new l.UserEvents(L, {
          allowSelection: true,
          preventDragEvent: true,
          captureUpIfMoved: true,
          multiTouch: R.options.zoom,
          start: function(U) {
            K.refresh();
            var W = b(U.x.velocity),
              X = b(U.y.velocity),
              V = W * 2 >= X,
              Y = X * 2 >= W;
            if (!J(U) && R.enabled && (K.x.enabled && V || K.y.enabled && Y)) {
              S.capture()
            } else {
              S.cancel()
            }
          }
        }),
        P = new q({
          movable: N,
          dimensions: K,
          userEvents: S,
          elastic: R.options.elastic
        }),
        T = new H({
          movable: N,
          dimensions: K,
          userEvents: S,
          tapCapture: Q
        }),
        I = new d({
          moveTo: function(U) {
            R.scrollTo(U.x, U.y)
          }
        });
      N.bind(f, function() {
        R.scrollTop = -N.y;
        R.scrollLeft = -N.x;
        R.trigger(x, {
          scrollTop: R.scrollTop,
          scrollLeft: R.scrollLeft
        })
      });
      i(R, {
        movable: N,
        dimensions: K,
        zoomSnapBack: T,
        animatedScroller: I,
        userEvents: S,
        pane: P,
        tapCapture: Q,
        pulled: false,
        enabled: true,
        scrollElement: M,
        scrollTop: 0,
        scrollLeft: 0,
        fixedContainer: L.children().first()
      });
      R._initAxis("x");
      R._initAxis("y");
      K.refresh();
      if (R.options.pullToRefresh) {
        R._initPullToRefresh()
      }
    },
    makeVirtual: function() {
      this.dimensions.y.makeVirtual()
    },
    virtualSize: function(J, I) {
      this.dimensions.y.virtualSize(J, I)
    },
    height: function() {
      return this.dimensions.y.size
    },
    scrollHeight: function() {
      return this.scrollElement[0].scrollHeight
    },
    scrollWidth: function() {
      return this.scrollElement[0].scrollWidth
    },
    options: {
      name: "Scroller",
      zoom: false,
      pullOffset: 140,
      elastic: true,
      useNative: false,
      avoidScrolling: function() {
        return false
      },
      pullToRefresh: false,
      pullTemplate: "Pull to refresh",
      releaseTemplate: "Release to refresh",
      refreshTemplate: "Refreshing"
    },
    events: [t, x, w],
    _resize: function() {
      if (!this._native) {
        this.dimensions.refresh()
      }
      this.reset()
    },
    setOptions: function(I) {
      var J = this;
      G.fn.setOptions.call(J, I);
      if (I.pullToRefresh) {
        J._initPullToRefresh()
      }
    },
    reset: function() {
      if (this._native) {
        this.scrollElement.scrollTop(0)
      } else {
        this.movable.moveTo({
          x: 0,
          y: 0
        });
        this._scale(1)
      }
    },
    zoomOut: function() {
      var I = this.dimensions;
      I.refresh();
      this._scale(I.fitScale);
      this.movable.moveTo(I.centerCoordinates())
    },
    enable: function() {
      this.enabled = true
    },
    disable: function() {
      this.enabled = false
    },
    scrollTo: function(I, J) {
      if (this._native) {
        this.scrollElement.scrollLeft(I);
        this.scrollElement.scrollTop(J)
      } else {
        this.dimensions.refresh();
        this.movable.moveTo({
          x: I,
          y: J
        })
      }
    },
    animatedScrollTo: function(K, L) {
      var I = {
        x: this.movable.x,
        y: this.movable.y
      }, J = {
        x: K,
        y: L
      };
      this.animatedScroller.setCoordinates(I, J);
      this.animatedScroller.start()
    },
    pullHandled: function() {
      var I = this;
      I.refreshHint.removeClass(u);
      I.hintContainer.html(I.pullTemplate({}));
      I.yinertia.onEnd();
      I.xinertia.onEnd()
    },
    destroy: function() {
      G.fn.destroy.call(this);
      if (this.userEvents) {
        this.userEvents.destroy()
      }
    },
    _scale: function(I) {
      this.dimensions.rescale(I);
      this.movable.scaleTo(I)
    },
    _initPullToRefresh: function() {
      var I = this;
      I.dimensions.y.forceEnabled();
      I.pullTemplate = l.template(I.options.pullTemplate);
      I.releaseTemplate = l.template(I.options.releaseTemplate);
      I.refreshTemplate = l.template(I.options.refreshTemplate);
      I.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">' + I.pullTemplate({}) + "</span></span>");
      I.refreshHint = I.scrollElement.children().first();
      I.hintContainer = I.refreshHint.children(".km-template");
      I.pane.y.bind("change", s(I._paneChange, I));
      I.userEvents.bind("end", s(I._dragEnd, I))
    },
    _dragEnd: function() {
      var I = this;
      if (!I.pulled) {
        return
      }
      I.pulled = false;
      I.refreshHint.removeClass(v).addClass(u);
      I.hintContainer.html(I.refreshTemplate({}));
      I.yinertia.freeze(I.options.pullOffset / 2);
      I.trigger("pull")
    },
    _paneChange: function() {
      var I = this;
      if (I.movable.y / p > I.options.pullOffset) {
        if (!I.pulled) {
          I.pulled = true;
          I.refreshHint.removeClass(u).addClass(v);
          I.hintContainer.html(I.releaseTemplate({}))
        }
      } else {
        if (I.pulled) {
          I.pulled = false;
          I.refreshHint.removeClass(v);
          I.hintContainer.html(I.pullTemplate({}))
        }
      }
    },
    _initAxis: function(I) {
      var N = this,
        K = N.movable,
        J = N.dimensions[I],
        M = N.tapCapture,
        L = new y({
          axis: I,
          movable: K,
          dimension: J,
          container: N.element
        });
      N.pane[I].bind(f, function() {
        L.show()
      });
      N[I + "inertia"] = new h({
        axis: I,
        movable: K,
        tapCapture: M,
        userEvents: N.userEvents,
        dimension: J,
        elastic: N.options.elastic,
        friction: N.options.friction || j,
        velocityMultiplier: N.options.velocityMultiplier || F,
        end: function() {
          L.hide();
          N.trigger("scrollEnd", {
            axis: I,
            scrollTop: N.scrollTop,
            scrollLeft: N.scrollLeft
          })
        }
      })
    }
  });
  D.plugin(A)
})(window.kendo.jQuery);
kendo_module({
  id: "groupable",
  name: "Groupable",
  category: "framework",
  depends: ["core", "draganddrop"],
  advanced: true
});
(function(a, l) {
  var h = window.kendo,
    m = h.ui.Widget,
    k = a.proxy,
    g = false,
    j = ".kendoGroupable",
    f = h.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-si-arrow-${(data.dir || "asc") == "asc" ? "n" : "s"}">(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})</span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-button-bare"><span class="k-icon k-group-delete"></span></a></div>', {
      useWithBlock: false
    }),
    e = function(n) {
      return a('<div class="k-header k-drag-clue" />').css({
        width: n.width(),
        paddingLeft: n.css("paddingLeft"),
        paddingRight: n.css("paddingRight"),
        lineHeight: n.height() + "px",
        paddingTop: n.css("paddingTop"),
        paddingBottom: n.css("paddingBottom")
      }).html(n.attr(h.attr("title")) || n.attr(h.attr("field"))).prepend('<span class="k-icon k-drag-status k-denied" />')
    }, b = a('<div class="k-grouping-dropclue"/>'),
    i = /("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g;

  function c(n) {
    return n.position().top + 3
  }
  var d = m.extend({
    init: function(p, u) {
      var v = this,
        r, q = h.guid(),
        t = k(v._intializePositions, v),
        n, s, o = v._dropCuePositions = [];
      m.fn.init.call(v, p, u);
      g = h.support.isRtl(p);
      s = g ? "right" : "left";
      v.draggable = n = v.options.draggable || new h.ui.Draggable(v.element, {
        filter: v.options.draggableElements,
        hint: e,
        group: q
      });
      r = v.groupContainer = a(v.options.groupContainer, v.element).kendoDropTarget({
        group: n.options.group,
        dragenter: function(w) {
          if (v._canDrag(w.draggable.currentTarget)) {
            w.draggable.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add");
            b.css("top", c(r)).css(s, 0).appendTo(r)
          }
        },
        dragleave: function(w) {
          w.draggable.hint.find(".k-drag-status").removeClass("k-add").addClass("k-denied");
          b.remove()
        },
        drop: function(x) {
          var C = x.draggable.currentTarget,
            y = C.attr(h.attr("field")),
            D = C.attr(h.attr("title")),
            B = v.indicator(y),
            w = v._dropCuePositions,
            z = w[w.length - 1],
            A;
          if (!C.hasClass("k-group-indicator") && !v._canDrag(C)) {
            return
          }
          if (z) {
            A = v._dropCuePosition(h.getOffset(b).left + parseInt(z.element.css("marginLeft"), 10) * (g ? -1 : 1) + parseInt(z.element.css("marginRight"), 10));
            if (A && v._canDrop(a(B), A.element, A.left)) {
              if (A.before) {
                A.element.before(B || v.buildIndicator(y, D))
              } else {
                A.element.after(B || v.buildIndicator(y, D))
              }
              v._change()
            }
          } else {
            v.groupContainer.append(v.buildIndicator(y, D));
            v._change()
          }
        }
      }).kendoDraggable({
        filter: "div.k-group-indicator",
        hint: e,
        group: n.options.group,
        dragcancel: k(v._dragCancel, v),
        dragstart: function(w) {
          var x = w.currentTarget,
            A = parseInt(x.css("marginLeft"), 10),
            y = x.position(),
            z = g ? y.left - A : y.left + x.outerWidth();
          t();
          b.css({
            top: c(r),
            left: z
          }).appendTo(r);
          this.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add")
        },
        dragend: function() {
          v._dragEnd(this)
        },
        drag: k(v._drag, v)
      }).on("click" + j, ".k-button", function(w) {
        w.preventDefault();
        v._removeIndicator(a(this).parent())
      }).on("click" + j, ".k-link", function(x) {
        var w = a(this).parent(),
          y = v.buildIndicator(w.attr(h.attr("field")), w.attr(h.attr("title")), w.attr(h.attr("dir")) == "asc" ? "desc" : "asc");
        w.before(y).remove();
        v._change();
        x.preventDefault()
      });
      n.bind(["dragend", "dragcancel", "dragstart", "drag"], {
        dragend: function() {
          v._dragEnd(this)
        },
        dragcancel: k(v._dragCancel, v),
        dragstart: function(w) {
          var x, z, y;
          if (!v.options.allowDrag && !v._canDrag(w.currentTarget)) {
            w.preventDefault();
            return
          }
          t();
          if (o.length) {
            x = o[o.length - 1].element;
            z = parseInt(x.css("marginRight"), 10);
            y = x.position().left + x.outerWidth() + z
          } else {
            y = 0
          }
        },
        drag: k(v._drag, v)
      });
      v.dataSource = v.options.dataSource;
      if (v.dataSource) {
        v._refreshHandler = k(v.refresh, v);
        v.dataSource.bind("change", v._refreshHandler)
      }
    },
    refresh: function() {
      var o = this,
        n = o.dataSource;
      o.groupContainer.empty().append(a.map(n.group() || [], function(r) {
        var q = r.field.replace(i, "\\$1");
        var p = o.element.find(o.options.filter).filter("[" + h.attr("field") + "=" + q + "]");
        return o.buildIndicator(r.field, p.attr(h.attr("title")), r.dir)
      }).join(""));
      o._invalidateGroupContainer()
    },
    destroy: function() {
      var n = this;
      m.fn.destroy.call(n);
      n.groupContainer.off(j);
      if (n.groupContainer.data("kendoDropTarget")) {
        n.groupContainer.data("kendoDropTarget").destroy()
      }
      if (n.groupContainer.data("kendoDraggable")) {
        n.groupContainer.data("kendoDraggable").destroy()
      }
      if (!n.options.draggable) {
        n.draggable.destroy()
      }
      if (n.dataSource && n._refreshHandler) {
        n.dataSource.unbind("change", n._refreshHandler)
      }
    },
    options: {
      name: "Groupable",
      filter: "th",
      draggableElements: "th",
      messages: {
        empty: "Drag a column header and drop it here to group by that column"
      }
    },
    indicator: function(n) {
      var o = a(".k-group-indicator", this.groupContainer);
      return a.grep(o, function(p) {
        return a(p).attr(h.attr("field")) === n
      })[0]
    },
    buildIndicator: function(o, p, n) {
      return f({
        field: o.replace(/"/g, "'"),
        dir: n,
        title: p,
        ns: h.ns
      })
    },
    descriptors: function() {
      var t = this,
        q = a(".k-group-indicator", t.groupContainer),
        n, s, o, p, r;
      n = t.element.find(t.options.filter).map(function() {
        var v = a(this),
          u = v.attr(h.attr("aggregates")),
          w = v.attr(h.attr("field"));
        if (u && u !== "") {
          s = u.split(",");
          u = [];
          for (p = 0, r = s.length; p < r; p++) {
            u.push({
              field: w,
              aggregate: s[p]
            })
          }
        }
        return u
      }).toArray();
      return a.map(q, function(u) {
        u = a(u);
        o = u.attr(h.attr("field"));
        return {
          field: o,
          dir: u.attr(h.attr("dir")),
          aggregates: n || []
        }
      })
    },
    _removeIndicator: function(n) {
      var o = this;
      n.remove();
      o._invalidateGroupContainer();
      o._change()
    },
    _change: function() {
      var n = this;
      if (n.dataSource) {
        n.dataSource.group(n.descriptors())
      }
    },
    _dropCuePosition: function(s) {
      var n = this._dropCuePositions;
      if (!b.is(":visible") || n.length === 0) {
        return
      }
      s = Math.ceil(s);
      var o = n[n.length - 1],
        p = o.left,
        t = o.right,
        q = parseInt(o.element.css("marginLeft"), 10),
        r = parseInt(o.element.css("marginRight"), 10);
      if (s >= t && !g || s < p && g) {
        s = {
          left: o.element.position().left + (!g ? o.element.outerWidth() + r : -q),
          element: o.element,
          before: false
        }
      } else {
        s = a.grep(n, function(u) {
          return (u.left <= s && s <= u.right) || (g && s > u.right)
        })[0];
        if (s) {
          s = {
            left: g ? s.element.position().left + s.element.outerWidth() + r : s.element.position().left - q,
            element: s.element,
            before: true
          }
        }
      }
      return s
    },
    _drag: function(n) {
      var o = this._dropCuePosition(n.x.location);
      if (o) {
        b.css({
          left: o.left,
          right: "auto"
        })
      }
    },
    _canDrag: function(n) {
      var o = n.attr(h.attr("field"));
      return n.attr(h.attr("groupable")) != "false" && o && (n.hasClass("k-group-indicator") || !this.indicator(o))
    },
    _canDrop: function(q, r, o) {
      var n = q.next(),
        p = q[0] !== r[0] && (!n[0] || r[0] !== n[0] || (!g && o > n.position().left || g && o < n.position().left));
      return p
    },
    _dragEnd: function(n) {
      var q = this,
        o = n.currentTarget.attr(h.attr("field")),
        p = q.indicator(o);
      if (n !== q.options.draggable && !n.dropped && p) {
        q._removeIndicator(a(p))
      }
      q._dragCancel()
    },
    _dragCancel: function() {
      b.remove();
      this._dropCuePositions = []
    },
    _intializePositions: function() {
      var p = this,
        n = a(".k-group-indicator", p.groupContainer),
        o;
      p._dropCuePositions = a.map(n, function(q) {
        q = a(q);
        o = h.getOffset(q).left;
        return {
          left: parseInt(o, 10),
          right: parseInt(o + q.outerWidth(), 10),
          element: q
        }
      })
    },
    _invalidateGroupContainer: function() {
      var n = this.groupContainer;
      if (n.is(":empty")) {
        n.html(this.options.messages.empty)
      }
    }
  });
  h.ui.plugin(d)
})(window.kendo.jQuery);
kendo_module({
  id: "reorderable",
  name: "Reorderable",
  category: "framework",
  depends: ["core", "draganddrop"],
  advanced: true
});
(function(a, g) {
  var c = window.kendo,
    h = c.ui.Widget,
    b = "change",
    d = "k-reorderable";

  function f(j, i) {
    j = a(j);
    if (i) {
      j.find(".k-drag-status").removeClass("k-add").addClass("k-denied")
    } else {
      j.find(".k-drag-status").removeClass("k-denied").addClass("k-add")
    }
  }
  var e = h.extend({
    init: function(j, l) {
      var m = this,
        i, k = c.guid() + "-reorderable";
      h.fn.init.call(m, j, l);
      j = m.element.addClass(d);
      l = m.options;
      m.draggable = i = l.draggable || new c.ui.Draggable(j, {
        group: k,
        filter: l.filter,
        hint: l.hint
      });
      m.reorderDropCue = a('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>');
      j.find(i.options.filter).kendoDropTarget({
        group: i.options.group,
        dragenter: function(o) {
          if (!m._draggable) {
            return
          }
          var n = this.element,
            p, q = n[0] === m._draggable[0];
          f(o.draggable.hint, q);
          if (!q) {
            p = c.getOffset(n);
            m.reorderDropCue.css({
              height: n.outerHeight(),
              top: p.top,
              left: p.left + (n.index() > m._draggable.index() ? n.outerWidth() : 0)
            }).appendTo(document.body)
          }
        },
        dragleave: function(n) {
          f(n.draggable.hint, true);
          m.reorderDropCue.remove()
        },
        drop: function() {
          if (!m._draggable) {
            return
          }
          var o = m._draggable[0],
            p = this.element[0],
            n;
          if (o !== p) {
            n = j.find(i.options.filter);
            m.trigger(b, {
              element: m._draggable,
              oldIndex: n.index(o),
              newIndex: n.index(p)
            })
          }
        }
      });
      i.bind(["dragcancel", "dragend", "dragstart"], {
        dragcancel: function() {
          m.reorderDropCue.remove();
          m._draggable = null
        },
        dragend: function() {
          m.reorderDropCue.remove();
          m._draggable = null
        },
        dragstart: function(n) {
          m._draggable = n.currentTarget
        }
      })
    },
    options: {
      name: "Reorderable",
      filter: "*"
    },
    events: [b],
    destroy: function() {
      var i = this;
      h.fn.destroy.call(i);
      if (i.draggable) {
        i.draggable.destroy()
      }
      c.destroy(i.element)
    }
  });
  c.ui.plugin(e)
})(window.kendo.jQuery);
kendo_module({
  id: "resizable",
  name: "Resizable",
  category: "framework",
  depends: ["core", "draganddrop"],
  advanced: true
});
(function(a, l) {
  var e = window.kendo,
    k = e.ui,
    n = k.Widget,
    f = a.proxy,
    d = e.isFunction,
    b = a.extend,
    c = "horizontal",
    m = "vertical",
    j = "start",
    h = "resize",
    i = "resizeend";
  var g = n.extend({
    init: function(o, p) {
      var q = this;
      n.fn.init.call(q, o, p);
      q.orientation = q.options.orientation.toLowerCase() != m ? c : m;
      q._positionMouse = q.orientation == c ? "x" : "y";
      q._position = q.orientation == c ? "left" : "top";
      q._sizingDom = q.orientation == c ? "outerWidth" : "outerHeight";
      q.draggable = new k.Draggable(o, {
        distance: 0,
        filter: p.handle,
        drag: f(q._resize, q),
        dragcancel: f(q._cancel, q),
        dragstart: f(q._start, q),
        dragend: f(q._stop, q)
      });
      q.userEvents = q.draggable.userEvents
    },
    events: [h, i, j],
    options: {
      name: "Resizable",
      orientation: c
    },
    resize: function() {},
    _max: function(o) {
      var r = this,
        p = r.hint ? r.hint[r._sizingDom]() : 0,
        q = r.options.max;
      return d(q) ? q(o) : q !== l ? (r._initialElementPosition + q) - p : q
    },
    _min: function(o) {
      var q = this,
        p = q.options.min;
      return d(p) ? p(o) : p !== l ? q._initialElementPosition + p : p
    },
    _start: function(o) {
      var r = this,
        q = r.options.hint,
        p = a(o.currentTarget);
      r._initialElementPosition = p.position()[r._position];
      r._initialMousePosition = o[r._positionMouse].startLocation;
      if (q) {
        r.hint = d(q) ? a(q(p)) : q;
        r.hint.css({
          position: "absolute"
        }).css(r._position, r._initialElementPosition).appendTo(r.element)
      }
      r.trigger(j, o);
      r._maxPosition = r._max(o);
      r._minPosition = r._min(o);
      a(document.body).css("cursor", p.css("cursor"))
    },
    _resize: function(p) {
      var t = this,
        q = t._maxPosition,
        r = t._minPosition,
        o = t._initialElementPosition + (p[t._positionMouse].location - t._initialMousePosition),
        s;
      s = r !== l ? Math.max(r, o) : o;
      t.position = s = q !== l ? Math.min(q, s) : s;
      if (t.hint) {
        t.hint.toggleClass(t.options.invalidClass || "", s == q || s == r).css(t._position, s)
      }
      t.resizing = true;
      t.trigger(h, b(p, {
        position: s
      }))
    },
    _stop: function(o) {
      var p = this;
      if (p.hint) {
        p.hint.remove()
      }
      p.resizing = false;
      p.trigger(i, b(o, {
        position: p.position
      }));
      a(document.body).css("cursor", "")
    },
    _cancel: function(o) {
      var p = this;
      if (p.hint) {
        p.position = l;
        p.hint.css(p._position, p._initialElementPosition);
        p._stop(o)
      }
    },
    destroy: function() {
      var o = this;
      n.fn.destroy.call(o);
      if (o.draggable) {
        o.draggable.destroy()
      }
    },
    press: function(p) {
      if (!p) {
        return
      }
      var o = p.position(),
        q = this;
      q.userEvents.press(o.left, o.top, p[0]);
      q.targetPosition = o;
      q.target = p
    },
    move: function(p) {
      var s = this,
        q = s._position,
        r = s.targetPosition,
        o = s.position;
      if (o === l) {
        o = r[q]
      }
      r[q] = o + p;
      s.userEvents.move(r.left, r.top)
    },
    end: function() {
      this.userEvents.end();
      this.target = this.position = l
    }
  });
  e.ui.plugin(g)
})(window.kendo.jQuery);
kendo_module({
  id: "sortable",
  name: "Sortable",
  category: "framework",
  depends: ["data"],
  advanced: true
});
(function(a, m) {
  var g = window.kendo,
    i = a.proxy,
    e = "dir",
    c = "asc",
    j = "single",
    f = "field",
    d = "desc",
    h = ".kendoSortable",
    l = ".k-link",
    b = "aria-sort",
    n = g.ui.Widget;
  var k = n.extend({
    init: function(o, q) {
      var r = this,
        p;
      n.fn.init.call(r, o, q);
      r._refreshHandler = i(r.refresh, r);
      r.dataSource = r.options.dataSource.bind("change", r._refreshHandler);
      p = r.element.find(l);
      if (!p[0]) {
        p = r.element.wrapInner('<a class="k-link" href="#"/>').find(l)
      }
      r.link = p;
      r.element.on("click" + h, i(r._click, r))
    },
    options: {
      name: "Sortable",
      mode: j,
      allowUnsort: true,
      compare: null,
      filter: ""
    },
    destroy: function() {
      var o = this;
      n.fn.destroy.call(o);
      o.element.off(h);
      o.dataSource.unbind("change", o._refreshHandler)
    },
    refresh: function() {
      var v = this,
        u = v.dataSource.sort() || [],
        s, t, o, p, q = v.element,
        r = q.attr(g.attr(f));
      q.removeAttr(g.attr(e));
      q.removeAttr(b);
      for (s = 0, t = u.length; s < t; s++) {
        o = u[s];
        if (r == o.field) {
          q.attr(g.attr(e), o.dir)
        }
      }
      p = q.attr(g.attr(e));
      q.find(".k-i-arrow-n,.k-i-arrow-s").remove();
      if (p === c) {
        a('<span class="k-icon k-i-arrow-n" />').appendTo(v.link);
        q.attr(b, "ascending")
      } else {
        if (p === d) {
          a('<span class="k-icon k-i-arrow-s" />').appendTo(v.link);
          q.attr(b, "descending")
        }
      }
    },
    _click: function(q) {
      var x = this,
        r = x.element,
        s = r.attr(g.attr(f)),
        p = r.attr(g.attr(e)),
        v = x.options,
        o = x.options.compare == null ? m : x.options.compare,
        w = x.dataSource.sort() || [],
        t, u;
      q.preventDefault();
      if (v.filter && !r.is(v.filter)) {
        return
      }
      if (p === c) {
        p = d
      } else {
        if (p === d && v.allowUnsort) {
          p = m
        } else {
          p = c
        }
      }
      if (v.mode === j) {
        w = [{
          field: s,
          dir: p,
          compare: o
        }]
      } else {
        if (v.mode === "multiple") {
          for (t = 0, u = w.length; t < u; t++) {
            if (w[t].field === s) {
              w.splice(t, 1);
              break
            }
          }
          w.push({
            field: s,
            dir: p,
            compare: o
          })
        }
      }
      x.dataSource.sort(w)
    }
  });
  g.ui.plugin(k)
})(window.kendo.jQuery);
kendo_module({
  id: "selectable",
  name: "Selectable",
  category: "framework",
  depends: ["core", "userevents"],
  advanced: true
});
(function(a, o) {
  var h = window.kendo,
    q = h.ui.Widget,
    j = a.proxy,
    b = Math.abs,
    d = "aria-selected",
    m = "k-state-selected",
    c = "k-state-selecting",
    l = "k-selectable",
    e = "change",
    i = ".kendoSelectable",
    p = "k-state-unselecting",
    n = false;
  (function(r) {
    (function() {
      r('<div class="parent"><span /></div>').on("click", ">*", function() {
        n = true
      }).find("span").click().end().off()
    })()
  })(a);
  var k = q.extend({
    init: function(r, t) {
      var u = this,
        s;
      q.fn.init.call(u, r, t);
      u._marquee = a("<div class='k-marquee'><div class='k-marquee-color'></div></div>");
      u._lastActive = null;
      u.element.addClass(l);
      s = u.options.multiple;
      u.userEvents = new h.UserEvents(u.element, {
        global: true,
        allowSelection: true,
        filter: (!n ? "." + l + " " : "") + u.options.filter,
        tap: j(u._tap, u)
      });
      if (s) {
        u.userEvents.bind("start", j(u._start, u)).bind("move", j(u._move, u)).bind("end", j(u._end, u)).bind("select", j(u._select, u))
      }
    },
    events: [e],
    options: {
      name: "Selectable",
      filter: ">*",
      multiple: false
    },
    _tap: function(t) {
      var x = a(t.target),
        y = this,
        s = t.event.ctrlKey || t.event.metaKey,
        u = y.options.multiple,
        w = u && t.event.shiftKey,
        v, z = t.event.which,
        r = t.event.button;
      if (x.closest("." + l)[0] !== y.element[0] || z && z == 3 || r && r == 2) {
        return
      }
      v = x.hasClass(m);
      if (!u || !s) {
        y.clear()
      }
      if (w) {
        y.selectRange(y._firstSelectee(), x)
      } else {
        if (v && s) {
          y._unselect(x);
          y._notify(e)
        } else {
          y.value(x)
        }
        y._lastActive = y._downTarget = x
      }
    },
    _start: function(s) {
      var v = this,
        u = a(s.target),
        t = u.hasClass(m),
        r = s.event.ctrlKey || s.event.metaKey;
      v._downTarget = u;
      if (u.closest("." + l)[0] !== v.element[0]) {
        v.userEvents.cancel();
        v._downTarget = null;
        return
      }
      v._marquee.appendTo(document.body).css({
        left: s.x.client + 1,
        top: s.y.client + 1,
        width: 0,
        height: 0
      });
      if (!r) {
        v.clear()
      }
      if (t) {
        v._selectElement(u, true);
        if (r) {
          u.addClass(p)
        }
      }
    },
    _move: function(r) {
      var u = this,
        t = {
          left: r.x.startLocation > r.x.location ? r.x.location : r.x.startLocation,
          top: r.y.startLocation > r.y.location ? r.y.location : r.y.startLocation,
          width: b(r.x.initialDelta),
          height: b(r.y.initialDelta)
        }, s = u.element.find(u.options.filter);
      u._marquee.css(t);
      g(s, u._downTarget[0], t, (r.event.ctrlKey || r.event.metaKey));
      r.preventDefault()
    },
    _end: function() {
      var r = this;
      r._marquee.remove();
      r._unselect(r.element.find(r.options.filter + "." + p)).removeClass(p);
      r.value(r.element.find(r.options.filter + "." + c));
      r._lastActive = r._downTarget
    },
    value: function(t) {
      var s = this,
        r = j(s._selectElement, s);
      if (t) {
        t.each(function() {
          r(this)
        });
        s._notify(e);
        return
      }
      return s.element.find(s.options.filter + "." + m)
    },
    _firstSelectee: function() {
      var s = this,
        r;
      if (s._lastActive !== null) {
        return s._lastActive
      }
      r = s.value();
      return r.length > 0 ? r[0] : s.element.find(s.options.filter)
    },
    _selectElement: function(r, t) {
      var u = a(r),
        s = !t && this._notify("select", {
          element: r
        });
      u.removeClass(c);
      if (!s) {
        u.addClass(m);
        if (this.options.aria) {
          u.attr(d, true)
        }
      }
    },
    _notify: function(s, r) {
      r = r || {};
      return this.trigger(s, r)
    },
    _unselect: function(r) {
      r.removeClass(m);
      if (this.options.aria) {
        r.attr(d, false)
      }
      return r
    },
    _select: function(r) {
      var t = "input,a,textarea,.k-multiselect-wrap,select",
        s = h.support.browser.msie;
      if (a(r.event.target).is(t)) {
        this.userEvents.cancel();
        this._downTarget = null
      } else {
        if (!s || (s && !a(h._activeElement()).is(t))) {
          r.preventDefault()
        }
      }
    },
    clear: function() {
      var r = this.element.find(this.options.filter + "." + m);
      this._unselect(r)
    },
    selectRange: function(x, r) {
      var y = this,
        s = false,
        t, v, z, A, u = y.element.find(y.options.filter),
        w = j(y._selectElement, y);
      x = a(x)[0];
      r = a(r)[0];
      for (t = 0, v = u.length; t < v; t++) {
        A = u[t];
        if (s) {
          w(A);
          s = A !== r
        } else {
          if (A === x) {
            s = x !== r;
            w(A)
          } else {
            if (A === r) {
              z = x;
              x = r;
              r = z;
              s = true;
              w(A)
            } else {
              a(A).removeClass(m)
            }
          }
        }
      }
      y._notify(e)
    },
    destroy: function() {
      var r = this;
      q.fn.destroy.call(r);
      r.element.off(i);
      r.userEvents.destroy()
    }
  });

  function f(s, u) {
    var t = h.getOffset(s),
      v = u.left + u.width,
      r = u.top + u.height;
    t.right = t.left + s.outerWidth();
    t.bottom = t.top + s.outerHeight();
    return !(t.left > v || t.right < u.left || t.top > r || t.bottom < u.top)
  }
  function g(t, w, v, r) {
    var s, u, x;
    for (s = 0, u = t.length; s < u; s++) {
      x = t.eq(s);
      if (f(x, v)) {
        if (x.hasClass(m)) {
          if (r && w !== x[0]) {
            x.removeClass(m).addClass(p)
          }
        } else {
          if (!x.hasClass(c) && !x.hasClass(p)) {
            x.addClass(c)
          }
        }
      } else {
        if (x.hasClass(c)) {
          x.removeClass(c)
        } else {
          if (r && x.hasClass(p)) {
            x.removeClass(p).addClass(m)
          }
        }
      }
    }
  }
  h.ui.plugin(k)
})(window.kendo.jQuery);
kendo_module({
  id: "pager",
  name: "Pager",
  category: "framework",
  depends: ["data"],
  advanced: true
});
(function(a, v) {
  var j = window.kendo,
    u = j.ui,
    x = u.Widget,
    t = a.proxy,
    g = ".k-i-seek-w",
    m = ".k-i-seek-e",
    s = ".k-i-arrow-w",
    o = ".k-i-arrow-e",
    c = "change",
    p = ".kendoPager",
    d = "click",
    k = "keydown",
    e = "disabled",
    i = j.template('<a href="\\#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #">#=text#</span></a>');

  function b(A, y, B, z) {
    return A({
      idx: y,
      text: B,
      ns: j.ns,
      numeric: z
    })
  }
  function h(y, z, A) {
    return i({
      className: y.substring(1),
      text: z,
      wrapClassName: A || ""
    })
  }
  function w(z, B, A, y) {
    z.find(B).parent().attr(j.attr("page"), A).attr("tabindex", -1).toggleClass("k-state-disabled", y)
  }
  function f(y, z) {
    w(y, g, 1, z <= 1)
  }
  function r(y, z) {
    w(y, s, Math.max(1, z - 1), z <= 1)
  }
  function n(y, z, A) {
    w(y, o, Math.min(A, z + 1), z >= A)
  }
  function l(y, z, A) {
    w(y, m, A, z >= A)
  }
  var q = x.extend({
    init: function(y, z) {
      var B = this,
        A, C;
      x.fn.init.call(B, y, z);
      z = B.options;
      B.dataSource = j.data.DataSource.create(z.dataSource);
      B.linkTemplate = j.template(B.options.linkTemplate);
      B.selectTemplate = j.template(B.options.selectTemplate);
      A = B.page();
      C = B.totalPages();
      B._refreshHandler = t(B.refresh, B);
      B.dataSource.bind(c, B._refreshHandler);
      if (z.previousNext) {
        if (!B.element.find(g).length) {
          B.element.append(h(g, z.messages.first, "k-pager-first"));
          f(B.element, A, C)
        }
        if (!B.element.find(s).length) {
          B.element.append(h(s, z.messages.previous));
          r(B.element, A, C)
        }
      }
      if (z.numeric) {
        B.list = B.element.find(".k-pager-numbers");
        if (!B.list.length) {
          B.list = a('<ul class="k-pager-numbers k-reset" />').appendTo(B.element)
        }
      }
      if (z.input) {
        if (!B.element.find(".k-pager-input").length) {
          B.element.append('<span class="k-pager-input k-label">' + z.messages.page + '<input class="k-textbox">' + j.format(z.messages.of, C) + "</span>")
        }
        B.element.on(k + p, ".k-pager-input input", t(B._keydown, B))
      }
      if (z.previousNext) {
        if (!B.element.find(o).length) {
          B.element.append(h(o, z.messages.next));
          n(B.element, A, C)
        }
        if (!B.element.find(m).length) {
          B.element.append(h(m, z.messages.last, "k-pager-last"));
          l(B.element, A, C)
        }
      }
      if (z.pageSizes) {
        if (!B.element.find(".k-pager-sizes").length) {
          a('<span class="k-pager-sizes k-label"><select/>' + z.messages.itemsPerPage + "</span>").appendTo(B.element).find("select").html(a.map(a.isArray(z.pageSizes) ? z.pageSizes : [5, 10, 20], function(D) {
            return "<option>" + D + "</option>"
          }).join("")).end().appendTo(B.element)
        }
        B.element.find(".k-pager-sizes select").val(B.pageSize());
        if (j.ui.DropDownList) {
          B.element.find(".k-pager-sizes select").show().kendoDropDownList()
        }
        B.element.on(c + p, ".k-pager-sizes select", t(B._change, B))
      }
      if (z.refresh) {
        if (!B.element.find(".k-pager-refresh").length) {
          B.element.append('<a href="#" class="k-pager-refresh k-link" title="' + z.messages.refresh + '"><span class="k-icon k-i-refresh">' + z.messages.refresh + "</span></a>")
        }
        B.element.on(d + p, ".k-pager-refresh", t(B._refreshClick, B))
      }
      if (z.info) {
        if (!B.element.find(".k-pager-info").length) {
          B.element.append('<span class="k-pager-info k-label" />')
        }
      }
      B.element.on(d + p, "a", t(B._click, B)).addClass("k-pager-wrap k-widget");
      if (z.autoBind) {
        B.refresh()
      }
      j.notify(B)
    },
    destroy: function() {
      var y = this;
      x.fn.destroy.call(y);
      y.element.off(p);
      y.dataSource.unbind(c, y._refreshHandler);
      j.destroy(y.element)
    },
    events: [c],
    options: {
      name: "Pager",
      selectTemplate: '<li><span class="k-state-selected">#=text#</span></li>',
      linkTemplate: '<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#">#=text#</a></li>',
      buttonCount: 10,
      autoBind: true,
      numeric: true,
      info: true,
      input: false,
      previousNext: true,
      pageSizes: false,
      refresh: false,
      messages: {
        display: "{0} - {1} of {2} items",
        empty: "No items to display",
        page: "Page",
        of: "of {0}",
        itemsPerPage: "items per page",
        first: "Go to the first page",
        previous: "Go to the previous page",
        next: "Go to the next page",
        last: "Go to the last page",
        refresh: "Refresh"
      }
    },
    setDataSource: function(y) {
      var z = this;
      z.dataSource.unbind(c, z._refreshHandler);
      z.dataSource = z.options.dataSource = y;
      y.bind(c, z._refreshHandler);
      if (z.options.autoBind) {
        y.fetch()
      }
    },
    refresh: function(z) {
      var J = this,
        C, A, I = 1,
        B = "",
        H, F = J.page(),
        E = J.options,
        G = J.pageSize(),
        K = J.dataSource.total(),
        L = J.totalPages(),
        D = J.linkTemplate,
        y = E.buttonCount;
      if (z && z.action == "itemchange") {
        return
      }
      if (E.numeric) {
        if (F > y) {
          H = (F % y);
          I = (H === 0) ? (F - y) + 1 : (F - H) + 1
        }
        A = Math.min((I + y) - 1, L);
        if (I > 1) {
          B += b(D, I - 1, "...", false)
        }
        for (C = I; C <= A; C++) {
          B += b(C == F ? J.selectTemplate : D, C, C, true)
        }
        if (A < L) {
          B += b(D, C, "...", false)
        }
        if (B === "") {
          B = J.selectTemplate({
            text: 0
          })
        }
        J.list.html(B)
      }
      if (E.info) {
        if (K > 0) {
          B = j.format(E.messages.display, (F - 1) * G + 1, Math.min(F * G, K), K)
        } else {
          B = E.messages.empty
        }
        J.element.find(".k-pager-info").html(B)
      }
      if (E.input) {
        J.element.find(".k-pager-input").html(J.options.messages.page + '<input class="k-textbox">' + j.format(E.messages.of, L)).find("input").val(F).attr(e, K < 1).toggleClass("k-state-disabled", K < 1)
      }
      if (E.previousNext) {
        f(J.element, F, L);
        r(J.element, F, L);
        n(J.element, F, L);
        l(J.element, F, L)
      }
      if (E.pageSizes) {
        J.element.find(".k-pager-sizes select").val(G).filter("[" + j.attr("role") + "=dropdownlist]").kendoDropDownList("value", G).kendoDropDownList("text", G)
      }
    },
    _keydown: function(y) {
      if (y.keyCode === j.keys.ENTER) {
        var z = this.element.find(".k-pager-input").find("input"),
          A = parseInt(z.val(), 10);
        if (isNaN(A) || A < 1 || A > this.totalPages()) {
          A = this.page()
        }
        z.val(A);
        this.page(A)
      }
    },
    _refreshClick: function(y) {
      y.preventDefault();
      this.dataSource.read()
    },
    _change: function(y) {
      var z = parseInt(y.currentTarget.value, 10);
      if (!isNaN(z)) {
        this.dataSource.pageSize(z)
      }
    },
    _click: function(y) {
      var z = a(y.currentTarget);
      y.preventDefault();
      if (!z.is(".k-state-disabled")) {
        this.page(z.attr(j.attr("page")))
      }
    },
    totalPages: function() {
      return Math.ceil((this.dataSource.total() || 0) / this.pageSize())
    },
    pageSize: function() {
      return this.dataSource.pageSize() || this.dataSource.total()
    },
    page: function(y) {
      if (y !== v) {
        this.dataSource.page(y);
        this.trigger(c, {
          index: y
        })
      } else {
        if (this.dataSource.total() > 0) {
          return this.dataSource.page()
        } else {
          return 0
        }
      }
    }
  });
  u.plugin(q)
})(window.kendo.jQuery);
kendo_module({
  id: "popup",
  name: "Pop-up",
  category: "framework",
  depends: ["core"],
  advanced: true
});
(function(a, J) {
  var u = window.kendo,
    I = u.ui,
    L = I.Widget,
    F = u.support,
    s = u.getOffset,
    h = u._activeElement,
    z = "open",
    l = "close",
    o = "deactivate",
    c = "activate",
    k = "center",
    v = "left",
    D = "right",
    G = "top",
    j = "bottom",
    b = "absolute",
    t = "hidden",
    i = "body",
    w = "location",
    B = "position",
    K = "visible",
    q = "effects",
    d = "k-state-active",
    e = "k-state-border",
    f = /k-state-border-(\w+)/,
    g = ".k-picker-wrap, .k-dropdown-wrap, .k-link",
    x = "down",
    M = a(window),
    p = a(document.documentElement),
    C = "resize scroll",
    n = F.transitions.css,
    H = n + "transform",
    r = a.extend,
    y = ".kendoPopup",
    E = ["font-family", "font-size", "font-stretch", "font-style", "font-weight", "line-height"];

  function m(N, O) {
    return N === O || a.contains(N, O)
  }
  var A = L.extend({
    init: function(N, O) {
      var Q = this,
        P;
      O = O || {};
      if (O.isRtl) {
        O.origin = O.origin || j + " " + D;
        O.position = O.position || G + " " + D
      }
      L.fn.init.call(Q, N, O);
      N = Q.element;
      O = Q.options;
      Q.collisions = O.collision ? O.collision.split(" ") : [];
      if (Q.collisions.length === 1) {
        Q.collisions.push(Q.collisions[0])
      }
      P = a(Q.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])");
      O.appendTo = a(a(O.appendTo)[0] || P[0] || i);
      Q.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl", !! O.isRtl).css({
        position: b
      }).appendTo(O.appendTo).on("mouseenter" + y, function() {
        Q._hovered = true
      }).on("mouseleave" + y, function() {
        Q._hovered = false
      });
      Q.wrapper = a();
      if (O.animation === false) {
        O.animation = {
          open: {
            effects: {}
          },
          close: {
            hide: true,
            effects: {}
          }
        }
      }
      r(O.animation.open, {
        complete: function() {
          Q.wrapper.css({
            overflow: K
          });
          Q.trigger(c)
        }
      });
      r(O.animation.close, {
        complete: function() {
          Q.wrapper.hide();
          var U = Q.wrapper.data(w),
            R = a(O.anchor),
            T, S;
          if (U) {
            Q.wrapper.css(U)
          }
          if (O.anchor != i) {
            T = (R[0].className.match(f) || ["", "down"])[1];
            S = e + "-" + T;
            R.removeClass(S).children(g).removeClass(d).removeClass(S);
            N.removeClass(e + "-" + u.directions[T].reverse)
          }
          Q._closing = false;
          Q.trigger(o)
        }
      });
      Q._mousedownProxy = function(R) {
        Q._mousedown(R)
      };
      Q._resizeProxy = function(R) {
        Q._resize(R)
      };
      if (O.toggleTarget) {
        a(O.toggleTarget).on(O.toggleEvent + y, a.proxy(Q.toggle, Q))
      }
    },
    events: [z, c, l, o],
    options: {
      name: "Popup",
      toggleEvent: "click",
      origin: j + " " + v,
      position: G + " " + v,
      anchor: i,
      collision: "flip fit",
      viewport: window,
      copyAnchorStyles: true,
      autosize: false,
      modal: false,
      animation: {
        open: {
          effects: "slideIn:down",
          transition: true,
          duration: 200
        },
        close: {
          duration: 100,
          hide: true
        }
      }
    },
    destroy: function() {
      var Q = this,
        O = Q.options,
        N = Q.element.off(y),
        P;
      L.fn.destroy.call(Q);
      if (O.toggleTarget) {
        a(O.toggleTarget).off(y)
      }
      if (!O.modal) {
        p.unbind(x, Q._mousedownProxy);
        M.unbind(C, Q._resizeProxy)
      }
      u.destroy(Q.element.children());
      if (O.appendTo[0] === document.body) {
        P = N.parent(".k-animation-container");
        if (P[0]) {
          P.remove()
        } else {
          N.remove()
        }
      }
    },
    open: function(W, X) {
      var U = this,
        S = {
          isFixed: !isNaN(parseInt(X, 10)),
          x: W,
          y: X
        }, R = U.element,
        T = U.options,
        Q = "down",
        O, V, N = a(T.anchor);
      if (!U.visible()) {
        if (T.copyAnchorStyles) {
          R.css(u.getComputedStyles(N[0], E))
        }
        if (R.data("animating") || U.trigger(z)) {
          return
        }
        if (!T.modal) {
          p.unbind(x, U._mousedownProxy).bind(x, U._mousedownProxy);
          if (!(F.mobileOS.ios || F.mobileOS.android)) {
            M.unbind(C, U._resizeProxy).bind(C, U._resizeProxy)
          }
        }
        U.wrapper = V = u.wrap(R, T.autosize).css({
          overflow: t,
          display: "block",
          position: b
        });
        if (F.mobileOS.android) {
          V.add(N).css(H, "translatez(0)")
        }
        V.css(B);
        if (a(T.appendTo)[0] == document.body) {
          V.css(G, "-10000px")
        }
        O = r(true, {}, T.animation.open);
        U.flipped = U._position(S);
        O.effects = u.parseEffects(O.effects, U.flipped);
        Q = O.effects.slideIn ? O.effects.slideIn.direction : Q;
        if (T.anchor != i) {
          var P = e + "-" + Q;
          R.addClass(e + "-" + u.directions[Q].reverse);
          N.addClass(P).children(g).addClass(d).addClass(P)
        }
        R.data(q, O.effects).kendoStop(true).kendoAnimate(O)
      }
    },
    toggle: function() {
      var N = this;
      N[N.visible() ? l : z]()
    },
    visible: function() {
      return this.element.is(":" + K)
    },
    close: function() {
      var R = this,
        Q = R.options,
        S, N, P, O;
      if (R.visible()) {
        S = (R.wrapper[0] ? R.wrapper : u.wrap(R.element).hide());
        if (R._closing || R.trigger(l)) {
          return
        }
        R.element.find(".k-popup").each(function() {
          var U = a(this),
            T = U.data("kendoPopup");
          if (T) {
            T.close()
          }
        });
        p.unbind(x, R._mousedownProxy);
        M.unbind(C, R._resizeProxy);
        N = r(true, {}, Q.animation.close);
        P = R.element.data(q);
        O = N.effects;
        if (!O && !u.size(O) && P && u.size(P)) {
          N.effects = P;
          N.reverse = true
        }
        R._closing = true;
        R.element.kendoStop(true);
        S.css({
          overflow: t
        });
        R.element.kendoAnimate(N)
      }
    },
    _resize: function(N) {
      var O = this;
      if (N.type === "resize") {
        clearTimeout(O._resizeTimeout);
        O._resizeTimeout = setTimeout(function() {
          O._position();
          O._resizeTimeout = null
        }, 50)
      } else {
        if (!O._hovered && !m(O.element[0], h())) {
          O.close()
        }
      }
    },
    _mousedown: function(P) {
      var U = this,
        O = U.element[0],
        R = U.options,
        N = a(R.anchor)[0],
        V = R.toggleTarget,
        T = u.eventTarget(P),
        S = a(T).closest(".k-popup"),
        Q = S.parent().parent(".km-shim").length;
      S = S[0];
      if (!Q && S && S !== U.element[0]) {
        return
      }
      if (a(P.target).closest("a").data("rel") === "popover") {
        return
      }
      if (!m(O, T) && !m(N, T) && !(V && m(a(V)[0], T))) {
        U.close()
      }
    },
    _fit: function(O, P, Q) {
      var N = 0;
      if (O + P > Q) {
        N = Q - (O + P)
      }
      if (O < 0) {
        N = -O
      }
      return N
    },
    _flip: function(P, T, N, U, Q, S, O) {
      var R = 0;
      O = O || T;
      if (S !== Q && S !== k && Q !== k) {
        if (P + O > U) {
          R += -(N + T)
        }
        if (P + R < 0) {
          R += N + T
        }
      }
      return R
    },
    _position: function(R) {
      var af = this,
        Q = af.element.css(B, ""),
        ai = af.wrapper,
        Y = af.options,
        ag = a(Y.viewport),
        ah = a(ag).offset(),
        N = a(Y.anchor),
        Z = Y.origin.toLowerCase().split(" "),
        ad = Y.position.toLowerCase().split(" "),
        P = af.collisions,
        ak = F.zoomLevel(),
        ae, aa, ab, aj = 10002,
        T = 0,
        U;
      ae = N.parents().filter(ai.siblings());
      if (ae[0]) {
        ab = Number(a(ae).css("zIndex"));
        if (ab) {
          aj = ab + 1
        } else {
          aa = N.parentsUntil(ae);
          for (U = aa.length; T < U; T++) {
            ab = Number(a(aa[T]).css("zIndex"));
            if (ab && aj < ab) {
              aj = ab + 1
            }
          }
        }
      }
      ai.css("zIndex", aj);
      if (R && R.isFixed) {
        ai.css({
          left: R.x,
          top: R.y
        })
      } else {
        ai.css(af._align(Z, ad))
      }
      var ac = s(ai, B, N[0] === ai.offsetParent()[0]),
        W = s(ai),
        O = N.offsetParent().parent(".k-animation-container,.k-popup,.k-group");
      if (O.length) {
        ac = s(ai, B, true);
        W = s(ai)
      }
      if (ag[0] === window) {
        W.top -= (window.pageYOffset || document.documentElement.scrollTop || 0);
        W.left -= (window.pageXOffset || document.documentElement.scrollLeft || 0)
      } else {
        W.top -= ah.top;
        W.left -= ah.left
      }
      if (!af.wrapper.data(w)) {
        ai.data(w, r({}, ac))
      }
      var X = r({}, W),
        V = r({}, ac);
      if (P[0] === "fit") {
        V.top += af._fit(X.top, ai.outerHeight(), ag.height() / ak)
      }
      if (P[1] === "fit") {
        V.left += af._fit(X.left, ai.outerWidth(), ag.width() / ak)
      }
      var S = r({}, V);
      if (P[0] === "flip") {
        V.top += af._flip(X.top, Q.outerHeight(), N.outerHeight(), ag.height() / ak, Z[0], ad[0], ai.outerHeight())
      }
      if (P[1] === "flip") {
        V.left += af._flip(X.left, Q.outerWidth(), N.outerWidth(), ag.width() / ak, Z[1], ad[1], ai.outerWidth())
      }
      Q.css(B, b);
      ai.css(V);
      return (V.left != S.left || V.top != S.top)
    },
    _align: function(Y, Z) {
      var ab = this,
        T = ab.wrapper,
        N = a(ab.options.anchor),
        ad = Y[0],
        V = Y[1],
        ae = Z[0],
        W = Z[1],
        P = s(N),
        R = a(ab.options.appendTo),
        S, af = T.outerWidth(),
        U = T.outerHeight(),
        Q = N.outerWidth(),
        O = N.outerHeight(),
        ac = P.top,
        X = P.left,
        aa = Math.round;
      if (R[0] != document.body) {
        S = s(R);
        ac -= S.top;
        X -= S.left
      }
      if (ad === j) {
        ac += O
      }
      if (ad === k) {
        ac += aa(O / 2)
      }
      if (ae === j) {
        ac -= U
      }
      if (ae === k) {
        ac -= aa(U / 2)
      }
      if (V === D) {
        X += Q
      }
      if (V === k) {
        X += aa(Q / 2)
      }
      if (W === D) {
        X -= af
      }
      if (W === k) {
        X -= aa(af / 2)
      }
      return {
        top: ac,
        left: X
      }
    }
  });
  I.plugin(A)
})(window.kendo.jQuery);
kendo_module({
  id: "tooltip",
  name: "Tooltip",
  category: "web",
  description: "The Tooltip widget displays a popup hint for a given html element.",
  depends: ["core", "popup"]
});
(function(a, E) {
  var q = window.kendo,
    F = q.ui.Widget,
    s = q.ui.Popup,
    m = q.isFunction,
    o = a.isPlainObject,
    j = a.extend,
    u = a.proxy,
    h = a(document),
    n = q.isLocalUrl,
    b = "_tt_active",
    e = "aria-describedby",
    B = "show",
    k = "hide",
    i = "error",
    c = "contentLoad",
    v = "requestStart",
    p = "k-content-frame",
    C = '<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div> #}#<div class="k-tooltip-content"></div>#if (callout){ #<div class="k-callout k-callout-#=dir#"></div>#}#</div>',
    l = q.template("<iframe frameborder='0' class='" + p + "' src='#= content.url #'>This page requires frames in order to show content</iframe>"),
    r = ".kendoTooltip",
    t = {
      bottom: {
        origin: "bottom center",
        position: "top center"
      },
      top: {
        origin: "top center",
        position: "bottom center"
      },
      left: {
        origin: "center left",
        position: "center right",
        collision: "fit flip"
      },
      right: {
        origin: "center right",
        position: "center left",
        collision: "fit flip"
      },
      center: {
        position: "center center",
        origin: "center center"
      }
    }, y = {
      top: "bottom",
      bottom: "top",
      left: "right",
      right: "left",
      center: "center"
    }, g = {
      bottom: "n",
      top: "s",
      left: "e",
      right: "w",
      center: "n"
    }, f = {
      horizontal: {
        offset: "top",
        size: "outerHeight"
      },
      vertical: {
        offset: "left",
        size: "outerWidth"
      }
    }, d = function(G) {
      return G.target.data(q.ns + "title")
    };

  function w(G) {
    while (G.length) {
      x(G);
      G = G.parent()
    }
  }
  function x(G) {
    var H = G.data(q.ns + "title");
    if (H) {
      G.attr("title", H);
      G.removeData(q.ns + "title")
    }
  }
  function z(G) {
    var H = G.attr("title");
    if (H) {
      G.data(q.ns + "title", H);
      G.attr("title", "")
    }
  }
  function A(G) {
    while (G.length && !G.is("body")) {
      z(G);
      G = G.parent()
    }
  }
  var D = F.extend({
    init: function(H, I) {
      var J = this,
        G;
      F.fn.init.call(J, H, I);
      G = J.options.position.match(/left|right/) ? "horizontal" : "vertical";
      J.dimensions = f[G];
      J._documentKeyDownHandler = u(J._documentKeyDown, J);
      J.element.on(J.options.showOn + r, J.options.filter, u(J._showOn, J)).on("mouseenter" + r, J.options.filter, u(J._mouseenter, J));
      if (this.options.autoHide) {
        J.element.on("mouseleave" + r, J.options.filter, u(J._mouseleave, J))
      }
    },
    options: {
      name: "Tooltip",
      filter: "",
      content: d,
      showAfter: 100,
      callout: true,
      position: "bottom",
      showOn: "mouseenter",
      autoHide: true,
      width: null,
      height: null,
      animation: {
        open: {
          effects: "fade:in",
          duration: 0
        },
        close: {
          effects: "fade:out",
          duration: 40,
          hide: true
        }
      }
    },
    events: [B, k, c, i, v],
    _mouseenter: function(G) {
      A(a(G.currentTarget))
    },
    _showOn: function(H) {
      var I = this;
      var G = a(H.currentTarget);
      if (I.options.showOn && I.options.showOn.match(/click|focus/)) {
        I._show(G)
      } else {
        clearTimeout(I.timeout);
        I.timeout = setTimeout(function() {
          I._show(G)
        }, I.options.showAfter)
      }
    },
    _appendContent: function(K) {
      var L = this,
        G = L.options.content,
        H = L.content,
        J = L.options.iframe,
        I;
      if (o(G) && G.url) {
        if (!("iframe" in L.options)) {
          J = !n(G.url)
        }
        L.trigger(v, {
          options: G,
          target: K
        });
        if (!J) {
          H.empty();
          q.ui.progress(H, true);
          L._ajaxRequest(G)
        } else {
          H.hide();
          I = H.find("." + p)[0];
          if (I) {
            I.src = G.url || I.src
          } else {
            H.html(l({
              content: G
            }))
          }
          H.find("." + p).off("load" + r).on("load" + r, function() {
            L.trigger(c);
            H.show()
          })
        }
      } else {
        if (G && m(G)) {
          G = G({
            sender: this,
            target: K
          });
          L.content.html(G || "")
        } else {
          L.content.html(G)
        }
      }
    },
    _ajaxRequest: function(G) {
      var H = this;
      jQuery.ajax(j({
        type: "GET",
        dataType: "html",
        cache: false,
        error: function(J, I) {
          q.ui.progress(H.content, false);
          H.trigger(i, {
            status: I,
            xhr: J
          })
        },
        success: u(function(I) {
          q.ui.progress(H.content, false);
          H.content.html(I);
          H.trigger(c)
        }, H)
      }, G))
    },
    _documentKeyDown: function(G) {
      if (G.keyCode === q.keys.ESC) {
        this.hide()
      }
    },
    refresh: function() {
      var H = this,
        G = H.popup;
      if (G && G.options.anchor) {
        H._appendContent(G.options.anchor)
      }
    },
    hide: function() {
      if (this.popup) {
        this.popup.close()
      }
    },
    show: function(G) {
      G = G || this.element;
      A(G);
      this._show(G)
    },
    _show: function(H) {
      var I = this,
        G = I.target();
      if (!I.popup) {
        I._initPopup()
      }
      if (G && G[0] != H[0]) {
        I.popup.close();
        I.popup.element.kendoStop(true, true)
      }
      if (!G || G[0] != H[0]) {
        I._appendContent(H);
        I.popup.options.anchor = H
      }
      I.popup.one("deactivate", function() {
        w(H);
        H.removeAttr(e);
        this.element.removeAttr("id").attr("aria-hidden", true);
        h.off("keydown" + r, I._documentKeyDownHandler)
      });
      I.popup.open()
    },
    _initPopup: function() {
      var H = this,
        G = H.options,
        I = a(q.template(C)({
          callout: G.callout && G.position !== "center",
          dir: g[G.position],
          autoHide: G.autoHide
        }));
      H.popup = new s(I, j({
        activate: function() {
          var J = this.options.anchor,
            K = J[0].id || H.element[0].id;
          if (K) {
            J.attr(e, K + b);
            this.element.attr("id", K + b)
          }
          if (G.callout) {
            H._positionCallout()
          }
          this.element.removeAttr("aria-hidden");
          h.on("keydown" + r, H._documentKeyDownHandler);
          H.trigger(B)
        },
        close: function() {
          H.trigger(k)
        },
        copyAnchorStyles: false,
        animation: G.animation
      }, t[G.position]));
      I.css({
        width: G.width,
        height: G.height
      });
      H.content = I.find(".k-tooltip-content");
      H.arrow = I.find(".k-callout");
      if (G.autoHide) {
        I.on("mouseleave" + r, u(H._mouseleave, H))
      } else {
        I.on("click" + r, ".k-tooltip-button", u(H._closeButtonClick, H))
      }
    },
    _closeButtonClick: function(G) {
      G.preventDefault();
      this.hide()
    },
    _mouseleave: function(G) {
      if (this.popup) {
        var H = a(G.currentTarget),
          I = H.offset(),
          J = G.pageX,
          K = G.pageY;
        I.right = I.left + H.outerWidth();
        I.bottom = I.top + H.outerHeight();
        if (J > I.left && J < I.right && K > I.top && K < I.bottom) {
          return
        }
        this.popup.close()
      } else {
        w(a(G.currentTarget))
      }
      clearTimeout(this.timeout)
    },
    _positionCallout: function() {
      var Q = this,
        P = Q.options.position,
        K = Q.dimensions,
        M = K.offset,
        O = Q.popup,
        G = O.options.anchor,
        H = a(G).offset(),
        I = parseInt(Q.arrow.css("border-top-width"), 10),
        L = a(O.element).offset(),
        J = g[O.flipped ? y[P] : P],
        N = H[M] - L[M] + (a(G)[K.size]() / 2) - I;
      Q.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-" + J).css(M, N)
    },
    target: function() {
      if (this.popup) {
        return this.popup.options.anchor
      }
      return null
    },
    destroy: function() {
      var G = this.popup;
      if (G) {
        G.element.off(r);
        G.destroy()
      }
      this.element.off(r);
      h.off("keydown" + r, this._documentKeyDownHandler);
      F.fn.destroy.call(this)
    }
  });
  q.ui.plugin(D)
})(window.kendo.jQuery);
kendo_module({
  id: "list",
  name: "List",
  category: "framework",
  depends: ["data", "popup"],
  hidden: true
});
(function(a, C) {
  var n = window.kendo,
    B = n.ui,
    D = B.Widget,
    o = n.keys,
    A = n.support,
    k = n.htmlEncode,
    b = n._activeElement,
    l = "id",
    p = "li",
    e = "change",
    f = "character",
    i = "k-state-focused",
    j = "k-state-hover",
    r = "k-loading",
    s = "open",
    g = "close",
    y = "select",
    z = "selected",
    t = "progress",
    x = "requestEnd",
    E = "width",
    h = a.extend,
    u = a.proxy,
    d = A.browser,
    m = d.msie && d.version < 9,
    v = /"/g,
    c = {
      ComboBox: "DropDownList",
      DropDownList: "ComboBox"
    };
  var q = D.extend({
    init: function(F, I) {
      var J = this,
        H = J.ns,
        G;
      D.fn.init.call(J, F, I);
      F = J.element;
      J._isSelect = F.is(y);
      J._template();
      J.ul = a('<ul unselectable="on" class="k-list k-reset"/>').css({
        overflow: A.kineticScrollNeeded ? "" : "auto"
      }).on("mouseenter" + H, p, function() {
        a(this).addClass(j)
      }).on("mouseleave" + H, p, function() {
        a(this).removeClass(j)
      }).on("click" + H, p, u(J._click, J)).attr({
        tabIndex: -1,
        role: "listbox",
        "aria-hidden": true
      });
      J.list = a("<div class='k-list-container'/>").append(J.ul).on("mousedown" + H, function(K) {
        K.preventDefault()
      });
      G = F.attr(l);
      if (G) {
        J.list.attr(l, G + "-list");
        J.ul.attr(l, G + "_listbox");
        J._optionID = G + "_option_selected"
      }
      J._header();
      J._accessors();
      J._initValue()
    },
    options: {
      valuePrimitive: false,
      headerTemplate: ""
    },
    setOptions: function(F) {
      D.fn.setOptions.call(this, F);
      if (F && F.enable !== C) {
        F.enabled = F.enable
      }
    },
    focus: function() {
      this._focused.focus()
    },
    readonly: function(F) {
      this._editable({
        readonly: F === C ? true : F,
        disable: false
      })
    },
    enable: function(F) {
      this._editable({
        readonly: false,
        disable: !(F = F === C ? true : F)
      })
    },
    _filterSource: function(H) {
      var J = this,
        I = J.options,
        F = J.dataSource,
        G = F.filter() || {};
      w(G, I.dataTextField);
      if (H) {
        G = G.filters || [];
        G.push(H)
      }
      F.filter(G)
    },
    _header: function() {
      var G = this.options.headerTemplate;
      var F;
      if (a.isFunction(G)) {
        G = G({})
      }
      if (G) {
        this.list.prepend(G);
        F = this.ul.prev();
        this.header = F[0] ? F : null
      }
    },
    _initValue: function() {
      var F = this,
        G = F.options.value;
      if (G !== null) {
        F.element.val(G)
      } else {
        G = F._accessor();
        F.options.value = G
      }
      F._old = G
    },
    _ignoreCase: function() {
      var H = this,
        G = H.dataSource.reader.model,
        F;
      if (G && G.fields) {
        F = G.fields[H.options.dataTextField];
        if (F && F.type && F.type !== "string") {
          H.options.ignoreCase = false
        }
      }
    },
    items: function() {
      return this.ul[0].children
    },
    current: function(F) {
      var H = this,
        G = H._optionID;
      if (F !== C) {
        if (H._current) {
          H._current.removeClass(i).removeAttr("aria-selected").removeAttr(l);
          H._focused.removeAttr("aria-activedescendant")
        }
        if (F) {
          F.addClass(i);
          H._scroll(F);
          if (G) {
            F.attr("id", G);
            H._focused.attr("aria-activedescendant", G)
          }
        }
        H._current = F
      } else {
        return H._current
      }
    },
    destroy: function() {
      var G = this,
        F = G.ns;
      D.fn.destroy.call(G);
      G._unbindDataSource();
      G.ul.off(F);
      G.list.off(F);
      if (G._touchScroller) {
        G._touchScroller.destroy()
      }
      G.popup.destroy();
      if (G._form) {
        G._form.off("reset", G._resetHandler)
      }
    },
    dataItem: function(F) {
      var G = this;
      if (F === C) {
        F = G.selectedIndex
      }
      return G._data()[F]
    },
    _accessors: function() {
      var J = this,
        F = J.element,
        H = J.options,
        G = n.getter,
        I = F.attr(n.attr("text-field")),
        K = F.attr(n.attr("value-field"));
      if (I) {
        H.dataTextField = I
      }
      if (K) {
        H.dataValueField = K
      }
      J._text = G(H.dataTextField);
      J._value = G(H.dataValueField)
    },
    _aria: function(G) {
      var I = this,
        H = I.options,
        F = I._focused;
      if (H.suggest !== C) {
        F.attr("aria-autocomplete", H.suggest ? "both" : "list")
      }
      G = G ? G + " " + I.ul[0].id : I.ul[0].id;
      F.attr("aria-owns", G);
      I.ul.attr("aria-live", !H.filter || H.filter === "none" ? "off" : "polite")
    },
    _blur: function() {
      var F = this;
      F._change();
      F.close()
    },
    _change: function() {
      var H = this,
        F = H.selectedIndex,
        G = H.options.value,
        J = H.value(),
        I;
      if (H._isSelect && !H._bound && G) {
        J = G
      }
      if (J !== H._old) {
        I = true
      } else {
        if (F !== C && F !== H._oldIndex) {
          I = true
        }
      }
      if (I) {
        H._old = J;
        H._oldIndex = F;
        H.trigger(e);
        H.element.trigger(e)
      }
    },
    _click: function(F) {
      if (!F.isDefaultPrevented()) {
        this._accept(a(F.currentTarget))
      }
    },
    _data: function() {
      return this.dataSource.view()
    },
    _enable: function() {
      var H = this,
        G = H.options,
        F = H.element.is("[disabled]");
      if (G.enable !== C) {
        G.enabled = G.enable
      }
      if (!G.enabled || F) {
        H.enable(false)
      } else {
        H.readonly(H.element.is("[readonly]"))
      }
    },
    _focus: function(F) {
      var G = this;
      var H = true;
      if (G.popup.visible() && F && G.trigger(y, {
        item: F
      })) {
        G.close();
        return
      }
      G._select(F);
      G._triggerCascade(H);
      G._blur()
    },
    _index: function(J) {
      var I = this,
        G, H, F = I._data();
      for (G = 0, H = F.length; G < H; G++) {
        if (I._dataValue(F[G]) == J) {
          return G
        }
      }
      return -1
    },
    _dataValue: function(F) {
      var G = this._value(F);
      if (G === C) {
        G = this._text(F)
      }
      return G
    },
    _height: function(H) {
      if (H) {
        var K = this,
          I = K.list,
          L = K.popup.visible(),
          G = K.options.height,
          F = K.header,
          J;
        J = I.add(I.parent(".k-animation-container")).show();
        G = K.ul[0].scrollHeight > G ? G : "auto";
        J.height(G);
        if (F) {
          K.ul.height(G == "auto" ? G : I.height() - F.height())
        }
        if (!L) {
          J.hide()
        }
      }
    },
    _adjustListWidth: function() {
      var H = this.list,
        I = H[0].style.width,
        J = this.wrapper,
        F, G;
      if (!H.data(E) && I) {
        return
      }
      F = window.getComputedStyle ? window.getComputedStyle(J[0], null) : 0;
      G = F ? parseFloat(F.width) : J.outerWidth();
      if (F && (d.mozilla || d.msie)) {
        G += parseFloat(F.paddingLeft) + parseFloat(F.paddingRight) + parseFloat(F.borderLeftWidth) + parseFloat(F.borderRightWidth)
      }
      if (H.css("box-sizing") !== "border-box") {
        I = G - (H.outerWidth() - H.width())
      } else {
        I = G
      }
      H.css({
        fontFamily: J.css("font-family"),
        width: I
      }).data(E, I);
      return true
    },
    _popup: function() {
      var I = this,
        G = I.list,
        F = I._focused,
        H = I.options,
        J = I.wrapper;
      I.popup = new B.Popup(G, h({}, H.popup, {
        anchor: J,
        open: function(K) {
          I._adjustListWidth();
          if (I.trigger(s)) {
            K.preventDefault()
          } else {
            F.attr("aria-expanded", true);
            I.ul.attr("aria-hidden", false)
          }
        },
        close: function(K) {
          if (I.trigger(g)) {
            K.preventDefault()
          } else {
            F.attr("aria-expanded", false);
            I.ul.attr("aria-hidden", true)
          }
        },
        animation: H.animation,
        isRtl: A.isRtl(J)
      }));
      I.popup.one(s, function() {
        I._height(I._data().length)
      });
      I._touchScroller = n.touchScroller(I.popup.element)
    },
    _makeUnselectable: function() {
      if (m) {
        this.list.find("*").attr("unselectable", "on")
      }
    },
    _toggleHover: function(F) {
      a(F.currentTarget).toggleClass(j, F.type === "mouseenter")
    },
    _toggle: function(F) {
      var G = this;
      F = F !== C ? F : !G.popup.visible();
      if (!A.touch && G._focused[0] !== b()) {
        G._focused.focus()
      }
      G[F ? s : g]()
    },
    _scroll: function(H) {
      if (!H) {
        return
      }
      if (H[0]) {
        H = H[0]
      }
      var L = this.ul[0],
        J = H.offsetTop,
        I = H.offsetHeight,
        N = L.scrollTop,
        M = L.clientHeight,
        F = J + I,
        K = this._touchScroller,
        O, G;
      if (K) {
        O = K.dimensions.y;
        if (O.enabled && J > O.size) {
          J = J - O.size + I + 4;
          K.scrollTo(0, -J)
        }
      } else {
        G = this.header ? this.header.outerHeight() : 0;
        L.scrollTop = N > J ? (J - G) : F > (N + M) ? (F - M - G) : N
      }
    },
    _template: function() {
      var I = this,
        G = I.options,
        H = G.template,
        F = G.dataSource;
      if (I._isSelect && I.element[0].length) {
        if (!F) {
          G.dataTextField = G.dataTextField || "text";
          G.dataValueField = G.dataValueField || "value"
        }
      }
      if (!H) {
        I.template = n.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${' + n.expr(G.dataTextField, "data") + "}</li>", {
          useWithBlock: false
        })
      } else {
        H = n.template(H);
        I.template = function(J) {
          return '<li tabindex="-1" role="option" unselectable="on" class="k-item">' + H(J) + "</li>"
        }
      }
    },
    _triggerCascade: function(G) {
      var F = this,
        H = F.value();
      if ((!F._bound && H) || F._old !== H) {
        F.trigger("cascade", {
          userTriggered: G
        })
      }
    },
    _unbindDataSource: function() {
      var F = this;
      F.dataSource.unbind(e, F._refreshHandler).unbind(t, F._progressHandler).unbind(x, F._requestEndHandler).unbind("error", F._errorHandler)
    }
  });
  h(q, {
    caret: function(G) {
      var F, H = G.ownerDocument.selection;
      if (H) {
        F = Math.abs(H.createRange().moveStart(f, -G.value.length))
      } else {
        F = G.selectionStart
      }
      return F
    },
    selectText: function(G, I, H) {
      try {
        if (G.createTextRange) {
          G.focus();
          var J = G.createTextRange();
          J.collapse(true);
          J.moveStart(f, I);
          J.moveEnd(f, H - I);
          J.select()
        } else {
          G.setSelectionRange(I, H)
        }
      } catch (F) {}
    },
    inArray: function(H, I) {
      var F, G, J = I.children;
      if (!H || H.parentNode !== I) {
        return -1
      }
      for (F = 0, G = J.length; F < G; F++) {
        if (H === J[F]) {
          return F
        }
      }
      return -1
    }
  });
  n.ui.List = q;
  B.Select = q.extend({
    init: function(F, G) {
      q.fn.init.call(this, F, G);
      this._initial = this.element.val()
    },
    setDataSource: function(F) {
      this.options.dataSource = F;
      this._dataSource();
      this._bound = false;
      if (this.options.autoBind) {
        this.dataSource.fetch()
      }
    },
    close: function() {
      this.popup.close()
    },
    select: function(F) {
      var G = this;
      if (F === C) {
        return G.selectedIndex
      } else {
        G._select(F);
        G._triggerCascade();
        G._old = G._accessor();
        G._oldIndex = G.selectedIndex
      }
    },
    _accessor: function(K, G) {
      var F = this.element[0],
        H = this._isSelect,
        J = F.selectedIndex,
        I;
      if (K === C) {
        if (H) {
          if (J > -1) {
            I = F.options[J];
            if (I) {
              K = I.value
            }
          }
        } else {
          K = F.value
        }
        return K
      } else {
        if (H) {
          if (J > -1) {
            F.options[J].removeAttribute(z)
          }
          F.selectedIndex = G;
          I = F.options[G];
          if (I) {
            I.setAttribute(z, z)
          }
        } else {
          F.value = K
        }
      }
    },
    _hideBusy: function() {
      var F = this;
      clearTimeout(F._busy);
      F._arrow.removeClass(r);
      F._focused.attr("aria-busy", false);
      F._busy = null
    },
    _showBusy: function() {
      var F = this;
      F._request = true;
      if (F._busy) {
        return
      }
      F._busy = setTimeout(function() {
        F._focused.attr("aria-busy", true);
        F._arrow.addClass(r)
      }, 100)
    },
    _requestEnd: function() {
      this._request = false
    },
    _dataSource: function() {
      var J = this,
        G = J.element,
        I = J.options,
        F = I.dataSource || {}, H;
      F = a.isArray(F) ? {
        data: F
      } : F;
      if (J._isSelect) {
        H = G[0].selectedIndex;
        if (H > -1) {
          I.index = H
        }
        F.select = G;
        F.fields = [{
          field: I.dataTextField
        }, {
          field: I.dataValueField
        }]
      }
      if (J.dataSource && J._refreshHandler) {
        J._unbindDataSource()
      } else {
        J._refreshHandler = u(J.refresh, J);
        J._progressHandler = u(J._showBusy, J);
        J._requestEndHandler = u(J._requestEnd, J);
        J._errorHandler = u(J._hideBusy, J)
      }
      J.dataSource = n.data.DataSource.create(F).bind(e, J._refreshHandler).bind(t, J._progressHandler).bind(x, J._requestEndHandler).bind("error", J._errorHandler)
    },
    _get: function(I) {
      var J = this,
        F = J._data(),
        G, H;
      if (typeof I === "function") {
        for (G = 0, H = F.length; G < H; G++) {
          if (I(F[G])) {
            I = G;
            break
          }
        }
      }
      if (typeof I === "number") {
        if (I < 0) {
          return a()
        }
        I = a(J.ul[0].children[I])
      }
      if (I && I.nodeType) {
        I = a(I)
      }
      return I
    },
    _move: function(H) {
      var M = this,
        J = H.keyCode,
        N = M.ul[0],
        K = M.popup.visible() ? "_select" : "_accept",
        F = M._current,
        G = J === o.DOWN,
        I, L;
      if (J === o.UP || G) {
        if (H.altKey) {
          M.toggle(G)
        } else {
          I = N.firstChild;
          if (!I && !M._accessor() && M._state !== "filter") {
            if (!M._fetch) {
              M.dataSource.one(e, function() {
                M._move(H);
                M._fetch = false
              });
              M._fetch = true;
              M._filterSource()
            }
            H.preventDefault();
            return true
          }
          if (G) {
            if (!F || (M.selectedIndex === -1 && !M.value() && F[0] === I)) {
              F = I
            } else {
              F = F[0].nextSibling;
              if (!F && I === N.lastChild) {
                F = I
              }
            }
            M[K](F)
          } else {
            F = F ? F[0].previousSibling : N.lastChild;
            if (!F && I === N.lastChild) {
              F = I
            }
            M[K](F)
          }
        }
        H.preventDefault();
        L = true
      } else {
        if (J === o.ENTER || J === o.TAB) {
          if (M.popup.visible()) {
            H.preventDefault()
          }
          if (M._typing || (!M.popup.visible() && M.selectedIndex === -1)) {
            F = null
          }
          M._accept(F);
          L = true
        } else {
          if (J === o.ESC) {
            if (M.popup.visible()) {
              H.preventDefault()
            }
            M.close();
            L = true
          }
        }
      }
      return L
    },
    _selectItem: function() {
      var H = this,
        G = H.options,
        F = H.selectedIndex,
        I, J;
      I = H._isSelect && !H._initial && !G.value && G.index && !H._bound;
      if (!I) {
        J = H._selectedValue || G.value || H._accessor()
      }
      if (J) {
        H.value(J)
      } else {
        if (!H._bound || F > -1) {
          if (!H._bound) {
            F = G.index
          }
          H.select(F)
        }
      }
    },
    _fetchItems: function(H) {
      var G = this,
        F = G.ul[0].firstChild;
      if (G._request) {
        return true
      }
      if (!G._fetch && !F) {
        if (G.options.cascadeFrom) {
          return !F
        }
        G.dataSource.one(e, function() {
          G.value(H);
          G._fetch = false
        });
        G._fetch = true;
        G.dataSource.fetch();
        return true
      }
    },
    _options: function(F, N) {
      var Q = this,
        J = Q.element,
        P = J[0].selectedIndex,
        L = F.length,
        O = "",
        M, G, H, I, K = 0;
      if (N) {
        K = 1;
        O = N;
        if (N.indexOf(a(J[0].firstChild).text()) === -1) {
          P += 1
        }
      }
      for (; K < L; K++) {
        M = "<option";
        G = F[K];
        H = Q._text(G);
        I = Q._value(G);
        if (I !== C) {
          I += "";
          if (I.indexOf('"') !== -1) {
            I = I.replace(v, "&quot;")
          }
          M += ' value="' + I + '"'
        }
        M += ">";
        if (H !== C) {
          M += k(H)
        }
        M += "</option>";
        O += M
      }
      J.html(O);
      J[0].selectedIndex = P === -1 ? 0 : P
    },
    _reset: function() {
      var I = this,
        F = I.element,
        H = F.attr("form"),
        G = H ? a("#" + H) : F.closest("form");
      if (G[0]) {
        I._resetHandler = function() {
          setTimeout(function() {
            I.value(I._initial)
          })
        };
        I._form = G.on("reset", I._resetHandler)
      }
    },
    _cascade: function() {
      var L = this,
        H = L.options,
        F = H.cascadeFrom,
        I, J, K, M, G;
      if (F) {
        L._selectedValue = H.value || L._accessor();
        J = a("#" + F);
        I = J.data("kendo" + H.name);
        if (!I) {
          I = J.data("kendo" + c[H.name])
        }
        if (!I) {
          return
        }
        H.autoBind = false;
        M = H.cascadeFromField || I.options.dataValueField;
        G = function() {
          var N = L._selectedValue || L.value();
          if (L._userTriggered) {
            L._clearSelection(I, true)
          } else {
            if (N) {
              L.value(N);
              if (!L.dataSource.view()[0] || L.selectedIndex === -1) {
                L._clearSelection(I, true)
              }
            } else {
              L.select(H.index)
            }
          }
          L.enable();
          L._triggerCascade(L._userTriggered);
          L._userTriggered = false
        };
        K = function() {
          var N = I.dataItem(),
            Q = N ? I._value(N) : null,
            O, P;
          if (Q || Q === 0) {
            O = L.dataSource.filter() || {};
            w(O, M);
            P = O.filters || [];
            P.push({
              field: M,
              operator: "eq",
              value: Q
            });
            L.dataSource.one(e, G).filter(P)
          } else {
            L.enable(false);
            L._clearSelection(I);
            L._triggerCascade(L._userTriggered);
            L._userTriggered = false
          }
        };
        I.bind("cascade", function(N) {
          L._userTriggered = N.userTriggered;
          K()
        });
        if (I._bound) {
          K()
        } else {
          if (!I.value()) {
            L.enable(false)
          }
        }
      }
    }
  });

  function w(F, G) {
    if (F.filters) {
      F.filters = a.grep(F.filters, function(H) {
        w(H, G);
        if (H.filters) {
          return H.filters.length
        } else {
          return H.field != G
        }
      })
    }
  }
})(window.kendo.jQuery);
kendo_module({
  id: "multiselect",
  name: "MultiSelect",
  category: "web",
  description: "The MultiSelect widget allows the selection from pre-defined values.",
  depends: ["list"],
  features: [{
    id: "mobile-scroller",
    name: "Mobile scroller",
    description: "Support for kinetic scrolling in mobile device",
    depends: ["mobile.scroller"]
  }]
});
(function(a, Q) {
  var t = window.kendo,
    P = t.ui,
    y = P.List,
    v = t.keys,
    c = t._activeElement,
    E = t.data.ObservableArray,
    I = a.proxy,
    r = "id",
    x = "li",
    b = "accept",
    k = "filter",
    F = "open",
    h = "close",
    f = "change",
    H = "progress",
    L = "select",
    C = "nextSibling",
    G = "previousSibling",
    o = ' style="display:none"',
    d = "aria-disabled",
    e = "aria-readonly",
    m = "k-state-focused",
    n = "k-loading-hidden",
    p = "k-state-hover",
    N = "k-state-disabled",
    j = "disabled",
    K = "readonly",
    D = ".kendoMultiSelect",
    g = "click" + D,
    u = "keydown" + D,
    z = "mouseenter" + D,
    A = "mouseleave" + D,
    q = z + " " + A,
    J = /"/g,
    s = a.isArray,
    O = ["font-family", "font-size", "font-stretch", "font-style", "font-weight", "letter-spacing", "text-transform", "line-height"];
  var B = y.extend({
    init: function(S, U) {
      var V = this,
        T, R;
      V.ns = D;
      y.fn.init.call(V, S, U);
      V._wrapper();
      V._tagList();
      V._input();
      V._textContainer();
      V._loader();
      V._tabindex(V.input);
      S = V.element.attr("multiple", "multiple").hide();
      U = V.options;
      R = U.value;
      if (!U.placeholder) {
        U.placeholder = S.data("placeholder")
      }
      T = S.attr(r);
      if (T) {
        V._tagID = T + "_tag_active";
        T = T + "_taglist";
        V.tagList.attr(r, T)
      }
      V._aria(T);
      V._dataSource();
      V._ignoreCase();
      V._popup();
      V._values = [];
      V._dataItems = [];
      V._reset();
      V._enable();
      V._placeholder();
      if (U.autoBind) {
        V.dataSource.fetch()
      } else {
        if (R) {
          if (!s(R)) {
            R = [R]
          }
          if (a.isPlainObject(R[0]) || !U.dataValueField) {
            V._retrieveData = true;
            V.dataSource.data(R);
            V.value(V._initialValues)
          }
        }
      }
      t.notify(V)
    },
    options: {
      name: "MultiSelect",
      enabled: true,
      autoBind: true,
      autoClose: true,
      highlightFirst: true,
      dataTextField: "",
      dataValueField: "",
      filter: "startswith",
      ignoreCase: true,
      minLength: 0,
      delay: 100,
      value: null,
      maxSelectedItems: null,
      itemTemplate: "",
      tagTemplate: "",
      placeholder: "",
      height: 200,
      animation: {}
    },
    events: [F, h, f, L, "dataBinding", "dataBound"],
    setDataSource: function(R) {
      this.options.dataSource = R;
      this._dataSource();
      if (this.options.autoBind) {
        this.dataSource.fetch()
      }
    },
    setOptions: function(R) {
      y.fn.setOptions.call(this, R);
      this._template();
      this._accessors();
      this._aria(this.tagList.attr(r))
    },
    current: function(R) {
      this.currentTag(null);
      return y.fn.current.call(this, R)
    },
    currentTag: function(R) {
      var S = this;
      if (R !== Q) {
        if (S._currentTag) {
          S._currentTag.removeClass(m).removeAttr(r);
          S.input.removeAttr("aria-activedescendant")
        }
        if (R) {
          R.addClass(m).attr(r, S._tagID);
          S.input.attr("aria-activedescendant", S._tagID)
        }
        S._currentTag = R
      } else {
        return S._currentTag
      }
    },
    dataItems: function() {
      return this._dataItems
    },
    destroy: function() {
      var S = this,
        R = S.ns;
      S.wrapper.off(R);
      S.tagList.off(R);
      S.input.off(R);
      y.fn.destroy.call(S)
    },
    _editable: function(T) {
      var W = this,
        R = T.disable,
        U = T.readonly,
        X = W.wrapper.off(D),
        V = W.tagList.off(D),
        S = W.element.add(W.input.off(D));
      if (!U && !R) {
        X.removeClass(N).on(q, W._toggleHover).on("mousedown" + D, function(Y) {
          var Z = Y.target.nodeName.toLowerCase() !== "input";
          if (Z) {
            Y.preventDefault()
          }
          if (Y.target.className.indexOf("k-delete") === -1) {
            if (W.input[0] !== c() && Z) {
              W.input.focus()
            }
            if (W.options.minLength === 0) {
              W.open()
            }
          }
        });
        W.input.on(u, I(W._keydown, W)).on("paste" + D, I(W._search, W)).on("focus" + D, function() {
          W._placeholder(false)
        }).on("blur" + D, function() {
          clearTimeout(W._typing);
          W._placeholder();
          W.close();
          if (W._state === k) {
            W._state = b
          }
          W.element.blur()
        });
        S.removeAttr(j).removeAttr(K).attr(d, false).attr(e, false);
        V.on(z, x, function() {
          a(this).addClass(p)
        }).on(A, x, function() {
          a(this).removeClass(p)
        }).on(g, ".k-delete", function(Y) {
          W._unselect(a(Y.target).closest(x));
          W._change();
          W.close()
        })
      } else {
        if (R) {
          X.addClass(N)
        } else {
          X.removeClass(N)
        }
        S.attr(j, R).attr(K, U).attr(d, R).attr(e, U)
      }
    },
    _close: function() {
      var R = this;
      if (R.options.autoClose || !R._visibleItems) {
        R.close()
      } else {
        R.current(R.options.highlightFirst ? l(R.ul[0]) : null);
        R.popup._position()
      }
    },
    close: function() {
      this.popup.close();
      this.current(null)
    },
    open: function() {
      var R = this;
      if (!R.ul[0].firstChild || R._state === b || R._retrieveData) {
        R._state = "";
        R._open = true;
        R._retrieveData = false;
        R._filterSource()
      } else {
        if (R._visibleItems && R._allowSelection()) {
          R.popup.open();
          R.current(R.options.highlightFirst ? l(R.ul[0]) : null)
        }
      }
    },
    toggle: function(R) {
      R = R !== Q ? R : !this.popup.visible();
      this[R ? F : h]()
    },
    refresh: function() {
      var T = this,
        S = null,
        R;
      T.trigger("dataBinding");
      R = T._render(T.dataSource.view());
      T._height(R);
      if (T._setInitialValues) {
        T._setInitialValues = false;
        T.value(T._initialValues)
      }
      if (T._open) {
        T._open = false;
        T.toggle(R)
      }
      if (T.popup.visible()) {
        T.popup._position();
        if (T.options.highlightFirst) {
          S = l(T.ul[0])
        }
      }
      T.current(S);
      if (T._touchScroller) {
        T._touchScroller.reset()
      }
      T._makeUnselectable();
      T._hideBusy();
      T.trigger("dataBound")
    },
    search: function(X) {
      var W = this,
        V = W.options,
        T = V.ignoreCase,
        S = V.filter,
        R = V.dataTextField,
        U = W.input.val();
      if (V.placeholder === U) {
        U = ""
      }
      clearTimeout(W._typing);
      X = typeof X === "string" ? X : U;
      if (X.length >= V.minLength) {
        W._state = k;
        W._open = true;
        W._filterSource({
          value: T ? X.toLowerCase() : X,
          field: R,
          operator: S,
          ignoreCase: T
        })
      }
    },
    value: function(W) {
      var V = this,
        U = a(V.tagList[0].children),
        T = U.length,
        R, S = 0;
      if (W === Q) {
        return V._values
      }
      if (V._fetchItems(W)) {
        return
      }
      for (; S < T; S++) {
        V._unselect(U.eq(S))
      }
      if (W !== null) {
        W = s(W) || W instanceof E ? W : [W];
        for (S = 0, T = W.length; S < T; S++) {
          R = V._index(W[S]);
          if (R > -1) {
            V._select(R)
          }
        }
        V._old = V._values.slice()
      }
    },
    _dataSource: function() {
      var U = this,
        S = U.element,
        T = U.options,
        R = T.dataSource || {};
      R = s(R) ? {
        data: R
      } : R;
      R.select = S;
      R.fields = [{
        field: T.dataTextField
      }, {
        field: T.dataValueField
      }];
      if (U.dataSource && U._refreshHandler) {
        U._unbindDataSource()
      } else {
        U._refreshHandler = I(U.refresh, U);
        U._progressHandler = I(U._showBusy, U)
      }
      U.dataSource = t.data.DataSource.create(R).bind(f, U._refreshHandler).bind(H, U._progressHandler)
    },
    _fetchItems: function(T) {
      var S = this;
      var R = a.isArray(T) && T.length === 0;
      if (R || !T) {
        return
      }
      if (!S._fetch && !S.ul[0].firstChild) {
        S.dataSource.one(f, function() {
          S.value(T);
          S._fetch = false
        });
        S._fetch = true;
        S.dataSource.fetch();
        return true
      }
    },
    _reset: function() {
      var U = this,
        R = U.element,
        T = R.attr("form"),
        S = T ? a("#" + T) : R.closest("form");
      if (S[0]) {
        U._resetHandler = function() {
          setTimeout(function() {
            U.value(U._initialValues)
          })
        };
        U._form = S.on("reset", U._resetHandler)
      }
    },
    _initValue: function() {
      var R = this,
        S = R.options.value || R.element.val();
      if (S === null) {
        S = []
      } else {
        if (!s(S)) {
          S = [S]
        }
        S = R._mapValues(S)
      }
      R._old = R._initialValues = S;
      R._setInitialValues = !! S[0]
    },
    _mapValues: function(S) {
      var R = this;
      if (S && a.isPlainObject(S[0])) {
        S = a.map(S, function(T) {
          return R._value(T)
        })
      }
      return S
    },
    _change: function() {
      var R = this,
        S = R.value();
      if (!i(S, R._old)) {
        R._old = S.slice();
        R.trigger(f);
        R.element.trigger(f)
      }
    },
    _click: function(R) {
      var T = this,
        S = a(R.currentTarget);
      if (!R.isDefaultPrevented()) {
        if (T.trigger(L, {
          item: S
        })) {
          T._close();
          return
        }
        T._select(S);
        T._change();
        T._close()
      }
    },
    _item: function(S, R) {
      S = S[R]();
      if (S[0] && !S.is(":visible")) {
        S = this._item(S, R)
      }
      return S
    },
    _keydown: function(S) {
      var X = this,
        V = S.keyCode,
        W = X._currentTag,
        R = X._current,
        T = X.input.val(),
        U = t.support.isRtl(X.wrapper),
        Y = X.popup.visible();
      if (V === v.DOWN) {
        S.preventDefault();
        if (!Y) {
          X.open();
          return
        }
        if (R) {
          R = M(R[0], C)
        } else {
          R = l(X.ul[0])
        }
        if (R) {
          X.current(a(R))
        }
      } else {
        if (V === v.UP) {
          if (Y) {
            if (R) {
              R = M(R[0], G)
            } else {
              R = w(X.ul[0])
            }
            X.current(a(R));
            if (!X._current[0]) {
              X.close()
            }
          }
          S.preventDefault()
        } else {
          if ((V === v.LEFT && !U) || (V === v.RIGHT && U)) {
            if (!T) {
              W = W ? W.prev() : a(X.tagList[0].lastChild);
              if (W[0]) {
                X.currentTag(W)
              }
            }
          } else {
            if ((V === v.RIGHT && !U) || (V === v.LEFT && U)) {
              if (!T && W) {
                W = W.next();
                X.currentTag(W[0] ? W : null)
              }
            } else {
              if (V === v.ENTER && Y) {
                if (R) {
                  if (X.trigger(L, {
                    item: R
                  })) {
                    X._close();
                    return
                  }
                  X._select(R)
                }
                X._change();
                X._close();
                S.preventDefault()
              } else {
                if (V === v.ESC) {
                  if (Y) {
                    S.preventDefault()
                  } else {
                    X.currentTag(null)
                  }
                  X.close()
                } else {
                  if (V === v.HOME) {
                    if (Y) {
                      X.current(l(X.ul[0]))
                    } else {
                      if (!T) {
                        W = X.tagList[0].firstChild;
                        if (W) {
                          X.currentTag(a(W))
                        }
                      }
                    }
                  } else {
                    if (V === v.END) {
                      if (Y) {
                        X.current(w(X.ul[0]))
                      } else {
                        if (!T) {
                          W = X.tagList[0].lastChild;
                          if (W) {
                            X.currentTag(a(W))
                          }
                        }
                      }
                    } else {
                      if ((V === v.DELETE || V === v.BACKSPACE) && !T) {
                        if (V === v.BACKSPACE && !W) {
                          W = a(X.tagList[0].lastChild)
                        }
                        if (W && W[0]) {
                          X._unselect(W);
                          X._change();
                          X._close()
                        }
                      } else {
                        clearTimeout(X._typing);
                        setTimeout(function() {
                          X._scale()
                        });
                        X._search()
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    _hideBusy: function() {
      var R = this;
      clearTimeout(R._busy);
      R.input.attr("aria-busy", false);
      R._loading.addClass(n);
      R._busy = null
    },
    _showBusy: function() {
      var R = this;
      if (R._busy) {
        return
      }
      R._busy = setTimeout(function() {
        R.input.attr("aria-busy", true);
        R._loading.removeClass(n)
      }, 100)
    },
    _placeholder: function(T) {
      var U = this,
        S = U.input,
        R = c();
      if (T === Q) {
        T = false;
        if (S[0] !== R) {
          T = !U._dataItems[0]
        }
        U.wrapper.removeClass(m)
      } else {
        U.wrapper.addClass(m)
      }
      U._prev = "";
      S.toggleClass("k-readonly", T).val(T ? U.options.placeholder : "");
      if (S[0] === R) {
        y.selectText(S[0], 0, 0)
      }
      U._scale()
    },
    _scale: function() {
      var T = this,
        U = T.wrapper,
        V = U.width(),
        R = T._span.text(T.input.val()),
        S;
      if (!U.is(":visible")) {
        R.appendTo(document.documentElement);
        V = S = R.width() + 25;
        R.appendTo(U)
      } else {
        S = R.width() + 25
      }
      T.input.width(S > V ? V : S)
    },
    _option: function(R, V) {
      var U = "<option",
        S = this._text(R),
        T = this._value(R);
      if (T !== Q) {
        T += "";
        if (T.indexOf('"') !== -1) {
          T = T.replace(J, "&quot;")
        }
        U += ' value="' + T + '"'
      }
      if (V) {
        U += ' selected="selected"'
      }
      U += ">";
      if (S !== Q) {
        U += t.htmlEncode(S)
      }
      return U += "</option>"
    },
    _render: function(R) {
      var Z = this,
        V = R.length,
        Y = Z.itemTemplate,
        aa = Z._dataItems.slice(0),
        ab = 0,
        U = 0,
        W = "",
        T = "",
        S, X;
      for (; U < V; U++) {
        S = R[U];
        X = Z._selected(aa, S);
        T += Y(S, U, X);
        W += Z._option(S, X);
        if (!X) {
          ab += 1
        }
      }
      V = aa.length;
      if (V) {
        for (U = 0; U < V; U++) {
          W += Z._option(aa[U], true)
        }
      }
      Z.ul[0].innerHTML = T;
      Z.element.html(W);
      Z._visibleItems = ab;
      return ab
    },
    _selected: function(aa, R) {
      var X = this,
        W = X._text,
        Z = X._value,
        Y = Z(R),
        U = aa.length,
        V = false,
        S, T = 0;
      if (Y === Q) {
        Y = W(R)
      }
      for (; T < U; T++) {
        R = aa[T];
        S = Z(R);
        if (S === Q) {
          S = W(R)
        }
        if (S !== Q && S === Y) {
          V = true;
          break
        }
      }
      if (V) {
        aa.splice(T, 1)
      }
      return V
    },
    _search: function() {
      var R = this;
      R._typing = setTimeout(function() {
        var S = R.input.val();
        if (R._prev !== S) {
          R._prev = S;
          R.search(S)
        }
      }, R.options.delay)
    },
    _allowSelection: function() {
      var R = this.options.maxSelectedItems;
      return R === null || R > this._values.length
    },
    _select: function(T) {
      var U = this,
        V = U._values,
        R, S;
      if (!U._allowSelection()) {
        return
      }
      if (!isNaN(T)) {
        S = T;
        U.ul[0].children[S].style.display = "none"
      } else {
        S = T.hide().data("idx")
      }
      U.element[0].children[S].selected = true;
      R = U.dataSource.view()[S];
      U.tagList.append(U.tagTemplate(R));
      U._dataItems.push(R);
      V.push(U._dataValue(R));
      U._visibleItems -= 1;
      U.currentTag(null);
      U._placeholder();
      U._height(U._visibleItems);
      if (U._state === k) {
        U._state = b
      }
    },
    _unselect: function(W) {
      var X = this,
        S = W.index(),
        R, Y, V, U, T;
      W.remove();
      X.currentTag(null);
      X._values.splice(S, 1);
      R = X._dataItems.splice(S, 1)[0];
      Y = X._dataValue(R);
      S = X._index(Y);
      if (S !== -1) {
        a(X.ul[0].children[S]).show();
        X.element[0].children[S].selected = false;
        X._visibleItems += 1;
        X._height(X._visibleItems)
      } else {
        S = X.dataSource.view().length;
        V = X.element[0].children;
        T = V.length;
        for (; S < T; S++) {
          U = V[S];
          if (U.value == Y) {
            U.selected = false;
            break
          }
        }
      }
      X._placeholder()
    },
    _template: function() {
      var W = this,
        T = W.options,
        S = T.itemTemplate,
        U = T.tagTemplate,
        R = T.dataSource,
        V;
      if (W.element[0].length && !R) {
        T.dataTextField = T.dataTextField || "text";
        T.dataValueField = T.dataValueField || "value"
      }
      V = t.template("#:" + t.expr(T.dataTextField, "data") + "#", {
        useWithBlock: false
      });
      S = S ? t.template(S) : V;
      U = U ? t.template(U) : V;
      W.itemTemplate = function(X, Z, Y) {
        return '<li tabindex="-1" role="option" data-idx="' + Z + '" unselectable="on" class="k-item"' + (Y ? o : "") + ">" + S(X) + "</li>"
      };
      W.tagTemplate = function(X) {
        return '<li class="k-button" unselectable="on"><span unselectable="on">' + U(X) + '</span><span unselectable="on" class="k-icon k-delete">delete</span></li>'
      }
    },
    _input: function() {
      var T = this,
        R = T.element[0].accessKey,
        S = T._innerWrapper.children("input.k-input");
      if (!S[0]) {
        S = a('<input class="k-input" style="width: 25px" />').appendTo(T._innerWrapper)
      }
      T.element.removeAttr("accesskey");
      T._focused = T.input = S.attr({
        accesskey: R,
        role: "listbox",
        "aria-expanded": false
      })
    },
    _tagList: function() {
      var S = this,
        R = S._innerWrapper.children("ul");
      if (!R[0]) {
        R = a('<ul role="listbox" unselectable="on" class="k-reset"/>').appendTo(S._innerWrapper)
      }
      S.tagList = R
    },
    _loader: function() {
      this._loading = a('<span class="k-icon k-loading ' + n + '"></span>').insertAfter(this.input)
    },
    _textContainer: function() {
      var R = t.getComputedStyles(this.input[0], O);
      R.position = "absolute";
      R.visibility = "hidden";
      R.top = -3333;
      R.left = -3333;
      this._span = a("<span/>").css(R).appendTo(this.wrapper)
    },
    _wrapper: function() {
      var S = this,
        R = S.element,
        T = R.parent("span.k-multiselect");
      if (!T[0]) {
        T = R.wrap('<div class="k-widget k-multiselect k-header" unselectable="on" />').parent();
        T[0].style.cssText = R[0].style.cssText;
        a('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(R)
      }
      S.wrapper = T.addClass(R[0].className).css("display", "");
      S._innerWrapper = a(T[0].firstChild)
    }
  });

  function i(R, S) {
    var T;
    if ((R === null && S !== null) || (R !== null && S === null)) {
      return false
    }
    T = R.length;
    if (T !== S.length) {
      return false
    }
    while (T--) {
      if (R[T] !== S[T]) {
        return false
      }
    }
    return true
  }
  function l(S) {
    var R = S.firstChild;
    if (R && R.style.display === "none") {
      R = M(R, C)
    }
    if (R) {
      return a(R)
    }
    return R
  }
  function w(S) {
    var R = S.lastChild;
    if (R && R.style.display === "none") {
      R = M(R, G)
    }
    if (R) {
      return a(R)
    }
    return R
  }
  function M(S, R) {
    S = S[R];
    if (S && S.style.display === "none") {
      S = M(S, R)
    }
    return S
  }
  P.plugin(B)
})(window.kendo.jQuery);
kendo_module({
  id: "calendar",
  name: "Calendar",
  category: "web",
  description: "The Calendar widget renders a graphical calendar that supports navigation and selection.",
  depends: ["core"]
});
(function(a, ao) {
  var G = window.kendo,
    ah = G.support,
    an = G.ui,
    at = an.Widget,
    I = G.keys,
    Z = G.parseDate,
    b = G.date.adjustDST,
    s = G._extractFormat,
    ai = G.template,
    x = G.getCulture,
    am = G.support.transitions,
    al = am ? am.css + "transform-origin" : "",
    j = ai('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>', {
      useWithBlock: false
    }),
    q = ai('<td role="gridcell">&nbsp;</td>', {
      useWithBlock: false
    }),
    f = G.support.browser,
    E = f.msie && f.version < 9,
    W = ".kendoCalendar",
    m = "click" + W,
    H = "keydown" + W,
    A = "id",
    L = "min",
    J = "left",
    ag = "slideIn",
    M = "month",
    k = "century",
    l = "change",
    T = "navigate",
    ap = "value",
    z = "k-state-hover",
    p = "k-state-disabled",
    v = "k-state-focused",
    X = "k-other-month",
    Y = ' class="' + X + '"',
    ak = "k-nav-today",
    i = "td:has(.k-link)",
    e = "blur" + W,
    t = "focus",
    u = t + W,
    N = ah.touch ? "touchstart" : "mouseenter",
    O = ah.touch ? "touchstart" + W : "mouseenter" + W,
    P = ah.touch ? "touchend" + W + " touchmove" + W : "mouseleave" + W,
    S = 60000,
    R = 86400000,
    aa = "_prevArrow",
    U = "_nextArrow",
    c = "aria-disabled",
    d = "aria-selected",
    ac = a.proxy,
    r = a.extend,
    o = Date,
    ar = {
      month: 0,
      year: 1,
      decade: 2,
      century: 3
    };
  var h = at.extend({
    init: function(au, aw) {
      var ax = this,
        ay, av;
      at.fn.init.call(ax, au, aw);
      au = ax.wrapper = ax.element;
      aw = ax.options;
      aw.url = window.unescape(aw.url);
      ax._templates();
      ax._header();
      ax._footer(ax.footer);
      av = au.addClass("k-widget k-calendar").on(O + " " + P, i, Q).on(H, "table.k-content", ac(ax._move, ax)).on(m, i, function(az) {
        var aA = az.currentTarget.firstChild;
        if (aA.href.indexOf("#") != -1) {
          az.preventDefault()
        }
        ax._click(a(aA))
      }).on("mouseup" + W, function() {
        ax._focusView(ax.options.focusOnNav !== false)
      }).attr(A);
      if (av) {
        ax._cellID = av + "_cell_selected"
      }
      V(aw);
      ay = Z(aw.value, aw.format, aw.culture);
      ax._index = ar[aw.start];
      ax._current = new o(+ad(ay, aw.min, aw.max));
      ax._addClassProxy = function() {
        ax._active = true;
        ax._cell.addClass(v)
      };
      ax._removeClassProxy = function() {
        ax._active = false;
        ax._cell.removeClass(v)
      };
      ax.value(ay);
      G.notify(ax)
    },
    options: {
      name: "Calendar",
      value: null,
      min: new o(1900, 0, 1),
      max: new o(2099, 11, 31),
      dates: [],
      url: "",
      culture: "",
      footer: "",
      format: "",
      month: {},
      start: M,
      depth: M,
      animation: {
        horizontal: {
          effects: ag,
          reverse: true,
          duration: 500,
          divisor: 2
        },
        vertical: {
          effects: "zoomIn",
          duration: 400
        }
      }
    },
    events: [l, T],
    setOptions: function(au) {
      var av = this;
      V(au);
      at.fn.setOptions.call(av, au);
      av._templates();
      av._footer(av.footer);
      av._index = ar[av.options.start];
      av.navigate()
    },
    destroy: function() {
      var au = this,
        av = au._today;
      au.element.off(W);
      au._title.off(W);
      au[aa].off(W);
      au[U].off(W);
      G.destroy(au._table);
      if (av) {
        G.destroy(av.off(W))
      }
      at.fn.destroy.call(au)
    },
    current: function() {
      return this._current
    },
    view: function() {
      return this._view
    },
    focus: function(au) {
      au = au || this._table;
      this._bindTable(au);
      au.focus()
    },
    min: function(au) {
      return this._option(L, au)
    },
    max: function(au) {
      return this._option("max", au)
    },
    navigateToPast: function() {
      this._navigate(aa, -1)
    },
    navigateToFuture: function() {
      this._navigate(U, 1)
    },
    navigateUp: function() {
      var av = this,
        au = av._index;
      if (av._title.hasClass(p)) {
        return
      }
      av.navigate(av._current, ++au)
    },
    navigateDown: function(ax) {
      var aw = this,
        av = aw._index,
        au = aw.options.depth;
      if (!ax) {
        return
      }
      if (av === ar[au]) {
        if (+aw._value != +ax) {
          aw.value(ax);
          aw.trigger(l)
        }
        return
      }
      aw.navigate(ax, --av)
    },
    navigate: function(aJ, aL) {
      aL = isNaN(aL) ? ar[aL] : aL;
      var aG = this,
        aE = aG.options,
        av = aE.culture,
        aC = aE.min,
        aB = aE.max,
        aH = aG._title,
        az = aG._table,
        aD = aG._oldTable,
        aF = aG._value,
        aw = aG._current,
        aA = aJ && +aJ > +aw,
        aK = aL !== ao && aL !== aG._index,
        aI, ax, au, ay;
      if (!aJ) {
        aJ = aw
      }
      aG._current = aJ = new o(+ad(aJ, aC, aB));
      if (aL === ao) {
        aL = aG._index
      } else {
        aG._index = aL
      }
      aG._view = ax = g.views[aL];
      au = ax.compare;
      ay = aL === ar[k];
      aH.toggleClass(p, ay).attr(c, ay);
      ay = au(aJ, aC) < 1;
      aG[aa].toggleClass(p, ay).attr(c, ay);
      ay = au(aJ, aB) > -1;
      aG[U].toggleClass(p, ay).attr(c, ay);
      if (az && aD && aD.data("animating")) {
        aD.kendoStop(true, true);
        az.kendoStop(true, true)
      }
      aG._oldTable = az;
      if (!az || aG._changeView) {
        aH.html(ax.title(aJ, aC, aB, av));
        aG._table = aI = a(ax.content(r({
          min: aC,
          max: aB,
          date: aJ,
          url: aE.url,
          dates: aE.dates,
          format: aE.format,
          culture: av
        }, aG[ax.name])));
        K(aI);
        aG._animate({
          from: az,
          to: aI,
          vertical: aK,
          future: aA
        });
        aG._focus(aJ);
        aG.trigger(T)
      }
      if (aL === ar[aE.depth] && aF) {
        aG._class("k-state-selected", ax.toDateString(aF))
      }
      aG._class(v, ax.toDateString(aJ));
      if (!az && aG._cell) {
        aG._cell.removeClass(v)
      }
      aG._changeView = true
    },
    value: function(az) {
      var ay = this,
        aA = ay._view,
        ax = ay.options,
        aw = ay._view,
        av = ax.min,
        au = ax.max;
      if (az === ao) {
        return ay._value
      }
      az = Z(az, ax.format, ax.culture);
      if (az !== null) {
        az = new o(+az);
        if (!F(az, av, au)) {
          az = null
        }
      }
      ay._value = az;
      if (aw && az === null && ay._cell) {
        ay._cell.removeClass("k-state-selected")
      } else {
        ay._changeView = !az || aA && aA.compare(az, ay._current) !== 0;
        ay.navigate(az)
      }
    },
    _move: function(av) {
      var aD = this,
        aA = aD.options,
        ay = av.keyCode,
        aF = aD._view,
        aw = aD._index,
        au = new o(+aD._current),
        ax = G.support.isRtl(aD.wrapper),
        aE, aB, az, aC;
      if (av.target === aD._table[0]) {
        aD._active = true
      }
      if (av.ctrlKey) {
        if (ay == I.RIGHT && !ax || ay == I.LEFT && ax) {
          aD.navigateToFuture();
          aB = true
        } else {
          if (ay == I.LEFT && !ax || ay == I.RIGHT && ax) {
            aD.navigateToPast();
            aB = true
          } else {
            if (ay == I.UP) {
              aD.navigateUp();
              aB = true
            } else {
              if (ay == I.DOWN) {
                aD._click(a(aD._cell[0].firstChild));
                aB = true
              }
            }
          }
        }
      } else {
        if (ay == I.RIGHT && !ax || ay == I.LEFT && ax) {
          aE = 1;
          aB = true
        } else {
          if (ay == I.LEFT && !ax || ay == I.RIGHT && ax) {
            aE = -1;
            aB = true
          } else {
            if (ay == I.UP) {
              aE = aw === 0 ? -7 : -4;
              aB = true
            } else {
              if (ay == I.DOWN) {
                aE = aw === 0 ? 7 : 4;
                aB = true
              } else {
                if (ay == I.ENTER) {
                  aD._click(a(aD._cell[0].firstChild));
                  aB = true
                } else {
                  if (ay == I.HOME || ay == I.END) {
                    az = ay == I.HOME ? "first" : "last";
                    aC = aF[az](au);
                    au = new o(aC.getFullYear(), aC.getMonth(), aC.getDate(), au.getHours(), au.getMinutes(), au.getSeconds(), au.getMilliseconds());
                    aB = true
                  } else {
                    if (ay == I.PAGEUP) {
                      aB = true;
                      aD.navigateToPast()
                    } else {
                      if (ay == I.PAGEDOWN) {
                        aB = true;
                        aD.navigateToFuture()
                      }
                    }
                  }
                }
              }
            }
          }
        }
        if (aE || az) {
          if (!az) {
            aF.setDate(au, aE)
          }
          aD._focus(ad(au, aA.min, aA.max))
        }
      }
      if (aB) {
        av.preventDefault()
      }
      return aD._current
    },
    _animate: function(aw) {
      var ax = this,
        av = aw.from,
        ay = aw.to,
        au = ax._active;
      if (!av) {
        ay.insertAfter(ax.element[0].firstChild);
        ax._bindTable(ay)
      } else {
        if (av.parent().data("animating")) {
          av.parent().kendoStop(true, true).remove();
          av.remove();
          ay.insertAfter(ax.element[0].firstChild);
          ax._focusView(au)
        } else {
          if (!av.is(":visible") || ax.options.animation === false) {
            ay.insertAfter(av);
            av.remove();
            ax._focusView(au)
          } else {
            ax[aw.vertical ? "_vertical" : "_horizontal"](av, ay, aw.future)
          }
        }
      }
    },
    _horizontal: function(aw, aA, ax) {
      var az = this,
        au = az._active,
        ay = az.options.animation.horizontal,
        av = ay.effects,
        aB = aw.outerWidth();
      if (av && av.indexOf(ag) != -1) {
        aw.add(aA).css({
          width: aB
        });
        aw.wrap("<div/>");
        az._focusView(au, aw);
        aw.parent().css({
          position: "relative",
          width: aB * 2,
          "float": J,
          "margin-left": ax ? 0 : -aB
        });
        aA[ax ? "insertAfter" : "insertBefore"](aw);
        r(ay, {
          effects: ag + ":" + (ax ? "right" : J),
          complete: function() {
            aw.remove();
            aA.unwrap();
            az._focusView(au);
            az._oldTable = ao
          }
        });
        aw.parent().kendoStop(true, true).kendoAnimate(ay)
      }
    },
    _vertical: function(ax, aA) {
      var az = this,
        aB = az.options.animation.vertical,
        aw = aB.effects,
        au = az._active,
        av, ay;
      if (aw && aw.indexOf("zoom") != -1) {
        aA.css({
          position: "absolute",
          top: ax.prev().outerHeight(),
          left: 0
        }).insertBefore(ax);
        if (al) {
          av = az._cellByDate(az._view.toDateString(az._current));
          ay = av.position();
          ay = (ay.left + parseInt(av.width() / 2, 10)) + "px " + (ay.top + parseInt(av.height() / 2, 10) + "px");
          aA.css(al, ay)
        }
        ax.kendoStop(true, true).kendoAnimate({
          effects: "fadeOut",
          duration: 600,
          complete: function() {
            ax.remove();
            aA.css({
              position: "static",
              top: 0,
              left: 0
            });
            az._focusView(au);
            az._oldTable = ao
          }
        });
        aA.kendoStop(true, true).kendoAnimate(aB)
      }
    },
    _cellByDate: function(au) {
      return this._table.find("td:not(." + X + ")").filter(function() {
        return a(this.firstChild).attr(G.attr(ap)) === au
      })
    },
    _class: function(av, ay) {
      var ax = this,
        aw = ax._cellID,
        au = ax._cell;
      if (au) {
        au.removeAttr(d).removeAttr("aria-label").removeAttr(A)
      }
      au = ax._table.find("td:not(." + X + ")").removeClass(av).filter(function() {
        return a(this.firstChild).attr(G.attr(ap)) === ay
      }).attr(d, true);
      if (av === v && !ax._active && ax.options.focusOnNav !== false) {
        av = ""
      }
      au.addClass(av);
      if (au[0]) {
        ax._cell = au
      }
      if (aw) {
        au.attr(A, aw);
        ax._table.removeAttr("aria-activedescendant").attr("aria-activedescendant", aw)
      }
    },
    _bindTable: function(au) {
      au.on(u, this._addClassProxy).on(e, this._removeClassProxy)
    },
    _click: function(av) {
      var ax = this,
        aw = ax.options,
        au = new Date(+ax._current),
        ay = av.attr(G.attr(ap)).split("/");
      ay = new o(ay[0], ay[1], ay[2]);
      b(ay, 0);
      ax._view.setDate(au, ay);
      ax.navigateDown(ad(au, aw.min, aw.max))
    },
    _focus: function(av) {
      var au = this,
        aw = au._view;
      if (aw.compare(av, au._current) !== 0) {
        au.navigate(av)
      } else {
        au._current = av;
        au._class(v, aw.toDateString(av))
      }
    },
    _focusView: function(au, av) {
      if (au) {
        this.focus(av)
      }
    },
    _footer: function(aw) {
      var ax = this,
        ay = y(),
        au = ax.element,
        av = au.find(".k-footer");
      if (!aw) {
        ax._toggle(false);
        av.hide();
        return
      }
      if (!av[0]) {
        av = a('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(au)
      }
      ax._today = av.show().find(".k-link").html(aw(ay)).attr("title", G.toString(ay, "D", ax.options.culture));
      ax._toggle()
    },
    _header: function() {
      var aw = this,
        au = aw.element,
        av;
      if (!au.find(".k-header")[0]) {
        au.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>')
      }
      av = au.find(".k-link").on(O + " " + P + " " + u + " " + e, Q).click(false);
      aw._title = av.eq(1).on(m, function() {
        aw._focusView(aw.options.focusOnNav !== false);
        aw.navigateUp()
      });
      aw[aa] = av.eq(0).on(m, function() {
        aw._focusView(aw.options.focusOnNav !== false);
        aw.navigateToPast()
      });
      aw[U] = av.eq(2).on(m, function() {
        aw._focusView(aw.options.focusOnNav !== false);
        aw.navigateToFuture()
      })
    },
    _navigate: function(au, ax) {
      var ay = this,
        aw = ay._index + 1,
        av = new o(+ay._current);
      au = ay[au];
      if (!au.hasClass(p)) {
        if (aw > 3) {
          av.setFullYear(av.getFullYear() + 100 * ax)
        } else {
          g.views[aw].setDate(av, ax)
        }
        ay.navigate(av)
      }
    },
    _option: function(aw, az) {
      var ay = this,
        ax = ay.options,
        au = ay._value || ay._current,
        av;
      if (az === ao) {
        return ax[aw]
      }
      az = Z(az, ax.format, ax.culture);
      if (!az) {
        return
      }
      ax[aw] = new o(+az);
      if (aw === L) {
        av = az > au
      } else {
        av = au > az
      }
      if (av || D(au, az)) {
        ay._value = null;
        ay._changeView = true
      }
      if (!ay._changeView) {
        ay._changeView = !! (ax.month.content || ax.month.empty)
      }
      ay.navigate(ay._value);
      ay._toggle()
    },
    _toggle: function(ax) {
      var aw = this,
        av = aw.options,
        au = aw._today;
      if (ax === ao) {
        ax = F(y(), av.min, av.max)
      }
      if (au) {
        au.off(m);
        if (ax) {
          au.addClass(ak).removeClass(p).on(m, ac(aw._todayClick, aw))
        } else {
          au.removeClass(ak).addClass(p).on(m, ab)
        }
      }
    },
    _todayClick: function(av) {
      var aw = this,
        au = ar[aw.options.depth],
        ax = y();
      av.preventDefault();
      if (aw._view.compare(aw._current, ax) === 0 && aw._index == au) {
        aw._changeView = false
      }
      aw._value = ax;
      aw.navigate(ax, au);
      aw.trigger(l)
    },
    _templates: function() {
      var az = this,
        ay = az.options,
        aw = ay.footer,
        ax = ay.month,
        au = ax.content,
        av = ax.empty;
      az.month = {
        content: ai('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" ' + G.attr("value") + '="#=data.dateString#" title="#=data.title#">' + (au || "#=data.value#") + "</a></td>", {
          useWithBlock: !! au
        }),
        empty: ai('<td role="gridcell">' + (av || "&nbsp;") + "</td>", {
          useWithBlock: !! av
        })
      };
      az.footer = aw !== false ? ai(aw || '#= kendo.toString(data,"D","' + ay.culture + '") #', {
        useWithBlock: false
      }) : null
    }
  });
  an.plugin(h);
  var g = {
    firstDayOfMonth: function(au) {
      return new o(au.getFullYear(), au.getMonth(), 1)
    },
    firstVisibleDay: function(av, au) {
      au = au || G.culture().calendar;
      var aw = au.firstDay,
        ax = new o(av.getFullYear(), av.getMonth(), 0, av.getHours(), av.getMinutes(), av.getSeconds(), av.getMilliseconds());
      while (ax.getDay() != aw) {
        g.setTime(ax, -1 * R)
      }
      return ax
    },
    setTime: function(au, aw) {
      var ax = au.getTimezoneOffset(),
        av = new o(au.getTime() + aw),
        ay = av.getTimezoneOffset() - ax;
      au.setTime(av.getTime() + ay * S)
    },
    views: [{
      name: M,
      title: function(av, ax, aw, au) {
        return w(au).months.names[av.getMonth()] + " " + av.getFullYear()
      },
      content: function(aK) {
        var aN = this,
          aE = 0,
          aH = aK.min,
          aG = aK.max,
          aw = aK.date,
          ax = aK.dates,
          aB = aK.format,
          au = aK.culture,
          aJ = aK.url,
          aC = aJ && ax[0],
          av = w(au),
          az = av.firstDay,
          ay = av.days,
          aI = af(ay.names, az),
          aL = af(ay.namesShort, az),
          aM = g.firstVisibleDay(aw, av),
          aA = aN.first(aw),
          aF = aN.last(aw),
          aO = aN.toDateString,
          aP = new o(),
          aD = '<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';
        for (; aE < 7; aE++) {
          aD += '<th scope="col" title="' + aI[aE] + '">' + aL[aE] + "</th>"
        }
        aP = new o(aP.getFullYear(), aP.getMonth(), aP.getDate());
        b(aP, 0);
        aP = +aP;
        return aq({
          cells: 42,
          perRow: 7,
          html: aD += '</tr></thead><tbody><tr role="row">',
          start: new o(aM.getFullYear(), aM.getMonth(), aM.getDate()),
          min: new o(aH.getFullYear(), aH.getMonth(), aH.getDate()),
          max: new o(aG.getFullYear(), aG.getMonth(), aG.getDate()),
          content: aK.content,
          empty: aK.empty,
          setter: aN.setDate,
          build: function(aR) {
            var aQ = [],
              aS = aR.getDay(),
              aT = "",
              aU = "#";
            if (aR < aA || aR > aF) {
              aQ.push(X)
            }
            if (+aR === aP) {
              aQ.push("k-today")
            }
            if (aS === 0 || aS === 6) {
              aQ.push("k-weekend")
            }
            if (aC && B(+aR, ax)) {
              aU = aJ.replace("{0}", G.toString(aR, aB, au));
              aT = " k-action-link"
            }
            return {
              date: aR,
              dates: ax,
              ns: G.ns,
              title: G.toString(aR, "D", au),
              value: aR.getDate(),
              dateString: aO(aR),
              cssClass: aQ[0] ? ' class="' + aQ.join(" ") + '"' : "",
              linkClass: aT,
              url: aU
            }
          }
        })
      },
      first: function(au) {
        return g.firstDayOfMonth(au)
      },
      last: function(au) {
        var aw = new o(au.getFullYear(), au.getMonth() + 1, 0),
          av = g.firstDayOfMonth(au),
          ax = Math.abs(aw.getTimezoneOffset() - av.getTimezoneOffset());
        if (ax) {
          aw.setHours(av.getHours() + (ax / 60))
        }
        return aw
      },
      compare: function(au, av) {
        var ay, aw = au.getMonth(),
          az = au.getFullYear(),
          ax = av.getMonth(),
          aA = av.getFullYear();
        if (az > aA) {
          ay = 1
        } else {
          if (az < aA) {
            ay = -1
          } else {
            ay = aw == ax ? 0 : aw > ax ? 1 : -1
          }
        }
        return ay
      },
      setDate: function(au, aw) {
        var av = au.getHours();
        if (aw instanceof o) {
          au.setFullYear(aw.getFullYear(), aw.getMonth(), aw.getDate())
        } else {
          g.setTime(au, aw * R)
        }
        b(au, av)
      },
      toDateString: function(au) {
        return au.getFullYear() + "/" + au.getMonth() + "/" + au.getDate()
      }
    }, {
      name: "year",
      title: function(au) {
        return au.getFullYear()
      },
      content: function(ax) {
        var aw = w(ax.culture).months.namesAbbr,
          ay = this.toDateString,
          av = ax.min,
          au = ax.max;
        return aq({
          min: new o(av.getFullYear(), av.getMonth(), 1),
          max: new o(au.getFullYear(), au.getMonth(), 1),
          start: new o(ax.date.getFullYear(), 0, 1),
          setter: this.setDate,
          build: function(az) {
            return {
              value: aw[az.getMonth()],
              ns: G.ns,
              dateString: ay(az),
              cssClass: ""
            }
          }
        })
      },
      first: function(au) {
        return new o(au.getFullYear(), 0, au.getDate())
      },
      last: function(au) {
        return new o(au.getFullYear(), 11, au.getDate())
      },
      compare: function(au, av) {
        return n(au, av)
      },
      setDate: function(au, ax) {
        var aw, av = au.getHours();
        if (ax instanceof o) {
          aw = ax.getMonth();
          au.setFullYear(ax.getFullYear(), aw, au.getDate());
          if (aw !== au.getMonth()) {
            au.setDate(0)
          }
        } else {
          aw = au.getMonth() + ax;
          au.setMonth(aw);
          if (aw > 11) {
            aw -= 12
          }
          if (aw > 0 && au.getMonth() != aw) {
            au.setDate(0)
          }
        }
        b(au, av)
      },
      toDateString: function(au) {
        return au.getFullYear() + "/" + au.getMonth() + "/1"
      }
    }, {
      name: "decade",
      title: function(au, aw, av) {
        return aj(au, aw, av, 10)
      },
      content: function(au) {
        var aw = au.date.getFullYear(),
          av = this.toDateString;
        return aq({
          start: new o(aw - aw % 10 - 1, 0, 1),
          min: new o(au.min.getFullYear(), 0, 1),
          max: new o(au.max.getFullYear(), 0, 1),
          setter: this.setDate,
          build: function(ax, ay) {
            return {
              value: ax.getFullYear(),
              ns: G.ns,
              dateString: av(ax),
              cssClass: ay === 0 || ay == 11 ? Y : ""
            }
          }
        })
      },
      first: function(au) {
        var av = au.getFullYear();
        return new o(av - av % 10, au.getMonth(), au.getDate())
      },
      last: function(au) {
        var av = au.getFullYear();
        return new o(av - av % 10 + 9, au.getMonth(), au.getDate())
      },
      compare: function(au, av) {
        return n(au, av, 10)
      },
      setDate: function(au, av) {
        ae(au, av, 1)
      },
      toDateString: function(au) {
        return au.getFullYear() + "/0/1"
      }
    }, {
      name: k,
      title: function(au, aw, av) {
        return aj(au, aw, av, 100)
      },
      content: function(ay) {
        var aA = ay.date.getFullYear(),
          aw = ay.min.getFullYear(),
          au = ay.max.getFullYear(),
          az = this.toDateString,
          ax = aw,
          av = au;
        ax = ax - ax % 10;
        av = av - av % 10;
        if (av - ax < 10) {
          av = ax + 9
        }
        return aq({
          start: new o(aA - aA % 100 - 10, 0, 1),
          min: new o(ax, 0, 1),
          max: new o(av, 0, 1),
          setter: this.setDate,
          build: function(aB, aD) {
            var aE = aB.getFullYear(),
              aC = aE + 9;
            if (aE < aw) {
              aE = aw
            }
            if (aC > au) {
              aC = au
            }
            return {
              ns: G.ns,
              value: aE + " - " + aC,
              dateString: az(aB),
              cssClass: aD === 0 || aD == 11 ? Y : ""
            }
          }
        })
      },
      first: function(au) {
        var av = au.getFullYear();
        return new o(av - av % 100, au.getMonth(), au.getDate())
      },
      last: function(au) {
        var av = au.getFullYear();
        return new o(av - av % 100 + 99, au.getMonth(), au.getDate())
      },
      compare: function(au, av) {
        return n(au, av, 100)
      },
      setDate: function(au, av) {
        ae(au, av, 10)
      },
      toDateString: function(au) {
        var av = au.getFullYear();
        return (av - av % 10) + "/0/1"
      }
    }]
  };

  function aj(au, ay, aw, aA) {
    var aB = au.getFullYear(),
      az = ay.getFullYear(),
      ax = aw.getFullYear(),
      av;
    aB = aB - aB % aA;
    av = aB + (aA - 1);
    if (aB < az) {
      aB = az
    }
    if (av > ax) {
      av = ax
    }
    return aB + "-" + av
  }
  function aq(aE) {
    var aA = 0,
      ax, aD = aE.min,
      aC = aE.max,
      aG = aE.start,
      aF = aE.setter,
      au = aE.build,
      aB = aE.cells || 12,
      av = aE.perRow || 4,
      aw = aE.content || j,
      ay = aE.empty || q,
      az = aE.html || '<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';
    for (; aA < aB; aA++) {
      if (aA > 0 && aA % av === 0) {
        az += '</tr><tr role="row">'
      }
      ax = au(aG, aA);
      az += F(aG, aD, aC) ? aw(ax) : ay(ax);
      aF(aG, 1)
    }
    return az + "</tr></tbody></table>"
  }
  function n(au, av, ax) {
    var aA = au.getFullYear(),
      az = av.getFullYear(),
      aw = az,
      ay = 0;
    if (ax) {
      az = az - az % ax;
      aw = az - az % ax + ax - 1
    }
    if (aA > aw) {
      ay = 1
    } else {
      if (aA < az) {
        ay = -1
      }
    }
    return ay
  }
  function y() {
    var au = new o();
    return new o(au.getFullYear(), au.getMonth(), au.getDate())
  }
  function ad(ax, av, au) {
    var aw = y();
    if (ax) {
      aw = new o(+ax)
    }
    if (av > aw) {
      aw = new o(+av)
    } else {
      if (au < aw) {
        aw = new o(+au)
      }
    }
    return aw
  }
  function F(au, aw, av) {
    return +au >= +aw && +au <= +av
  }
  function af(au, av) {
    return au.slice(av).concat(au.slice(0, av))
  }
  function ae(au, aw, av) {
    aw = aw instanceof o ? aw.getFullYear() : au.getFullYear() + av * aw;
    au.setFullYear(aw)
  }
  function Q(au) {
    a(this).toggleClass(z, N.indexOf(au.type) > -1 || au.type == t)
  }
  function ab(au) {
    au.preventDefault()
  }
  function w(au) {
    return x(au).calendars.standard
  }
  function V(aw) {
    var ax = ar[aw.start],
      av = ar[aw.depth],
      au = x(aw.culture);
    aw.format = s(aw.format || au.calendars.standard.patterns.d);
    if (isNaN(ax)) {
      ax = 0;
      aw.start = M
    }
    if (av === ao || av > ax) {
      aw.depth = M
    }
    if (!aw.dates) {
      aw.dates = []
    }
  }
  function K(au) {
    if (E) {
      au.find("*").attr("unselectable", "on")
    }
  }
  function B(au, av) {
    for (var aw = 0, ax = av.length; aw < ax; aw++) {
      if (au === +av[aw]) {
        return true
      }
    }
    return false
  }
  function C(au, av) {
    if (au) {
      return au.getFullYear() === av.getFullYear() && au.getMonth() === av.getMonth() && au.getDate() === av.getDate()
    }
    return false
  }
  function D(au, av) {
    if (au) {
      return au.getFullYear() === av.getFullYear() && au.getMonth() === av.getMonth()
    }
    return false
  }
  g.isEqualDatePart = C;
  g.makeUnselectable = K;
  g.restrictValue = ad;
  g.isInRange = F;
  g.normalize = V;
  g.viewsEnum = ar;
  G.calendar = g
})(window.kendo.jQuery);
kendo_module({
  id: "colorpicker",
  name: "Color tools",
  category: "web",
  description: "Color selection widgets",
  depends: ["core", "popup", "slider", "userevents"]
});
(function(a, y, E) {
  var t = window.kendo,
    i = t.Class,
    D = t.ui,
    G = D.Widget,
    v = t.keys,
    f = "background-color",
    s = "k-state-selected",
    B = "000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",
    F = "FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",
    e = {
      apply: "Apply",
      cancel: "Cancel"
    }, w = ".kendoColorTools",
    j = "click" + w,
    u = "keydown" + w,
    h = t.support.browser,
    r = h.msie && h.version < 9;
  var n = G.extend({
    init: function(I, J) {
      var K = this,
        H;
      G.fn.init.call(K, I, J);
      I = K.element;
      J = K.options;
      K._value = J.value = x(J.value);
      H = K._ariaId = J.ariaId;
      if (H) {
        I.attr("aria-labelledby", H)
      }
      if (J._standalone) {
        K._triggerSelect = K._triggerChange
      }
    },
    options: {
      name: "ColorSelector",
      value: null,
      _standalone: true
    },
    events: ["change", "select", "cancel"],
    color: function(H) {
      if (H !== E) {
        this._value = x(H);
        this._updateUI(this._value)
      }
      return this._value
    },
    value: function(H) {
      H = this.color(H);
      if (H) {
        if (this.options.opacity) {
          H = H.toCssRgba()
        } else {
          H = H.toCss()
        }
      }
      return H || null
    },
    enable: function(H) {
      if (arguments.length === 0) {
        H = true
      }
      if (H) {
        a(".k-disabled-overlay", this.wrapper).remove()
      } else {
        this.wrapper.append("<div class='k-disabled-overlay'></div>")
      }
      this._onEnable(H)
    },
    _select: function(H, I) {
      var J = this._value;
      H = this.color(H);
      if (!I) {
        if (!H.equals(J)) {
          this.trigger("change", {
            value: this.value()
          })
        } else {
          if (!this._standalone) {
            this.trigger("cancel")
          }
        }
      }
    },
    _triggerSelect: function(H) {
      C(this, "select", H)
    },
    _triggerChange: function(H) {
      C(this, "change", H)
    },
    destroy: function() {
      if (this.element) {
        this.element.off(w)
      }
      if (this.wrapper) {
        this.wrapper.off(w).find("*").off(w)
      }
      this.wrapper = null;
      G.fn.destroy.call(this)
    },
    _updateUI: a.noop,
    _selectOnHide: function() {
      return null
    },
    _cancel: function() {
      this.trigger("cancel")
    }
  });

  function C(I, J, H) {
    H = x(H);
    if (H && !H.equals(I.color())) {
      if (J == "change") {
        I._value = H
      }
      if (H.a != 1) {
        H = H.toCssRgba()
      } else {
        H = H.toCss()
      }
      I.trigger(J, {
        value: H
      })
    }
  }
  var l = n.extend({
    init: function(I, K) {
      var L = this;
      n.fn.init.call(L, I, K);
      I = L.wrapper = L.element;
      K = L.options;
      var H = K.palette;
      if (H == "websafe") {
        H = F;
        K.columns = 18
      } else {
        if (H == "basic") {
          H = B
        }
      }
      if (typeof H == "string") {
        H = H.split(",")
      }
      if (a.isArray(H)) {
        H = a.map(H, function(O) {
          return x(O)
        })
      }
      I.addClass("k-widget k-colorpalette").append(a(L._template({
        colors: H,
        columns: K.columns,
        tileSize: K.tileSize,
        value: L._value,
        id: K.ariaId
      }))).on(j, ".k-item", function(O) {
        L._select(a(O.currentTarget).css(f))
      }).attr("tabIndex", 0).on(u, g(L._keydown, L));
      var M = K.tileSize,
        N, J;
      if (M) {
        if (/number|string/.test(typeof M)) {
          N = J = parseFloat(M)
        } else {
          if (typeof M == "object") {
            N = parseFloat(M.width);
            J = parseFloat(M.height)
          } else {
            throw new Error("Unsupported value for the 'tileSize' argument")
          }
        }
        I.find(".k-item").css({
          width: N,
          height: J
        })
      }
    },
    focus: function() {
      this.wrapper.focus()
    },
    options: {
      name: "ColorPalette",
      columns: 10,
      tileSize: null,
      palette: "basic"
    },
    _onEnable: function(H) {
      if (H) {
        this.wrapper.removeAttr("tabIndex")
      } else {
        this.wrapper.attr("tabIndex", 0)
      }
    },
    _keydown: function(J) {
      var N, O = this,
        P = O.wrapper,
        L = P.find(".k-item"),
        I = L.filter("." + s).get(0),
        M = J.keyCode;
      if (M == v.LEFT) {
        N = A(L, I, -1)
      } else {
        if (M == v.RIGHT) {
          N = A(L, I, 1)
        } else {
          if (M == v.DOWN) {
            N = A(L, I, O.options.columns)
          } else {
            if (M == v.UP) {
              N = A(L, I, -O.options.columns)
            } else {
              if (M == v.ENTER) {
                z(J);
                if (I) {
                  this._select(a(I).css(f))
                }
              } else {
                if (M == v.ESC) {
                  this._cancel()
                }
              }
            }
          }
        }
      }
      if (N) {
        z(J);
        N = a(N);
        a(I).removeClass(s).removeAttr("aria-selected");
        N.addClass(s).attr("aria-selected", true);
        try {
          var H = x(N.css(f));
          O._triggerSelect(H)
        } catch (K) {}
      }
    },
    _updateUI: function(H) {
      var J = this,
        I = null;
      J.wrapper.find(".k-item." + s).removeClass(s).removeAttr("aria-selected");
      J.wrapper.find(".k-item").each(function() {
        var K = x(a(this).css(f));
        if (K && K.equals(H)) {
          I = this
        }
      });
      a(I).addClass(s).attr("aria-selected", true)
    },
    _template: t.template('<table class="k-palette k-reset"><tr># for (var i = 0; i < colors.length; ++i) { ## if (i && i % columns == 0) { # </tr><tr> # } #<td unselectable="on" style="background-color:#= colors[i].toCss() #" #=(id && i === 0) ? "id=\\""+id+"\\" aria-selected=\\"true\\"" : "" # class="k-item #= colors[i].equals(value) ? "' + s + '" : "" #" aria-label="#= colors[i].toCss() #"></td># } #</tr></table>')
  });
  var p = n.extend({
    init: function(H, I) {
      var J = this;
      n.fn.init.call(J, H, I);
      I = J.options;
      H = J.element;
      J.wrapper = H.addClass("k-widget k-flatcolorpicker").append(J._template(I));
      J._hueElements = a(".k-hsv-rectangle, .k-transparency-slider .k-slider-track", H);
      J._selectedColor = a(".k-selected-color-display", H);
      J._colorAsText = a("input.k-color-value", H);
      J._sliders();
      J._hsvArea();
      J._updateUI(J._value || new d(1, 0, 0, 1));
      H.find("input.k-color-value").on(u, function(L) {
        var N = this;
        if (L.keyCode == v.ENTER) {
          try {
            var K = x(N.value);
            var O = J.color();
            J._select(K, K.equals(O))
          } catch (M) {
            a(N).addClass("k-state-error")
          }
        } else {
          if (J.options.autoupdate) {
            setTimeout(function() {
              var P = x(N.value, true);
              if (P) {
                J._updateUI(P, true)
              }
            }, 10)
          }
        }
      }).end().on(j, ".k-controls button.apply", function() {
        J._select(J._getHSV())
      }).on(j, ".k-controls button.cancel", function() {
        J._updateUI(J.color());
        J._cancel()
      });
      if (r) {
        J._applyIEFilter()
      }
    },
    destroy: function() {
      this._hueSlider.destroy();
      if (this._opacitySlider) {
        this._opacitySlider.destroy()
      }
      this._hueSlider = this._opacitySlider = this._hsvRect = this._hsvHandle = this._hueElements = this._selectedColor = this._colorAsText = null;
      n.fn.destroy.call(this)
    },
    options: {
      name: "FlatColorPicker",
      opacity: false,
      buttons: false,
      input: true,
      preview: true,
      autoupdate: true,
      messages: e
    },
    _applyIEFilter: function() {
      var H = this.element.find(".k-hue-slider .k-slider-track")[0],
        I = H.currentStyle.backgroundImage;
      I = I.replace(/^url\([\'\"]?|[\'\"]?\)$/g, "");
      H.style.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='" + I + "', sizingMethod='scale')"
    },
    _sliders: function() {
      var K = this,
        H = K.element;

      function I(L) {
        K._updateUI(K._getHSV(L.value, null, null, null))
      }
      K._hueSlider = H.find(".k-hue-slider").kendoSlider({
        min: 0,
        max: 359,
        tickPlacement: "none",
        showButtons: false,
        slide: I,
        change: I
      }).data("kendoSlider");

      function J(L) {
        K._updateUI(K._getHSV(null, null, null, L.value / 100))
      }
      K._opacitySlider = H.find(".k-transparency-slider").kendoSlider({
        min: 0,
        max: 100,
        tickPlacement: "none",
        showButtons: false,
        slide: J,
        change: J
      }).data("kendoSlider")
    },
    _hsvArea: function() {
      var K = this,
        H = K.element,
        J = H.find(".k-hsv-rectangle"),
        I = J.find(".k-draghandle").attr("tabIndex", 0).on(u, g(K._keydown, K));

      function L(R, S) {
        var O = this.offset,
          M = R - O.left,
          N = S - O.top,
          Q = this.width,
          P = this.height;
        M = M < 0 ? 0 : M > Q ? Q : M;
        N = N < 0 ? 0 : N > P ? P : N;
        K._svChange(M / Q, 1 - N / P)
      }
      K._hsvEvents = new t.UserEvents(J, {
        global: true,
        press: function(M) {
          this.offset = t.getOffset(J);
          this.width = J.width();
          this.height = J.height();
          I.focus();
          L.call(this, M.x.location, M.y.location)
        },
        start: function() {
          J.addClass("k-dragging");
          I.focus()
        },
        move: function(M) {
          M.preventDefault();
          L.call(this, M.x.location, M.y.location)
        },
        end: function() {
          J.removeClass("k-dragging")
        }
      });
      K._hsvRect = J;
      K._hsvHandle = I
    },
    _onEnable: function(H) {
      this._hueSlider.enable(H);
      if (this._opacitySlider) {
        this._opacitySlider.enable(H)
      }
      this.wrapper.find("input").attr("disabled", !H);
      var I = this._hsvRect.find(".k-draghandle");
      if (H) {
        I.attr("tabIndex", 0)
      } else {
        I.removeAttr("tabIndex")
      }
    },
    _keydown: function(H) {
      var K = this;

      function J(N, M) {
        var L = K._getHSV();
        L[N] += M * (H.shiftKey ? 0.01 : 0.05);
        if (L[N] < 0) {
          L[N] = 0
        }
        if (L[N] > 1) {
          L[N] = 1
        }
        K._updateUI(L);
        z(H)
      }
      function I(M) {
        var L = K._getHSV();
        L.h += M * (H.shiftKey ? 1 : 5);
        if (L.h < 0) {
          L.h = 0
        }
        if (L.h > 359) {
          L.h = 359
        }
        K._updateUI(L);
        z(H)
      }
      switch (H.keyCode) {
        case v.LEFT:
          if (H.ctrlKey) {
            I(-1)
          } else {
            J("s", -1)
          }
          break;
        case v.RIGHT:
          if (H.ctrlKey) {
            I(1)
          } else {
            J("s", 1)
          }
          break;
        case v.UP:
          J(H.ctrlKey && K._opacitySlider ? "a" : "v", 1);
          break;
        case v.DOWN:
          J(H.ctrlKey && K._opacitySlider ? "a" : "v", -1);
          break;
        case v.ENTER:
          K._select(K._getHSV());
          break;
        case v.F2:
          K.wrapper.find("input.k-color-value").focus().select();
          break;
        case v.ESC:
          K._cancel();
          break
      }
    },
    focus: function() {
      this._hsvHandle.focus()
    },
    _getHSV: function(I, M, N, H) {
      var L = this._hsvRect,
        O = L.width(),
        K = L.height(),
        J = this._hsvHandle.position();
      if (I == null) {
        I = this._hueSlider.value()
      }
      if (M == null) {
        M = J.left / O
      }
      if (N == null) {
        N = 1 - J.top / K
      }
      if (H == null) {
        H = this._opacitySlider ? this._opacitySlider.value() / 100 : 1
      }
      return new c(I, M, N, H)
    },
    _svChange: function(I, J) {
      var H = this._getHSV(null, I, J, null);
      this._updateUI(H)
    },
    _updateUI: function(H, I) {
      var K = this,
        J = K._hsvRect;
      if (!H) {
        return
      }
      this._colorAsText.removeClass("k-state-error");
      K._selectedColor.css(f, H.toDisplay());
      if (!I) {
        K._colorAsText.val(K._opacitySlider ? H.toCssRgba() : H.toCss())
      }
      K._triggerSelect(H);
      H = H.toHSV();
      K._hsvHandle.css({
        left: H.s * J.width() + "px",
        top: (1 - H.v) * J.height() + "px"
      });
      K._hueElements.css(f, new c(H.h, 1, 1, 1).toCss());
      K._hueSlider.value(H.h);
      if (K._opacitySlider) {
        K._opacitySlider.value(100 * H.a)
      }
    },
    _selectOnHide: function() {
      return this.options.buttons ? null : this._getHSV()
    },
    _template: t.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><input class="k-color-value" #= !data.input ? \'style="visibility: hidden;"\' : "" #></div></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><input class="k-hue-slider" /># if (opacity) { #<input class="k-transparency-slider" /># } ## if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')
  });

  function q(H, J, I) {
    if (!I) {
      I = "0"
    }
    H = H.toString(16);
    while (J > H.length) {
      H = "0" + H
    }
    return H
  }
  function o(H) {
    return parseFloat((+H).toFixed(3))
  }
  var k = i.extend({
    toHSV: function() {
      return this
    },
    toRGB: function() {
      return this
    },
    toHex: function() {
      return this.toBytes().toHex()
    },
    toBytes: function() {
      return this
    },
    toCss: function() {
      return "#" + this.toHex()
    },
    toCssRgba: function() {
      var H = this.toBytes();
      return "rgba(" + H.r + ", " + H.g + ", " + H.b + ", " + o(this.a) + ")"
    },
    toDisplay: function() {
      if (r) {
        return this.toCss()
      }
      return this.toCssRgba()
    },
    equals: function(H) {
      return H === this || H !== null && this.toCssRgba() == x(H).toCssRgba()
    },
    diff: function(I) {
      if (I == null) {
        return NaN
      }
      var H = this.toBytes();
      I = I.toBytes();
      return Math.sqrt(Math.pow((H.r - I.r) * 0.3, 2) + Math.pow((H.g - I.g) * 0.59, 2) + Math.pow((H.b - I.b) * 0.11, 2))
    },
    clone: function() {
      var H = this.toBytes();
      if (H === this) {
        H = new b(H.r, H.g, H.b, H.a)
      }
      return H
    }
  });
  var d = k.extend({
    init: function(K, J, I, H) {
      this.r = K;
      this.g = J;
      this.b = I;
      this.a = H
    },
    toHSV: function() {
      var M, L, I, K, O, P;
      var N = this.r,
        J = this.g,
        H = this.b;
      M = Math.min(N, J, H);
      L = Math.max(N, J, H);
      P = L;
      I = L - M;
      if (I === 0) {
        return new c(0, 0, P, this.a)
      }
      if (L !== 0) {
        O = I / L;
        if (N == L) {
          K = (J - H) / I
        } else {
          if (J == L) {
            K = 2 + (H - N) / I
          } else {
            K = 4 + (N - J) / I
          }
        }
        K *= 60;
        if (K < 0) {
          K += 360
        }
      } else {
        O = 0;
        K = -1
      }
      return new c(K, O, P, this.a)
    },
    toBytes: function() {
      return new b(this.r * 255, this.g * 255, this.b * 255, this.a)
    }
  });
  var b = d.extend({
    init: function(K, J, I, H) {
      this.r = Math.round(K);
      this.g = Math.round(J);
      this.b = Math.round(I);
      this.a = H
    },
    toRGB: function() {
      return new d(this.r / 255, this.g / 255, this.b / 255, this.a)
    },
    toHSV: function() {
      return this.toRGB().toHSV()
    },
    toHex: function() {
      return q(this.r, 2) + q(this.g, 2) + q(this.b, 2)
    },
    toBytes: function() {
      return this
    }
  });
  var c = k.extend({
    init: function(I, J, K, H) {
      this.h = I;
      this.s = J;
      this.v = K;
      this.a = H
    },
    toRGB: function() {
      var K = this.h,
        P = this.s,
        R = this.v;
      var L, O, J, H, I, M, N, Q;
      if (P === 0) {
        O = J = H = R
      } else {
        K /= 60;
        L = Math.floor(K);
        I = K - L;
        M = R * (1 - P);
        N = R * (1 - P * I);
        Q = R * (1 - P * (1 - I));
        switch (L) {
          case 0:
            O = R;
            J = Q;
            H = M;
            break;
          case 1:
            O = N;
            J = R;
            H = M;
            break;
          case 2:
            O = M;
            J = R;
            H = Q;
            break;
          case 3:
            O = M;
            J = N;
            H = R;
            break;
          case 4:
            O = Q;
            J = M;
            H = R;
            break;
          default:
            O = R;
            J = M;
            H = N;
            break
        }
      }
      return new d(O, J, H, this.a)
    },
    toBytes: function() {
      return this.toRGB().toBytes()
    }
  });

  function x(H, J) {
    if (H == null || H == "transparent") {
      return null
    }
    if (H instanceof k) {
      return H
    }
    var I = /^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(H);
    if (I) {
      return new b(y(I[1], 16), y(I[2], 16), y(I[3], 16), 1)
    }
    I = /^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(H);
    if (I) {
      return new b(y(I[1] + I[1], 16), y(I[2] + I[2], 16), y(I[3] + I[3], 16), 1)
    }
    I = /^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(H);
    if (I) {
      return new b(y(I[1], 10), y(I[2], 10), y(I[3], 10), 1)
    }
    I = /^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(H);
    if (I) {
      return new b(y(I[1], 10), y(I[2], 10), y(I[3], 10), parseFloat(I[4]))
    }
    I = /^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(H);
    if (I) {
      return new d(parseFloat(I[1]) / 100, parseFloat(I[2]) / 100, parseFloat(I[3]) / 100, 1)
    }
    I = /^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(H);
    if (I) {
      return new d(parseFloat(I[1]) / 100, parseFloat(I[2]) / 100, parseFloat(I[3]) / 100, parseFloat(I[4]))
    }
    if (!J) {
      throw new Error("Cannot parse color: " + H)
    }
    return E
  }
  function A(H, J, I) {
    H = Array.prototype.slice.call(H);
    var K = H.length;
    var L = H.indexOf(J);
    if (L < 0) {
      return I < 0 ? H[K - 1] : H[0]
    }
    L += I;
    if (L < 0) {
      L += K
    } else {
      L %= K
    }
    return H[L]
  }
  var m = G.extend({
    init: function(J, K) {
      var L = this;
      G.fn.init.call(L, J, K);
      K = L.options;
      J = L.element;
      var M = J.attr("value") || J.val();
      if (M) {
        M = x(M, true)
      } else {
        M = x(K.value, true)
      }
      L._value = K.value = M;
      var I = L.wrapper = a(L._template(K));
      J.hide().after(I);
      if (J.is("input")) {
        J.appendTo(I)
      }
      L.enable(!J.attr("disabled"));
      var H = J.attr("accesskey");
      if (H) {
        J.attr("accesskey", null);
        I.attr("accesskey", H)
      }
      L.bind("activate", function(N) {
        if (!N.isDefaultPrevented()) {
          L.toggle()
        }
      });
      L._updateUI(M)
    },
    destroy: function() {
      this.wrapper.off(w).find("*").off(w);
      if (this._popup) {
        this._selector.destroy();
        this._popup.destroy()
      }
      this._selector = this._popup = this.wrapper = null;
      G.fn.destroy.call(this)
    },
    enable: function(H) {
      var K = this,
        L = K.wrapper,
        J = L.children(".k-picker-wrap"),
        I = J.find(".k-select");
      if (arguments.length === 0) {
        H = true
      }
      K.element.attr("disabled", !H);
      L.attr("disabled", !H);
      I.off(w).on("mousedown" + w, z);
      L.addClass("k-state-disabled").removeAttr("tabIndex").add("*", L).off(w);
      if (H) {
        L.removeClass("k-state-disabled").attr("tabIndex", 0).on("mouseenter" + w, function() {
          J.addClass("k-state-hover")
        }).on("mouseleave" + w, function() {
          J.removeClass("k-state-hover")
        }).on("focus" + w, function() {
          J.addClass("k-state-focused")
        }).on("blur" + w, function() {
          J.removeClass("k-state-focused")
        }).on(u, g(K._keydown, K)).on(j, ".k-icon", g(K.toggle, K)).on(j, K.options.toolIcon ? ".k-tool-icon" : ".k-selected-color", function() {
          K.trigger("activate")
        })
      }
    },
    _template: t.template('<span class="k-widget k-colorpicker k-header"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"></span># } #<span class="k-select" unselectable="on"><span class="k-icon k-i-arrow-s" unselectable="on"></span></span></span></span>'),
    options: {
      name: "ColorPicker",
      palette: null,
      columns: 10,
      toolIcon: null,
      value: null,
      messages: e,
      opacity: false,
      buttons: true,
      preview: true
    },
    events: ["activate", "change", "select", "open", "close"],
    open: function() {
      this._getPopup().open()
    },
    close: function() {
      this._getPopup().close()
    },
    toggle: function() {
      this._getPopup().toggle()
    },
    color: n.fn.color,
    value: n.fn.value,
    _select: n.fn._select,
    _triggerSelect: n.fn._triggerSelect,
    _isInputTypeColor: function() {
      var H = this.element[0];
      return (/^input$/i).test(H.tagName) && (/^color$/i).test(H.type)
    },
    _updateUI: function(H) {
      if (H) {
        if (this._isInputTypeColor() || H.a == 1) {
          this.element.val(H.toCss())
        } else {
          this.element.val(H.toCssRgba())
        }
      }
      this._triggerSelect(H);
      this.wrapper.find(".k-selected-color").css(f, H ? H.toDisplay() : "transparent")
    },
    _keydown: function(H) {
      var I = H.keyCode;
      if (this._getPopup().visible()) {
        if (I == v.ESC) {
          this._selector._cancel()
        } else {
          this._selector._keydown(H)
        }
        z(H)
      } else {
        if (I == v.ENTER || I == v.DOWN) {
          this.open();
          z(H)
        }
      }
    },
    _getPopup: function() {
      var L = this,
        I = L._popup;
      if (!I) {
        var H = this.options;
        var K;
        if (H.palette) {
          K = l
        } else {
          K = p
        }
        H._standalone = false;
        delete H.select;
        delete H.change;
        delete H.cancel;
        var J = this._selector = new K(a("<div />").appendTo(document.body), H);
        L._popup = I = J.wrapper.kendoPopup({
          anchor: L.wrapper
        }).data("kendoPopup");
        J.bind({
          select: function(M) {
            L._updateUI(x(M.value))
          },
          change: function() {
            L._select(J.color());
            L.close()
          },
          cancel: function() {
            L.close()
          }
        });
        I.bind({
          close: function(N) {
            if (L.trigger("close")) {
              N.preventDefault();
              return
            }
            L.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");
            var M = J._selectOnHide();
            if (!M) {
              L.wrapper.focus();
              L._updateUI(L.color())
            } else {
              L._select(M)
            }
          },
          open: function(M) {
            if (L.trigger("open")) {
              M.preventDefault()
            } else {
              L.wrapper.children(".k-picker-wrap").addClass("k-state-focused")
            }
          },
          activate: function() {
            J._select(L.color(), true);
            J.focus();
            L.wrapper.children(".k-picker-wrap").addClass("k-state-focused")
          }
        })
      }
      return I
    }
  });

  function z(H) {
    H.preventDefault()
  }
  function g(H, I) {
    return function() {
      return H.apply(I, arguments)
    }
  }
  D.plugin(l);
  D.plugin(p);
  D.plugin(m);
  t.parseColor = x;
  t.Color = {
    fromBytes: function(K, J, I, H) {
      return new b(K, J, I, H != null ? H : 1)
    },
    fromRGB: function(K, J, I, H) {
      return new d(K, J, I, H != null ? H : 1)
    },
    fromHSV: function(I, J, K, H) {
      return new c(I, J, K, H != null ? H : 1)
    }
  }
})(jQuery, parseInt);
kendo_module({
  id: "datepicker",
  name: "DatePicker",
  category: "web",
  description: "The DatePicker widget allows the user to select a date from a calendar or by direct input.",
  depends: ["calendar", "popup"]
});
(function(a, S) {
  var y = window.kendo,
    R = y.ui,
    T = R.Widget,
    I = y.parseDate,
    A = y.keys,
    Q = y.template,
    b = y._activeElement,
    q = "<div />",
    O = "<span />",
    G = ".kendoDatePicker",
    i = "click" + G,
    H = "open",
    j = "close",
    h = "change",
    n = "dateView",
    p = "disabled",
    L = "readonly",
    o = "k-state-default",
    s = "k-state-focused",
    N = "k-state-selected",
    P = "k-state-disabled",
    t = "k-state-hover",
    z = "keydown" + G,
    u = "mouseenter" + G + " mouseleave" + G,
    E = "mousedown" + G,
    v = "id",
    C = "min",
    B = "max",
    D = "month",
    c = "aria-disabled",
    d = "aria-expanded",
    e = "aria-hidden",
    f = "aria-readonly",
    g = y.calendar,
    x = g.isInRange,
    M = g.restrictValue,
    w = g.isEqualDatePart,
    r = a.extend,
    K = a.proxy,
    k = Date;

  function F(V) {
    var W = V.parseFormats,
      U = V.format;
    g.normalize(V);
    W = a.isArray(W) ? W : [W];
    if (a.inArray(U, W) === -1) {
      W.splice(0, 0, V.format)
    }
    V.parseFormats = W
  }
  function J(U) {
    U.preventDefault()
  }
  var m = function(X) {
    var Y = this,
      W, U = document.body,
      V = a(q).attr(e, "true").addClass("k-calendar-container").appendTo(U);
    Y.options = X = X || {};
    W = X.id;
    if (W) {
      W += "_dateview";
      V.attr(v, W);
      Y._dateViewID = W
    }
    Y.popup = new R.Popup(V, r(X.popup, X, {
      name: "Popup",
      isRtl: y.support.isRtl(X.anchor)
    }));
    Y.div = V;
    Y.value(X.value)
  };
  m.prototype = {
    _calendar: function() {
      var X = this;
      var U = X.calendar;
      var W = X.options;
      var V;
      if (!U) {
        V = a(q).attr(v, y.guid()).appendTo(X.popup.element).on(E, J).on(i, "td:has(.k-link)", K(X._click, X));
        X.calendar = U = new R.Calendar(V);
        X._setOptions(W);
        y.calendar.makeUnselectable(U.element);
        U.navigate(X._value || X._current, W.start);
        X.value(X._value)
      }
    },
    _setOptions: function(U) {
      this.calendar.setOptions({
        focusOnNav: false,
        change: U.change,
        culture: U.culture,
        dates: U.dates,
        depth: U.depth,
        footer: U.footer,
        format: U.format,
        max: U.max,
        min: U.min,
        month: U.month,
        start: U.start
      })
    },
    setOptions: function(V) {
      var U = this.options;
      this.options = r(U, V, {
        change: U.change,
        close: U.close,
        open: U.open
      });
      if (this.calendar) {
        this._setOptions(this.options)
      }
    },
    destroy: function() {
      this.popup.destroy()
    },
    open: function() {
      var U = this;
      U._calendar();
      U.popup.open()
    },
    close: function() {
      this.popup.close()
    },
    min: function(U) {
      this._option(C, U)
    },
    max: function(U) {
      this._option(B, U)
    },
    toggle: function() {
      var U = this;
      U[U.popup.visible() ? j : H]()
    },
    move: function(V) {
      var Y = this,
        W = V.keyCode,
        U = Y.calendar,
        X = V.ctrlKey && W == A.DOWN || W == A.ENTER;
      if (W == A.ESC) {
        Y.close();
        return
      }
      if (V.altKey) {
        if (W == A.DOWN) {
          Y.open();
          V.preventDefault()
        } else {
          if (W == A.UP) {
            Y.close();
            V.preventDefault()
          }
        }
        return
      }
      if (!Y.popup.visible()) {
        return
      }
      if (X && U._cell.hasClass(N)) {
        Y.close();
        V.preventDefault();
        return
      }
      Y._current = U._move(V)
    },
    current: function(U) {
      this._current = U;
      this.calendar._focus(U)
    },
    value: function(X) {
      var W = this,
        U = W.calendar,
        V = W.options;
      W._value = X;
      W._current = new k(+M(X, V.min, V.max));
      if (U) {
        U.value(X)
      }
    },
    _click: function(U) {
      if (U.currentTarget.className.indexOf(N) !== -1) {
        this.close()
      }
    },
    _option: function(V, X) {
      var W = this;
      var U = W.calendar;
      W.options[V] = X;
      if (U) {
        U[V](X)
      }
    }
  };
  m.normalize = F;
  y.DateView = m;
  var l = T.extend({
    init: function(X, Y) {
      var Z = this,
        U, V;
      T.fn.init.call(Z, X, Y);
      X = Z.element;
      Y = Z.options;
      F(Y);
      Z._wrapper();
      Z.dateView = new m(r({}, Y, {
        id: X.attr(v),
        anchor: Z.wrapper,
        change: function() {
          Z._change(this.value());
          Z.close()
        },
        close: function(aa) {
          if (Z.trigger(j)) {
            aa.preventDefault()
          } else {
            X.attr(d, false);
            V.attr(e, true)
          }
        },
        open: function(ab) {
          var ac = Z.options,
            aa;
          if (Z.trigger(H)) {
            ab.preventDefault()
          } else {
            if (Z.element.val() !== Z._oldText) {
              aa = I(X.val(), ac.parseFormats, ac.culture);
              Z.dateView[aa ? "current" : "value"](aa)
            }
            X.attr(d, true);
            V.attr(e, false);
            Z._updateARIA(aa)
          }
        }
      }));
      V = Z.dateView.div;
      Z._icon();
      try {
        X[0].setAttribute("type", "text")
      } catch (W) {
        X[0].type = "text"
      }
      X.addClass("k-input").attr({
        role: "combobox",
        "aria-expanded": false,
        "aria-owns": Z.dateView._dateViewID
      });
      Z._reset();
      Z._template();
      U = X.is("[disabled]");
      if (U) {
        Z.enable(false)
      } else {
        Z.readonly(X.is("[readonly]"))
      }
      Z._old = Z._update(Y.value || Z.element.val());
      Z._oldText = X.val();
      y.notify(Z)
    },
    events: [H, j, h],
    options: {
      name: "DatePicker",
      value: null,
      footer: "",
      format: "",
      culture: "",
      parseFormats: [],
      min: new Date(1900, 0, 1),
      max: new Date(2099, 11, 31),
      start: D,
      depth: D,
      animation: {},
      month: {},
      dates: [],
      ARIATemplate: 'Current focused date is #=kendo.toString(data.current, "D")#'
    },
    setOptions: function(U) {
      var V = this;
      var W = V._value;
      T.fn.setOptions.call(V, U);
      U = V.options;
      F(U);
      V.dateView.setOptions(U);
      if (W) {
        V.element.val(y.toString(W, U.format, U.culture));
        V._updateARIA(W)
      }
    },
    _editable: function(X) {
      var Z = this,
        W = Z._dateIcon.off(G),
        V = Z.element.off(G),
        aa = Z._inputWrapper.off(G),
        Y = X.readonly,
        U = X.disable;
      if (!Y && !U) {
        aa.addClass(o).removeClass(P).on(u, Z._toggleHover);
        V.removeAttr(p).removeAttr(L).attr(c, false).attr(f, false).on("keydown" + G, K(Z._keydown, Z)).on("blur" + G, K(Z._blur, Z)).on("focus" + G, function() {
          Z._inputWrapper.addClass(s)
        });
        W.on(i, K(Z._click, Z)).on(E, J)
      } else {
        aa.addClass(U ? P : o).removeClass(U ? o : P);
        V.attr(p, U).attr(L, Y).attr(c, U).attr(f, Y)
      }
    },
    readonly: function(U) {
      this._editable({
        readonly: U === S ? true : U,
        disable: false
      })
    },
    enable: function(U) {
      this._editable({
        readonly: false,
        disable: !(U = U === S ? true : U)
      })
    },
    destroy: function() {
      var U = this;
      T.fn.destroy.call(U);
      U.dateView.destroy();
      U.element.off(G);
      U._dateIcon.off(G);
      U._inputWrapper.off(G);
      if (U._form) {
        U._form.off("reset", U._resetHandler)
      }
    },
    open: function() {
      this.dateView.open()
    },
    close: function() {
      this.dateView.close()
    },
    min: function(U) {
      return this._option(C, U)
    },
    max: function(U) {
      return this._option(B, U)
    },
    value: function(V) {
      var U = this;
      if (V === S) {
        return U._value
      }
      U._old = U._update(V);
      if (U._old === null) {
        U.element.val("")
      }
      U._oldText = U.element.val()
    },
    _toggleHover: function(U) {
      a(U.currentTarget).toggleClass(t, U.type === "mouseenter")
    },
    _blur: function() {
      var U = this,
        V = U.element.val();
      U.close();
      if (V !== U._oldText) {
        U._change(V)
      }
      U._inputWrapper.removeClass(s)
    },
    _click: function() {
      var V = this,
        U = V.element;
      V.dateView.toggle();
      if (!y.support.touch && U[0] !== b()) {
        U.focus()
      }
    },
    _change: function(V) {
      var U = this;
      V = U._update(V);
      if (+U._old != +V) {
        U._old = V;
        U._oldText = U.element.val();
        U.trigger(h);
        U.element.trigger(h)
      }
    },
    _keydown: function(V) {
      var W = this,
        U = W.dateView,
        X = W.element.val();
      if (!U.popup.visible() && V.keyCode == A.ENTER && X !== W._oldText) {
        W._change(X)
      } else {
        U.move(V);
        W._updateARIA(U._current)
      }
    },
    _icon: function() {
      var W = this,
        U = W.element,
        V;
      V = U.next("span.k-select");
      if (!V[0]) {
        V = a('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(U)
      }
      W._dateIcon = V.attr({
        role: "button",
        "aria-controls": W.dateView._dateViewID
      })
    },
    _option: function(U, X) {
      var W = this,
        V = W.options;
      if (X === S) {
        return V[U]
      }
      X = I(X, V.parseFormats, V.culture);
      if (!X) {
        return
      }
      V[U] = new k(+X);
      W.dateView[U](X)
    },
    _update: function(aa) {
      var Z = this,
        Y = Z.options,
        X = Y.min,
        W = Y.max,
        U = I(aa, Y.parseFormats, Y.culture),
        V;
      if (+U === +Z._value) {
        V = y.toString(U, Y.format, Y.culture);
        if (V !== aa) {
          Z.element.val(U === null ? aa : V)
        }
        return U
      }
      if (U !== null && w(U, X)) {
        U = M(U, X, W)
      } else {
        if (!x(U, X, W)) {
          U = null
        }
      }
      Z._value = U;
      Z.dateView.value(U);
      Z.element.val(U ? y.toString(U, Y.format, Y.culture) : aa);
      Z._updateARIA(U);
      return U
    },
    _wrapper: function() {
      var V = this,
        U = V.element,
        W;
      W = U.parents(".k-datepicker");
      if (!W[0]) {
        W = U.wrap(O).parent().addClass("k-picker-wrap k-state-default");
        W = W.wrap(O).parent()
      }
      W[0].style.cssText = U[0].style.cssText;
      U.css({
        width: "100%",
        height: U[0].style.height
      });
      V.wrapper = W.addClass("k-widget k-datepicker k-header").addClass(U[0].className);
      V._inputWrapper = a(W[0].firstChild)
    },
    _reset: function() {
      var X = this,
        U = X.element,
        W = U.attr("form"),
        V = W ? a("#" + W) : U.closest("form");
      if (V[0]) {
        X._resetHandler = function() {
          X.value(U[0].defaultValue)
        };
        X._form = V.on("reset", X._resetHandler)
      }
    },
    _template: function() {
      this._ariaTemplate = Q(this.options.ARIATemplate)
    },
    _updateARIA: function(W) {
      var V;
      var X = this;
      var U = X.dateView.calendar;
      X.element.removeAttr("aria-activedescendant");
      if (U) {
        V = U._cell;
        V.attr("aria-label", X._ariaTemplate({
          current: W || U.current()
        }));
        X.element.attr("aria-activedescendant", V.attr("id"))
      }
    }
  });
  R.plugin(l)
})(window.kendo.jQuery);
kendo_module({
  id: "autocomplete",
  name: "AutoComplete",
  category: "web",
  description: "The AutoComplete widget provides suggestions depending on the typed text.It also allows multiple value entries.",
  depends: ["list"],
  features: [{
    id: "mobile-scroller",
    name: "Mobile scroller",
    description: "Support for kinetic scrolling in mobile device",
    depends: ["mobile.scroller"]
  }]
});
(function(a, B) {
  var n = window.kendo,
    z = n.support,
    b = n._activeElement,
    s = z.placeholder,
    A = n.ui,
    o = n.keys,
    g = n.data.DataSource,
    p = A.List,
    c = "aria-disabled",
    d = "aria-readonly",
    h = "k-state-default",
    i = "disabled",
    u = "readonly",
    j = "k-state-focused",
    w = "k-state-selected",
    y = "k-state-disabled",
    k = "k-state-hover",
    r = ".kendoAutoComplete",
    l = "mouseenter" + r + " mouseleave" + r,
    f = p.caret,
    x = p.selectText,
    t = a.proxy;

  function m(D, F, E) {
    return E ? F.substring(0, D).split(E).length - 1 : 0
  }
  function C(D, F, E) {
    return F.split(E)[m(D, F, E)]
  }
  function v(D, F, G, E) {
    var H = F.split(E);
    H.splice(m(D, F, E), 1, G);
    if (E && H[H.length - 1] !== "") {
      H.push("")
    }
    return H.join(E)
  }
  function q(D) {
    var E = D.value.length;
    x(D, E, E)
  }
  var e = p.extend({
    init: function(D, E) {
      var F = this,
        G;
      F.ns = r;
      E = a.isArray(E) ? {
        dataSource: E
      } : E;
      p.fn.init.call(F, D, E);
      D = F.element;
      E = F.options;
      E.placeholder = E.placeholder || D.attr("placeholder");
      if (s) {
        D.attr("placeholder", E.placeholder)
      }
      F._wrapper();
      F._loader();
      F._dataSource();
      F._ignoreCase();
      D[0].type = "text";
      G = F.wrapper;
      F._popup();
      D.addClass("k-input").on("keydown" + r, t(F._keydown, F)).on("paste" + r, t(F._search, F)).on("focus" + r, function() {
        F._prev = F._accessor();
        F._placeholder(false);
        G.addClass(j)
      }).on("blur" + r, function() {
        F._change();
        F._placeholder();
        G.removeClass(j)
      }).attr({
        autocomplete: "off",
        role: "textbox",
        "aria-haspopup": true
      });
      F._enable();
      F._old = F._accessor();
      if (D[0].id) {
        D.attr("aria-owns", F.ul[0].id)
      }
      F._aria();
      F._placeholder();
      n.notify(F)
    },
    options: {
      name: "AutoComplete",
      enabled: true,
      suggest: false,
      template: "",
      dataTextField: "",
      minLength: 1,
      delay: 200,
      height: 200,
      filter: "startswith",
      ignoreCase: true,
      highlightFirst: false,
      separator: null,
      placeholder: "",
      animation: {},
      value: null
    },
    _dataSource: function() {
      var D = this;
      if (D.dataSource && D._refreshHandler) {
        D._unbindDataSource()
      } else {
        D._refreshHandler = t(D.refresh, D);
        D._progressHandler = t(D._showBusy, D)
      }
      D.dataSource = g.create(D.options.dataSource).bind("change", D._refreshHandler).bind("progress", D._progressHandler)
    },
    setDataSource: function(D) {
      this.options.dataSource = D;
      this._dataSource()
    },
    events: ["open", "close", "change", "select", "dataBinding", "dataBound"],
    setOptions: function(D) {
      p.fn.setOptions.call(this, D);
      this._template();
      this._accessors();
      this._aria()
    },
    _editable: function(F) {
      var H = this,
        E = H.element,
        I = H.wrapper.off(r),
        G = F.readonly,
        D = F.disable;
      if (!G && !D) {
        I.addClass(h).removeClass(y).on(l, H._toggleHover);
        E.removeAttr(i).removeAttr(u).attr(c, false).attr(d, false)
      } else {
        I.addClass(D ? y : h).removeClass(D ? h : y);
        E.attr(i, D).attr(u, G).attr(c, D).attr(d, G)
      }
    },
    close: function() {
      var E = this,
        D = E._current;
      if (D) {
        D.removeClass(w)
      }
      E.current(null);
      E.popup.close()
    },
    destroy: function() {
      var D = this;
      D.element.off(r);
      D.wrapper.off(r);
      p.fn.destroy.call(D)
    },
    refresh: function() {
      var I = this,
        J = I.ul[0],
        H = I.popup,
        G = I.options,
        E = I._data(),
        F = E.length,
        D;
      I.trigger("dataBinding");
      J.innerHTML = n.render(I.template, E);
      I._height(F);
      if (H.visible()) {
        H._position()
      }
      if (F) {
        if (G.highlightFirst) {
          I.current(a(J.firstChild))
        }
        if (G.suggest) {
          I.suggest(a(J.firstChild))
        }
      }
      if (I._open) {
        I._open = false;
        D = F ? "open" : "close";
        if (I._typing && I.element[0] !== b()) {
          D = "close"
        }
        H[D]();
        I._typing = B
      }
      if (I._touchScroller) {
        I._touchScroller.reset()
      }
      I._makeUnselectable();
      I._hideBusy();
      I.trigger("dataBound")
    },
    select: function(D) {
      this._select(D)
    },
    search: function(I) {
      var H = this,
        F = H.options,
        D = F.ignoreCase,
        G = F.separator,
        E;
      I = I || H._accessor();
      H._current = null;
      clearTimeout(H._typing);
      if (G) {
        I = C(f(H.element[0]), I, G)
      }
      E = I.length;
      if (!E) {
        H.popup.close()
      } else {
        if (E >= H.options.minLength) {
          H._open = true;
          H._filterSource({
            value: D ? I.toLowerCase() : I,
            operator: F.filter,
            field: F.dataTextField,
            ignoreCase: D
          })
        }
      }
    },
    suggest: function(L) {
      var J = this,
        G = J._last,
        K = J._accessor(),
        E = J.element[0],
        D = f(E),
        I = J.options.separator,
        N = K.split(I),
        M = m(D, K, I),
        H = D,
        F;
      if (G == o.BACKSPACE || G == o.DELETE) {
        J._last = B;
        return
      }
      L = L || "";
      if (typeof L !== "string") {
        F = p.inArray(L[0], J.ul[0]);
        if (F > -1) {
          L = J._text(J._data()[F])
        } else {
          L = ""
        }
      }
      if (D <= 0) {
        D = K.toLowerCase().indexOf(L.toLowerCase()) + 1
      }
      F = K.substring(0, D).lastIndexOf(I);
      F = F > -1 ? D - (F + I.length) : D;
      K = N[M].substring(0, F);
      if (L) {
        F = L.toLowerCase().indexOf(K.toLowerCase());
        if (F > -1) {
          L = L.substring(F + K.length);
          H = D + L.length;
          K += L
        }
        if (I && N[N.length - 1] !== "") {
          N.push("")
        }
      }
      N[M] = K;
      J._accessor(N.join(I || ""));
      if (E === b()) {
        x(E, D, H)
      }
    },
    value: function(D) {
      if (D !== B) {
        this._accessor(D);
        this._old = D
      } else {
        return this._accessor()
      }
    },
    _accessor: function(F) {
      var E = this,
        D = E.element[0];
      if (F !== B) {
        D.value = F === null ? "" : F;
        E._placeholder()
      } else {
        F = D.value;
        if (D.className.indexOf("k-readonly") > -1) {
          if (F === E.options.placeholder) {
            return ""
          } else {
            return F
          }
        }
        return F
      }
    },
    _accept: function(D) {
      var E = this;
      E._focus(D);
      q(E.element[0])
    },
    _keydown: function(E) {
      var G = this,
        H = G.ul[0],
        F = E.keyCode,
        D = G._current,
        I = G.popup.visible();
      G._last = F;
      if (F === o.DOWN) {
        if (I) {
          G._move(D ? D.next() : a(H.firstChild))
        }
        E.preventDefault()
      } else {
        if (F === o.UP) {
          if (I) {
            G._move(D ? D.prev() : a(H.lastChild))
          }
          E.preventDefault()
        } else {
          if (F === o.ENTER || F === o.TAB) {
            if (F === o.ENTER && G.popup.visible()) {
              E.preventDefault()
            }
            G._accept(D)
          } else {
            if (F === o.ESC) {
              if (G.popup.visible()) {
                E.preventDefault()
              }
              G.close()
            } else {
              G._search()
            }
          }
        }
      }
    },
    _move: function(D) {
      var E = this;
      D = D[0] ? D : null;
      E.current(D);
      if (E.options.suggest) {
        E.suggest(D)
      }
    },
    _hideBusy: function() {
      var D = this;
      clearTimeout(D._busy);
      D._loading.hide();
      D.element.attr("aria-busy", false);
      D._busy = null
    },
    _showBusy: function() {
      var D = this;
      if (D._busy) {
        return
      }
      D._busy = setTimeout(function() {
        D.element.attr("aria-busy", true);
        D._loading.show()
      }, 100)
    },
    _placeholder: function(F) {
      if (s) {
        return
      }
      var G = this,
        D = G.element,
        E = G.options.placeholder,
        H;
      if (E) {
        H = D.val();
        if (F === B) {
          F = !H
        }
        if (!F) {
          if (H !== E) {
            E = H
          } else {
            E = ""
          }
        }
        if (H === G._old && !F) {
          return
        }
        D.toggleClass("k-readonly", F).val(E);
        if (!E && D[0] === document.activeElement) {
          p.selectText(D[0], 0, 0)
        }
      }
    },
    _search: function() {
      var D = this;
      clearTimeout(D._typing);
      D._typing = setTimeout(function() {
        if (D._prev !== D._accessor()) {
          D._prev = D._accessor();
          D.search()
        }
      }, D.options.delay)
    },
    _select: function(F) {
      var I = this,
        G = I.options.separator,
        D = I._data(),
        H, E;
      F = a(F);
      if (F[0] && !F.hasClass(w)) {
        E = p.inArray(F[0], I.ul[0]);
        if (E > -1) {
          D = D[E];
          H = I._text(D);
          if (G) {
            H = v(f(I.element[0]), I._accessor(), H, G)
          }
          I._accessor(H);
          I.current(F.addClass(w))
        }
      }
    },
    _loader: function() {
      this._loading = a('<span class="k-icon k-loading" style="display:none"></span>').insertAfter(this.element)
    },
    _toggleHover: function(D) {
      a(D.currentTarget).toggleClass(k, D.type === "mouseenter")
    },
    _wrapper: function() {
      var F = this,
        E = F.element,
        D = E[0],
        G;
      G = E.parent();
      if (!G.is("span.k-widget")) {
        G = E.wrap("<span />").parent()
      }
      G.attr("tabindex", -1);
      G.attr("role", "presentation");
      G[0].style.cssText = D.style.cssText;
      E.css({
        width: "100%",
        height: D.style.height
      });
      F._focused = F.element;
      F.wrapper = G.addClass("k-widget k-autocomplete k-header").addClass(D.className)
    }
  });
  A.plugin(e)
})(window.kendo.jQuery);
kendo_module({
  id: "dropdownlist",
  name: "DropDownList",
  category: "web",
  description: "The DropDownList widget displays a list of values and allows the selection of a single value from the list.",
  depends: ["list"],
  features: [{
    id: "mobile-scroller",
    name: "Mobile scroller",
    description: "Support for kinetic scrolling in mobile device",
    depends: ["mobile.scroller"]
  }]
});
(function(a, u) {
  var k = window.kendo,
    t = k.ui,
    p = t.Select,
    m = k.support.mobileOS,
    l = ".kendoDropDownList",
    g = "disabled",
    o = "readonly",
    e = "change",
    i = "k-state-focused",
    f = "k-state-default",
    r = "k-state-disabled",
    b = "aria-disabled",
    c = "aria-readonly",
    q = "k-state-selected",
    j = "mouseenter" + l + " mouseleave" + l,
    s = "tabindex",
    n = a.proxy;
  var h = p.extend({
    init: function(v, y) {
      var A = this,
        w = y && y.index,
        x, B, z;
      A.ns = l;
      y = a.isArray(y) ? {
        dataSource: y
      } : y;
      p.fn.init.call(A, v, y);
      A._focusHandler = function() {
        A.wrapper.focus()
      };
      y = A.options;
      v = A.element.on("focus" + l, A._focusHandler);
      this._inputTemplate();
      A._reset();
      A._word = "";
      A._wrapper();
      A._tabindex();
      A.wrapper.data(s, A.wrapper.attr(s));
      A._aria();
      A._span();
      A._popup();
      A._mobile();
      A._dataSource();
      A._ignoreCase();
      A._enable();
      A._oldIndex = A.selectedIndex = -1;
      A._cascade();
      if (w !== u) {
        y.index = w
      }
      if (y.autoBind) {
        A.dataSource.fetch()
      } else {
        if (A.selectedIndex === -1) {
          z = y.text || "";
          if (!z) {
            x = y.optionLabel;
            B = x && y.index === 0;
            if (A._isSelect) {
              if (B) {
                z = x
              } else {
                z = v.children(":selected").text()
              }
            } else {
              if (!v[0].value && B) {
                z = x
              }
            }
          }
          A._textAccessor(z)
        }
      }
      k.notify(A)
    },
    options: {
      name: "DropDownList",
      enabled: true,
      autoBind: true,
      index: 0,
      text: null,
      value: null,
      template: "",
      valueTemplate: "",
      delay: 500,
      height: 200,
      dataTextField: "",
      dataValueField: "",
      optionLabel: "",
      cascadeFrom: "",
      cascadeFromField: "",
      ignoreCase: true,
      animation: {}
    },
    events: ["open", "close", e, "select", "dataBinding", "dataBound", "cascade"],
    setOptions: function(v) {
      p.fn.setOptions.call(this, v);
      this._template();
      this._inputTemplate();
      this._accessors();
      this._aria()
    },
    destroy: function() {
      var v = this;
      v.wrapper.off(l);
      v.element.off(l);
      v._inputWrapper.off(l);
      p.fn.destroy.call(v)
    },
    open: function() {
      var v = this;
      if (!v.ul[0].firstChild) {
        v._open = true;
        if (!v._request) {
          v.dataSource.fetch()
        }
      } else {
        v.popup.open();
        v._scroll(v._current)
      }
    },
    toggle: function(v) {
      this._toggle(v)
    },
    refresh: function() {
      var y = this,
        v = y._data(),
        w = v.length,
        x = y.options.optionLabel;
      y.trigger("dataBinding");
      if (y._current) {
        y.current(null)
      }
      y.ul[0].innerHTML = k.render(y.template, v);
      y._height(w);
      if (y.popup.visible()) {
        y.popup._position()
      }
      if (y._isSelect) {
        if (x && w) {
          x = y._optionLabelText(x);
          x = '<option value="">' + x + "</option>"
        }
        y._options(v, x)
      }
      if (y._open) {
        y._open = false;
        y.toggle( !! w)
      }
      y._hideBusy();
      y._makeUnselectable();
      if (!y._fetch) {
        if (w) {
          y._selectItem()
        } else {
          if (y._textAccessor() !== x) {
            y.element.val("");
            y._textAccessor("")
          }
        }
      }
      y._bound = !! w;
      y.trigger("dataBound")
    },
    search: function(x) {
      if (x) {
        var w = this,
          v = w.options.ignoreCase;
        if (v) {
          x = x.toLowerCase()
        }
        w._select(function(y) {
          var z = w._text(y);
          if (z !== u) {
            z = (z + "");
            if (v) {
              z = z.toLowerCase()
            }
            return z.indexOf(x) === 0
          }
        })
      }
    },
    text: function(y) {
      var z = this;
      var v, x;
      var w = z.options.ignoreCase;
      y = y === null ? "" : y;
      if (y !== u) {
        if (typeof y === "string") {
          x = w ? y.toLowerCase() : y;
          v = z._select(function(A) {
            A = z._text(A);
            if (w) {
              A = (A + "").toLowerCase()
            }
            return A === x
          });
          if (v) {
            y = v
          }
        }
        z._textAccessor(y)
      } else {
        return z._textAccessor()
      }
    },
    value: function(y) {
      var x = this,
        w, v;
      if (y !== u) {
        if (y !== null) {
          y = y.toString()
        }
        x._selectedValue = y;
        v = y || (x.options.optionLabel && !x.element[0].disabled && y === "");
        if (v && x._fetchItems(y)) {
          return
        }
        w = x._index(y);
        x.select(w > -1 ? w : 0)
      } else {
        return x._accessor()
      }
    },
    _editable: function(A) {
      var C = this,
        x = C.element,
        v = A.disable,
        B = A.readonly,
        D = C.wrapper.off(l),
        w = C._inputWrapper.off(j),
        y = function() {
          w.addClass(i);
          C._blured = false
        }, z = function() {
          if (!C._blured) {
            C._triggerCascade();
            var E = window.self !== window.top;
            if (k.support.mobileOS.ios && E) {
              C._change()
            } else {
              C._blur()
            }
            w.removeClass(i);
            C._blured = true;
            x.blur()
          }
        };
      if (!B && !v) {
        x.removeAttr(g).removeAttr(o);
        w.addClass(f).removeClass(r).on(j, C._toggleHover);
        D.attr(s, D.data(s)).attr(b, false).attr(c, false).on("click" + l, function(E) {
          C._blured = false;
          E.preventDefault();
          C.toggle()
        }).on("keydown" + l, n(C._keydown, C)).on("keypress" + l, n(C._keypress, C)).on("focusin" + l, y).on("focusout" + l, z)
      } else {
        if (v) {
          D.removeAttr(s);
          w.addClass(r).removeClass(f)
        } else {
          w.addClass(f).removeClass(r);
          D.on("focusin" + l, y).on("focusout" + l, z)
        }
        x.attr(g, v).attr(o, B);
        D.attr(b, v).attr(c, B)
      }
    },
    _accept: function(v) {
      this._focus(v)
    },
    _optionLabelText: function() {
      var x = this.options,
        v = x.dataTextField,
        w = x.optionLabel;
      if (w && v && typeof w === "object") {
        return this._text(w)
      }
      return w
    },
    _data: function() {
      var C = this,
        A = C.options,
        z = A.optionLabel,
        B = A.dataTextField,
        D = A.dataValueField,
        v = C.dataSource.view(),
        y = v.length,
        w = z,
        x = 0;
      if (z && y) {
        if (typeof z === "object") {
          w = z
        } else {
          if (B) {
            w = {};
            B = B.split(".");
            D = D.split(".");
            d(w, D, "");
            d(w, B, z)
          }
        }
        w = new k.data.ObservableArray([w]);
        for (; x < y; x++) {
          w.push(v[x])
        }
        v = w
      }
      return v
    },
    _keydown: function(v) {
      var y = this,
        w = v.keyCode,
        x = k.keys,
        z = y.ul[0];
      if (w === x.LEFT) {
        w = x.UP
      } else {
        if (w === x.RIGHT) {
          w = x.DOWN
        }
      }
      v.keyCode = w;
      y._move(v);
      if (w === x.HOME) {
        v.preventDefault();
        y._select(z.firstChild)
      } else {
        if (w === x.END) {
          v.preventDefault();
          y._select(z.lastChild)
        }
      }
    },
    _selectNext: function(D, y) {
      var C = this,
        B, A = y,
        w = C._data(),
        z = w.length,
        x = C.options.ignoreCase,
        v = function(F, E) {
          F = F + "";
          if (x) {
            F = F.toLowerCase()
          }
          if (F.indexOf(D) === 0) {
            C._select(E);
            C._triggerEvents();
            return true
          }
        };
      for (; y < z; y++) {
        B = C._text(w[y]);
        if (B && v(B, y)) {
          return true
        }
      }
      if (A > 0) {
        y = 0;
        for (; y <= A; y++) {
          B = C._text(w[y]);
          if (B && v(B, y)) {
            return true
          }
        }
      }
      return false
    },
    _keypress: function(w) {
      if (w.charCode === 0) {
        return
      }
      var y = this,
        v = String.fromCharCode(w.charCode || w.keyCode),
        x = y.selectedIndex,
        z = y._word;
      if (y.options.ignoreCase) {
        v = v.toLowerCase()
      }
      if (v === " ") {
        w.preventDefault()
      }
      if (y._last === v && z.length <= 1 && x > -1) {
        if (!z) {
          z = v
        }
        if (y._selectNext(z, x + 1)) {
          return
        }
      }
      y._word = z + v;
      y._last = v;
      y._search()
    },
    _popup: function() {
      p.fn._popup.call(this);
      this.popup.one("open", function() {
        this.wrapper = k.wrap(this.element).addClass("km-popup")
      })
    },
    _search: function() {
      var x = this,
        v = x.dataSource,
        w = x.selectedIndex,
        y = x._word;
      clearTimeout(x._typing);
      x._typing = setTimeout(function() {
        x._word = ""
      }, x.options.delay);
      if (!x.ul[0].firstChild) {
        v.one(e, function() {
          if (v.data()[0] && w > -1) {
            x._selectNext(y, w)
          }
        }).fetch();
        return
      }
      x._selectNext(y, w);
      x._triggerEvents()
    },
    _select: function(y) {
      var z = this,
        v = z._current,
        w = null,
        A, x;
      y = z._get(y);
      if (y && y[0] && !y.hasClass(q)) {
        if (v) {
          v.removeClass(q)
        }
        x = t.List.inArray(y[0], z.ul[0]);
        if (x > -1) {
          w = z._data()[x];
          A = z._value(w);
          z.selectedIndex = x;
          z._textAccessor(w);
          z._accessor(A !== u ? A : z._text(w), x);
          z._selectedValue = z._accessor();
          z.current(y.addClass(q));
          if (z._optionID) {
            z._current.attr("aria-selected", true)
          }
        }
      }
      return w
    },
    _triggerEvents: function() {
      if (!this.popup.visible()) {
        this._triggerCascade();
        this._change()
      }
    },
    _mobile: function() {
      var x = this,
        v = x.popup,
        w = v.element.parents(".km-root").eq(0);
      if (w.length && m) {
        v.options.animation.open.effects = (m.android || m.meego) ? "fadeIn" : (m.ios || m.wp) ? "slideIn:up" : v.options.animation.open.effects
      }
    },
    _span: function() {
      var x = this,
        y = x.wrapper,
        v = "span.k-input",
        w;
      w = y.find(v);
      if (!w[0]) {
        y.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(x.element);
        w = y.find(v)
      }
      x.span = w;
      x._inputWrapper = a(y[0].firstChild);
      x._arrow = y.find(".k-icon").mousedown(function(z) {
        z.preventDefault()
      })
    },
    _wrapper: function() {
      var x = this,
        w = x.element,
        v = w[0],
        y;
      y = w.parent();
      if (!y.is("span.k-widget")) {
        y = w.wrap("<span />").parent();
        y[0].style.cssText = v.style.cssText
      }
      w.hide();
      x._focused = x.wrapper = y.addClass("k-widget k-dropdown k-header").addClass(v.className).css("display", "").attr({
        unselectable: "on",
        role: "listbox",
        "aria-haspopup": true,
        "aria-expanded": false
      })
    },
    _clearSelection: function() {
      var w = this;
      var v = w.options.optionLabel;
      w.options.value = "";
      w._selectedValue = "";
      if (w.dataSource.view()[0] && (v || w._userTriggered)) {
        w.select(0);
        return
      }
      w.selectedIndex = -1;
      w.element.val("");
      w._textAccessor(w.options.optionLabel)
    },
    _inputTemplate: function() {
      var w = this,
        v = w.options.valueTemplate;
      if (!v) {
        v = a.proxy(k.template("#:this._text(data)#"), w)
      } else {
        v = k.template(v)
      }
      w.valueTemplate = v
    },
    _textAccessor: function(y) {
      var v = this.dataItem();
      var w = this.options;
      var x = this.span;
      if (y !== u) {
        if (a.isPlainObject(y) || y instanceof k.data.ObservableObject) {
          v = y
        } else {
          if (!v || this._text(v) !== y) {
            if (w.dataTextField) {
              v = {};
              d(v, w.dataTextField.split("."), y);
              d(v, w.dataValueField.split("."), this._accessor())
            } else {
              v = y
            }
          }
        }
        x.html(this.valueTemplate(v))
      } else {
        return x.text()
      }
    }
  });

  function d(y, w, A) {
    var x = 0,
      z = w.length - 1,
      v;
    for (; x < z; ++x) {
      v = w[x];
      if (!(v in y)) {
        y[v] = {}
      }
      y = y[v]
    }
    y[w[z]] = A
  }
  t.plugin(h)
})(window.kendo.jQuery);
kendo_module({
  id: "combobox",
  name: "ComboBox",
  category: "web",
  description: "The ComboBox widget allows the selection from pre-defined values or entering a new value.",
  depends: ["list"],
  features: [{
    id: "mobile-scroller",
    name: "Mobile scroller",
    description: "Support for kinetic scrolling in mobile device",
    depends: ["mobile.scroller"]
  }]
});
(function(a, C) {
  var l = window.kendo,
    B = l.ui,
    n = B.List,
    u = B.Select,
    A = l.support,
    r = A.placeholder,
    b = l._activeElement,
    m = l.keys,
    p = ".kendoComboBox",
    f = "click" + p,
    o = "mousedown" + p,
    i = "disabled",
    t = "readonly",
    e = "change",
    h = "k-state-default",
    j = "k-state-focused",
    z = "k-state-disabled",
    c = "aria-disabled",
    d = "aria-readonly",
    y = "k-state-selected",
    w = "filter",
    v = "accept",
    x = "rebind",
    k = "mouseenter" + p + " mouseleave" + p,
    q = null,
    s = a.proxy;
  var g = u.extend({
    init: function(D, E) {
      var G = this,
        F;
      G.ns = p;
      E = a.isArray(E) ? {
        dataSource: E
      } : E;
      u.fn.init.call(G, D, E);
      G._focusHandler = function() {
        G.input.focus()
      };
      E = G.options;
      D = G.element.on("focus" + p, G._focusHandler);
      E.placeholder = E.placeholder || D.attr("placeholder");
      G._reset();
      G._wrapper();
      G._input();
      G._tabindex(G.input);
      G._popup();
      G._dataSource();
      G._ignoreCase();
      G._enable();
      G._cascade();
      G._aria();
      G._oldIndex = G.selectedIndex = -1;
      if (E.autoBind) {
        G._filterSource()
      } else {
        F = E.text;
        if (!F && G._isSelect) {
          F = D.children(":selected").text()
        }
        if (F) {
          G.input.val(F);
          G._prev = F
        }
      }
      if (!F) {
        G._placeholder()
      }
      l.notify(G)
    },
    options: {
      name: "ComboBox",
      enabled: true,
      index: -1,
      text: null,
      value: null,
      autoBind: true,
      delay: 200,
      dataTextField: "",
      dataValueField: "",
      minLength: 0,
      height: 200,
      highlightFirst: true,
      template: "",
      filter: "none",
      placeholder: "",
      suggest: false,
      cascadeFrom: "",
      cascadeFromField: "",
      ignoreCase: true,
      animation: {}
    },
    events: ["open", "close", e, "select", "dataBinding", "dataBound", "cascade"],
    setOptions: function(D) {
      u.fn.setOptions.call(this, D);
      this._template();
      this._accessors();
      this._aria()
    },
    current: function(E) {
      var F = this,
        D = F._current;
      if (E === C) {
        return D
      }
      if (D) {
        D.removeClass(y)
      }
      u.fn.current.call(F, E)
    },
    destroy: function() {
      var D = this;
      D.input.off(p);
      D.element.off(p);
      D._inputWrapper.off(p);
      u.fn.destroy.call(D)
    },
    _editable: function(G) {
      var I = this,
        E = G.disable,
        H = G.readonly,
        J = I._inputWrapper.off(p),
        F = I.element.add(I.input.off(p)),
        D = I._arrow.parent().off(f + " " + o);
      if (!H && !E) {
        J.addClass(h).removeClass(z).on(k, I._toggleHover);
        F.removeAttr(i).removeAttr(t).attr(c, false).attr(d, false);
        D.on(f, function() {
          I.toggle()
        }).on(o, function(K) {
          K.preventDefault()
        });
        I.input.on("keydown" + p, s(I._keydown, I)).on("focus" + p, function() {
          J.addClass(j);
          I._placeholder(false)
        }).on("blur" + p, function() {
          J.removeClass(j);
          clearTimeout(I._typing);
          if (I.options.text !== I.input.val()) {
            I.text(I.text())
          }
          I._placeholder();
          I._blur();
          I.element.blur()
        })
      } else {
        J.addClass(E ? z : h).removeClass(E ? h : z);
        F.attr(i, E).attr(t, H).attr(c, E).attr(d, H)
      }
    },
    open: function() {
      var E = this,
        D = E.dataSource.options.serverFiltering;
      if (E.popup.visible()) {
        return
      }
      if (!E.ul[0].firstChild || (E._state === v && !D)) {
        E._open = true;
        E._state = x;
        E._filterSource()
      } else {
        E.popup.open();
        E._scroll(E._current)
      }
    },
    refresh: function() {
      var K = this,
        L = K.ul[0],
        I = K.options,
        J = K._state,
        E = K._data(),
        G = E.length,
        F, M, H, D;
      K.trigger("dataBinding");
      L.innerHTML = l.render(K.template, E);
      K._height(G);
      if (K.popup.visible()) {
        K.popup._position()
      }
      if (K._isSelect) {
        F = K.element[0].firstChild;
        if (J === x) {
          K._state = "";
          M = K.value()
        }
        D = K._option;
        K._option = C;
        K._options(E);
        if (D && D[0].selected) {
          K._custom(D.val())
        } else {
          if (!K._bound && !F) {
            K._custom("")
          }
        }
      }
      if (G) {
        if (I.highlightFirst) {
          K.current(a(L.firstChild))
        }
        if (I.suggest && K.input.val() && K._request !== C) {
          K.suggest(a(L.firstChild))
        }
      }
      if (J !== w && !K._fetch) {
        K._selectItem()
      }
      if (K._open) {
        K._open = false;
        H = !! G;
        if (K._typing && K.input[0] !== b()) {
          H = false
        }
        K.toggle(H);
        K._typing = C
      }
      if (K._touchScroller) {
        K._touchScroller.reset()
      }
      K._makeUnselectable();
      K._hideBusy();
      K._bound = true;
      K.trigger("dataBound")
    },
    search: function(J) {
      J = typeof J === "string" ? J : this.text();
      var I = this,
        G = J.length,
        H = I.options,
        F = H.ignoreCase,
        E = H.filter,
        D = H.dataTextField;
      clearTimeout(I._typing);
      if (G >= H.minLength) {
        I._state = w;
        if (E === "none") {
          I._filter(J)
        } else {
          I._open = true;
          I._filterSource({
            value: F ? J.toLowerCase() : J,
            field: D,
            operator: E,
            ignoreCase: F
          })
        }
      }
    },
    suggest: function(J) {
      var H = this,
        E = H.input[0],
        I = H.text(),
        D = n.caret(E),
        G = H._last,
        F;
      if (G == m.BACKSPACE || G == m.DELETE) {
        H._last = C;
        return
      }
      J = J || "";
      if (typeof J !== "string") {
        F = n.inArray(J[0], H.ul[0]);
        if (F > -1) {
          J = H._text(H.dataSource.view()[F])
        } else {
          J = ""
        }
      }
      if (D <= 0) {
        D = I.toLowerCase().indexOf(J.toLowerCase()) + 1
      }
      if (J) {
        F = J.toLowerCase().indexOf(I.toLowerCase());
        if (F > -1) {
          I += J.substring(F + I.length)
        }
      } else {
        I = I.substring(0, D)
      }
      if (I.length !== D || !J) {
        E.value = I;
        if (E === b()) {
          n.selectText(E, D, I.length)
        }
      }
    },
    text: function(H) {
      H = H === null ? "" : H;
      var I = this,
        F = I.input[0],
        E = I.options.ignoreCase,
        G = H,
        D;
      if (H !== C) {
        D = I.dataItem();
        if (D && I._text(D) === H && I._value(D).toString() === I._old) {
          I._triggerCascade();
          return
        }
        if (E) {
          G = G.toLowerCase()
        }
        I._select(function(J) {
          J = I._text(J);
          if (E) {
            J = (J + "").toLowerCase()
          }
          return J === G
        });
        if (I.selectedIndex < 0) {
          I._custom(H);
          F.value = H
        }
        I._prev = F.value;
        I._triggerCascade()
      } else {
        return F.value
      }
    },
    toggle: function(E) {
      var D = this;
      D._toggle(E)
    },
    value: function(G) {
      var F = this,
        E = F.options,
        D;
      if (G !== C) {
        if (G !== null) {
          G = G.toString()
        }
        F._selectedValue = G;
        if (!F._open && G && F._fetchItems(G)) {
          return
        }
        D = F._index(G);
        if (D > -1) {
          F.select(D)
        } else {
          F.current(q);
          F._custom(G);
          if (E.value !== G || E.text !== F.input.val()) {
            F.text(G);
            F._placeholder()
          }
        }
        F._old = F._accessor();
        F._oldIndex = F.selectedIndex
      } else {
        return F._accessor()
      }
    },
    _accept: function(D) {
      var E = this;
      if (D) {
        E._focus(D)
      } else {
        E.text(E.text());
        E._change()
      }
    },
    _custom: function(G) {
      var F = this,
        E = F.element,
        D = F._option;
      if (F._state === w) {
        F._state = v
      }
      if (F._isSelect) {
        if (!D) {
          D = F._option = a("<option/>");
          E.append(D)
        }
        D.text(G);
        D[0].selected = true
      } else {
        E.val(G)
      }
      F._selectedValue = G
    },
    _filter: function(I) {
      var H = this,
        F = H.options,
        D = H.dataSource,
        E = F.ignoreCase,
        G = function(J) {
          var K = H._text(J);
          if (K !== C) {
            K = K + "";
            if (K !== "" && I === "") {
              return false
            }
            if (E) {
              K = K.toLowerCase()
            }
            return K.indexOf(I) === 0
          }
        };
      if (E) {
        I = I.toLowerCase()
      }
      if (!H.ul[0].firstChild) {
        D.one(e, function() {
          if (D.data()[0]) {
            H.search(I)
          }
        }).fetch();
        return
      }
      if (H._highlight(G) !== -1) {
        if (F.suggest && H._current) {
          H.suggest(H._current)
        }
        H.open()
      }
      H._hideBusy()
    },
    _highlight: function(E) {
      var F = this,
        D;
      if (E === C || E === null) {
        return -1
      }
      E = F._get(E);
      D = n.inArray(E[0], F.ul[0]);
      if (D == -1) {
        if (F.options.highlightFirst && !F.text()) {
          E = F.ul[0].firstChild;
          if (E) {
            E = a(E)
          }
        } else {
          E = q
        }
      }
      F.current(E);
      return D
    },
    _input: function() {
      var I = this,
        E = I.element.removeClass("k-input")[0],
        D = E.accessKey,
        J = I.wrapper,
        H = "input.k-input",
        G = E.name || "",
        F;
      if (G) {
        G = 'name="' + G + '_input" '
      }
      F = J.find(H);
      if (!F[0]) {
        J.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input ' + G + 'class="k-input" type="text" autocomplete="off"/><span tabindex="-1" unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(I.element);
        F = J.find(H)
      }
      F[0].style.cssText = E.style.cssText;
      if (E.maxLength > -1) {
        F[0].maxLength = E.maxLength
      }
      F.addClass(E.className).val(this.options.text || E.value).css({
        width: "100%",
        height: E.style.height
      }).attr({
        role: "combobox",
        "aria-expanded": false
      }).show();
      if (r) {
        F.attr("placeholder", I.options.placeholder)
      }
      if (D) {
        E.accessKey = "";
        F[0].accessKey = D
      }
      I._focused = I.input = F;
      I._inputWrapper = a(J[0].firstChild);
      I._arrow = J.find(".k-icon").attr({
        role: "button",
        tabIndex: -1
      });
      if (E.id) {
        I._arrow.attr("aria-controls", I.ul[0].id)
      }
    },
    _keydown: function(D) {
      var F = this,
        E = D.keyCode;
      F._last = E;
      clearTimeout(F._typing);
      if (E != m.TAB && !F._move(D)) {
        F._search()
      }
    },
    _placeholder: function(F) {
      if (r) {
        return
      }
      var G = this,
        D = G.input,
        E = G.options.placeholder,
        H;
      if (E) {
        H = G.value();
        if (F === C) {
          F = !H
        }
        D.toggleClass("k-readonly", F);
        if (!F) {
          if (!H) {
            E = ""
          } else {
            return
          }
        }
        D.val(E);
        if (!E && D[0] === b()) {
          n.selectText(D[0], 0, 0)
        }
      }
    },
    _search: function() {
      var D = this;
      D._typing = setTimeout(function() {
        var E = D.text();
        if (D._prev !== E) {
          D._prev = E;
          D.search(E)
        }
        D._typing = null
      }, D.options.delay)
    },
    _select: function(F) {
      var H = this,
        G, I, D = H._data(),
        E = H._highlight(F);
      H.selectedIndex = E;
      if (E !== -1) {
        if (H._state === w) {
          H._state = v
        }
        H._current.addClass(y);
        D = D[E];
        G = H._text(D);
        I = H._value(D);
        H._prev = H.input[0].value = G;
        H._accessor(I !== C ? I : G, E);
        H._selectedValue = H._accessor();
        H._placeholder();
        if (H._optionID) {
          H._current.attr("aria-selected", true)
        }
      }
    },
    _wrapper: function() {
      var E = this,
        D = E.element,
        F = D.parent();
      if (!F.is("span.k-widget")) {
        F = D.hide().wrap("<span />").parent();
        F[0].style.cssText = D[0].style.cssText
      }
      E.wrapper = F.addClass("k-widget k-combobox k-header").addClass(D[0].className).css("display", "")
    },
    _clearSelection: function(G, F) {
      var H = this,
        E = G._selectedValue || G.value(),
        D = E && G.selectedIndex === -1;
      if (F || !E || D) {
        H.value("");
        H.options.value = ""
      }
    }
  });
  B.plugin(g)
})(window.kendo.jQuery);
kendo_module({
  id: "grid",
  name: "Grid",
  category: "web",
  description: "The Grid widget displays tabular data and offers rich support for interacting with data,including paging, sorting, grouping, and selection.",
  depends: ["data"],
  features: [{
    id: "grid-editing",
    name: "Editing",
    description: "Support for record editing",
    depends: ["editable", "window"]
  }, {
    id: "grid-filtering",
    name: "Filtering",
    description: "Support for record filtering",
    depends: ["filtermenu"]
  }, {
    id: "grid-columnmenu",
    name: "Column menu",
    description: "Support for header column menu",
    depends: ["columnmenu"]
  }, {
    id: "grid-grouping",
    name: "Grouping",
    description: "Support for grid grouping",
    depends: ["groupable"]
  }, {
    id: "grid-paging",
    name: "Paging",
    description: "Suppot for grid paging",
    depends: ["pager"]
  }, {
    id: "grid-selection",
    name: "Selection",
    description: "Support for row selection",
    depends: ["selectable"]
  }, {
    id: "grid-sorting",
    name: "Sorting",
    description: "Support for grid sorting",
    depends: ["sortable"]
  }, {
    id: "grid-column-reorder",
    name: "Column reordering",
    description: "Support for column reordering",
    depends: ["reorderable"]
  }, {
    id: "grid-column-resize",
    name: "Column resizing",
    description: "Support for column resizing",
    depends: ["resizable"]
  }, {
    id: "grid-mobile",
    name: "Grid adaptive rendering",
    description: "Support for adaptive rendering",
    depends: ["mobile.actionsheet", "mobile.pane"]
  }]
});
(function(a, aB) {
  var aa = window.kendo,
    aA = aa.ui,
    u = aa.data.DataSource,
    N = aA.Groupable,
    ay = aa.support.tbodyInnerHtml,
    b = aa._activeElement,
    aF = aA.Widget,
    ab = aa.keys,
    Y = a.isPlainObject,
    C = a.extend,
    ac = a.map,
    L = a.grep,
    T = a.isArray,
    S = a.inArray,
    ak = a.proxy,
    V = aa.isFunction,
    U = a.isEmptyObject,
    ad = Math,
    aj = "progress",
    B = "error",
    s = ":not(.k-group-cell):not(.k-hierarchy-cell):visible",
    ar = "tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",
    af = "tr:not(.k-footer-template):visible",
    ae = ":not(.k-group-cell):not(.k-hierarchy-cell):visible",
    E = af + ":first>" + ae + ":first",
    P = "th.k-header:not(.k-group-cell,.k-hierarchy-cell)",
    ai = ".kendoGrid",
    A = "edit",
    ao = "save",
    al = "remove",
    z = "detailInit",
    D = "filterMenuInit",
    k = "columnMenuInit",
    h = "change",
    j = "columnHide",
    n = "columnShow",
    ap = "saveChanges",
    t = "dataBound",
    y = "detailExpand",
    x = "detailCollapse",
    F = "k-state-focused",
    aq = "k-state-selected",
    m = "columnResize",
    l = "columnReorder",
    i = "click",
    Q = "height",
    aw = "tabIndex",
    J = "function",
    au = "string",
    w = "Are you sure you want to delete this record?",
    p = "Delete",
    g = "Cancel",
    I = /(\}|\#)/ig,
    az = /#/ig,
    aE = "[\\x20\\t\\r\\n\\f]",
    ag = new RegExp("(^|" + aE + ")(k-group-cell|k-hierarchy-cell)(" + aE + "|$)"),
    o = '<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',
    Z = false,
    e = aa.support.browser,
    W = e.msie && e.version == 7,
    X = e.msie && e.version == 8;
  var aC = aF.extend({
    init: function(aG, aH) {
      var aI = this;
      aF.fn.init.call(aI, aG, aH);
      aI._refreshHandler = ak(aI.refresh, aI);
      aI.setDataSource(aH.dataSource);
      aI.wrap()
    },
    setDataSource: function(aG) {
      var aH = this;
      if (aH.dataSource) {
        aH.dataSource.unbind(h, aH._refreshHandler)
      }
      aH.dataSource = aG;
      aH.dataSource.bind(h, aH._refreshHandler)
    },
    options: {
      name: "VirtualScrollable",
      itemHeight: a.noop
    },
    destroy: function() {
      var aG = this;
      aF.fn.destroy.call(aG);
      aG.dataSource.unbind(h, aG._refreshHandler);
      aG.wrapper.add(aG.verticalScrollbar).off(ai);
      if (aG.drag) {
        aG.drag.destroy()
      }
    },
    wrap: function() {
      var aI = this,
        aH = aa.support.scrollbar() + 1,
        aG = aI.element,
        aJ;
      aG.css({
        width: "auto",
        overflow: "hidden"
      }).css((Z ? "padding-left" : "padding-right"), aH);
      aI.content = aG.children().first();
      aJ = aI.wrapper = aI.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll" + ai + " mousewheel" + ai, ak(aI._wheelScroll, aI));
      if (aa.support.kineticScrollNeeded) {
        aI.drag = new aa.UserEvents(aI.wrapper, {
          global: true,
          move: function(aK) {
            aI.verticalScrollbar.scrollTop(aI.verticalScrollbar.scrollTop() - aK.y.delta);
            aJ.scrollLeft(aJ.scrollLeft() - aK.x.delta);
            aK.preventDefault()
          }
        })
      }
      aI.verticalScrollbar = a('<div class="k-scrollbar k-scrollbar-vertical" />').css({
        width: aH
      }).appendTo(aG).bind("scroll" + ai, ak(aI._scroll, aI))
    },
    _wheelScroll: function(aI) {
      var aL = this,
        aK = aL.verticalScrollbar.scrollTop(),
        aJ = aI.originalEvent,
        aH = aJ.wheelDeltaY,
        aG;
      if (aJ.wheelDelta) {
        if (aH === aB || aH) {
          aG = aJ.wheelDelta
        }
      } else {
        if (aJ.detail && aJ.axis === aJ.VERTICAL_AXIS) {
          aG = (-aJ.detail) * 10
        }
      }
      if (aG) {
        aI.preventDefault();
        aL.verticalScrollbar.scrollTop(aK + (-aG))
      }
    },
    _scroll: function(aH) {
      var aQ = this,
        aN = aH.currentTarget.scrollTop,
        aG = aQ.dataSource,
        aM = aQ.itemHeight,
        aO = aG.skip() || 0,
        aP = aQ._rangeStart || aO,
        aJ = aQ.element.innerHeight(),
        aK = !! (aQ._scrollbarTop && aQ._scrollbarTop > aN),
        aI = ad.max(ad.floor(aN / aM), 0),
        aL = ad.max(aI + ad.floor(aJ / aM), 0);
      aQ._scrollTop = aN - (aP * aM);
      aQ._scrollbarTop = aN;
      if (!aQ._fetch(aI, aL, aK)) {
        aQ.wrapper[0].scrollTop = aQ._scrollTop
      }
    },
    _fetch: function(aJ, aL, aO) {
      var aQ = this,
        aH = aQ.dataSource,
        aK = aQ.itemHeight,
        aP = aH.take(),
        aN = aQ._rangeStart || aH.skip() || 0,
        aG = ad.floor(aJ / aP) * aP,
        aI = false,
        aM = 0.33;
      if (aJ < aN) {
        aI = true;
        aN = ad.max(0, aL - aP);
        aQ._scrollTop = (aJ - aN) * aK;
        aQ._page(aN, aP)
      } else {
        if (aL >= aN + aP && !aO) {
          aI = true;
          aN = aJ;
          aQ._scrollTop = aK;
          aQ._page(aN, aP)
        } else {
          if (!aQ._fetching) {
            if (aJ < (aG + aP) - aP * aM && aJ > aP) {
              aH.prefetch(aG - aP, aP)
            }
            if (aL > aG + aP * aM) {
              aH.prefetch(aG + aP, aP)
            }
          }
        }
      }
      return aI
    },
    _page: function(aH, aI) {
      var aJ = this,
        aG = aJ.dataSource;
      clearTimeout(aJ._timeout);
      aJ._fetching = true;
      aJ._rangeStart = aH;
      if (aG.inRange(aH, aI)) {
        aG.range(aH, aI)
      } else {
        aa.ui.progress(aJ.wrapper.parent(), true);
        aJ._timeout = setTimeout(function() {
          aG.range(aH, aI)
        }, 100)
      }
    },
    refresh: function() {
      var aO = this,
        aI = "",
        aL = 250000,
        aH = aO.dataSource,
        aM = aO._rangeStart,
        aN = !aa.support.kineticScrollNeeded ? aa.support.scrollbar() : 0,
        aQ = aO.wrapper[0],
        aP, aJ, aK;
      aa.ui.progress(aO.wrapper.parent(), false);
      clearTimeout(aO._timeout);
      aK = aO.itemHeight = aO.options.itemHeight() || 0;
      var aG = (aQ.scrollWidth > aQ.offsetWidth) ? aN : 0;
      aP = aH.total() * aK + aG;
      for (aJ = 0; aJ < ad.floor(aP / aL); aJ++) {
        aI += '<div style="width:1px;height:' + aL + 'px"></div>'
      }
      if (aP % aL) {
        aI += '<div style="width:1px;height:' + (aP % aL) + 'px"></div>'
      }
      aO.verticalScrollbar.html(aI);
      aQ.scrollTop = aO._scrollTop;
      if (aO.drag) {
        aO.drag.cancel()
      }
      if (aM && !aO._fetching) {
        aO._rangeStart = aH.skip()
      }
      aO._fetching = false
    }
  });

  function O(aG) {
    return new Array(aG + 1).join('<td class="k-group-cell">&nbsp;</td>')
  }
  function av(aH) {
    var aG, aI = " ";
    if (aH) {
      if (typeof aH === au) {
        return aH
      }
      for (aG in aH) {
        aI += aG + '="' + aH[aG] + '"'
      }
    }
    return aI
  }
  var v = {
    create: {
      text: "Add new record",
      imageClass: "k-add",
      className: "k-grid-add",
      iconClass: "k-icon"
    },
    cancel: {
      text: "Cancel changes",
      imageClass: "k-cancel",
      className: "k-grid-cancel-changes",
      iconClass: "k-icon"
    },
    save: {
      text: "Save changes",
      imageClass: "k-update",
      className: "k-grid-save-changes",
      iconClass: "k-icon"
    },
    destroy: {
      text: "Delete",
      imageClass: "k-delete",
      className: "k-grid-delete",
      iconClass: "k-icon"
    },
    edit: {
      text: "Edit",
      imageClass: "k-edit",
      className: "k-grid-edit",
      iconClass: "k-icon"
    },
    update: {
      text: "Update",
      imageClass: "k-update",
      className: "k-grid-update",
      iconClass: "k-icon"
    },
    canceledit: {
      text: "Cancel",
      imageClass: "k-cancel",
      className: "k-grid-cancel",
      iconClass: "k-icon"
    }
  };

  function R(aG) {
    var aH = 0;
    a("> .k-grouping-header, > .k-grid-toolbar", aG).each(function() {
      aH += this.offsetHeight
    });
    return aH
  }
  function r(aG, aH) {
    a("th, th .k-grid-filter, th .k-link", aG).add(document.body).css("cursor", aH)
  }
  function f(aH) {
    var aJ, aK, aG = {}, aI = {};
    if (!U(aH)) {
      if (!T(aH)) {
        aH = [aH]
      }
      for (aJ = 0, aK = aH.length; aJ < aK; aJ++) {
        aG[aH[aJ].aggregate] = 0;
        aI[aH[aJ].field] = aG
      }
    }
    return aI
  }
  function an(aI, aK, aH) {
    var aJ = aI.eq(aK),
      aG = aI.eq(aH);
    aJ[aK > aH ? "insertBefore" : "insertAfter"](aG)
  }
  function d(aK, aJ, aI) {
    var aL, aM, aG, aH;
    aI = !T(aI) ? [aI] : aI;
    for (aL = 0, aM = aI.length; aL < aM; aL++) {
      aG = aI[aL];
      if (Y(aG) && aG.click) {
        aH = aG.name || aG.text;
        aJ.on(i + ai, "a.k-grid-" + (aH || "").replace(/\s/g, ""), {
          commandName: aH
        }, ak(aG.click, aK))
      }
    }
  }
  function aD(aG) {
    return L(aG, function(aH) {
      return !aH.hidden
    })
  }
  function c(aG) {
    aG = aG || {};
    var aH = aG.style;
    if (!aH) {
      aH = "display:none"
    } else {
      aH = aH.replace(/((.*)?display)(.*)?:([^;]*)/i, "$1:none");
      if (aH === aG.style) {
        aH = aH.replace(/(.*)?/i, "display:none;$1")
      }
    }
    return C({}, aG, {
      style: aH
    })
  }
  function am(aG) {
    aG = aG || {};
    var aH = aG.style;
    if (aH) {
      aG.style = aH.replace(/(display\s*:\s*none\s*;?)*/ig, "")
    }
    return aG
  }
  function ah(aK, aL, aJ, aI) {
    var aG = aK.find(">colgroup"),
      aM, aH = ac(aL, function(aN) {
        aM = aN.width;
        if (aM && parseInt(aM, 10) !== 0) {
          return aa.format('<col style="width:{0}"/>', typeof aM === au ? aM : aM + "px")
        }
        return "<col />"
      });
    if (aJ || aG.find(".k-hierarchy-col").length) {
      aH.splice(0, 0, '<col class="k-hierarchy-col" />')
    }
    if (aG.length) {
      aG.remove()
    }
    aG = a(new Array(aI + 1).join('<col class="k-group-col">') + aH.join(""));
    if (!aG.is("colgroup")) {
      aG = a("<colgroup/>").append(aG)
    }
    aK.prepend(aG);
    if (e.msie && e.version == 8) {
      aK.css("display", "inline-table");
      window.setTimeout(function() {
        aK.css("display", "")
      }, 1)
    }
  }
  function q(aG) {
    var aK = {}, aI, aH, aJ;
    for (aH = 0, aJ = aG.length; aH < aJ; aH++) {
      aI = aG[aH];
      aK[aI.value] = aI.text
    }
    return aK
  }
  function H(aK, aH, aG) {
    var aJ = aG && aG.length && Y(aG[0]) && "value" in aG[0],
      aI = aJ ? q(aG)[aK] : aK;
    aI = aI != null ? aI : "";
    return aH ? aa.format(aH, aI) : aI
  }
  function at(aH, aI, aL) {
    var aJ = 0,
      aK, aG = aH[aJ];
    while (aG) {
      aK = aL ? true : aG.style.display !== "none";
      if (aK && !ag.test(aG.className) && --aI < 0) {
        aG.style.display = aL ? "" : "none";
        break
      }
      aG = aH[++aJ]
    }
  }
  var M = aF.extend({
    init: function(aG, aH) {
      var aI = this;
      aH = T(aH) ? {
        dataSource: aH
      } : aH;
      aF.fn.init.call(aI, aG, aH);
      Z = aa.support.isRtl(aG);
      aI._element();
      aI._aria();
      aI._columns(aI.options.columns);
      aI._dataSource();
      aI._tbody();
      aI._pageable();
      aI._thead();
      aI._groupable();
      aI._toolbar();
      aI._setContentHeight();
      aI._templates();
      aI._navigatable();
      aI._selectable();
      aI._details();
      aI._editable();
      aI._attachCustomCommandsEvent();
      if (aI.options.autoBind) {
        aI.dataSource.fetch()
      } else {
        aI._footer()
      }
      aa.notify(aI)
    },
    events: [h, "dataBinding", "cancel", t, y, x, z, D, k, A, ao, al, ap, m, l, n, j],
    setDataSource: function(aG) {
      var aH = this;
      aH.options.dataSource = aG;
      aH._dataSource();
      aH._pageable();
      if (aH.options.groupable) {
        aH._groupable()
      }
      aH._thead();
      if (aH.virtualScrollable) {
        aH.virtualScrollable.setDataSource(aH.options.dataSource)
      }
      if (aH.options.autoBind) {
        aG.fetch()
      }
    },
    options: {
      name: "Grid",
      columns: [],
      toolbar: null,
      autoBind: true,
      filterable: false,
      scrollable: true,
      sortable: false,
      selectable: false,
      navigatable: false,
      pageable: false,
      editable: false,
      groupable: false,
      rowTemplate: "",
      altRowTemplate: "",
      dataSource: {},
      height: null,
      resizable: false,
      reorderable: false,
      columnMenu: false,
      detailTemplate: null,
      columnResizeHandleWidth: 3,
      mobile: ""
    },
    destroy: function() {
      var aH = this,
        aG;
      aF.fn.destroy.call(aH);
      if (aH.pager) {
        aH.pager.destroy()
      }
      if (aH.groupable) {
        aH.groupable.destroy()
      }
      if (aH.options.reorderable) {
        aH.wrapper.data("kendoReorderable").destroy()
      }
      if (aH.selectable) {
        aH.selectable.destroy()
      }
      if (aH.resizable) {
        aH.resizable.destroy();
        if (aH._resizeUserEvents) {
          if (aH._resizeHandleDocumentClickHandler) {
            a(document).off("click", aH._resizeHandleDocumentClickHandler)
          }
          aH._resizeUserEvents.destroy()
        }
      }
      if (aH.virtualScrollable) {
        aH.virtualScrollable.destroy()
      }
      aH._destroyColumnAttachments();
      aH._destroyEditable();
      aH.dataSource.unbind(h, aH._refreshHandler).unbind(aj, aH._progressHandler).unbind(B, aH._errorHandler);
      aG = aH.element.add(aH.wrapper).add(aH.table).add(aH.thead).add(aH.wrapper.find(">.k-grid-toolbar"));
      if (aH.content) {
        aG = aG.add(aH.content).add(aH.content.find(">.k-virtual-scrollable-wrap"))
      }
      if (aH.pane) {
        aH.pane.destroy()
      }
      aG.off(ai);
      aa.destroy(aH.wrapper)
    },
    setOptions: function(aG) {
      var aH = this;
      aF.fn.setOptions.call(this, aG);
      aH._templates()
    },
    items: function() {
      return this.tbody.children(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")
    },
    _destroyColumnAttachments: function() {
      var aG = this;
      aG.resizeHandle = null;
      aG.thead.find("th").each(function() {
        var aK = a(this),
          aI = aK.data("kendoFilterMenu"),
          aJ = aK.data("kendoSortable"),
          aH = aK.data("kendoColumnMenu");
        if (aI) {
          aI.destroy()
        }
        if (aJ) {
          aJ.destroy()
        }
        if (aH) {
          aH.destroy()
        }
      })
    },
    _attachCustomCommandsEvent: function() {
      var aK = this,
        aG = aK.columns || [],
        aH, aI, aJ;
      for (aI = 0, aJ = aG.length; aI < aJ; aI++) {
        aH = aG[aI].command;
        if (aH) {
          d(aK, aK.wrapper, aH)
        }
      }
    },
    _aria: function() {
      var aG = this.element.attr("id") || "aria";
      if (aG) {
        this._cellId = aG + "_active_cell"
      }
    },
    _element: function() {
      var aH = this,
        aG = aH.element;
      if (!aG.is("table")) {
        if (aH.options.scrollable) {
          aG = aH.element.find("> .k-grid-content > table")
        } else {
          aG = aH.element.children("table")
        }
        if (!aG.length) {
          aG = a("<table />").appendTo(aH.element)
        }
      }
      if (W) {
        aG.attr("cellspacing", 0)
      }
      aH.table = aG.attr("role", aH._hasDetails() ? "treegrid" : "grid");
      aH._wrapper()
    },
    _createResizeHandle: function(aG, aO) {
      var aP = this;
      var aK = aP.options.columnResizeHandleWidth;
      var aN = aP.options.scrollable;
      var aM = aP.resizeHandle;
      var aL;
      if (!aM) {
        aM = aP.resizeHandle = a('<div class="k-resize-handle"><div class="k-resize-handle-inner"></div></div>');
        aG.append(aM)
      }
      if (!Z) {
        aL = aO[0].offsetWidth;
        aO.prevAll(":visible").each(function() {
          aL += this.offsetWidth
        })
      } else {
        var aI = aO.closest(".k-grid-header-wrap"),
          aJ = e.msie ? aI.scrollLeft() : 0,
          aQ = e.webkit ? (aI[0].scrollWidth - aI[0].offsetWidth - aI.scrollLeft()) : 0,
          aH = e.mozilla ? (aI[0].scrollWidth - aI[0].offsetWidth - (aI[0].scrollWidth - aI[0].offsetWidth - aI.scrollLeft())) : 0;
        aL = aO.position().left - aQ + aH - aJ
      }
      aM.css({
        top: aN ? 0 : R(aP.wrapper),
        left: aL - aK,
        height: aO.outerHeight(),
        width: aK * 3
      }).data("th", aO).show()
    },
    _positionColumnResizeHandle: function(aG) {
      var aJ = this,
        aI = aJ.resizeHandle,
        aH = aJ.options.columnResizeHandleWidth;
      aJ.thead.on("mousemove" + ai, "th:not(.k-group-cell,.k-hierarchy-cell)", function(aL) {
        var aN = a(this),
          aK = aL.clientX,
          aO = a(window).scrollLeft(),
          aM = aN.offset().left + (!Z ? this.offsetWidth : 0);
        if (aK + aO > aM - aH && aK + aO < aM + aH) {
          aJ._createResizeHandle(aG, aN)
        } else {
          if (aI) {
            aI.hide()
          } else {
            r(aJ.wrapper, "")
          }
        }
      })
    },
    _resizeHandleDocumentClick: function(aG) {
      if (a(aG.target).closest(".k-column-active").length) {
        return
      }
      a(document).off(aG);
      this._hideResizeHandle()
    },
    _hideResizeHandle: function() {
      if (this.resizeHandle) {
        this.resizeHandle.data("th").removeClass("k-column-active");
        this.resizeHandle.hide()
      }
    },
    _positionColumnResizeHandleTouch: function(aG) {
      var aH = this;
      aH._resizeUserEvents = new aa.UserEvents(aH.thead, {
        filter: "th:not(.k-group-cell,.k-hierarchy-cell)",
        threshold: 10,
        hold: function(aI) {
          var aJ = a(aI.target);
          aI.preventDefault();
          aJ.addClass("k-column-active");
          aH._createResizeHandle(aG, aJ);
          if (!aH._resizeHandleDocumentClickHandler) {
            aH._resizeHandleDocumentClickHandler = ak(aH._resizeHandleDocumentClick, aH)
          }
          a(document).on("click", aH._resizeHandleDocumentClickHandler)
        }
      })
    },
    _resizable: function() {
      var aO = this,
        aM = aO.options,
        aJ, aH, aI, aK, aL = this._isMobile,
        aG, aN;
      if (aM.resizable) {
        aJ = aM.scrollable ? aO.wrapper.find(".k-grid-header-wrap:first") : aO.wrapper;
        if (aL) {
          aO._positionColumnResizeHandleTouch(aJ)
        } else {
          aO._positionColumnResizeHandle(aJ)
        }
        aO.resizable = new aA.Resizable(aJ, {
          handle: ".k-resize-handle",
          hint: function(aP) {
            return a('<div class="k-grid-resize-indicator" />').css({
              height: aP.data("th").outerHeight() + aO.tbody.attr("clientHeight")
            })
          },
          start: function(aQ) {
            aN = a(aQ.currentTarget).data("th");
            if (aL) {
              aO._hideResizeHandle()
            }
            var aS = a.inArray(aN[0], aN.parent().children(":visible")),
              aP = aO.tbody.parent(),
              aR = aO.footer || a();
            r(aO.wrapper, "col-resize");
            if (aM.scrollable) {
              aG = aO.thead.parent().find("col:eq(" + aS + ")").add(aP.children("colgroup").find("col:eq(" + aS + ")")).add(aR.find("colgroup").find("col:eq(" + aS + ")"))
            } else {
              aG = aP.children("colgroup").find("col:eq(" + aS + ")")
            }
            aH = aQ.x.location;
            aI = aN.outerWidth();
            aK = aO.tbody.outerWidth()
          },
          resize: function(aP) {
            var aR = Z ? -1 : 1,
              aS = aI + (aP.x.location * aR) - (aH * aR),
              aQ = aO.footer || a();
            if (aS > 10) {
              aG.css("width", aS);
              if (aM.scrollable && aK) {
                aO._footerWidth = aK + (aP.x.location * aR) - (aH * aR);
                aO.tbody.parent().add(aO.thead.parent()).add(aQ.find("table")).css("width", aO._footerWidth)
              }
            }
          },
          resizeend: function() {
            var aQ = aN.outerWidth(),
              aP;
            r(aO.wrapper, "");
            if (aI != aQ) {
              aP = aO.columns[aN.parent().find("th:not(.k-group-cell,.k-hierarchy-cell)").index(aN)];
              aP.width = aQ;
              aO.trigger(m, {
                column: aP,
                oldWidth: aI,
                newWidth: aQ
              })
            }
            aO._hideResizeHandle();
            aN = null
          }
        })
      }
    },
    _draggable: function() {
      var aG = this;
      if (aG.options.reorderable) {
        if (aG._draggableInstance) {
          aG._draggableInstance.destroy()
        }
        aG._draggableInstance = aG.wrapper.kendoDraggable({
          group: aa.guid(),
          filter: aG.content ? ".k-grid-header:first " + P : "table:first>.k-grid-header " + P,
          drag: function() {
            aG._hideResizeHandle()
          },
          hint: function(aH) {
            return a('<div class="k-header k-drag-clue" />').css({
              width: aH.width(),
              paddingLeft: aH.css("paddingLeft"),
              paddingRight: aH.css("paddingRight"),
              lineHeight: aH.height() + "px",
              paddingTop: aH.css("paddingTop"),
              paddingBottom: aH.css("paddingBottom")
            }).html(aH.attr(aa.attr("title")) || aH.attr(aa.attr("field")) || aH.text()).prepend('<span class="k-icon k-drag-status k-denied" />')
          }
        }).data("kendoDraggable")
      }
    },
    _reorderable: function() {
      var aG = this;
      if (aG.options.reorderable) {
        aG.wrapper.kendoReorderable({
          draggable: aG._draggableInstance,
          change: function(aI) {
            var aJ = S(aG.columns[aI.newIndex], aG.columns),
              aH = aG.columns[aI.oldIndex];
            aG.trigger(l, {
              newIndex: aJ,
              oldIndex: S(aH, aG.columns),
              column: aH
            });
            aG.reorderColumn(aJ, aH)
          }
        })
      }
    },
    reorderColumn: function(aJ, aI) {
      var aP = this,
        aO = S(aI, aP.columns),
        aH = S(aI, aD(aP.columns)),
        aG = S(aP.columns[aJ], aD(aP.columns)),
        aN, aL, aM, aK = aP.footer || aP.wrapper.find(".k-grid-footer");
      if (aO === aJ) {
        return
      }
      aP._hideResizeHandle();
      aP.columns.splice(aO, 1);
      aP.columns.splice(aJ, 0, aI);
      aP._templates();
      an(aP.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"), aH, aG);
      if (aP.options.scrollable) {
        an(aP.tbody.prev().find("col:not(.k-group-col,.k-hierarchy-col)"), aH, aG)
      }
      an(aP.thead.find(".k-header:not(.k-group-cell,.k-hierarchy-cell)"), aO, aJ);
      if (aK && aK.length) {
        an(aK.find(".k-grid-footer-wrap>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"), aH, aG);
        an(aK.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"), aO, aJ)
      }
      aN = aP.tbody.children(":not(.k-grouping-row,.k-detail-row)");
      for (aL = 0, aM = aN.length; aL < aM; aL += 1) {
        an(aN.eq(aL).find(">td:not(.k-group-cell,.k-hierarchy-cell)"), aO, aJ)
      }
    },
    cellIndex: function(aG) {
      return a(aG).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(aG)
    },
    _modelForContainer: function(aG) {
      aG = a(aG);
      if (!aG.is("tr") && this._editMode() !== "popup") {
        aG = aG.closest("tr")
      }
      var aH = aG.attr(aa.attr("uid"));
      return this.dataSource.getByUid(aH)
    },
    _editable: function() {
      var aK = this,
        aJ = aK.selectable && aK.selectable.options.multiple,
        aG = aK.options.editable,
        aH = function() {
          var aM = b(),
            aL = aK._editContainer;
          if (aL && !a.contains(aL[0], aM) && aL[0] !== aM && !a(aM).closest(".k-animation-container,.t-date-selector,.t-time-selector").length) {
            if (aK.editable.end()) {
              aK.closeCell()
            }
          }
        };
      if (aG) {
        var aI = aK._editMode();
        if (aI === "incell") {
          if (aG.update !== false) {
            aK.wrapper.on("dblclick" + ai, "tr:not(.k-grouping-row) > td", function(aL) {
              var aM = a(this);
              if (aM.hasClass("k-hierarchy-cell") || aM.hasClass("k-detail-cell") || aM.hasClass("k-group-cell") || aM.hasClass("k-edit-cell") || aM.has("a.k-grid-delete").length || aM.has("button.k-grid-delete").length || aM.closest("tbody")[0] !== aK.tbody[0] || a(aL.target).is(":input")) {
                return
              }
              if (aK.editable) {
                if (aK.editable.end()) {
                  if (aJ) {
                    a(b()).blur()
                  }
                  aK.closeCell();
                  aK.editCell(aM)
                }
              } else {
                aK.editCell(aM)
              }
            }).on("focusin" + ai, function() {
              clearTimeout(aK.timer);
              aK.timer = null
            }).on("focusout" + ai, function() {
              aK.timer = setTimeout(aH, 1)
            })
          }
        } else {
          if (aG.update !== false) {
            aK.wrapper.on(i + ai, "tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit", function(aL) {
              aL.preventDefault();
              aK.editRow(a(this).closest("tr"))
            })
          }
        }
        if (aG.destroy !== false) {
          aK.table.on(i + ai + " keydown" + ai, "a.k-grid-delete", function(aL) {
            if (aL.type == "keydown" && aL.keyCode != ab.ENTER) {
              return
            }
            aL.preventDefault();
            aL.stopPropagation();
            aK.removeRow(a(this).closest("tr"))
          })
        } else {
          aK.wrapper.on(i + ai, "tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete", function(aL) {
            aL.stopPropagation();
            if (!aK._confirmation()) {
              aL.preventDefault()
            }
          })
        }
      }
    },
    editCell: function(aG) {
      aG = a(aG);
      var aJ = this,
        aH = aJ.columns[aJ.cellIndex(aG)],
        aI = aJ._modelForContainer(aG);
      if (aI && (!aI.editable || aI.editable(aH.field)) && !aH.command && aH.field) {
        aJ._attachModelChange(aI);
        aJ._editContainer = aG;
        aJ.editable = aG.addClass("k-edit-cell").kendoEditable({
          fields: {
            field: aH.field,
            format: aH.format,
            editor: aH.editor,
            values: aH.values
          },
          model: aI,
          change: function(aK) {
            if (aJ.trigger(ao, {
              values: aK.values,
              container: aG,
              model: aI
            })) {
              aK.preventDefault()
            }
          }
        }).data("kendoEditable");
        aG.parent().addClass("k-grid-edit-row");
        aJ.trigger(A, {
          container: aG,
          model: aI
        })
      }
    },
    _destroyEditable: function() {
      var aH = this;
      var aG = function() {
        if (aH.editable) {
          aH._detachModelChange();
          aH.editable.destroy();
          aH.editable = null;
          aH._editContainer = null;
          aH._destroyEditView()
        }
      };
      if (aH.editable) {
        if (aH._editMode() === "popup" && !aH._isMobile) {
          aH._editContainer.data("kendoWindow").bind("deactivate", aG).close()
        } else {
          aG()
        }
      }
      if (aH._actionSheet) {
        aH._actionSheet.destroy();
        aH._actionSheet = null
      }
    },
    _destroyEditView: function() {
      if (this.editView) {
        this.editView.purge();
        this.editView = null;
        this.pane.navigate("")
      }
    },
    _attachModelChange: function(aG) {
      var aH = this;
      aH._modelChangeHandler = function(aI) {
        aH._modelChange({
          field: aI.field,
          model: this
        })
      };
      aG.bind("change", aH._modelChangeHandler)
    },
    _detachModelChange: function() {
      var aI = this,
        aG = aI._editContainer,
        aH = aI._modelForContainer(aG);
      if (aH) {
        aH.unbind(h, aI._modelChangeHandler)
      }
    },
    closeCell: function(aJ) {
      var aL = this,
        aG = aL._editContainer,
        aI, aH, aK;
      if (!aG) {
        return
      }
      aI = aG.closest("tr").attr(aa.attr("uid"));
      aK = aL.dataSource.getByUid(aI);
      if (aJ && aL.trigger("cancel", {
        container: aG,
        model: aK
      })) {
        return
      }
      aG.removeClass("k-edit-cell");
      aH = aL.columns[aL.cellIndex(aG)];
      aG.parent().removeClass("k-grid-edit-row");
      aL._destroyEditable();
      aL._displayCell(aG, aH, aK);
      if (aG.hasClass("k-dirty-cell")) {
        a('<span class="k-dirty"/>').prependTo(aG)
      }
    },
    _displayCell: function(aG, aH, aI) {
      var aL = this,
        aK = {
          storage: {},
          count: 0
        }, aJ = C({}, aa.Template, aL.options.templateSettings),
        aM = aa.template(aL._cellTmpl(aH, aK), aJ);
      if (aK.count > 0) {
        aM = ak(aM, aK.storage)
      }
      aG.empty().html(aM(aI))
    },
    removeRow: function(aG) {
      if (!this._confirmation(aG)) {
        return
      }
      this._removeRow(aG)
    },
    _removeRow: function(aI) {
      var aJ = this,
        aH, aG;
      aI = a(aI).hide();
      aH = aJ._modelForContainer(aI);
      if (aH && !aJ.trigger(al, {
        row: aI,
        model: aH
      })) {
        aG = aJ._editMode();
        if (aG !== "incell") {
          aJ.cancelRow()
        }
        aJ.dataSource.remove(aH);
        if (aG === "inline" || aG === "popup") {
          aJ.dataSource.sync()
        }
      }
    },
    _editMode: function() {
      var aH = "incell",
        aG = this.options.editable;
      if (aG !== true) {
        if (typeof aG == "string") {
          aH = aG
        } else {
          aH = aG.mode || aH
        }
      }
      return aH
    },
    editRow: function(aK) {
      var aI;
      var aL = this;
      if (aK instanceof aa.data.ObservableObject) {
        aI = aK
      } else {
        aK = a(aK);
        aI = aL._modelForContainer(aK)
      }
      var aH = aL._editMode();
      var aJ = aL.options.navigatable;
      var aG;
      aL.cancelRow();
      if (aI) {
        aL._attachModelChange(aI);
        if (aH === "popup") {
          aL._createPopupEditor(aI)
        } else {
          if (aH === "inline") {
            aL._createInlineEditor(aK, aI)
          } else {
            if (aH === "incell") {
              a(aK).children(s).each(function() {
                var aM = a(this);
                var aN = aL.columns[aM.index()];
                aI = aL._modelForContainer(aM);
                if (aI && (!aI.editable || aI.editable(aN.field)) && aN.field) {
                  aL.editCell(aM);
                  return false
                }
              })
            }
          }
        }
        aG = aL.editView ? aL.editView.element : aL._editContainer;
        aG.on(i + ai + " keydown" + ai, "a.k-grid-cancel", function(aN) {
          if (aN.type == "keydown" && aN.keyCode != ab.ENTER) {
            return
          }
          aN.preventDefault();
          aN.stopPropagation();
          if (aL.trigger("cancel", {
            container: aG,
            model: aI
          })) {
            return
          }
          var aM = aL.items().index(a(aL.current()).parent());
          aL.cancelRow();
          if (aJ) {
            aL.current(aL.items().eq(aM).children().filter(ae).first());
            G(aL.table, true)
          }
        });
        aG.on(i + ai, "a.k-grid-update", function(aM) {
          aM.preventDefault();
          aM.stopPropagation();
          aL.saveRow()
        })
      }
    },
    _createPopupEditor: function(aQ) {
      var aW = this,
        aN = "<div " + aa.attr("uid") + '="' + aQ.uid + '" class="k-popup-edit-form' + (aW._isMobile ? " k-mobile-list" : "") + '"><div class="k-edit-form-container">',
        aI, aJ, aM = [],
        aO, aP, aX, aY, aH, aU, aG, aL = aW.options.editable,
        aV = aL.template,
        aR = Y(aL) ? aL.window : {}, aS = C({}, aa.Template, aW.options.templateSettings);
      aR = aR || {};
      if (aV) {
        if (typeof aV === au) {
          aV = window.unescape(aV)
        }
        aN += (aa.template(aV, aS))(aQ);
        for (aO = 0, aP = aW.columns.length; aO < aP; aO++) {
          aI = aW.columns[aO];
          if (aI.command) {
            aU = K(aI.command, "edit");
            if (aU) {
              aJ = aU
            }
          }
        }
      } else {
        for (aO = 0, aP = aW.columns.length; aO < aP; aO++) {
          aI = aW.columns[aO];
          if (!aI.command) {
            aN += '<div class="k-edit-label"><label for="' + aI.field + '">' + (aI.title || aI.field || "") + "</label></div>";
            if ((!aQ.editable || aQ.editable(aI.field)) && aI.field) {
              aM.push({
                field: aI.field,
                format: aI.format,
                editor: aI.editor,
                values: aI.values
              });
              aN += "<div " + aa.attr("container-for") + '="' + aI.field + '" class="k-edit-field"></div>'
            } else {
              var aT = {
                storage: {},
                count: 0
              };
              aX = aa.template(aW._cellTmpl(aI, aT), aS);
              if (aT.count > 0) {
                aX = ak(aX, aT.storage)
              }
              aN += '<div class="k-edit-field">' + aX(aQ) + "</div>"
            }
          } else {
            if (aI.command) {
              aU = K(aI.command, "edit");
              if (aU) {
                aJ = aU
              }
            }
          }
        }
      }
      if (aJ) {
        if (Y(aJ)) {
          if (aJ.text && Y(aJ.text)) {
            aY = aJ.text.update;
            aH = aJ.text.cancel
          }
          if (aJ.attr) {
            aG = aJ.attr
          }
        }
      }
      var aK;
      if (!aW._isMobile) {
        aN += '<div class="k-edit-buttons k-state-default">';
        aN += aW._createButton({
          name: "update",
          text: aY,
          attr: aG
        }) + aW._createButton({
          name: "canceledit",
          text: aH,
          attr: aG
        });
        aN += "</div></div></div>";
        aK = aW._editContainer = a(aN).appendTo(aW.wrapper).eq(0).kendoWindow(C({
          modal: true,
          resizable: false,
          draggable: true,
          title: "Edit",
          visible: false,
          close: function(a0) {
            if (a0.userTriggered) {
              if (aW.trigger("cancel", {
                container: aK,
                model: aQ
              })) {
                a0.preventDefault();
                return
              }
              var aZ = aW.items().index(a(aW.current()).parent());
              aW.cancelRow();
              if (aW.options.navigatable) {
                aW.current(aW.items().eq(aZ).children().filter(ae).first());
                G(aW.table, true)
              }
            }
          }
        }, aR))
      } else {
        aN += "</div></div>";
        aW.editView = aW.pane.append("<div data-" + aa.ns + 'role="view" data-' + aa.ns + 'init-widgets="false" class="k-grid-edit-form"><div data-' + aa.ns + 'role="header" class="k-header">' + aW._createButton({
          name: "update",
          text: aY,
          attr: aG
        }) + (aR.title || "Edit") + aW._createButton({
          name: "canceledit",
          text: aH,
          attr: aG
        }) + "</div>" + aN + "</div>");
        aK = aW._editContainer = aW.editView.element.find(".k-popup-edit-form")
      }
      aW.editable = aW._editContainer.kendoEditable({
        fields: aM,
        model: aQ,
        clearContainer: false
      }).data("kendoEditable");
      if (aW._isMobile) {
        aK.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function() {
          a(this).next().children("input").click()
        })
      }
      aW._openPopUpEditor();
      aW.trigger(A, {
        container: aK,
        model: aQ
      })
    },
    _openPopUpEditor: function() {
      if (!this._isMobile) {
        this._editContainer.data("kendoWindow").center().open()
      } else {
        this.pane.navigate(this.editView, this._editAnimation)
      }
    },
    _createInlineEditor: function(aL, aK) {
      var aM = this,
        aH, aG, aI, aJ = [];
      aL.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function() {
        aG = a(this);
        aH = aM.columns[aM.cellIndex(aG)];
        if (!aH.command && aH.field && (!aK.editable || aK.editable(aH.field))) {
          aJ.push({
            field: aH.field,
            format: aH.format,
            editor: aH.editor,
            values: aH.values
          });
          aG.attr(aa.attr("container-for"), aH.field);
          aG.empty()
        } else {
          if (aH.command) {
            aI = K(aH.command, "edit");
            if (aI) {
              aG.empty();
              var aP, aO, aN;
              if (Y(aI)) {
                if (aI.text && Y(aI.text)) {
                  aP = aI.text.update;
                  aO = aI.text.cancel
                }
                if (aI.attr) {
                  aN = aI.attr
                }
              }
              a(aM._createButton({
                name: "update",
                text: aP,
                attr: aN
              }) + aM._createButton({
                name: "canceledit",
                text: aO,
                attr: aN
              })).appendTo(aG)
            }
          }
        }
      });
      aM._editContainer = aL;
      aM.editable = aL.addClass("k-grid-edit-row").kendoEditable({
        fields: aJ,
        model: aK,
        clearContainer: false
      }).data("kendoEditable");
      aM.trigger(A, {
        container: aL,
        model: aK
      })
    },
    cancelRow: function() {
      var aI = this,
        aG = aI._editContainer,
        aH;
      if (aG) {
        aH = aI._modelForContainer(aG);
        aI._destroyEditable();
        aI.dataSource.cancelChanges(aH);
        if (aI._editMode() !== "popup") {
          aI._displayRow(aG)
        } else {
          aI._displayRow(aI.items().filter("[" + aa.attr("uid") + "=" + aH.uid + "]"))
        }
      }
    },
    saveRow: function() {
      var aJ = this,
        aG = aJ._editContainer,
        aI = aJ._modelForContainer(aG),
        aH = aJ.editable;
      if (aG && aH && aH.end() && !aJ.trigger(ao, {
        container: aG,
        model: aI
      })) {
        aJ.dataSource.sync()
      }
    },
    _displayRow: function(aH) {
      var aI = this,
        aG = aI._modelForContainer(aH);
      if (aG) {
        aH.replaceWith(a((aH.hasClass("k-alt") ? aI.altRowTemplate : aI.rowTemplate)(aG)))
      }
    },
    _showMessage: function(aI, aJ) {
      var aL = this;
      if (!aL._isMobile) {
        return window.confirm(aI.title)
      }
      var aK = aa.template('<ul><li class="km-actionsheet-title">#:title#</li><li><a href="\\#" class="k-button k-grid-delete">#:confirmDelete#</a></li></ul>');
      var aH = a(aK(aI)).appendTo(aL.view.element);
      var aG = aL._actionSheet = new aa.mobile.ui.ActionSheet(aH, {
        cancel: aI.cancelDelete,
        cancelTemplate: '<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',
        close: function() {
          this.destroy()
        },
        command: function(aM) {
          var aN = a(aM.currentTarget).parent();
          if (!aN.hasClass("km-actionsheet-cancel")) {
            aL._removeRow(aJ)
          }
        },
        popup: aL._actionSheetPopupOptions
      });
      aG.open(aJ);
      return false
    },
    _confirmation: function(aI) {
      var aJ = this,
        aH = aJ.options.editable,
        aG = aH === true || typeof aH === au ? w : aH.confirmation;
      if (aG !== false && aG != null) {
        return aJ._showMessage({
          confirmDelete: aH.confirmDelete || p,
          cancelDelete: aH.cancelDelete || g,
          title: aG === true ? w : aG
        }, aI)
      }
      return true
    },
    cancelChanges: function() {
      this.dataSource.cancelChanges()
    },
    saveChanges: function() {
      var aG = this;
      if (((aG.editable && aG.editable.end()) || !aG.editable) && !aG.trigger(ap)) {
        aG.dataSource.sync()
      }
    },
    addRow: function() {
      var aP = this,
        aK, aI = aP.dataSource,
        aL = aP._editMode(),
        aH = aP.options.editable.createAt || "",
        aN = aI.pageSize(),
        aQ = aI.view() || [];
      if ((aP.editable && aP.editable.end()) || !aP.editable) {
        if (aL != "incell") {
          aP.cancelRow()
        }
        aK = aI.indexOf(aQ[0]);
        if (aH.toLowerCase() == "bottom") {
          aK += aQ.length;
          if (aN && !aI.options.serverPaging && aN <= aQ.length) {
            aK -= 1
          }
        }
        if (aK < 0) {
          if (aI.page() > aI.totalPages()) {
            aK = (aI.page() - 1) * aN
          } else {
            aK = 0
          }
        }
        var aM = aI.insert(aK, {}),
          aJ = aM.uid,
          aO = aP.table.find("tr[" + aa.attr("uid") + "='" + aJ + "']"),
          aG = aO.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(aP._firstEditableColumnIndex(aO));
        if (aL === "inline" && aO.length) {
          aP.editRow(aO)
        } else {
          if (aL === "popup") {
            aP.editRow(aM)
          } else {
            if (aG.length) {
              aP.editCell(aG)
            }
          }
        }
      }
    },
    _firstEditableColumnIndex: function(aI) {
      var aM = this,
        aG, aH = aM.columns,
        aJ, aK, aL = aM._modelForContainer(aI);
      for (aJ = 0, aK = aH.length; aJ < aK; aJ++) {
        aG = aH[aJ];
        if (aL && (!aL.editable || aL.editable(aG.field)) && !aG.command && aG.field) {
          return aJ
        }
      }
      return -1
    },
    _toolbar: function() {
      var aI = this,
        aK = aI.wrapper,
        aJ = aI.options.toolbar,
        aH = aI.options.editable,
        aG;
      if (aJ) {
        aG = aI.wrapper.find(".k-grid-toolbar");
        if (!aG.length) {
          if (!V(aJ)) {
            aJ = (typeof aJ === au ? aJ : aI._toolbarTmpl(aJ).replace(az, "\\#"));
            aJ = ak(aa.template(aJ), aI)
          }
          aG = a('<div class="k-toolbar k-grid-toolbar" />').html(aJ({})).prependTo(aK)
        }
        if (aH && aH.create !== false) {
          aG.on(i + ai, ".k-grid-add", function(aL) {
            aL.preventDefault();
            aI.addRow()
          }).on(i + ai, ".k-grid-cancel-changes", function(aL) {
            aL.preventDefault();
            aI.cancelChanges()
          }).on(i + ai, ".k-grid-save-changes", function(aL) {
            aL.preventDefault();
            aI.saveChanges()
          })
        }
      }
    },
    _toolbarTmpl: function(aG) {
      var aK = this,
        aI, aJ, aH = "";
      if (T(aG)) {
        for (aI = 0, aJ = aG.length; aI < aJ; aI++) {
          aH += aK._createButton(aG[aI])
        }
      }
      return aH
    },
    _createButton: function(aH) {
      var aK = aH.template || o,
        aI = typeof aH === au ? aH : aH.name || aH.text,
        aG = v[aI] ? v[aI].className : "k-grid-" + (aI || "").replace(/\s/g, ""),
        aJ = {
          className: aG,
          text: aI,
          imageClass: "",
          attr: "",
          iconClass: ""
        };
      if (!aI && !(Y(aH) && aH.template)) {
        throw new Error("Custom commands should have name specified")
      }
      if (Y(aH)) {
        if (aH.className) {
          aH.className += " " + aJ.className
        }
        if (aI === "edit" && Y(aH.text)) {
          aH = C(true, {}, aH);
          aH.text = aH.text.edit
        }
        if (aH.attr && Y(aH.attr)) {
          aH.attr = av(aH.attr)
        }
        aJ = C(true, aJ, v[aI], aH)
      } else {
        aJ = C(true, aJ, v[aI])
      }
      return aa.template(aK)(aJ)
    },
    _hasFooters: function() {
      var aG = this.columns,
        aI = aG.length,
        aH;
      for (aH = 0; aH < aI; aH++) {
        if (aG[aH].footerTemplate !== "" || aG[aH].groupFooterTemplate !== "") {
          return true
        }
      }
      return false
    },
    _groupable: function() {
      var aG = this;
      if (aG._groupableClickHandler) {
        aG.table.off(i + ai, aG._groupableClickHandler)
      } else {
        aG._groupableClickHandler = function(aH) {
          var aI = a(this),
            aJ = aI.closest("tr");
          if (aI.hasClass("k-i-collapse")) {
            aG.collapseGroup(aJ)
          } else {
            aG.expandGroup(aJ)
          }
          aH.preventDefault();
          aH.stopPropagation()
        }
      }
      aG.table.on(i + ai, ".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand", aG._groupableClickHandler);
      aG._attachGroupable()
    },
    _attachGroupable: function() {
      var aJ = this,
        aK = aJ.wrapper,
        aG = aJ.options.groupable,
        aH = P + ":visible[" + aa.attr("field") + "]",
        aI = P + "[" + aa.attr("field") + "]";
      if (aG) {
        if (!aK.has("div.k-grouping-header")[0]) {
          a("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(aK)
        }
        if (aJ.groupable) {
          aJ.groupable.destroy()
        }
        aJ.groupable = new N(aK, C({}, aG, {
          draggable: aJ._draggableInstance,
          groupContainer: ">div.k-grouping-header",
          dataSource: aJ.dataSource,
          draggableElements: aJ.content ? ".k-grid-header:first " + aH : "table:first>.k-grid-header " + aH,
          filter: aJ.content ? ".k-grid-header:first " + aI : "table:first>.k-grid-header " + aI,
          allowDrag: aJ.options.reorderable
        }))
      }
    },
    _selectable: function() {
      var aK = this,
        aH, aG, aI = [],
        aJ = aK.options.selectable;
      if (aJ) {
        aH = typeof aJ === au && aJ.toLowerCase().indexOf("multiple") > -1;
        aG = typeof aJ === au && aJ.toLowerCase().indexOf("cell") > -1;
        if (aK._hasDetails()) {
          aI[aI.length] = ".k-detail-row"
        }
        if (aK.options.groupable || aK._hasFooters()) {
          aI[aI.length] = ".k-grouping-row,.k-group-footer"
        }
        aI = aI.join(",");
        if (aI !== "") {
          aI = ":not(" + aI + ")"
        }
        aK.selectable = new aa.ui.Selectable(aK.table, {
          filter: ">" + (aG ? ar : "tbody>tr" + aI),
          aria: true,
          multiple: aH,
          change: function() {
            aK.trigger(h)
          }
        });
        if (aK.options.navigatable) {
          aK.table.on("keydown" + ai, function(aM) {
            var aL = aK.current();
            if (aM.keyCode === ab.SPACEBAR && aM.target == aK.table[0] && !aL.is(".k-edit-cell,.k-header") && aL.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")) {
              aM.preventDefault();
              aM.stopPropagation();
              aL = aG ? aL : aL.parent();
              if (aH) {
                if (!aM.ctrlKey) {
                  aK.selectable.clear()
                } else {
                  if (aL.hasClass(aq)) {
                    aL.removeClass(aq);
                    aK.trigger(h);
                    return
                  }
                }
              } else {
                aK.selectable.clear()
              }
              aK.selectable.value(aL)
            }
          })
        }
      }
    },
    clearSelection: function() {
      var aG = this;
      aG.selectable.clear();
      aG.trigger(h)
    },
    select: function(aG) {
      var aI = this,
        aH = aI.selectable;
      aG = a(aG);
      if (aG.length) {
        if (!aH.options.multiple) {
          aH.clear();
          aG = aG.first()
        }
        aH.value(aG);
        return
      }
      return aH.value()
    },
    current: function(aH) {
      var aK = this,
        aI = aK.options.scrollable,
        aG = aK._current,
        aJ = aK.table.add(aK.thead.parent());
      if (aH !== aB && aH.length) {
        if (!aG || aG[0] !== aH[0]) {
          if (aG) {
            aG.removeClass(F).removeAttr("id");
            aJ.removeAttr("aria-activedescendant")
          }
          aH.attr("id", aK._cellId);
          aK._current = aH.addClass(F);
          aJ.attr("aria-activedescendant", aK._cellId);
          if (aH.length && aI) {
            if (a.contains(aK.content[0], aH[0])) {
              aK._scrollTo(aH.parent()[0], aK.content[0])
            }
            if (aI.virtual) {
              aK._scrollTo(aH[0], aK.content.find(">.k-virtual-scrollable-wrap")[0])
            } else {
              aK._scrollTo(aH[0], aK.content[0])
            }
          }
        }
      }
      return aK._current
    },
    _removeCurrent: function() {
      if (this._current) {
        this._current.removeClass(F);
        this._current = null
      }
    },
    _scrollTo: function(aK, aH) {
      var aN = aK.tagName.toLowerCase(),
        aO = aN === "td" || aN === "th",
        aL = aK[aO ? "offsetLeft" : "offsetTop"],
        aM = aK[aO ? "offsetWidth" : "offsetHeight"],
        aJ = aH[aO ? "scrollLeft" : "scrollTop"],
        aI = aH[aO ? "clientWidth" : "clientHeight"],
        aG = aL + aM,
        aP = 0;
      if (aJ > aL) {
        aP = aL
      } else {
        if (aG > (aJ + aI)) {
          if (aM <= aI) {
            aP = (aG - aI)
          } else {
            aP = aL
          }
        } else {
          aP = aJ
        }
      }
      aH[aO ? "scrollLeft" : "scrollTop"] = aP
    },
    _navigatable: function() {
      var aL = this,
        aG = ak(aL.current, aL),
        aK = aL.table,
        aI = aL.thead.parent(),
        aH = aK,
        aJ = aa.support.isRtl(aL.element);
      if (!aL.options.navigatable) {
        return
      }
      if (aL.options.scrollable) {
        aH = aK.add(aI);
        aI.attr(aw, -1)
      }
      aI.on("keydown" + ai, function(aM) {
        if (aM.altKey && aM.keyCode == ab.DOWN) {
          aG().find(".k-grid-filter, .k-header-column-menu").click();
          aM.stopImmediatePropagation()
        }
      }).find("a.k-link").attr("tabIndex", -1);
      aK.attr(aw, ad.max(aK.attr(aw) || 0, 0)).on("mousedown" + ai + " keydown" + ai, ".k-detail-cell", function(aM) {
        if (aM.target !== aM.currentTarget) {
          aM.stopImmediatePropagation()
        }
      });
      aH.on((aa.support.touch ? "touchstart" + ai : "mousedown" + ai), af + ">" + ae, ak(ax, aL)).on("focus" + ai, function() {
        if (aa.support.touch) {
          return
        }
        var aM = aG();
        if (aM && aM.is(":visible")) {
          aM.addClass(F)
        } else {
          aG(a(this).find(E))
        }
        if (this == aK[0]) {
          aI.attr(aw, -1);
          aK.attr(aw, 0)
        } else {
          aK.attr(aw, -1);
          aI.attr(aw, 0)
        }
      }).on("focusout" + ai, function() {
        var aM = aG();
        if (aM) {
          aM.removeClass(F)
        }
      }).on("keydown" + ai, function(aT) {
        var aY = aT.keyCode,
          aV = false,
          aN = !aT.isDefaultPrevented() && !a(aT.target).is(":button,a,:input,a>.k-icon"),
          aZ = aL.options.pageable,
          aS = aL.dataSource,
          aX = aL._editMode() == "incell",
          aM, aR, a0, aW, a2, a1 = aT.shiftKey,
          aQ = aG();
        if (aQ && aQ.is("th")) {
          aN = true
        }
        if (aN && aY == ab.UP) {
          if (aQ) {
            a0 = aQ.parent().prevAll(af).first();
            if (!a0[0]) {
              a2 = aL.thead.parent();
              G(a2, true);
              a0 = a2.find(af).first()
            }
            aW = aQ.index();
            aQ = a0.children().eq(aW);
            if (!aQ[0] || !aQ.is(ae)) {
              aQ = a0.children(ae).first()
            }
          } else {
            aQ = aK.find(E)
          }
          aV = true;
          aG(aQ)
        } else {
          if (aN && aY == ab.DOWN) {
            if (aQ) {
              a0 = aQ.parent().nextAll(af).first();
              if (!a0[0] && aQ.is("th")) {
                G(aL.tbody.parent());
                a0 = aL.tbody.find(af).first()
              }
              aW = aQ.index();
              aQ = a0.children().eq(aW);
              if (!aQ[0] || !aQ.is(ae)) {
                aQ = a0.children(ae).first()
              }
            } else {
              aQ = aK.find(E)
            }
            aV = true;
            aG(aQ)
          } else {
            if (aN && aY == (aJ ? ab.RIGHT : ab.LEFT)) {
              aG(aQ ? aQ.prevAll(s + ":first") : aK.find(E));
              aV = true
            } else {
              if (aN && aY == (aJ ? ab.LEFT : ab.RIGHT)) {
                if (aQ) {
                  if (aQ.next()[0]) {
                    aQ = aQ.nextAll(s + ":first")
                  }
                } else {
                  aQ = aK.find(E)
                }
                aV = true;
                aG(aQ)
              } else {
                if (aN && aZ && ab.PAGEDOWN == aY) {
                  aS.page(aS.page() + 1);
                  aV = true
                } else {
                  if (aN && aZ && ab.PAGEUP == aY) {
                    aS.page(aS.page() - 1);
                    aV = true
                  } else {
                    if (aY == ab.ENTER || ab.F2 == aY) {
                      aQ = aQ ? aQ : aK.find(E);
                      if (aQ.is("th")) {
                        aQ.find(".k-link").click();
                        aV = true
                      } else {
                        if (aQ.parent().is(".k-master-row,.k-grouping-row")) {
                          aQ.parent().find(".k-icon:first").click();
                          aV = true
                        } else {
                          var aU = aQ.find(":kendoFocusable:first");
                          if (!aQ.hasClass("k-edit-cell") && aU[0] && aQ.hasClass("k-state-focused")) {
                            aU.focus();
                            aV = true
                          } else {
                            if (aL.options.editable && !a(aT.target).is(":button,.k-button,textarea")) {
                              var aP = a(aT.target).closest("[role=gridcell]");
                              if (!aP[0]) {
                                aP = aQ
                              }
                              aL._handleEditing(aP);
                              aV = true
                            }
                          }
                        }
                      }
                    } else {
                      if (ab.ESC == aY) {
                        aM = b();
                        if (aQ && a.contains(aQ[0], aM) && !aQ.hasClass("k-edit-cell") && !aQ.parent().hasClass("k-grid-edit-row")) {
                          G(aL.table[0], true);
                          aV = true
                        } else {
                          if (aL._editContainer && (!aQ || aL._editContainer.has(aQ[0]) || aQ[0] === aL._editContainer[0])) {
                            if (aX) {
                              aL.closeCell(true)
                            } else {
                              aR = aL.items().index(a(aQ).parent());
                              if (aM) {
                                aM.blur()
                              }
                              aL.cancelRow();
                              if (aR >= 0) {
                                aL.current(aL.items().eq(aR).children().filter(ae).first())
                              }
                            }
                            if (e.msie && e.version < 9) {
                              document.body.focus()
                            }
                            G(aK, true);
                            aV = true
                          }
                        }
                      } else {
                        if (ab.TAB == aY) {
                          var aO;
                          aQ = a(aQ);
                          if (aL.options.editable && aX) {
                            aO = a(b()).closest(".k-edit-cell");
                            if (aO[0] && aO[0] !== aQ[0]) {
                              aQ = aO
                            }
                          }
                          aO = a1 ? aQ.prevAll(s + ":first") : aQ.nextAll(":visible:first");
                          if (!aO.length) {
                            aO = aQ.parent()[a1 ? "prevAll" : "nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first").children(s + (a1 ? ":last" : ":first"))
                          }
                          if (!aQ.is("th") && aO.length && aL.options.editable && aX) {
                            aL._handleEditing(aQ, aO);
                            aV = true
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
        if (aV) {
          aT.preventDefault();
          aT.stopPropagation()
        }
      })
    },
    _handleEditing: function(aH, aN) {
      var aP = this,
        aG = a(b()),
        aM = aP._editMode(),
        aL = e.msie,
        aO = aL && e.version < 9,
        aI = aP._editContainer,
        aJ, aK;
      if (aM == "incell") {
        aK = aH.hasClass("k-edit-cell")
      } else {
        aK = aH.parent().hasClass("k-grid-edit-row")
      }
      if (aP.editable) {
        if (a.contains(aI[0], aG[0])) {
          if (e.opera || aO) {
            aG.change().triggerHandler("blur")
          } else {
            aG.blur();
            if (aL) {
              aG.blur()
            }
          }
        }
        if (!aP.editable) {
          G(aP.table);
          return
        }
        if (aP.editable.end()) {
          if (aM == "incell") {
            aP.closeCell()
          } else {
            aP.saveRow();
            aK = true
          }
        } else {
          if (aM == "incell") {
            aP.current(aI)
          } else {
            aP.current(aI.children().filter(s).first())
          }
          aJ = aI.find(":kendoFocusable:first")[0];
          if (aJ) {
            aJ.focus()
          }
          return
        }
      }
      if (aN) {
        aP.current(aN)
      }
      if (aO) {
        document.body.focus()
      }
      G(aP.table, true);
      if ((!aK && !aN) || aN) {
        if (aM == "incell") {
          aP.editCell(aP.current())
        } else {
          aP.editRow(aP.current().parent())
        }
      }
    },
    _wrapper: function() {
      var aI = this,
        aH = aI.table,
        aG = aI.options.height,
        aJ = aI.element;
      if (!aJ.is("div")) {
        aJ = aJ.wrap("<div/>").parent()
      }
      aI.wrapper = aJ.addClass("k-grid k-widget k-secondary");
      if (aG) {
        aI.wrapper.css(Q, aG);
        aH.css(Q, "auto")
      }
      aI._initMobile()
    },
    _initMobile: function() {
      var aH = this.options;
      this._isMobile = (aH.mobile === true && aa.support.mobileOS) || aH.mobile === "phone" || aH.mobile === "tablet";
      if (this._isMobile) {
        var aG = this.wrapper.addClass("k-grid-mobile").wrap("<div data-" + aa.ns + 'role="view" data-' + aa.ns + 'init-widgets="false"></div>').parent();
        this.pane = aa.mobile.ui.Pane.wrap(aG);
        this.view = this.pane.view();
        this._actionSheetPopupOptions = a(document.documentElement).hasClass("km-root") ? {
          modal: false
        } : {
          align: "bottom center",
          position: "bottom center",
          effect: "slideIn:up"
        };
        if (aH.height) {
          this.pane.element.parent().css(Q, aH.height)
        }
        this._editAnimation = "slide"
      }
    },
    _tbody: function() {
      var aI = this,
        aG = aI.table,
        aH;
      aH = aG.find(">tbody");
      if (!aH.length) {
        aH = a("<tbody/>").appendTo(aG)
      }
      aI.tbody = aH
    },
    _scrollable: function() {
      var aN = this,
        aI, aM, aJ = aN.options,
        aK = aJ.scrollable,
        aH = aK !== true && aK.virtual && !aN.virtualScrollable,
        aL = !aa.support.kineticScrollNeeded || aH ? aa.support.scrollbar() : 0;
      if (aK) {
        aI = aN.wrapper.children(".k-grid-header");
        if (!aI[0]) {
          aI = a('<div class="k-grid-header" />').insertBefore(aN.table)
        }
        aI.css((Z ? "padding-left" : "padding-right"), aK.virtual ? aL + 1 : aL);
        aM = a('<table role="grid" />');
        if (W) {
          aM.attr("cellspacing", 0)
        }
        aM.append(aN.thead);
        aI.empty().append(a('<div class="k-grid-header-wrap" />').append(aM));
        aN.content = aN.table.parent();
        if (aN.content.is(".k-virtual-scrollable-wrap")) {
          aN.content = aN.content.parent()
        }
        if (!aN.content.is(".k-grid-content, .k-virtual-scrollable-wrap")) {
          aN.content = aN.table.wrap('<div class="k-grid-content" />').parent()
        }
        if (aH) {
          aN.virtualScrollable = new aC(aN.content, {
            dataSource: aN.dataSource,
            itemHeight: ak(aN._averageRowHeight, aN)
          })
        }
        aN.scrollables = aI.children(".k-grid-header-wrap");
        var aG = aN.wrapper.find(".k-grid-footer"),
          aP = (Z && e.webkit) ? aL : 0;
        if (aG.length) {
          aN.scrollables = aN.scrollables.add(aG.children(".k-grid-footer-wrap"))
        }
        if (aK.virtual) {
          aN.content.find(">.k-virtual-scrollable-wrap").bind("scroll" + ai, function() {
            aN.scrollables.scrollLeft(this.scrollLeft + aP)
          })
        } else {
          aN.content.bind("scroll" + ai, function() {
            aN.scrollables.scrollLeft(this.scrollLeft + aP)
          });
          var aO = aa.touchScroller(aN.content);
          if (aO && aO.movable) {
            aO.movable.bind("change", function(aQ) {
              aN.scrollables.scrollLeft(-aQ.sender.x)
            })
          }
        }
      }
    },
    _setContentWidth: function() {
      var aK = this,
        aI = "k-grid-content-expander",
        aH = '<div class="' + aI + '"></div>',
        aJ = aK.resizable,
        aG;
      if (aK.options.scrollable) {
        aG = aK.table.parent().children("." + aI);
        aK._setContentWidthHandler = ak(aK._setContentWidth, aK);
        if (!aK.dataSource || !aK.dataSource.view().length) {
          if (!aG[0]) {
            aG = a(aH).appendTo(aK.table.parent());
            if (aJ) {
              aJ.bind("resize", aK._setContentWidthHandler)
            }
          }
          if (aK.thead) {
            aG.width(aK.thead.width())
          }
        } else {
          if (aG[0]) {
            aG.remove();
            if (aJ) {
              aJ.unbind("resize", aK._setContentWidthHandler)
            }
          }
        }
      }
    },
    _setContentHeight: function() {
      var aL = this,
        aJ = aL.options,
        aH = aL.wrapper.innerHeight(),
        aG = aL.wrapper.children(".k-grid-header"),
        aK = aa.support.scrollbar();
      if (aJ.scrollable) {
        aH -= aG.outerHeight();
        if (aL.pager) {
          aH -= aL.pager.element.outerHeight()
        }
        if (aJ.groupable) {
          aH -= aL.wrapper.children(".k-grouping-header").outerHeight()
        }
        if (aJ.toolbar) {
          aH -= aL.wrapper.children(".k-grid-toolbar").outerHeight()
        }
        if (aL.footerTemplate) {
          aH -= aL.wrapper.children(".k-grid-footer").outerHeight()
        }
        var aI = function(aM) {
          var aN, aO;
          if (aM[0].style.height) {
            return true
          } else {
            aN = aM.height()
          }
          aM.height("auto");
          aO = aM.height();
          if (aN != aO) {
            aM.height("");
            return true
          }
          aM.height("");
          return false
        };
        if (aI(aL.wrapper)) {
          if (aH > aK * 2) {
            aL.content.height(aH)
          } else {
            aL.content.height(aK * 2 + 1)
          }
        }
      }
    },
    _averageRowHeight: function() {
      var aI = this,
        aH = aI._rowHeight;
      if (!aI._rowHeight) {
        aI._rowHeight = aH = aI.table.outerHeight() / aI.items().length;
        aI._sum = aH;
        aI._measures = 1
      }
      var aG = aI.table.outerHeight() / aI.items().length;
      if (aH !== aG) {
        aI._measures++;
        aI._sum += aG;
        aI._rowHeight = aI._sum / aI._measures
      }
      return aH
    },
    _dataSource: function() {
      var aJ = this,
        aH = aJ.options,
        aI, aG = aH.dataSource;
      aG = T(aG) ? {
        data: aG
      } : aG;
      if (Y(aG)) {
        C(aG, {
          table: aJ.table,
          fields: aJ.columns
        });
        aI = aH.pageable;
        if (Y(aI) && aI.pageSize !== aB) {
          aG.pageSize = aI.pageSize
        }
      }
      if (aJ.dataSource && aJ._refreshHandler) {
        aJ.dataSource.unbind(h, aJ._refreshHandler).unbind(aj, aJ._progressHandler).unbind(B, aJ._errorHandler)
      } else {
        aJ._refreshHandler = ak(aJ.refresh, aJ);
        aJ._progressHandler = ak(aJ._requestStart, aJ);
        aJ._errorHandler = ak(aJ._error, aJ)
      }
      aJ.dataSource = u.create(aG).bind(h, aJ._refreshHandler).bind(aj, aJ._progressHandler).bind(B, aJ._errorHandler)
    },
    _error: function() {
      this._progress(false)
    },
    _requestStart: function() {
      this._progress(true)
    },
    _modelChange: function(aI) {
      var aO = this,
        aM = aI.model,
        aN = aO.tbody.find("tr[" + aa.attr("uid") + "='" + aM.uid + "']"),
        aG, aH, aK = aN.hasClass("k-alt"),
        aP, aJ = aO.items().index(aN),
        aL;
      if (aN.children(".k-edit-cell").length && !aO.options.rowTemplate) {
        aN.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function() {
          aG = a(this);
          aH = aO.columns[aO.cellIndex(aG)];
          if (aH.field === aI.field) {
            if (!aG.hasClass("k-edit-cell")) {
              aO._displayCell(aG, aH, aM);
              a('<span class="k-dirty"/>').prependTo(aG)
            } else {
              aG.addClass("k-dirty-cell")
            }
          }
        })
      } else {
        if (!aN.hasClass("k-grid-edit-row")) {
          aP = (aK ? aO.altRowTemplate : aO.rowTemplate)(aM);
          aN.replaceWith(aP);
          aP = aO.items().eq(aJ);
          for (aJ = 0, aL = aO.columns.length; aJ < aL; aJ++) {
            aH = aO.columns[aJ];
            if (aH.field === aI.field) {
              aG = aP.children(":not(.k-group-cell,.k-hierarchy-cell)").eq(aJ);
              a('<span class="k-dirty"/>').prependTo(aG)
            }
          }
          aO.trigger("itemChange", {
            item: aP,
            data: aM,
            ns: aA
          })
        }
      }
    },
    _pageable: function() {
      var aH = this,
        aI, aG = aH.options.pageable;
      if (aG) {
        aI = aH.wrapper.children("div.k-grid-pager");
        if (!aI.length) {
          aI = a('<div class="k-pager-wrap k-grid-pager"/>').appendTo(aH.wrapper)
        }
        if (aH.pager) {
          aH.pager.destroy()
        }
        if (typeof aG === "object" && aG instanceof aa.ui.Pager) {
          aH.pager = aG
        } else {
          aH.pager = new aa.ui.Pager(aI, C({}, aG, {
            dataSource: aH.dataSource
          }))
        }
      }
    },
    _footer: function() {
      var aM = this,
        aG = aM.dataSource.aggregates(),
        aK = "",
        aI = aM.footerTemplate,
        aL = aM.options,
        aJ, aH = aM.footer || aM.wrapper.find(".k-grid-footer");
      if (aI) {
        aG = !U(aG) ? aG : f(aM.dataSource.aggregate());
        aK = a(aM._wrapFooter(aI(aG)));
        if (aH.length) {
          var aN = aK;
          aH.replaceWith(aN);
          aH = aM.footer = aN
        } else {
          if (aL.scrollable) {
            aH = aM.footer = aL.pageable ? aK.insertBefore(aM.wrapper.children("div.k-grid-pager")) : aK.appendTo(aM.wrapper)
          } else {
            aH = aM.footer = aK.insertBefore(aM.tbody)
          }
        }
      } else {
        if (aH && !aM.footer) {
          aM.footer = aH
        }
      }
      if (aH.length) {
        if (aL.scrollable) {
          aJ = aH.attr("tabindex", -1).children(".k-grid-footer-wrap");
          aM.scrollables = aM.scrollables.not(".k-grid-footer-wrap").add(aJ)
        }
        if (aM._footerWidth) {
          aH.find("table").css("width", aM._footerWidth)
        }
        if (aJ) {
          aJ.scrollLeft(aM.content.scrollLeft())
        }
      }
    },
    _wrapFooter: function(aG) {
      var aJ = this,
        aH = "",
        aI = !aa.support.mobileOS ? aa.support.scrollbar() : 0;
      if (aJ.options.scrollable) {
        aH = a('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table' + (W ? ' cellspacing="0"' : "") + "><tbody>" + aG + "</tbody></table></div></div>");
        aJ._appendCols(aH.find("table"));
        aH.css((Z ? "padding-left" : "padding-right"), aI);
        return aH
      }
      return '<tfoot class="k-grid-footer">' + aG + "</tfoot>"
    },
    _columnMenu: function() {
      var aS = this,
        aO, aK = aS.columns,
        aI, aQ = aS.options,
        aJ = aQ.columnMenu,
        aP, aR, aL, aN = this._isMobile,
        aH = function() {
          G(aS.thead.parent(), true)
        }, aM = function(aT) {
          aS.trigger(k, {
            field: aT.field,
            container: aT.container
          })
        }, aG;
      if (aJ) {
        if (typeof aJ == "boolean") {
          aJ = {}
        }
        aS.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(aT) {
          aI = aK[aT];
          aG = a(this);
          if (!aI.command && (aI.field || aG.attr("data-" + aa.ns + "field"))) {
            aO = aG.data("kendoColumnMenu");
            if (aO) {
              aO.destroy()
            }
            aR = aI.sortable !== false && aJ.sortable !== false ? aQ.sortable : false;
            aL = aQ.filterable && aI.filterable !== false && aJ.filterable !== false ? C({}, aI.filterable, aQ.filterable) : false;
            aP = {
              dataSource: aS.dataSource,
              values: aI.values,
              columns: aJ.columns,
              sortable: aR,
              filterable: aL,
              messages: aJ.messages,
              owner: aS,
              closeCallback: aH,
              init: aM,
              filter: aN ? ":not(.k-column-active)" : ""
            };
            aG.kendoColumnMenu(aP)
          }
        })
      }
    },
    _filterable: function() {
      var aL = this,
        aI = aL.columns,
        aG, aK, aH = function() {
          G(aL.thead.parent(), true)
        }, aJ = aL.options.filterable;
      if (aJ && !aL.options.columnMenu) {
        aL.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(aN) {
          aG = a(this);
          if (aI[aN].filterable !== false && !aI[aN].command && (aI[aN].field || aG.attr("data-" + aa.ns + "field"))) {
            aK = aG.data("kendoFilterMenu");
            if (aK) {
              aK.destroy()
            }
            var aM = aI[aN].filterable;
            var aO = C({}, aJ, aM, {
              dataSource: aL.dataSource,
              values: aI[aN].values,
              closeCallback: aH,
              init: function(aP) {
                aL.trigger(D, {
                  field: aP.field,
                  container: aP.container
                })
              }
            });
            if (aM && aM.messages) {
              aO.messages = C(true, {}, aJ.messages, aM.messages)
            }
            aG.kendoFilterMenu(aO)
          }
        })
      }
    },
    _sortable: function() {
      var aL = this,
        aI = aL.columns,
        aH, aG, aK, aJ = aL.options.sortable;
      if (aJ) {
        aL.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(aM) {
          aH = aI[aM];
          if (aH.sortable !== false && !aH.command && aH.field) {
            aG = a(this);
            aK = aG.data("kendoSortable");
            if (aK) {
              aK.destroy()
            }
            aG.attr("data-" + aa.ns + "field", aH.field).kendoSortable(C({}, aJ, aH.sortable, {
              dataSource: aL.dataSource,
              aria: true,
              filter: ":not(.k-column-active)"
            }))
          }
        })
      }
    },
    _columns: function(aH) {
      var aL = this,
        aK = aL.table,
        aJ, aG = aK.find("col"),
        aI = aL.options.dataSource;
      aH = aH.length ? aH : ac(aK.find("th"), function(aS, aP) {
        aS = a(aS);
        var aR = aS.attr(aa.attr("sortable")),
          aN = aS.attr(aa.attr("filterable")),
          aT = aS.attr(aa.attr("type")),
          aO = aS.attr(aa.attr("groupable")),
          aM = aS.attr(aa.attr("field")),
          aQ = aS.attr(aa.attr("menu"));
        if (!aM) {
          aM = aS.text().replace(/\s|[^A-z0-9]/g, "")
        }
        return {
          field: aM,
          type: aT,
          sortable: aR !== "false",
          filterable: aN !== "false",
          groupable: aO !== "false",
          menu: aQ,
          template: aS.attr(aa.attr("template")),
          width: aG.eq(aP).css("width")
        }
      });
      aJ = !(aL.table.find("tbody tr").length > 0 && (!aI || !aI.transport));
      aL.columns = ac(aH, function(aM) {
        aM = typeof aM === au ? {
          field: aM
        } : aM;
        if (aM.hidden) {
          aM.attributes = c(aM.attributes);
          aM.footerAttributes = c(aM.footerAttributes);
          aM.headerAttributes = c(aM.headerAttributes)
        }
        return C({
          encoded: aJ
        }, aM)
      })
    },
    _groups: function() {
      var aG = this.dataSource.group();
      return aG ? aG.length : 0
    },
    _tmpl: function(aN, aG) {
      var aR = this,
        aO = C({}, aa.Template, aR.options.templateSettings),
        aL, aM = aR.columns.length,
        aQ, aP = {
          storage: {},
          count: 0
        }, aI, aS, aK = aR._hasDetails(),
        aH = [],
        aJ = aR._groups();
      if (!aN) {
        aN = "<tr";
        if (aG) {
          aH.push("k-alt")
        }
        if (aK) {
          aH.push("k-master-row")
        }
        if (aH.length) {
          aN += ' class="' + aH.join(" ") + '"'
        }
        if (aM) {
          aN += " " + aa.attr("uid") + '="#=' + aa.expr("uid", aO.paramName) + '#"'
        }
        aN += " role='row'>";
        if (aJ > 0) {
          aN += O(aJ)
        }
        if (aK) {
          aN += '<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'
        }
        for (aL = 0; aL < aM; aL++) {
          aI = aR.columns[aL];
          aQ = aI.template;
          aS = typeof aQ;
          aN += "<td" + av(aI.attributes) + " role='gridcell'>";
          aN += aR._cellTmpl(aI, aP);
          aN += "</td>"
        }
        aN += "</tr>"
      }
      aN = aa.template(aN, aO);
      if (aP.count > 0) {
        return ak(aN, aP.storage)
      }
      return aN
    },
    _headerCellText: function(aG) {
      var aK = this,
        aH = C({}, aa.Template, aK.options.templateSettings),
        aI = aG.headerTemplate,
        aL = typeof(aI),
        aJ = aG.title || aG.field || "";
      if (aL === J) {
        aJ = aa.template(aI, aH)({})
      } else {
        if (aL === au) {
          aJ = aI
        }
      }
      return aJ
    },
    _cellTmpl: function(aG, aP) {
      var aR = this,
        aO = C({}, aa.Template, aR.options.templateSettings),
        aQ = aG.template,
        aN = aO.paramName,
        aI = aG.field,
        aK = "",
        aL, aM, aJ = aG.format,
        aS = typeof aQ,
        aH = aG.values;
      if (aG.command) {
        if (T(aG.command)) {
          for (aL = 0, aM = aG.command.length; aL < aM; aL++) {
            aK += aR._createButton(aG.command[aL])
          }
          return aK.replace(az, "\\#")
        }
        return aR._createButton(aG.command).replace(az, "\\#")
      }
      if (aS === J) {
        aP.storage["tmpl" + aP.count] = aQ;
        aK += "#=this.tmpl" + aP.count + "(" + aN + ")#";
        aP.count++
      } else {
        if (aS === au) {
          aK += aQ
        } else {
          if (aH && aH.length && Y(aH[0]) && "value" in aH[0] && aI) {
            aK += "#var v =" + aa.stringify(q(aH)) + "#";
            aK += "#var f = v[";
            if (!aO.useWithBlock) {
              aK += aN + "."
            }
            aK += aI + "]#";
            aK += "${f != null ? f : ''}"
          } else {
            aK += aG.encoded ? "#:" : "#=";
            if (aJ) {
              aK += 'kendo.format("' + aJ.replace(I, "\\$1") + '",'
            }
            if (aI) {
              aI = aa.expr(aI, aN);
              aK += aI + "==null?'':" + aI
            } else {
              aK += "''"
            }
            if (aJ) {
              aK += ")"
            }
            aK += "#"
          }
        }
      }
      return aK
    },
    _templates: function() {
      var aL = this,
        aK = aL.options,
        aH = aL.dataSource,
        aJ = aH.group(),
        aI = aL.footer || aL.wrapper.find(".k-grid-footer"),
        aG = aH.aggregate();
      aL.rowTemplate = aL._tmpl(aK.rowTemplate);
      aL.altRowTemplate = aL._tmpl(aK.altRowTemplate || aK.rowTemplate, true);
      if (aL._hasDetails()) {
        aL.detailTemplate = aL._detailTmpl(aK.detailTemplate || "")
      }
      if ((aL._group && !U(aG)) || (!U(aG) && !aI.length) || L(aL.columns, function(aM) {
        return aM.footerTemplate
      }).length) {
        aL.footerTemplate = aL._footerTmpl(aG, "footerTemplate", "k-footer-template")
      }
      if (aJ && L(aL.columns, function(aM) {
        return aM.groupFooterTemplate
      }).length) {
        aG = a.map(aJ, function(aM) {
          return aM.aggregates
        });
        aL.groupFooterTemplate = aL._footerTmpl(aG, "groupFooterTemplate", "k-group-footer")
      }
    },
    _footerTmpl: function(aG, aV, aQ) {
      var aW = this,
        aS = C({}, aa.Template, aW.options.templateSettings),
        aP = aS.paramName,
        aM = "",
        aN, aO, aI = aW.columns,
        aU, aX, aT = {}, aJ = 0,
        aR = {}, aL = aW._groups(),
        aK = f(aG),
        aH;
      aM += '<tr class="' + aQ + '">';
      if (aL > 0) {
        aM += O(aL)
      }
      if (aW._hasDetails()) {
        aM += '<td class="k-hierarchy-cell">&nbsp;</td>'
      }
      for (aN = 0, aO = aW.columns.length; aN < aO; aN++) {
        aH = aI[aN];
        aU = aH[aV];
        aX = typeof aU;
        aM += "<td" + av(aH.footerAttributes) + ">";
        if (aU) {
          if (aX !== J) {
            aR = aK[aH.field] ? C({}, aS, {
              paramName: aP + "." + aH.field
            }) : {};
            aU = aa.template(aU, aR)
          }
          aT["tmpl" + aJ] = aU;
          aM += "#=this.tmpl" + aJ + "(" + aP + ")#";
          aJ++
        } else {
          aM += "&nbsp;"
        }
        aM += "</td>"
      }
      aM += "</tr>";
      aM = aa.template(aM, aS);
      if (aJ > 0) {
        return ak(aM, aT)
      }
      return aM
    },
    _detailTmpl: function(aL) {
      var aO = this,
        aI = "",
        aK = C({}, aa.Template, aO.options.templateSettings),
        aJ = aK.paramName,
        aN = {}, aM = 0,
        aH = aO._groups(),
        aG = aD(aO.columns).length,
        aP = typeof aL;
      aI += '<tr class="k-detail-row">';
      if (aH > 0) {
        aI += O(aH)
      }
      aI += '<td class="k-hierarchy-cell"></td><td class="k-detail-cell"' + (aG ? ' colspan="' + aG + '"' : "") + ">";
      if (aP === J) {
        aN["tmpl" + aM] = aL;
        aI += "#=this.tmpl" + aM + "(" + aJ + ")#";
        aM++
      } else {
        aI += aL
      }
      aI += "</td></tr>";
      aI = aa.template(aI, aK);
      if (aM > 0) {
        return ak(aI, aN)
      }
      return aI
    },
    _hasDetails: function() {
      var aG = this;
      return aG.options.detailTemplate !== null || (aG._events[z] || []).length
    },
    _details: function() {
      var aG = this;
      aG.table.on(i + ai, ".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus", function(aL) {
        var aH = a(this),
          aM = aH.hasClass("k-plus"),
          aO = aH.closest("tr.k-master-row"),
          aJ, aK = aG.detailTemplate,
          aI, aN = aG._hasDetails();
        aH.toggleClass("k-plus", !aM).toggleClass("k-minus", aM);
        if (aN && !aO.next().hasClass("k-detail-row")) {
          aI = aG.dataItem(aO);
          a(aK(aI)).addClass(aO.hasClass("k-alt") ? "k-alt" : "").insertAfter(aO);
          aG.trigger(z, {
            masterRow: aO,
            detailRow: aO.next(),
            data: aI,
            detailCell: aO.next().find(".k-detail-cell")
          })
        }
        aJ = aO.next();
        aG.trigger(aM ? y : x, {
          masterRow: aO,
          detailRow: aJ
        });
        aJ.toggle(aM);
        if (aG._current) {
          aG._current.attr("aria-expanded", aM)
        }
        aL.preventDefault();
        return false
      })
    },
    dataItem: function(aL) {
      aL = a(aL)[0];
      if (!aL) {
        return null
      }
      var aK = this.tbody.children(),
        aG = /k-grouping-row|k-detail-row|k-group-footer/,
        aI = aL.sectionRowIndex,
        aJ, aH;
      aH = aI;
      for (aJ = 0; aJ < aI; aJ++) {
        if (aG.test(aK[aJ].className)) {
          aH--
        }
      }
      return this._data[aH]
    },
    expandRow: function(aG) {
      a(aG).find("> td .k-plus, > td .k-i-expand").click()
    },
    collapseRow: function(aG) {
      a(aG).find("> td .k-minus, > td .k-i-collapse").click()
    },
    _thead: function() {
      var aN = this,
        aG = aN.columns,
        aH = aN._hasDetails() && aG.length,
        aJ, aK, aI = "",
        aO = aN.table.find(">thead"),
        aP, aL, aM;
      if (!aO.length) {
        aO = a("<thead/>").insertBefore(aN.tbody)
      }
      aP = aN.element.find("tr:has(th):first");
      if (!aP.length) {
        aP = aO.children().first();
        if (!aP.length) {
          aP = a("<tr/>")
        }
      }
      if (!aP.children().length) {
        if (aH) {
          aI += '<th class="k-hierarchy-cell">&nbsp;</th>'
        }
        for (aJ = 0, aK = aG.length; aJ < aK; aJ++) {
          aM = aG[aJ];
          aL = aN._headerCellText(aM);
          if (!aM.command) {
            aI += "<th role='columnheader' " + aa.attr("field") + "='" + (aM.field || "") + "' ";
            if (aM.title) {
              aI += aa.attr("title") + '="' + aM.title.replace(/'/g, "'") + '" '
            }
            if (aM.groupable !== aB) {
              aI += aa.attr("groupable") + "='" + aM.groupable + "' "
            }
            if (aM.aggregates) {
              aI += aa.attr("aggregates") + "='" + aM.aggregates + "'"
            }
            aI += av(aM.headerAttributes);
            aI += ">" + aL + "</th>"
          } else {
            aI += "<th" + av(aM.headerAttributes) + ">" + aL + "</th>"
          }
        }
        aP.html(aI)
      } else {
        if (aH && !aP.find(".k-hierarchy-cell")[0]) {
          aP.prepend('<th class="k-hierarchy-cell">&nbsp;</th>')
        }
      }
      aP.find("th").addClass("k-header");
      if (!aN.options.scrollable) {
        aO.addClass("k-grid-header")
      }
      aP.find("script").remove().end().appendTo(aO);
      if (aN.thead) {
        aN._destroyColumnAttachments()
      }
      aN.thead = aO;
      aN._sortable();
      aN._filterable();
      aN._scrollable();
      aN._updateCols();
      aN._resizable();
      aN._draggable();
      aN._reorderable();
      if (aN.groupable) {
        aN._attachGroupable()
      }
      aN._columnMenu()
    },
    _updateCols: function() {
      var aG = this;
      aG._appendCols(aG.thead.parent().add(aG.table))
    },
    _appendCols: function(aG) {
      var aH = this;
      ah(aG, aD(aH.columns), aH._hasDetails(), aH._groups())
    },
    _autoColumns: function(aH) {
      if (aH && aH.toJSON) {
        var aI = this,
          aG;
        aH = aH.toJSON();
        for (aG in aH) {
          aI.columns.push({
            field: aG
          })
        }
        aI._thead();
        aI._templates()
      }
    },
    _rowsHtml: function(aH) {
      var aM = this,
        aI = "",
        aJ, aK, aL = aM.rowTemplate,
        aG = aM.altRowTemplate;
      for (aJ = 0, aK = aH.length; aJ < aK; aJ++) {
        if (aJ % 2) {
          aI += aG(aH[aJ])
        } else {
          aI += aL(aH[aJ])
        }
        aM._data.push(aH[aJ])
      }
      return aI
    },
    _groupRowHtml: function(aL, aG, aQ) {
      var aT = this,
        aN = "",
        aO, aP, aJ = aL.field,
        aH = L(aT.columns, function(aU) {
          return aU.field == aJ
        })[0] || {}, aR = aH.groupHeaderTemplate,
        aS = (aH.title || aJ) + ": " + H(aL.value, aH.format, aH.values),
        aI = C({}, {
          field: aL.field,
          value: aL.value
        }, aL.aggregates[aL.field]),
        aK = aT._groupAggregatesDefaultObject || {}, aM = aL.items;
      if (aR) {
        aS = typeof aR === J ? aR(aI) : aa.template(aR)(aI)
      }
      aN += '<tr class="k-grouping-row">' + O(aQ) + '<td colspan="' + aG + '" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>' + aS + "</p></td></tr>";
      if (aL.hasSubgroups) {
        for (aO = 0, aP = aM.length; aO < aP; aO++) {
          aN += aT._groupRowHtml(aM[aO], aG - 1, aQ + 1)
        }
      } else {
        aN += aT._rowsHtml(aM)
      }
      if (aT.groupFooterTemplate) {
        aN += aT.groupFooterTemplate(C(aK, aL.aggregates))
      }
      return aN
    },
    collapseGroup: function(aH) {
      aH = a(aH).find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse").end();
      var aI = aH.find(".k-group-cell").length,
        aG = 1,
        aJ, aK;
      aH.find("td:first").attr("aria-expanded", false);
      aH.nextAll("tr").each(function() {
        aK = a(this);
        aJ = aK.find(".k-group-cell").length;
        if (aK.hasClass("k-grouping-row")) {
          aG++
        } else {
          if (aK.hasClass("k-group-footer")) {
            aG--
          }
        }
        if (aJ <= aI || (aK.hasClass("k-group-footer") && aG < 0)) {
          return false
        }
        aK.hide()
      })
    },
    expandGroup: function(aG) {
      aG = a(aG).find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand").end();
      var aK = this,
        aI = aG.find(".k-group-cell").length,
        aL, aJ, aH = 1;
      aG.find("td:first").attr("aria-expanded", true);
      aG.nextAll("tr").each(function() {
        aL = a(this);
        aJ = aL.find(".k-group-cell").length;
        if (aJ <= aI) {
          return false
        }
        if (aJ == aI + 1 && !aL.hasClass("k-detail-row")) {
          aL.show();
          if (aL.hasClass("k-grouping-row") && aL.find(".k-icon").hasClass("k-i-collapse")) {
            aK.expandGroup(aL)
          }
          if (aL.hasClass("k-master-row") && aL.find(".k-icon").hasClass("k-minus")) {
            aL.next().show()
          }
        }
        if (aL.hasClass("k-grouping-row")) {
          aH++
        }
        if (aL.hasClass("k-group-footer")) {
          if (aH == 1) {
            aL.show()
          } else {
            aH--
          }
        }
      })
    },
    _updateHeader: function(aH) {
      var aJ = this,
        aG = aJ.thead.find("th.k-group-cell"),
        aI = aG.length;
      if (aH > aI) {
        a(new Array(aH - aI + 1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(aJ.thead.find("tr"))
      } else {
        if (aH < aI) {
          aI = aI - aH;
          a(L(aG, function(aL, aK) {
            return aI > aK
          })).remove()
        }
      }
    },
    _firstDataItem: function(aG, aH) {
      if (aG && aH) {
        if (aG.hasSubgroups) {
          aG = this._firstDataItem(aG.items[0], aH)
        } else {
          aG = aG.items[0]
        }
      }
      return aG
    },
    hideColumn: function(aI) {
      var aS = this,
        aQ, aP, aG, aR, aN, aH, aL, aT = 0,
        aO, aM = aS.footer || aS.wrapper.find(".k-grid-footer"),
        aK = aS.columns,
        aJ;
      if (typeof aI == "number") {
        aI = aK[aI]
      } else {
        aI = L(aK, function(aU) {
          return aU.field === aI
        })[0]
      }
      if (!aI || aI.hidden) {
        return
      }
      aJ = S(aI, aD(aK));
      aI.hidden = true;
      aI.attributes = c(aI.attributes);
      aI.footerAttributes = c(aI.footerAttributes);
      aI.headerAttributes = c(aI.headerAttributes);
      aS._templates();
      aS._updateCols();
      at(aS.thead.find(">tr")[0].cells, aJ, false);
      if (aM[0]) {
        aS._appendCols(aM.find("table:first"));
        at(aM.find(".k-footer-template")[0].cells, aJ, false)
      }
      aQ = aS.tbody.children();
      for (aN = 0, aO = aQ.length; aN < aO; aN += 1) {
        aP = aQ.eq(aN);
        if (aP.is(".k-grouping-row,.k-detail-row")) {
          aG = aP.children(":not(.k-group-cell):first,.k-detail-cell").last();
          aG.attr("colspan", parseInt(aG.attr("colspan"), 10) - 1)
        } else {
          if (aP.hasClass("k-grid-edit-row") && (aG = aP.children(".k-edit-container")[0])) {
            aG = a(aG);
            aG.attr("colspan", parseInt(aG.attr("colspan"), 10) - 1);
            aG.find("col").eq(aJ).remove();
            aP = aG.find("tr:first")
          }
          at(aP[0].cells, aJ, false)
        }
      }
      aH = aS.thead.prev().find("col");
      for (aN = 0, aO = aH.length; aN < aO; aN += 1) {
        aL = aH[aN].style.width;
        if (aL && aL.indexOf("%") == -1) {
          aT += parseInt(aL, 10)
        } else {
          aT = 0;
          break
        }
      }
      aR = a(">.k-grid-header table:first,>.k-grid-footer table:first", aS.wrapper).add(aS.table);
      aS._footerWidth = null;
      if (aT) {
        aR.width(aT);
        aS._footerWidth = aT
      }
      if (e.msie && e.version == 8) {
        aR.css("display", "inline-table");
        setTimeout(function() {
          aR.css("display", "table")
        }, 1)
      }
      aS.trigger(j, {
        column: aI
      })
    },
    showColumn: function(aI) {
      var aS = this,
        aQ, aN, aO, aP, aG, aR, aT, aL, aH, aK = aS.columns,
        aM = aS.footer || aS.wrapper.find(".k-grid-footer"),
        aJ;
      if (typeof aI == "number") {
        aI = aK[aI]
      } else {
        aI = L(aK, function(aU) {
          return aU.field === aI
        })[0]
      }
      if (!aI || !aI.hidden) {
        return
      }
      aJ = S(aI, aK);
      aI.hidden = false;
      aI.attributes = am(aI.attributes);
      aI.footerAttributes = am(aI.footerAttributes);
      aI.headerAttributes = am(aI.headerAttributes);
      aS._templates();
      aS._updateCols();
      at(aS.thead.find(">tr")[0].cells, aJ, true);
      if (aM[0]) {
        aS._appendCols(aM.find("table:first"));
        at(aM.find(".k-footer-template")[0].cells, aJ, true)
      }
      aQ = aS.tbody.children();
      for (aN = 0, aO = aQ.length; aN < aO; aN += 1) {
        aP = aQ.eq(aN);
        if (aP.is(".k-grouping-row,.k-detail-row")) {
          aG = aP.children(":not(.k-group-cell):first,.k-detail-cell").last();
          aG.attr("colspan", parseInt(aG.attr("colspan"), 10) + 1)
        } else {
          if (aP.hasClass("k-grid-edit-row") && (aG = aP.children(".k-edit-container")[0])) {
            aG = a(aG);
            aG.attr("colspan", parseInt(aG.attr("colspan"), 10) + 1);
            ah(aG.find(">form>table"), aD(aK), false, 0);
            aP = aG.find("tr:first")
          }
          at(aP[0].cells, aJ, true)
        }
      }
      aR = a(">.k-grid-header table:first,>.k-grid-footer table:first", aS.wrapper).add(aS.table);
      if (!aI.width) {
        aR.width("")
      } else {
        aT = 0;
        aH = aS.thead.prev().find("col");
        for (aN = 0, aO = aH.length; aN < aO; aN += 1) {
          aL = aH[aN].style.width;
          if (aL.indexOf("%") > -1) {
            aT = 0;
            break
          }
          aT += parseInt(aL, 10)
        }
        aS._footerWidth = null;
        if (aT) {
          aR.width(aT);
          aS._footerWidth = aT
        }
      }
      aS.trigger(n, {
        column: aI
      })
    },
    _progress: function(aI) {
      var aH = this,
        aG = aH.element.is("table") ? aH.element.parent() : (aH.content && aH.content.length ? aH.content : aH.element);
      aa.ui.progress(aG, aI)
    },
    _resize: function() {
      if (this.content) {
        this._setContentHeight();
        this._setContentWidth()
      }
    },
    refresh: function(aL) {
      var aU = this,
        aQ, aO, aN = "",
        aK = aU.dataSource.view(),
        aR = aU.options.navigatable,
        aT, aS, aJ, aI = a(aU.current()),
        aP = false,
        aM = (aU.dataSource.group() || []).length,
        aH = aM + aD(aU.columns).length,
        aG;
      if (aL && aL.action === "itemchange" && aU.editable) {
        return
      }
      aL = aL || {};
      if (aU.trigger("dataBinding", {
        action: aL.action || "rebind",
        index: aL.index,
        items: aL.items
      })) {
        return
      }
      aG = b();
      if (aR && (aU.table[0] === aG || a.contains(aU.table[0], aG) || (aU._editContainer && aU._editContainer.data("kendoWindow")))) {
        aP = aI.is("th");
        aJ = 0;
        if (aP) {
          aJ = aU.thead.find("th:not(.k-group-cell)").index(aI)
        }
      }
      aU._destroyEditable();
      aU._progress(false);
      aU._hideResizeHandle();
      aU._data = [];
      if (!aU.columns.length) {
        aU._autoColumns(aU._firstDataItem(aK[0], aM));
        aH = aM + aU.columns.length
      }
      aU._group = aM > 0 || aU._group;
      if (aU._group) {
        aU._templates();
        aU._updateCols();
        aU._updateHeader(aM);
        aU._group = aM > 0
      }
      if (aM > 0) {
        if (aU.detailTemplate) {
          aH++
        }
        if (aU.groupFooterTemplate) {
          aU._groupAggregatesDefaultObject = f(aU.dataSource.aggregate())
        }
        for (aO = 0, aQ = aK.length; aO < aQ; aO++) {
          aN += aU._groupRowHtml(aK[aO], aH, 0)
        }
      } else {
        aN += aU._rowsHtml(aK)
      }
      if (ay) {
        aU.tbody[0].innerHTML = aN
      } else {
        aS = document.createElement("div");
        aS.innerHTML = "<table><tbody>" + aN + "</tbody></table>";
        aT = aS.firstChild.firstChild;
        aU.table[0].replaceChild(aT, aU.tbody[0]);
        aU.tbody = a(aT)
      }
      aU._footer();
      aU._setContentHeight();
      aU._setContentWidth();
      if (aJ >= 0) {
        aU._removeCurrent();
        if (!aP) {
          aU.current(aU.items().eq(aJ).children().filter(s).first())
        } else {
          aU.current(aU.thead.find("th:not(.k-group-cell)").eq(aJ))
        }
        if (aU._current) {
          G(aU._current.closest("table")[0], true)
        }
      }
      aU.trigger(t)
    }
  });

  function K(aH, aK) {
    var aI, aJ, aG;
    if (typeof aH === au && aH === aK) {
      return aH
    }
    if (Y(aH) && aH.name === aK) {
      return aH
    }
    if (T(aH)) {
      for (aI = 0, aJ = aH.length; aI < aJ; aI++) {
        aG = aH[aI];
        if ((typeof aG === au && aG === aK) || (aG.name === aK)) {
          return aG
        }
      }
    }
    return null
  }
  function G(aM, aH) {
    var aJ = e.msie;
    if (aH === true) {
      aM = a(aM);
      var aG = aJ && aM.parent().is(".k-grid-content,.k-grid-header-wrap"),
        aL, aK;
      if (aG) {
        aL = aM.parent().scrollTop();
        aK = aM.parent().scrollLeft()
      }
      if (aJ) {
        try {
          aM[0].setActive()
        } catch (aI) {
          aM[0].focus()
        }
      } else {
        aM[0].focus()
      }
      if (aG) {
        aM.parent().scrollTop(aL);
        aM.parent().scrollLeft(aK)
      }
    } else {
      a(aM).one("focusin", function(aN) {
        aN.preventDefault()
      }).focus()
    }
  }
  function ax(aI) {
    var aH = a(aI.currentTarget),
      aJ = aH.is("th"),
      aG = aH.closest("table")[0];
    if (aa.support.touch) {
      return
    }
    if (aG !== this.table[0] && aG !== this.thead.parent()[0]) {
      return
    }
    this.current(aH);
    if (aJ || !a(aI.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap")) {
      setTimeout(function() {
        if (!(X && a(aa._activeElement()).hasClass("k-widget"))) {
          G(aG, true)
        }
      })
    }
    if (aJ) {
      aI.preventDefault()
    }
  }
  aA.plugin(M);
  aA.plugin(aC)
})(window.kendo.jQuery);
kendo_module({
  id: "listview",
  name: "ListView",
  category: "web",
  description: "The ListView widget offers rich support for interacting with data.",
  depends: ["data"],
  features: [{
    id: "listview-editing",
    name: "Editing",
    description: "Support for record editing",
    depends: ["editable"]
  }, {
    id: "listview-selection",
    name: "Selection",
    description: "Support for selection",
    depends: ["selectable"]
  }]
});
(function(a, y) {
  var n = window.kendo,
    d = "change",
    c = "cancel",
    g = "dataBound",
    f = "dataBinding",
    z = n.ui.Widget,
    o = n.keys,
    l = ">*",
    s = "progress",
    j = "error",
    k = "k-state-focused",
    w = "k-state-selected",
    m = "k-edit-item",
    x = "string",
    i = "edit",
    u = "remove",
    v = "save",
    e = "click",
    q = ".kendoListView",
    t = a.proxy,
    b = n._activeElement,
    r = n.ui.progress,
    h = n.data.DataSource;
  var p = z.extend({
    init: function(A, B) {
      var C = this;
      B = a.isArray(B) ? {
        dataSource: B
      } : B;
      z.fn.init.call(C, A, B);
      B = C.options;
      C.wrapper = A = C.element;
      if (A[0].id) {
        C._itemId = A[0].id + "_lv_active"
      }
      C._element();
      C._dataSource();
      C._templates();
      C._navigatable();
      C._selectable();
      C._pageable();
      C._crudHandlers();
      if (C.options.autoBind) {
        C.dataSource.fetch()
      }
      n.notify(C)
    },
    events: [d, c, f, g, i, u, v],
    options: {
      name: "ListView",
      autoBind: true,
      selectable: false,
      navigatable: false,
      template: "",
      altTemplate: "",
      editTemplate: ""
    },
    setOptions: function(A) {
      z.fn.setOptions.call(this, A);
      this._templates()
    },
    _templates: function() {
      var A = this.options;
      this.template = n.template(A.template || "");
      this.altTemplate = n.template(A.altTemplate || A.template);
      this.editTemplate = n.template(A.editTemplate || "")
    },
    _item: function(A) {
      return this.element.children()[A]()
    },
    items: function() {
      return this.element.children()
    },
    setDataSource: function(A) {
      this.options.dataSource = A;
      this._dataSource();
      if (this.options.autoBind) {
        A.fetch()
      }
    },
    _unbindDataSource: function() {
      var A = this;
      A.dataSource.unbind(d, A._refreshHandler).unbind(s, A._progressHandler).unbind(j, A._errorHandler)
    },
    _dataSource: function() {
      var A = this;
      if (A.dataSource && A._refreshHandler) {
        A._unbindDataSource()
      } else {
        A._refreshHandler = t(A.refresh, A);
        A._progressHandler = t(A._progress, A);
        A._errorHandler = t(A._error, A)
      }
      A.dataSource = h.create(A.options.dataSource).bind(d, A._refreshHandler).bind(s, A._progressHandler).bind(j, A._errorHandler)
    },
    _progress: function() {
      r(this.element, true)
    },
    _error: function() {
      r(this.element, false)
    },
    _element: function() {
      this.element.addClass("k-widget k-listview").attr("role", "listbox")
    },
    refresh: function(D) {
      var K = this,
        L = K.dataSource.view(),
        C, H, G, E = "",
        F, I, J = K.template,
        B = K.altTemplate,
        A = b();
      D = D || {};
      if (D.action === "itemchange") {
        if (!K._hasBindingTarget() && !K.editable) {
          C = D.items[0];
          G = K.items().filter("[" + n.attr("uid") + "=" + C.uid + "]");
          if (G.length > 0) {
            F = G.index();
            G.replaceWith(J(C));
            G = K.items().eq(F);
            G.attr(n.attr("uid"), C.uid);
            K.trigger("itemChange", {
              item: G,
              data: C
            })
          }
        }
        return
      }
      if (K.trigger(f, {
        action: D.action || "rebind",
        items: D.items,
        index: D.index
      })) {
        return
      }
      K._destroyEditable();
      for (F = 0, I = L.length; F < I; F++) {
        if (F % 2) {
          E += B(L[F])
        } else {
          E += J(L[F])
        }
      }
      K.element.html(E);
      H = K.items();
      for (F = 0, I = L.length; F < I; F++) {
        H.eq(F).attr(n.attr("uid"), L[F].uid).attr("role", "option").attr("aria-selected", "false")
      }
      if (K.element[0] === A && K.options.navigatable) {
        K.current(H.eq(0))
      }
      K.trigger(g)
    },
    _pageable: function() {
      var D = this,
        A = D.options.pageable,
        C, B;
      if (a.isPlainObject(A)) {
        B = A.pagerId;
        C = a.extend({}, A, {
          dataSource: D.dataSource,
          pagerId: null
        });
        D.pager = new n.ui.Pager(a("#" + B), C)
      }
    },
    _selectable: function() {
      var E = this,
        B, A, D = E.options.selectable,
        C = E.options.navigatable;
      if (D) {
        B = typeof D === x && D.toLowerCase().indexOf("multiple") > -1;
        if (B) {
          E.element.attr("aria-multiselectable", true)
        }
        E.selectable = new n.ui.Selectable(E.element, {
          aria: true,
          multiple: B,
          filter: l,
          change: function() {
            E.trigger(d)
          }
        });
        if (C) {
          E.element.on("keydown" + q, function(F) {
            if (F.keyCode === o.SPACEBAR) {
              A = E.current();
              if (F.target == F.currentTarget) {
                F.preventDefault()
              }
              if (B) {
                if (!F.ctrlKey) {
                  E.selectable.clear()
                } else {
                  if (A && A.hasClass(w)) {
                    A.removeClass(w);
                    return
                  }
                }
              } else {
                E.selectable.clear()
              }
              E.selectable.value(A)
            }
          })
        }
      }
    },
    current: function(A) {
      var E = this,
        C = E.element,
        B = E._current,
        D = E._itemId;
      if (A === y) {
        return B
      }
      if (B && B[0]) {
        if (B[0].id === D) {
          B.removeAttr("id")
        }
        B.removeClass(k);
        C.removeAttr("aria-activedescendant")
      }
      if (A && A[0]) {
        D = A[0].id || D;
        E._scrollTo(A[0]);
        C.attr("aria-activedescendant", D);
        A.addClass(k).attr("id", D)
      }
      E._current = A
    },
    _scrollTo: function(B) {
      var E = this,
        A, F = false,
        C = "scroll";
      if (E.wrapper.css("overflow") == "auto" || E.wrapper.css("overflow") == C) {
        A = E.wrapper[0]
      } else {
        A = window;
        F = true
      }
      var D = function(J, I) {
        var L = F ? a(B).offset()[J.toLowerCase()] : B["offset" + J],
          K = B["client" + I],
          H = a(A)[C + J](),
          G = a(A)[I.toLowerCase()]();
        if (L + K > H + G) {
          a(A)[C + J](L + K - G)
        } else {
          if (L < H) {
            a(A)[C + J](L)
          }
        }
      };
      D("Top", "Height");
      D("Left", "Width")
    },
    _navigatable: function() {
      var D = this,
        C = D.options.navigatable,
        B = D.element,
        A = function(E) {
          D.current(a(E.currentTarget));
          if (!a(E.target).is(":button,a,:input,a>.k-icon,textarea")) {
            B.focus()
          }
        };
      if (C) {
        D._tabindex();
        B.on("focus" + q, function() {
          var E = D._current;
          if (!E || !E.is(":visible")) {
            E = D._item("first")
          }
          D.current(E)
        }).on("focusout" + q, function() {
          if (D._current) {
            D._current.removeClass(k)
          }
        }).on("keydown" + q, function(H) {
          var M = H.keyCode,
            G = D.current(),
            O = a(H.target),
            F = !O.is(":button,textarea,a,a>.t-icon,input"),
            L = O.is(":text"),
            N = n.preventDefault,
            I = B.find("." + m),
            E = b(),
            K;
          if ((!F && !L && o.ESC != M) || (L && o.ESC != M && o.ENTER != M)) {
            return
          }
          if (o.UP === M || o.LEFT === M) {
            if (G) {
              G = G.prev()
            }
            D.current(!G || !G[0] ? D._item("last") : G);
            N(H)
          } else {
            if (o.DOWN === M || o.RIGHT === M) {
              if (G) {
                G = G.next()
              }
              D.current(!G || !G[0] ? D._item("first") : G);
              N(H)
            } else {
              if (o.PAGEUP === M) {
                D.current(null);
                D.dataSource.page(D.dataSource.page() - 1);
                N(H)
              } else {
                if (o.PAGEDOWN === M) {
                  D.current(null);
                  D.dataSource.page(D.dataSource.page() + 1);
                  N(H)
                } else {
                  if (o.HOME === M) {
                    D.current(D._item("first"));
                    N(H)
                  } else {
                    if (o.END === M) {
                      D.current(D._item("last"));
                      N(H)
                    } else {
                      if (o.ENTER === M) {
                        if (I.length !== 0 && (F || L)) {
                          K = D.items().index(I);
                          if (E) {
                            E.blur()
                          }
                          D.save();
                          var J = function() {
                            D.element.trigger("focus");
                            D.current(D.items().eq(K))
                          };
                          D.one("dataBound", J)
                        } else {
                          if (D.options.editTemplate !== "") {
                            D.edit(G)
                          }
                        }
                      } else {
                        if (o.ESC === M) {
                          I = B.find("." + m);
                          if (I.length === 0) {
                            return
                          }
                          K = D.items().index(I);
                          D.cancel();
                          D.element.trigger("focus");
                          D.current(D.items().eq(K))
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        });
        B.on("mousedown" + q + " touchstart" + q, l, t(A, D))
      }
    },
    clearSelection: function() {
      var A = this;
      A.selectable.clear();
      A.trigger(d)
    },
    select: function(A) {
      var C = this,
        B = C.selectable;
      A = a(A);
      if (A.length) {
        if (!B.options.multiple) {
          B.clear();
          A = A.first()
        }
        B.value(A);
        return
      }
      return B.value()
    },
    _destroyEditable: function() {
      var A = this;
      if (A.editable) {
        A.editable.destroy();
        delete A.editable
      }
    },
    _modelFromElement: function(A) {
      var B = A.attr(n.attr("uid"));
      return this.dataSource.getByUid(B)
    },
    _closeEditable: function(G) {
      var E = this,
        B = E.editable,
        A, C, D = E.template,
        F = true;
      if (B) {
        if (G) {
          F = B.end()
        }
        if (F) {
          if (B.element.index() % 2) {
            D = E.altTemplate
          }
          A = E._modelFromElement(B.element);
          E._destroyEditable();
          C = B.element.index();
          B.element.replaceWith(D(A));
          E.items().eq(C).attr(n.attr("uid"), A.uid)
        }
      }
      return F
    },
    edit: function(D) {
      var E = this,
        B = E._modelFromElement(D),
        A, F = B.uid,
        C;
      E.cancel();
      D = E.items().filter("[" + n.attr("uid") + "=" + F + "]");
      C = D.index();
      D.replaceWith(E.editTemplate(B));
      A = E.items().eq(C).addClass(m).attr(n.attr("uid"), B.uid);
      E.editable = A.kendoEditable({
        model: B,
        clearContainer: false,
        errorTemplate: false
      }).data("kendoEditable");
      E.trigger(i, {
        model: B,
        item: A
      })
    },
    save: function() {
      var C = this,
        A = C.editable,
        B;
      if (!A) {
        return
      }
      A = A.element;
      B = C._modelFromElement(A);
      if (!C.trigger(v, {
        model: B,
        item: A
      }) && C._closeEditable(true)) {
        C.dataSource.sync()
      }
    },
    remove: function(C) {
      var D = this,
        B = D.dataSource,
        A = D._modelFromElement(C);
      if (!D.trigger(u, {
        model: A,
        item: C
      })) {
        C.hide();
        B.remove(A);
        B.sync()
      }
    },
    add: function() {
      var C = this,
        A = C.dataSource,
        B = A.indexOf((A.view() || [])[0]);
      if (B < 0) {
        B = 0
      }
      C.cancel();
      A.insert(B, {});
      C.edit(C.element.children().first())
    },
    cancel: function() {
      var D = this,
        B = D.dataSource;
      if (D.editable) {
        var A = D.editable.element;
        var C = D._modelFromElement(A);
        if (!D.trigger(c, {
          model: C,
          container: A
        })) {
          B.cancelChanges(C);
          D._closeEditable(false)
        }
      }
    },
    _crudHandlers: function() {
      var B = this,
        A = e + q;
      B.element.on(A, ".k-edit-button", function(C) {
        var D = a(this).closest("[" + n.attr("uid") + "]");
        B.edit(D);
        C.preventDefault()
      });
      B.element.on(A, ".k-delete-button", function(C) {
        var D = a(this).closest("[" + n.attr("uid") + "]");
        B.remove(D);
        C.preventDefault()
      });
      B.element.on(A, ".k-update-button", function(C) {
        B.save();
        C.preventDefault()
      });
      B.element.on(A, ".k-cancel-button", function(C) {
        B.cancel();
        C.preventDefault()
      })
    },
    destroy: function() {
      var A = this;
      z.fn.destroy.call(A);
      A._unbindDataSource();
      A._destroyEditable();
      A.element.off(q);
      if (A.pager) {
        A.pager.destroy()
      }
      if (A.selectable) {
        A.selectable.destroy()
      }
      n.destroy(A.element)
    }
  });
  n.ui.plugin(p)
})(window.kendo.jQuery);
kendo_module({
  id: "numerictextbox",
  name: "NumericTextBox",
  category: "web",
  description: "The NumericTextBox widget can format and display numeric, percentage or currency textbox.",
  depends: ["core", "userevents"]
});
(function(a, I) {
  var r = window.kendo,
    s = r.keys,
    H = r.ui,
    J = H.Widget,
    b = r._activeElement,
    j = r._extractFormat,
    x = r.parseFloat,
    y = r.support.placeholder,
    m = r.getCulture,
    C = r._round,
    g = "change",
    i = "disabled",
    B = "readonly",
    p = "k-input",
    E = "spin",
    u = ".kendoNumericTextBox",
    G = "touchend",
    t = "mouseleave" + u,
    o = "mouseenter" + u + " " + t,
    h = "k-state-default",
    l = "k-state-focused",
    n = "k-state-hover",
    k = "focus",
    z = ".",
    D = "k-state-selected",
    F = "k-state-disabled",
    c = "aria-disabled",
    d = "aria-readonly",
    q = /^(-)?(\d*)$/,
    v = null,
    A = a.proxy;
  var w = J.extend({
    init: function(L, P) {
      var R = this,
        M = P && P.step !== I,
        O, N, Q, S, K;
      J.fn.init.call(R, L, P);
      P = R.options;
      L = R.element.on("blur" + u, A(R._focusout, R)).attr("role", "spinbutton");
      P.placeholder = P.placeholder || L.attr("placeholder");
      R._reset();
      R._wrapper();
      R._arrows();
      R._input();
      if (!r.support.mobileOS) {
        R._text.on(k + u, A(R._click, R))
      } else {
        R._text.on(G + u + " " + k + u, function(T) {
          R._toggleText(false);
          if (T.type === k) {
            L.focus()
          }
        })
      }
      O = R.min(L.attr("min"));
      N = R.max(L.attr("max"));
      Q = R._parse(L.attr("step"));
      if (P.min === v && O !== v) {
        P.min = O
      }
      if (P.max === v && N !== v) {
        P.max = N
      }
      if (!M && Q !== v) {
        P.step = Q
      }
      L.attr("aria-valuemin", P.min).attr("aria-valuemax", P.max);
      P.format = j(P.format);
      S = P.value;
      R.value(S !== v ? S : L.val());
      K = L.is("[disabled]");
      if (K) {
        R.enable(false)
      } else {
        R.readonly(L.is("[readonly]"))
      }
      r.notify(R)
    },
    options: {
      name: "NumericTextBox",
      decimals: v,
      min: v,
      max: v,
      value: v,
      step: 1,
      culture: "",
      format: "n",
      spinners: true,
      placeholder: "",
      upArrowText: "Increase value",
      downArrowText: "Decrease value"
    },
    events: [g, E],
    _editable: function(M) {
      var P = this,
        L = P.element,
        K = M.disable,
        N = M.readonly,
        O = P._text.add(L),
        Q = P._inputWrapper.off(o);
      P._toggleText(true);
      P._upArrowEventHandler.unbind("press");
      P._downArrowEventHandler.unbind("press");
      L.off("keydown" + u).off("keypress" + u).off("paste" + u);
      if (!N && !K) {
        Q.addClass(h).removeClass(F).on(o, P._toggleHover);
        O.removeAttr(i).removeAttr(B).attr(c, false).attr(d, false);
        P._upArrowEventHandler.bind("press", function(R) {
          R.preventDefault();
          P._spin(1);
          P._upArrow.addClass(D)
        });
        P._downArrowEventHandler.bind("press", function(R) {
          R.preventDefault();
          P._spin(-1);
          P._downArrow.addClass(D)
        });
        P.element.on("keydown" + u, A(P._keydown, P)).on("keypress" + u, A(P._keypress, P)).on("paste" + u, A(P._paste, P))
      } else {
        Q.addClass(K ? F : h).removeClass(K ? h : F);
        O.attr(i, K).attr(B, N).attr(c, K).attr(d, N)
      }
    },
    readonly: function(K) {
      this._editable({
        readonly: K === I ? true : K,
        disable: false
      })
    },
    enable: function(K) {
      this._editable({
        readonly: false,
        disable: !(K = K === I ? true : K)
      })
    },
    destroy: function() {
      var K = this;
      K.element.add(K._text).add(K._upArrow).add(K._downArrow).add(K._inputWrapper).off(u);
      K._upArrowEventHandler.destroy();
      K._downArrowEventHandler.destroy();
      if (K._form) {
        K._form.off("reset", K._resetHandler)
      }
      J.fn.destroy.call(K)
    },
    min: function(K) {
      return this._option("min", K)
    },
    max: function(K) {
      return this._option("max", K)
    },
    step: function(K) {
      return this._option("step", K)
    },
    value: function(M) {
      var L = this,
        K;
      if (M === I) {
        return L._value
      }
      M = L._parse(M);
      K = L._adjust(M);
      if (M !== K) {
        return
      }
      L._update(M);
      L._old = L._value
    },
    focus: function() {
      this._focusin()
    },
    _adjust: function(O) {
      var N = this,
        M = N.options,
        L = M.min,
        K = M.max;
      if (O === v) {
        return O
      }
      if (L !== v && O < L) {
        O = L
      } else {
        if (K !== v && O > K) {
          O = K
        }
      }
      return O
    },
    _arrows: function() {
      var P = this,
        L, K = function() {
          clearTimeout(P._spinning);
          L.removeClass(D)
        }, N = P.options,
        O = N.spinners,
        M = P.element;
      L = M.siblings(".k-icon");
      if (!L[0]) {
        L = a(e("n", N.upArrowText) + e("s", N.downArrowText)).insertAfter(M);
        L.wrapAll('<span class="k-select"/>')
      }
      if (!O) {
        L.parent().toggle(O);
        P._inputWrapper.addClass("k-expand-padding")
      }
      P._upArrow = L.eq(0);
      P._upArrowEventHandler = new r.UserEvents(P._upArrow, {
        release: K
      });
      P._downArrow = L.eq(1);
      P._downArrowEventHandler = new r.UserEvents(P._downArrow, {
        release: K
      })
    },
    _blur: function() {
      var K = this;
      K._toggleText(true);
      K._change(K.element.val())
    },
    _click: function(K) {
      var L = this;
      clearTimeout(L._focusing);
      L._focusing = setTimeout(function() {
        var S = K.target,
          R = f(S)[0],
          U = S.value.substring(0, R),
          O = L._format(L.options.format),
          P = O[","],
          T, Q, N, M = 0;
        if (P) {
          Q = new RegExp("\\" + P, "g");
          N = new RegExp("([\\d\\" + P + "]+)(\\" + O[z] + ")?(\\d+)?")
        }
        if (N) {
          T = N.exec(U)
        }
        if (T) {
          M = T[0].replace(Q, "").length;
          if (U.indexOf("(") != -1 && L._value < 0) {
            M++
          }
        }
        L._focusin();
        f(L.element[0], M)
      })
    },
    _change: function(L) {
      var K = this;
      K._update(L);
      L = K._value;
      if (K._old != L) {
        K._old = L;
        K.trigger(g);
        K.element.trigger(g)
      }
    },
    _culture: function(K) {
      return K || m(this.options.culture)
    },
    _focusin: function() {
      var K = this;
      K._inputWrapper.addClass(l);
      K._toggleText(false);
      K.element[0].focus()
    },
    _focusout: function() {
      var K = this;
      clearTimeout(K._focusing);
      K._inputWrapper.removeClass(l).removeClass(n);
      K._blur()
    },
    _format: function(L, K) {
      var M = this._culture(K).numberFormat;
      L = L.toLowerCase();
      if (L.indexOf("c") > -1) {
        M = M.currency
      } else {
        if (L.indexOf("p") > -1) {
          M = M.percent
        }
      }
      return M
    },
    _input: function() {
      var P = this,
        L = "k-formatted-value",
        N = P.element.addClass(p).show()[0],
        K = N.accessKey,
        Q = P.wrapper,
        O;
      O = Q.find(z + L);
      if (!O[0]) {
        O = a('<input type="text"/>').insertBefore(N).addClass(L)
      }
      try {
        N.setAttribute("type", "text")
      } catch (M) {
        N.type = "text"
      }
      O[0].tabIndex = N.tabIndex;
      O[0].style.cssText = N.style.cssText;
      O.prop("placeholder", P.options.placeholder);
      if (K) {
        O.attr("accesskey", K);
        N.accessKey = ""
      }
      P._text = O.addClass(N.className)
    },
    _keydown: function(K) {
      var M = this,
        L = K.keyCode;
      if (L == s.DOWN) {
        M._step(-1)
      } else {
        if (L == s.UP) {
          M._step(1)
        } else {
          if (L == s.ENTER) {
            M._change(M.element.val())
          }
        }
      }
    },
    _keypress: function(L) {
      if (L.which === 0 || L.keyCode === s.BACKSPACE || L.keyCode === s.ENTER) {
        return
      }
      var M = this.element;
      var K = String.fromCharCode(L.which);
      var O = f(M[0]);
      var Q = O[0];
      var P = O[1];
      var N = this.options.min;
      var R = M.val();
      R = R.substring(0, Q) + K + R.substring(P);
      if ((N !== null && N >= 0 && R.charAt(0) === "-") || !this._numericRegex().test(R)) {
        L.preventDefault()
      }
    },
    _numericRegex: function() {
      var O = this;
      var L = O.options;
      var K = O._format(L.format);
      var N = K[z];
      var M = L.decimals;
      if (N === z) {
        N = "\\" + N
      }
      if (M === v) {
        M = K.decimals
      }
      if (M === 0) {
        return q
      }
      if (O._separator !== N) {
        O._separator = N;
        O._floatRegExp = new RegExp("^(-)?(((\\d+(" + N + "\\d*)?)|(" + N + "\\d*)))?$")
      }
      return O._floatRegExp
    },
    _paste: function(K) {
      var M = this,
        L = K.target,
        N = L.value;
      setTimeout(function() {
        if (M._parse(L.value) === v) {
          M._update(N)
        }
      })
    },
    _option: function(K, N) {
      var M = this,
        L = M.options;
      if (N === I) {
        return L[K]
      }
      N = M._parse(N);
      if (!N && K === "step") {
        return
      }
      L[K] = N;
      M.element.attr("aria-value" + K, N).attr(K, N)
    },
    _spin: function(K, M) {
      var L = this;
      M = M || 500;
      clearTimeout(L._spinning);
      L._spinning = setTimeout(function() {
        L._spin(K, 50)
      }, M);
      L._step(K)
    },
    _step: function(L) {
      var M = this,
        K = M.element,
        N = M._parse(K.val()) || 0;
      if (b() != K[0]) {
        M._focusin()
      }
      N += M.options.step * L;
      M._update(M._adjust(N));
      M.trigger(E)
    },
    _toggleHover: function(K) {
      a(K.currentTarget).toggleClass(n, K.type === "mouseenter")
    },
    _toggleText: function(L) {
      var K = this;
      K._text.toggle(L);
      K.element.toggle(!L)
    },
    _parse: function(L, K) {
      return x(L, this._culture(K), this.options.format)
    },
    _update: function(R) {
      var Q = this,
        P = Q.options,
        M = P.format,
        L = P.decimals,
        K = Q._culture(),
        O = Q._format(M, K),
        N;
      if (L === v) {
        L = O.decimals
      }
      R = Q._parse(R, K);
      N = R !== v;
      if (N) {
        R = parseFloat(C(R, L))
      }
      Q._value = R = Q._adjust(R);
      Q._placeholder(r.toString(R, M, K));
      if (N) {
        R = R.toString();
        if (R.indexOf("e") !== -1) {
          R = C(+R, L)
        }
        R = R.replace(z, O[z])
      } else {
        R = ""
      }
      Q.element.val(R).attr("aria-valuenow", R)
    },
    _placeholder: function(K) {
      this._text.val(K);
      if (!y && !K) {
        this._text.val(this.options.placeholder)
      }
    },
    _wrapper: function() {
      var M = this,
        L = M.element,
        K = L[0],
        N;
      N = L.parents(".k-numerictextbox");
      if (!N.is("span.k-numerictextbox")) {
        N = L.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent();
        N = N.wrap("<span/>").parent()
      }
      N[0].style.cssText = K.style.cssText;
      K.style.width = "";
      M.wrapper = N.addClass("k-widget k-numerictextbox").addClass(K.className).css("display", "");
      M._inputWrapper = a(N[0].firstChild)
    },
    _reset: function() {
      var N = this,
        K = N.element,
        M = K.attr("form"),
        L = M ? a("#" + M) : K.closest("form");
      if (L[0]) {
        N._resetHandler = function() {
          setTimeout(function() {
            N.value(K[0].value)
          })
        };
        N._form = L.on("reset", N._resetHandler)
      }
    }
  });

  function e(K, L) {
    return '<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-' + K + '" title="' + L + '">' + L + "</span></span>"
  }
  function f(K, M) {
    var N, L = M !== I;
    if (K.selectionStart !== I) {
      if (L) {
        K.focus();
        K.setSelectionRange(M, M)
      } else {
        M = [K.selectionStart, K.selectionEnd]
      }
    } else {
      if (document.selection) {
        if (a(K).is(":visible")) {
          K.focus()
        }
        N = document.selection.createRange();
        if (L) {
          N.move("character", M);
          N.select()
        } else {
          var P = K.createTextRange(),
            O = P.duplicate(),
            R, Q;
          P.moveToBookmark(N.getBookmark());
          O.setEndPoint("EndToStart", P);
          R = O.text.length;
          Q = R + P.text.length;
          M = [R, Q]
        }
      }
    }
    return M
  }
  H.plugin(w)
})(window.kendo.jQuery);
kendo_module({
  id: "editable",
  name: "Editable",
  category: "framework",
  depends: ["datepicker", "numerictextbox", "validator", "binder"],
  hidden: true
});
(function(a, t) {
  var o = window.kendo,
    s = o.ui,
    u = s.Widget,
    j = a.extend,
    q = o.support.browser.msie && o.support.browser.version < 9,
    m = o.isFunction,
    n = a.isPlainObject,
    l = a.inArray,
    p = /("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,
    i = '<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',
    c = "change";
  var r = ["url", "email", "number", "date", "boolean"];

  function k(v) {
    v = v != null ? v : "";
    return v.type || a.type(v) || "string"
  }
  function e(v) {
    v.find(":input:not(:button, [" + o.attr("role") + "=upload], [" + o.attr("skip") + "], [type=file]), select").each(function() {
      var w = o.attr("bind"),
        x = this.getAttribute(w) || "",
        y = this.type === "checkbox" || this.type === "radio" ? "checked:" : "value:",
        z = this.name;
      if (x.indexOf(y) === -1 && z) {
        x += (x.length ? "," : "") + y + z;
        a(this).attr(w, x)
      }
    })
  }
  function f(z) {
    var y = (z.model.fields || z.model)[z.field],
      C = k(y),
      D = y ? y.validation : {}, B, x = o.attr("type"),
      w = o.attr("bind"),
      A, v = {
        name: z.field
      };
    for (B in D) {
      A = D[B];
      if (l(B, r) >= 0) {
        v[x] = B
      } else {
        if (!m(A)) {
          v[B] = n(A) ? A.value || B : A
        }
      }
      v[o.attr(B + "-msg")] = A.message
    }
    if (l(C, r) >= 0) {
      v[x] = C
    }
    v[w] = (C === "boolean" ? "checked:" : "value:") + z.field;
    return v
  }
  function d(x) {
    var v, y, w, B, A, z;
    if (x && x.length) {
      z = [];
      for (v = 0, y = x.length; v < y; v++) {
        w = x[v];
        A = w.text || w.value || w;
        B = w.value == null ? (w.text || w) : w.value;
        z[v] = {
          text: A,
          value: B
        }
      }
    }
    return z
  }
  var h = {
    number: function(w, x) {
      var v = f(x);
      a('<input type="text"/>').attr(v).appendTo(w).kendoNumericTextBox({
        format: x.format
      });
      a("<span " + o.attr("for") + '="' + x.field + '" class="k-invalid-msg"/>').hide().appendTo(w)
    },
    date: function(w, y) {
      var v = f(y),
        x = y.format;
      if (x) {
        x = o._extractFormat(x)
      }
      v[o.attr("format")] = x;
      a('<input type="text"/>').attr(v).appendTo(w).kendoDatePicker({
        format: y.format
      });
      a("<span " + o.attr("for") + '="' + y.field + '" class="k-invalid-msg"/>').hide().appendTo(w)
    },
    string: function(w, x) {
      var v = f(x);
      a('<input type="text" class="k-input k-textbox"/>').attr(v).appendTo(w)
    },
    "boolean": function(w, x) {
      var v = f(x);
      a('<input type="checkbox" />').attr(v).appendTo(w)
    },
    values: function(w, x) {
      var v = f(x);
      a("<select " + o.attr("text-field") + '="text"' + o.attr("value-field") + '="value"' + o.attr("source") + "='" + o.stringify(d(x.values)).replace(/\'/g, "&apos;") + "'" + o.attr("role") + '="dropdownlist"/>').attr(v).appendTo(w);
      a("<span " + o.attr("for") + '="' + x.field + '" class="k-invalid-msg"/>').hide().appendTo(w)
    }
  };

  function b(w, y) {
    var z = w ? (w.validation || {}) : {}, x, v;
    for (x in z) {
      v = z[x];
      if (n(v) && v.value) {
        v = v.value
      }
      if (m(v)) {
        y[x] = v
      }
    }
  }
  var g = u.extend({
    init: function(v, w) {
      var x = this;
      u.fn.init.call(x, v, w);
      x._validateProxy = a.proxy(x._validate, x);
      x.refresh()
    },
    events: [c],
    options: {
      name: "Editable",
      editors: h,
      clearContainer: true,
      errorTemplate: i
    },
    editor: function(y, E) {
      var F = this,
        x = F.options.editors,
        B = n(y),
        z = B ? y.field : y,
        D = F.options.model || {}, C = B && y.values,
        G = C ? "values" : k(E),
        A = B && y.editor,
        w = A ? y.editor : x[G],
        v = F.element.find("[" + o.attr("container-for") + "=" + z.replace(p, "\\$1") + "]");
      w = w ? w : x.string;
      if (A && typeof y.editor === "string") {
        w = function(H) {
          H.append(y.editor)
        }
      }
      v = v.length ? v : F.element;
      w(v, j(true, {}, B ? y : {
        field: z
      }, {
        model: D
      }))
    },
    _validate: function(v) {
      var z = this,
        x = typeof v.value === "boolean",
        w, y = z._validationEventInProgress,
        A = {};
      A[v.field] = v.value;
      w = a("input[" + o.attr("bind") + '="' + (x ? "checked:" : "value:") + v.field.replace(p, "\\$1") + '"]', z.element);
      try {
        z._validationEventInProgress = true;
        if (!z.validatable.validateInput(w) || (!y && z.trigger(c, {
          values: A
        }))) {
          v.preventDefault()
        }
      } finally {
        z._validationEventInProgress = false
      }
    },
    end: function() {
      return this.validatable.validate()
    },
    destroy: function() {
      var v = this;
      u.fn.destroy.call(v);
      v.options.model.unbind("set", v._validateProxy);
      o.unbind(v.element);
      if (v.validatable) {
        v.validatable.destroy()
      }
      o.destroy(v.element);
      v.element.removeData("kendoValidator")
    },
    refresh: function() {
      var H = this,
        A, C, y = H.options.fields || [],
        v = H.options.clearContainer ? H.element.empty() : H.element,
        D = H.options.model || {}, G = {}, w, B, x, E, F;
      if (!a.isArray(y)) {
        y = [y]
      }
      for (A = 0, C = y.length; A < C; A++) {
        w = y[A];
        B = n(w);
        x = B ? w.field : w;
        E = (D.fields || D)[x];
        b(E, G);
        H.editor(w, E)
      }
      if (!C) {
        F = D.fields || D;
        for (x in F) {
          b(F[x], G)
        }
      }
      e(v);
      o.bind(v, H.options.model);
      H.options.model.bind("set", H._validateProxy);
      H.validatable = v.kendoValidator({
        validateOnBlur: false,
        errorTemplate: H.options.errorTemplate || t,
        rules: G
      }).data("kendoValidator");
      var z = v.find(":kendoFocusable:first").focus();
      if (q) {
        z.focus()
      }
    }
  });
  s.plugin(g)
})(window.kendo.jQuery);
kendo_module({
  id: "filtermenu",
  name: "Filtering Menu",
  category: "framework",
  depends: ["datepicker", "numerictextbox", "dropdownlist"],
  advanced: true
});
(function(a, u) {
  var l = window.kendo,
    t = l.ui,
    q = a.proxy,
    p = "kendoPopup",
    j = "init",
    o = ".kendoFilterMenu",
    h = "Is equal to",
    n = "Is not equal to",
    s = {
      number: "numerictextbox",
      date: "datepicker"
    }, m = {
      string: "text",
      number: "number",
      date: "date"
    }, k = l.isFunction,
    v = t.Widget;
  var c = '<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>';
  var g = '<div><div class="k-filter-help-text">#=messages.info#</div><select data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>';
  var f = '<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=field#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list k-secondary"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[0].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[0].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#if(extra){#</ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="and" />#=messages.and#</label></li><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="or" />#=messages.or#</label></li></ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[1].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[1].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[1].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#}#</ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></div></form></div>';
  var b = '<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=field#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list k-secondary"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label></li><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label></li></ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></form></div>';

  function r(w, x) {
    if (w.filters) {
      w.filters = a.grep(w.filters, function(y) {
        r(y, x);
        if (y.filters) {
          return y.filters.length
        } else {
          return y.field != x
        }
      })
    }
  }
  function e(y) {
    var w, z, x, C, B, A;
    if (y && y.length) {
      A = [];
      for (w = 0, z = y.length; w < z; w++) {
        x = y[w];
        B = x.text || x.value || x;
        C = x.value == null ? (x.text || x) : x.value;
        A[w] = {
          text: B,
          value: C
        }
      }
    }
    return A
  }
  function d(x, w) {
    return a.grep(x, function(y) {
      if (y.filters) {
        y.filters = a.grep(y.filters, function(z) {
          return z.field != w
        });
        return y.filters.length
      }
      return y.field != w
    })
  }
  var i = v.extend({
    init: function(w, B) {
      var C = this,
        D = "string",
        A, y, z, x;
      v.fn.init.call(C, w, B);
      A = C.operators = B.operators || {};
      w = C.element;
      B = C.options;
      if (!B.appendToElement) {
        z = w.addClass("k-with-icon k-filterable").find(".k-grid-filter");
        if (!z[0]) {
          z = w.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")
        }
        z.attr("tabindex", -1).on("click" + o, q(C._click, C))
      }
      C.link = z || a();
      C.dataSource = B.dataSource;
      C.field = B.field || w.attr(l.attr("field"));
      C.model = C.dataSource.reader.model;
      C._parse = function(E) {
        return E + ""
      };
      if (C.model && C.model.fields) {
        x = C.model.fields[C.field];
        if (x) {
          D = x.type || "string";
          if (x.parse) {
            C._parse = q(x.parse, x)
          }
        }
      }
      if (B.values) {
        D = "enums"
      }
      C.type = D;
      A = A[D] || B.operators[D];
      for (y in A) {
        break
      }
      C._defaultFilter = function() {
        return {
          field: C.field,
          operator: y || "eq",
          value: ""
        }
      };
      C._refreshHandler = q(C.refresh, C);
      C.dataSource.bind("change", C._refreshHandler);
      if (B.appendToElement) {
        C._init()
      } else {
        C.refresh()
      }
    },
    _init: function() {
      var y = this,
        z = y.options.ui,
        x = k(z),
        w;
      y.pane = y.element.closest(l.roleSelector("pane")).data("kendoMobilePane");
      if (y.pane) {
        y._isMobile = true
      }
      if (!x) {
        w = z || s[y.type]
      }
      if (y._isMobile) {
        y._createMobileForm(w)
      } else {
        y._createForm(w)
      }
      y.form.on("submit" + o, q(y._submit, y)).on("reset" + o, q(y._reset, y));
      if (x) {
        y.form.find(".k-textbox").removeClass("k-textbox").each(function() {
          z(a(this))
        })
      }
      y.form.find("[" + l.attr("role") + "=numerictextbox]").removeClass("k-textbox").end().find("[" + l.attr("role") + "=datetimepicker]").removeClass("k-textbox").end().find("[" + l.attr("role") + "=timepicker]").removeClass("k-textbox").end().find("[" + l.attr("role") + "=datepicker]").removeClass("k-textbox");
      y.refresh();
      y.trigger(j, {
        field: y.field,
        container: y.form
      })
    },
    _createForm: function(y) {
      var z = this,
        x = z.options,
        w = z.operators || {}, A = z.type;
      w = w[A] || x.operators[A];
      z.form = a('<form class="k-filter-menu k-secondary"/>').html(l.template(A === "boolean" ? c : g)({
        field: z.field,
        format: x.format,
        ns: l.ns,
        messages: x.messages,
        extra: x.extra,
        operators: w,
        type: A,
        role: y,
        values: e(x.values)
      }));
      if (!x.appendToElement) {
        z.popup = z.form[p]({
          anchor: z.link,
          open: q(z._open, z),
          activate: q(z._activate, z),
          close: z.options.closeCallback
        }).data(p)
      } else {
        z.element.append(z.form);
        z.popup = z.element.closest(".k-popup").data(p)
      }
      z.form.on("keydown" + o, q(z._keydown, z))
    },
    _createMobileForm: function(y) {
      var z = this,
        x = z.options,
        w = z.operators || {}, A = z.type;
      w = w[A] || x.operators[A];
      z.form = a("<div />").html(l.template(A === "boolean" ? b : f)({
        field: z.field,
        format: x.format,
        ns: l.ns,
        messages: x.messages,
        extra: x.extra,
        operators: w,
        type: A,
        role: y,
        useRole: (!l.support.input.date && A === "date") || A === "number",
        inputType: m[A],
        values: e(x.values)
      }));
      z.view = z.pane.append(z.form.html());
      z.form = z.view.element.find("form");
      z.view.element.on("click", ".k-submit", function(B) {
        z.form.submit();
        B.preventDefault()
      }).on("click", ".k-cancel", function(B) {
        z._closeForm();
        B.preventDefault()
      })
    },
    refresh: function() {
      var x = this,
        w = x.dataSource.filter() || {
          filters: [],
          logic: "and"
        };
      x.filterModel = l.observable({
        logic: "and",
        filters: [x._defaultFilter(), x._defaultFilter()]
      });
      if (x.form) {
        l.bind(x.form.children().first(), x.filterModel)
      }
      if (x._bind(w)) {
        x.link.addClass("k-state-active")
      } else {
        x.link.removeClass("k-state-active")
      }
    },
    destroy: function() {
      var w = this;
      v.fn.destroy.call(w);
      if (w.form) {
        l.unbind(w.form);
        l.destroy(w.form);
        w.form.unbind(o);
        if (w.popup) {
          w.popup.destroy()
        }
      }
      if (w.view) {
        w.view.purge()
      }
      w.link.unbind(o);
      if (w._refreshHandler) {
        w.dataSource.unbind("change", w._refreshHandler)
      }
    },
    _bind: function(y) {
      var F = this,
        B = y.filters,
        D, E, C = false,
        w = 0,
        A = F.filterModel,
        x, z;
      for (D = 0, E = B.length; D < E; D++) {
        z = B[D];
        if (z.field == F.field) {
          A.set("logic", y.logic);
          x = A.filters[w];
          if (!x) {
            A.filters.push({
              field: F.field
            });
            x = A.filters[w]
          }
          x.set("value", F._parse(z.value));
          x.set("operator", z.operator);
          w++;
          C = true
        } else {
          if (z.filters) {
            C = C || F._bind(z)
          }
        }
      }
      return C
    },
    _merge: function(w) {
      var D = this,
        B = w.logic || "and",
        y = w.filters,
        x, C = D.dataSource.filter() || {
          filters: [],
          logic: "and"
        }, z, A;
      r(C, D.field);
      y = a.grep(y, function(E) {
        return E.value !== "" && E.value != null
      });
      for (z = 0, A = y.length; z < A; z++) {
        x = y[z];
        x.value = D._parse(x.value)
      }
      if (y.length) {
        if (C.filters.length) {
          w.filters = y;
          if (C.logic !== "and") {
            C.filters = [{
              logic: C.logic,
              filters: C.filters
            }];
            C.logic = "and"
          }
          if (y.length > 1) {
            C.filters.push(w)
          } else {
            C.filters.push(y[0])
          }
        } else {
          C.filters = y;
          C.logic = B
        }
      }
      return C
    },
    filter: function(w) {
      w = this._merge(w);
      if (w.filters.length) {
        this.dataSource.filter(w)
      }
    },
    clear: function() {
      var x = this,
        w = x.dataSource.filter() || {
          filters: []
        };
      w.filters = a.grep(w.filters, function(y) {
        if (y.filters) {
          y.filters = d(y.filters, x.field);
          return y.filters.length
        }
        return y.field != x.field
      });
      if (!w.filters.length) {
        w = null
      }
      x.dataSource.filter(w)
    },
    _submit: function(w) {
      w.preventDefault();
      w.stopPropagation();
      this.filter(this.filterModel.toJSON());
      this._closeForm()
    },
    _reset: function() {
      this.clear();
      this._closeForm()
    },
    _closeForm: function() {
      if (this._isMobile) {
        this.pane.navigate("", this.options.animations.right)
      } else {
        this.popup.close()
      }
    },
    _click: function(w) {
      w.preventDefault();
      w.stopPropagation();
      if (!this.popup && !this.pane) {
        this._init()
      }
      if (this._isMobile) {
        this.pane.navigate(this.view, this.options.animations.left)
      } else {
        this.popup.toggle()
      }
    },
    _open: function() {
      var w;
      a(".k-filter-menu").not(this.form).each(function() {
        w = a(this).data(p);
        if (w) {
          w.close()
        }
      })
    },
    _activate: function() {
      this.form.find(":kendoFocusable:first").focus()
    },
    _keydown: function(w) {
      if (w.keyCode == l.keys.ESC) {
        this.popup.close()
      }
    },
    events: [j],
    options: {
      name: "FilterMenu",
      extra: true,
      appendToElement: false,
      type: "string",
      operators: {
        string: {
          eq: h,
          neq: n,
          startswith: "Starts with",
          contains: "Contains",
          doesnotcontain: "Does not contain",
          endswith: "Ends with"
        },
        number: {
          eq: h,
          neq: n,
          gte: "Is greater than or equal to",
          gt: "Is greater than",
          lte: "Is less than or equal to",
          lt: "Is less than"
        },
        date: {
          eq: h,
          neq: n,
          gte: "Is after or equal to",
          gt: "Is after",
          lte: "Is before or equal to",
          lt: "Is before"
        },
        enums: {
          eq: h,
          neq: n
        }
      },
      messages: {
        info: "Show items with value that:",
        isTrue: "is true",
        isFalse: "is false",
        filter: "Filter",
        clear: "Clear",
        and: "And",
        or: "Or",
        selectValue: "-Select value-",
        operator: "Operator",
        value: "Value",
        cancel: "Cancel"
      },
      animations: {
        left: "slide",
        right: "slide:right"
      }
    }
  });
  t.plugin(i)
})(window.kendo.jQuery);
kendo_module({
  id: "timepicker",
  name: "TimePicker",
  category: "web",
  description: "The TimePicker widget allows the end user to select a value from a list of predefined values or to type a new value.",
  depends: ["popup"]
});
(function(a, U) {
  var z = window.kendo,
    A = z.keys,
    b = z._activeElement,
    r = z._extractFormat,
    P = z.support,
    i = P.browser,
    T = z.ui,
    V = T.Widget,
    H = "open",
    l = "close",
    j = "change",
    G = ".kendoTimePicker",
    k = "click" + G,
    n = "k-state-default",
    o = "disabled",
    K = "readonly",
    B = "li",
    N = "<span/>",
    s = "k-state-focused",
    u = "k-state-hover",
    v = "mouseenter" + G + " mouseleave" + G,
    C = "mousedown" + G,
    E = 60000,
    D = 86400000,
    L = "k-state-selected",
    O = "k-state-disabled",
    h = "aria-selected",
    e = "aria-expanded",
    f = "aria-hidden",
    d = "aria-disabled",
    g = "aria-readonly",
    c = "aria-activedescendant",
    w = "id",
    x = a.isArray,
    q = a.extend,
    J = a.proxy,
    m = Date,
    S = new m();
  S = new m(S.getFullYear(), S.getMonth(), S.getDate(), 0, 0, 0);
  var R = function(X) {
    var Y = this,
      W = X.id;
    Y.options = X;
    Y.ul = a('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({
      overflow: P.kineticScrollNeeded ? "" : "auto"
    }).on(k, B, J(Y._click, Y)).on("mouseenter" + G, B, function() {
      a(this).addClass(u)
    }).on("mouseleave" + G, B, function() {
      a(this).removeClass(u)
    });
    Y.list = a("<div class='k-list-container'/>").append(Y.ul).on(C, I);
    if (W) {
      Y._timeViewID = W + "_timeview";
      Y._optionID = W + "_option_selected";
      Y.ul.attr(w, Y._timeViewID)
    }
    Y._popup();
    Y.template = z.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>', {
      useWithBlock: false
    })
  };
  R.prototype = {
    current: function(X) {
      var Y = this,
        W = Y.options.active;
      if (X !== U) {
        if (Y._current) {
          Y._current.removeClass(L).removeAttr(h).removeAttr(w)
        }
        if (X) {
          X = a(X).addClass(L).attr(w, Y._optionID).attr(h, true);
          Y.scroll(X[0])
        }
        Y._current = X;
        if (W) {
          W(X)
        }
      } else {
        return Y._current
      }
    },
    close: function() {
      this.popup.close()
    },
    destroy: function() {
      var W = this;
      W.ul.off(G);
      W.list.off(G);
      if (W._touchScroller) {
        W._touchScroller.destroy()
      }
      W.popup.destroy()
    },
    open: function() {
      var W = this;
      if (!W.ul[0].firstChild) {
        W.bind()
      }
      W.popup.open();
      if (W._current) {
        W.scroll(W._current[0])
      }
    },
    dataBind: function(X) {
      var ae = this,
        ac = ae.options,
        Y = ac.format,
        af = z.toString,
        ad = ae.template,
        ab = X.length,
        aa = 0,
        W, Z = "";
      for (; aa < ab; aa++) {
        W = X[aa];
        if (y(W, ac.min, ac.max)) {
          Z += ad(af(W, Y, ac.culture))
        }
      }
      ae._html(Z, ab)
    },
    refresh: function() {
      var an = this,
        aj = an.options,
        W = aj.format,
        ai = p(),
        Z = ai < 0,
        ad = aj.min,
        ac = aj.max,
        ag = t(ad),
        af = t(ac),
        ae = aj.interval * E,
        ao = z.toString,
        am = an.template,
        ak = new m(+ad),
        al = ak.getDate(),
        ah, aa, Y = 0,
        ab, X = "";
      if (Z) {
        ab = (D + (ai * E)) / ae
      } else {
        ab = D / ae
      }
      if (ag != af) {
        if (ag > af) {
          af += D
        }
        ab = ((af - ag) / ae) + 1
      }
      aa = parseInt(ab, 10);
      for (; Y < ab; Y++) {
        if (Y) {
          M(ak, ae, Z)
        }
        if (af && aa == Y) {
          ah = t(ak);
          if (al < ak.getDate()) {
            ah += D
          }
          if (ah > af) {
            ak = new m(+ac)
          }
        }
        X += am(ao(ak, W, aj.culture))
      }
      an._html(X, ab)
    },
    bind: function() {
      var X = this,
        W = X.options.dates;
      if (W && W[0]) {
        X.dataBind(W)
      } else {
        X.refresh()
      }
    },
    _html: function(W, X) {
      var Y = this;
      Y.ul[0].innerHTML = W;
      Y._height(X);
      Y.current(null);
      Y.select(Y._value)
    },
    scroll: function(Y) {
      if (!Y) {
        return
      }
      var ac = this.ul[0],
        aa = Y.offsetTop,
        Z = Y.offsetHeight,
        ae = ac.scrollTop,
        ad = ac.clientHeight,
        W = aa + Z,
        ab = this._touchScroller,
        X;
      if (ab) {
        X = this.list.height();
        if (aa > X) {
          aa = aa - X + Z
        }
        ab.scrollTo(0, -aa)
      } else {
        ac.scrollTop = ae > aa ? aa : W > (ae + ad) ? W - ad : ae
      }
    },
    select: function(X) {
      var Z = this,
        Y = Z.options,
        W = Z._current;
      if (X instanceof Date) {
        X = z.toString(X, Y.format, Y.culture)
      }
      if (typeof X === "string") {
        if (!W || W.text() !== X) {
          X = a.grep(Z.ul[0].childNodes, function(aa) {
            return (aa.textContent || aa.innerText) == X
          });
          X = X[0] ? X : null
        } else {
          X = W
        }
      }
      Z.current(X)
    },
    setOptions: function(X) {
      var W = this.options;
      this.options = q(W, X, {
        active: W.active,
        change: W.change,
        close: W.close,
        open: W.open
      });
      this.bind()
    },
    toggle: function() {
      var W = this;
      if (W.popup.visible()) {
        W.close()
      } else {
        W.open()
      }
    },
    value: function(X) {
      var W = this;
      W._value = X;
      if (W.ul[0].firstChild) {
        W.select(X)
      }
    },
    _click: function(W) {
      var Y = this,
        X = a(W.currentTarget);
      if (!W.isDefaultPrevented()) {
        Y.select(X);
        Y.options.change(X.text(), true);
        Y.close()
      }
    },
    _height: function(X) {
      if (X) {
        var aa = this,
          Y = aa.list,
          Z = Y.parent(".k-animation-container"),
          W = aa.options.height;
        Y.add(Z).show().height(aa.ul[0].scrollHeight > W ? W : "auto").hide()
      }
    },
    _parse: function(Z) {
      var Y = this,
        X = Y.options,
        W = Y._value || S;
      if (Z instanceof m) {
        return Z
      }
      Z = z.parseDate(Z, X.parseFormats, X.culture);
      if (Z) {
        Z = new m(W.getFullYear(), W.getMonth(), W.getDate(), Z.getHours(), Z.getMinutes(), Z.getSeconds(), Z.getMilliseconds())
      }
      return Z
    },
    _adjustListWidth: function() {
      var Y = this.list,
        Z = Y[0].style.width,
        aa = this.options.anchor,
        W, X;
      if (!Y.data("width") && Z) {
        return
      }
      W = window.getComputedStyle ? window.getComputedStyle(aa[0], null) : 0;
      X = W ? parseFloat(W.width) : aa.outerWidth();
      if (W && (i.mozilla || i.msie)) {
        X += parseFloat(W.paddingLeft) + parseFloat(W.paddingRight) + parseFloat(W.borderLeftWidth) + parseFloat(W.borderRightWidth)
      }
      Z = X - (Y.outerWidth() - Y.width());
      Y.css({
        fontFamily: aa.css("font-family"),
        width: Z
      }).data("width", Z)
    },
    _popup: function() {
      var Z = this,
        X = Z.list,
        Y = Z.options,
        W = Y.anchor;
      Z.popup = new T.Popup(X, q(Y.popup, {
        anchor: W,
        open: Y.open,
        close: Y.close,
        animation: Y.animation,
        isRtl: P.isRtl(Y.anchor)
      }));
      Z._touchScroller = z.touchScroller(Z.popup.element)
    },
    move: function(Y) {
      var aa = this,
        Z = Y.keyCode,
        ab = aa.ul[0],
        W = aa._current,
        X = Z === A.DOWN;
      if (Z === A.UP || X) {
        if (Y.altKey) {
          aa.toggle(X);
          return
        } else {
          if (X) {
            W = W ? W[0].nextSibling : ab.firstChild
          } else {
            W = W ? W[0].previousSibling : ab.lastChild
          }
        }
        if (W) {
          aa.select(W)
        }
        aa.options.change(aa._current.text());
        Y.preventDefault()
      } else {
        if (Z === A.ENTER || Z === A.TAB || Z === A.ESC) {
          Y.preventDefault();
          if (W) {
            aa.options.change(W.text(), true)
          }
          aa.close()
        }
      }
    }
  };

  function M(W, aa, X) {
    var Y = W.getTimezoneOffset(),
      Z;
    W.setTime(W.getTime() + aa);
    if (!X) {
      Z = W.getTimezoneOffset() - Y;
      W.setTime(W.getTime() + Z * E)
    }
  }
  function p() {
    var Y = new m(),
      W = new m(Y.getFullYear(), Y.getMonth(), Y.getDate(), 0, 0, 0),
      X = new m(Y.getFullYear(), Y.getMonth(), Y.getDate(), 12, 0, 0);
    return -1 * (W.getTimezoneOffset() - X.getTimezoneOffset())
  }
  function t(W) {
    return W.getHours() * 60 * E + W.getMinutes() * E + W.getSeconds() * 1000 + W.getMilliseconds()
  }
  function y(ab, X, W) {
    var Z = t(X),
      Y = t(W),
      aa;
    if (!ab || Z == Y) {
      return true
    }
    aa = t(ab);
    if (Z > aa) {
      aa += D
    }
    if (Y < Z) {
      Y += D
    }
    return aa >= Z && aa <= Y
  }
  R.getMilliseconds = t;
  z.TimeView = R;
  var Q = V.extend({
    init: function(Y, Z) {
      var aa = this,
        ac, ab, W;
      V.fn.init.call(aa, Y, Z);
      Y = aa.element;
      Z = aa.options;
      F(Z);
      aa._wrapper();
      aa.timeView = ab = new R(q({}, Z, {
        id: Y.attr(w),
        anchor: aa.wrapper,
        format: Z.format,
        change: function(ae, ad) {
          if (ad) {
            aa._change(ae)
          } else {
            Y.val(ae)
          }
        },
        open: function(ad) {
          aa.timeView._adjustListWidth();
          if (aa.trigger(H)) {
            ad.preventDefault()
          } else {
            Y.attr(e, true);
            ac.attr(f, false)
          }
        },
        close: function(ad) {
          if (aa.trigger(l)) {
            ad.preventDefault()
          } else {
            Y.attr(e, false);
            ac.attr(f, true)
          }
        },
        active: function(ad) {
          Y.removeAttr(c);
          if (ad) {
            Y.attr(c, ab._optionID)
          }
        }
      }));
      ac = ab.ul;
      aa._icon();
      aa._reset();
      try {
        Y[0].setAttribute("type", "text")
      } catch (X) {
        Y[0].type = "text"
      }
      Y.addClass("k-input").attr({
        role: "combobox",
        "aria-expanded": false,
        "aria-owns": ab._timeViewID
      });
      W = Y.is("[disabled]");
      if (W) {
        aa.enable(false)
      } else {
        aa.readonly(Y.is("[readonly]"))
      }
      aa._old = aa._update(Z.value || aa.element.val());
      aa._oldText = Y.val();
      z.notify(aa)
    },
    options: {
      name: "TimePicker",
      min: S,
      max: S,
      format: "",
      dates: [],
      parseFormats: [],
      value: null,
      interval: 30,
      height: 200,
      animation: {}
    },
    events: [H, l, j],
    setOptions: function(W) {
      var X = this;
      var Y = X._value;
      V.fn.setOptions.call(X, W);
      W = X.options;
      F(W);
      X.timeView.setOptions(W);
      if (Y) {
        X.element.val(z.toString(Y, W.format, W.culture))
      }
    },
    dataBind: function(W) {
      if (x(W)) {
        this.timeView.dataBind(W)
      }
    },
    _editable: function(Z) {
      var ab = this,
        X = Z.disable,
        aa = Z.readonly,
        W = ab._arrow.off(G),
        Y = ab.element.off(G),
        ac = ab._inputWrapper.off(G);
      if (!aa && !X) {
        ac.addClass(n).removeClass(O).on(v, ab._toggleHover);
        Y.removeAttr(o).removeAttr(K).attr(d, false).attr(g, false).on("keydown" + G, J(ab._keydown, ab)).on("blur" + G, J(ab._blur, ab)).on("focus" + G, function() {
          ab._inputWrapper.addClass(s)
        });
        W.on(k, J(ab._click, ab)).on(C, I)
      } else {
        ac.addClass(X ? O : n).removeClass(X ? n : O);
        Y.attr(o, X).attr(K, aa).attr(d, X).attr(g, aa)
      }
    },
    readonly: function(W) {
      this._editable({
        readonly: W === U ? true : W,
        disable: false
      })
    },
    enable: function(W) {
      this._editable({
        readonly: false,
        disable: !(W = W === U ? true : W)
      })
    },
    destroy: function() {
      var W = this;
      V.fn.destroy.call(W);
      W.timeView.destroy();
      W.element.off(G);
      W._arrow.off(G);
      W._inputWrapper.off(G);
      if (W._form) {
        W._form.off("reset", W._resetHandler)
      }
    },
    close: function() {
      this.timeView.close()
    },
    open: function() {
      this.timeView.open()
    },
    min: function(W) {
      return this._option("min", W)
    },
    max: function(W) {
      return this._option("max", W)
    },
    value: function(X) {
      var W = this;
      if (X === U) {
        return W._value
      }
      W._old = W._update(X);
      if (W._old === null) {
        W.element.val("")
      }
      W._oldText = W.element.val()
    },
    _blur: function() {
      var W = this,
        X = W.element.val();
      W.close();
      if (X !== W._oldText) {
        W._change(X)
      }
      W._inputWrapper.removeClass(s)
    },
    _click: function() {
      var X = this,
        W = X.element;
      X.timeView.toggle();
      if (!P.touch && W[0] !== b()) {
        W.focus()
      }
    },
    _change: function(X) {
      var W = this;
      X = W._update(X);
      if (+W._old != +X) {
        W._old = X;
        W._oldText = W.element.val();
        W.trigger(j);
        W.element.trigger(j)
      }
    },
    _icon: function() {
      var Y = this,
        X = Y.element,
        W;
      W = X.next("span.k-select");
      if (!W[0]) {
        W = a('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(X)
      }
      Y._arrow = W.attr({
        role: "button",
        "aria-controls": Y.timeView._timeViewID
      })
    },
    _keydown: function(W) {
      var Y = this,
        X = W.keyCode,
        Z = Y.timeView,
        aa = Y.element.val();
      if (Z.popup.visible() || W.altKey) {
        Z.move(W)
      } else {
        if (X === A.ENTER && aa !== Y._oldText) {
          Y._change(aa)
        }
      }
    },
    _option: function(W, Z) {
      var Y = this,
        X = Y.options;
      if (Z === U) {
        return X[W]
      }
      Z = Y.timeView._parse(Z);
      if (!Z) {
        return
      }
      Z = new m(+Z);
      X[W] = Z;
      Y.timeView.options[W] = Z;
      Y.timeView.bind()
    },
    _toggleHover: function(W) {
      a(W.currentTarget).toggleClass(u, W.type === "mouseenter")
    },
    _update: function(aa) {
      var Y = this,
        X = Y.options,
        Z = Y.timeView,
        W = Z._parse(aa);
      if (!y(W, X.min, X.max)) {
        W = null
      }
      Y._value = W;
      Y.element.val(W ? z.toString(W, X.format, X.culture) : aa);
      Z.value(W);
      return W
    },
    _wrapper: function() {
      var X = this,
        W = X.element,
        Y;
      Y = W.parents(".k-timepicker");
      if (!Y[0]) {
        Y = W.wrap(N).parent().addClass("k-picker-wrap k-state-default");
        Y = Y.wrap(N).parent()
      }
      Y[0].style.cssText = W[0].style.cssText;
      X.wrapper = Y.addClass("k-widget k-timepicker k-header").addClass(W[0].className);
      W.css({
        width: "100%",
        height: W[0].style.height
      });
      X._inputWrapper = a(Y[0].firstChild)
    },
    _reset: function() {
      var Z = this,
        W = Z.element,
        Y = W.attr("form"),
        X = Y ? a("#" + Y) : W.closest("form");
      if (X[0]) {
        Z._resetHandler = function() {
          Z.value(W[0].defaultValue)
        };
        Z._form = X.on("reset", Z._resetHandler)
      }
    }
  });

  function F(W) {
    var X = W.parseFormats;
    W.format = r(W.format || z.getCulture(W.culture).calendars.standard.patterns.t);
    X = x(X) ? X : [X];
    X.splice(0, 0, W.format);
    W.parseFormats = X
  }
  function I(W) {
    W.preventDefault()
  }
  T.plugin(Q)
})(window.kendo.jQuery);
kendo_module({
  id: "window",
  name: "Window",
  category: "web",
  description: "The Window widget displays content in a modal or non-modal HTML window.",
  depends: ["draganddrop"]
});
(function(a, S) {
  var t = window.kendo,
    U = t.ui.Widget,
    k = t.ui.Draggable,
    r = a.isPlainObject,
    c = t._activeElement,
    L = a.proxy,
    o = a.extend,
    m = a.each,
    P = t.template,
    d = "body",
    Q, H = ".kendoWindow",
    z = ".k-window",
    C = ".k-window-title",
    D = C + "bar",
    A = ".k-window-content",
    B = ".k-resize-handle",
    w = ".k-overlay",
    s = "k-content-frame",
    E = "k-loading",
    v = "k-state-hover",
    u = "k-state-focused",
    F = "k-window-maximized",
    T = ":visible",
    p = "hidden",
    g = "cursor",
    I = "open",
    b = "activate",
    h = "deactivate",
    e = "close",
    M = "refresh",
    N = "resize",
    l = "dragstart",
    j = "dragend",
    n = "error",
    J = "overflow",
    Y = "zIndex",
    G = ".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",
    x = ".k-i-pin",
    y = ".k-i-unpin",
    K = x + "," + y,
    R = ".k-window-titlebar .k-window-action",
    q = t.isLocalUrl;

  function i(Z) {
    return (typeof Z != "undefined")
  }
  function f(ab, aa, Z) {
    return Math.max(Math.min(parseInt(ab, 10), Z === Infinity ? Z : parseInt(Z, 10)), parseInt(aa, 10))
  }
  function O(Z, aa) {
    return function() {
      var ad = this,
        ae = ad.wrapper,
        ac = ae[0].style,
        ab = ad.options;
      if (ab.isMaximized || ab.isMinimized) {
        return
      }
      ad.restoreOptions = {
        width: ac.width,
        height: ac.height
      };
      ae.children(B).hide().end().children(D).find(G).parent().hide().eq(0).before(Q.action({
        name: "Restore"
      }));
      aa.call(ad);
      if (Z == "maximize") {
        ad.wrapper.children(D).find(K).parent().hide()
      } else {
        ad.wrapper.children(D).find(K).parent().show()
      }
      return ad
    }
  }
  var V = U.extend({
    init: function(ab, af) {
      var ai = this,
        al, ae = {}, aj, aa, ag, ad = false,
        Z, ak, ah = af && af.actions && !af.actions.length,
        ac;
      U.fn.init.call(ai, ab, af);
      af = ai.options;
      ag = af.position;
      ab = ai.element;
      Z = af.content;
      if (ah) {
        af.actions = []
      }
      ai.appendTo = a(af.appendTo);
      ai._animations();
      if (Z && !r(Z)) {
        Z = af.content = {
          url: Z
        }
      }
      ab.find("script").filter(function() {
        return !this.type || this.type.toLowerCase().indexOf("script") >= 0
      }).remove();
      if (!ab.parent().is(ai.appendTo) && (ag.top === S || ag.left === S)) {
        if (ab.is(T)) {
          ae = ab.offset();
          ad = true
        } else {
          aj = ab.css("visibility");
          aa = ab.css("display");
          ab.css({
            visibility: p,
            display: ""
          });
          ae = ab.offset();
          ab.css({
            visibility: aj,
            display: aa
          })
        }
        if (ag.top === S) {
          ag.top = ae.top
        }
        if (ag.left === S) {
          ag.left = ae.left
        }
      }
      if (!i(af.visible) || af.visible === null) {
        af.visible = ab.is(T)
      }
      al = ai.wrapper = ab.closest(z);
      if (!ab.is(".k-content") || !al[0]) {
        ab.addClass("k-window-content k-content");
        ai._createWindow(ab, af);
        al = ai.wrapper = ab.closest(z);
        ai._dimensions()
      }
      ai._position();
      if (af.pinned) {
        ai.pin(true)
      }
      if (Z) {
        ai.refresh(Z)
      }
      if (af.visible) {
        ai.toFront()
      }
      ak = al.children(A);
      ai._tabindex(ak);
      if (af.visible && af.modal) {
        ai._overlay(al.is(T)).css({
          opacity: 0.5
        })
      }
      al.on("mouseenter" + H, R, function() {
        a(this).addClass(v)
      }).on("mouseleave" + H, R, function() {
        a(this).removeClass(v)
      }).on("click" + H, "> " + R, L(ai._windowActionHandler, ai));
      ak.on("keydown" + H, L(ai._keydown, ai)).on("focus" + H, function() {
        al.addClass(u)
      }).on("blur" + H, function() {
        al.removeClass(u)
      });
      this._resizable();
      this._draggable();
      ac = ab.attr("id");
      if (ac) {
        ac = ac + "_wnd_title";
        al.children(D).children(C).attr("id", ac);
        ak.attr({
          role: "dialog",
          "aria-labelledby": ac
        })
      }
      al.add(al.children(".k-resize-handle," + D)).on("mousedown" + H, L(ai.toFront, ai));
      ai.touchScroller = t.touchScroller(ab);
      ai._resizeHandler = function(am) {
        return ai._onDocumentResize(am)
      };
      a(window).on("resize", ai._resizeHandler);
      if (af.visible) {
        ai.trigger(I);
        ai.trigger(b)
      }
      t.notify(ai)
    },
    _dimensions: function() {
      var ac = this,
        ae = ac.wrapper,
        ab = ac.options,
        ad = ab.width,
        Z = ab.height,
        aa = ab.maxHeight;
      ac.title(ab.title);
      m(["minWidth", "minHeight", "maxWidth", "maxHeight"], function(af, ag) {
        var ah = ab[ag];
        if (ah && ah != Infinity) {
          ae.css(ag, ah)
        }
      });
      if (aa && aa != Infinity) {
        ac.element.css("maxHeight", aa)
      }
      if (ad) {
        if (ad.toString().indexOf("%") > 0) {
          ae.width(ad)
        } else {
          ae.width(f(ad, ab.minWidth, ab.maxWidth))
        }
      }
      if (Z) {
        if (Z.toString().indexOf("%") > 0) {
          ae.height(Z)
        } else {
          ae.height(f(Z, ab.minHeight, ab.maxHeight))
        }
      }
      if (!ab.visible) {
        ae.hide()
      }
    },
    _position: function() {
      var aa = this,
        ab = aa.wrapper,
        Z = aa.options.position;
      if (Z.top === 0) {
        Z.top = Z.top.toString()
      }
      if (Z.left === 0) {
        Z.left = Z.left.toString()
      }
      ab.css({
        top: Z.top || "",
        left: Z.left || ""
      })
    },
    _animations: function() {
      var Z = this.options;
      if (Z.animation === false) {
        Z.animation = {
          open: {
            effects: {}
          },
          close: {
            hide: true,
            effects: {}
          }
        }
      }
    },
    _resize: function() {
      t.resize(this.element.children())
    },
    _resizable: function() {
      var Z = this.options.resizable;
      var aa = this.wrapper;
      if (this.resizing) {
        aa.off("dblclick" + H).children(B).remove();
        this.resizing.destroy();
        this.resizing = null
      }
      if (Z) {
        aa.on("dblclick" + H, D, L(function(ab) {
          if (!a(ab.target).closest(".k-window-action").length) {
            this.toggleMaximization()
          }
        }, this));
        m("n e s w se sw ne nw".split(" "), function(ac, ab) {
          aa.append(Q.resizeHandle(ab))
        });
        this.resizing = new X(this)
      }
    },
    _draggable: function() {
      var Z = this.options.draggable;
      if (this.dragging) {
        this.dragging.destroy();
        this.dragging = null
      }
      if (Z) {
        this.dragging = new W(this, Z.dragHandle || D)
      }
    },
    setOptions: function(Z) {
      var aa = this;
      U.fn.setOptions.call(aa, Z);
      aa._animations();
      aa._dimensions();
      aa._position();
      aa._resizable();
      aa._draggable()
    },
    events: [I, b, h, e, M, N, l, j, n],
    options: {
      name: "Window",
      animation: {
        open: {
          effects: {
            zoom: {
              direction: "in"
            },
            fade: {
              direction: "in"
            }
          },
          duration: 350
        },
        close: {
          effects: {
            zoom: {
              direction: "out",
              properties: {
                scale: 0.7
              }
            },
            fade: {
              direction: "out"
            }
          },
          duration: 350,
          hide: true
        }
      },
      title: "",
      actions: ["Close"],
      autoFocus: true,
      modal: false,
      resizable: true,
      draggable: true,
      minWidth: 90,
      minHeight: 50,
      maxWidth: Infinity,
      maxHeight: Infinity,
      pinned: false,
      position: {},
      content: null,
      visible: null,
      height: null,
      width: null,
      appendTo: "body"
    },
    _closable: function() {
      return a.inArray("close", a.map(this.options.actions, function(Z) {
        return Z.toLowerCase()
      })) > -1
    },
    _keydown: function(aa) {
      var ak = this,
        aj = ak.options,
        af = t.keys,
        ae = aa.keyCode,
        am = ak.wrapper,
        ai, ac, Z = 10,
        ad = ak.options.isMaximized,
        ah, ag, al, ab;
      if (aa.target != aa.currentTarget || ak._closing) {
        return
      }
      if (ae == af.ESC && ak._closable()) {
        ak._close(true)
      }
      if (aj.draggable && !aa.ctrlKey && !ad) {
        ai = t.getOffset(am);
        if (ae == af.UP) {
          ac = am.css("top", ai.top - Z)
        } else {
          if (ae == af.DOWN) {
            ac = am.css("top", ai.top + Z)
          } else {
            if (ae == af.LEFT) {
              ac = am.css("left", ai.left - Z)
            } else {
              if (ae == af.RIGHT) {
                ac = am.css("left", ai.left + Z)
              }
            }
          }
        }
      }
      if (aj.resizable && aa.ctrlKey && !ad) {
        if (ae == af.UP) {
          ac = true;
          ag = am.height() - Z
        } else {
          if (ae == af.DOWN) {
            ac = true;
            ag = am.height() + Z
          }
        }
        if (ae == af.LEFT) {
          ac = true;
          ah = am.width() - Z
        } else {
          if (ae == af.RIGHT) {
            ac = true;
            ah = am.width() + Z
          }
        }
        if (ac) {
          al = f(ah, aj.minWidth, aj.maxWidth);
          ab = f(ag, aj.minHeight, aj.maxHeight);
          if (!isNaN(al)) {
            am.width(al);
            ak.options.width = al + "px"
          }
          if (!isNaN(ab)) {
            am.height(ab);
            ak.options.height = ab + "px"
          }
          ak.resize()
        }
      }
      if (ac) {
        aa.preventDefault()
      }
    },
    _overlay: function(aa) {
      var Z = this.appendTo.children(w),
        ab = this.wrapper;
      if (!Z.length) {
        Z = a("<div class='k-overlay' />")
      }
      Z.insertBefore(ab[0]).toggle(aa).css(Y, parseInt(ab.css(Y), 10) - 1);
      return Z
    },
    _windowActionHandler: function(Z) {
      var aa = a(Z.target).closest(".k-window-action").find(".k-icon"),
        ab = this;
      if (ab._closing) {
        return
      }
      m({
        "k-i-close": function() {
          ab._close(true)
        },
        "k-i-maximize": ab.maximize,
        "k-i-minimize": ab.minimize,
        "k-i-restore": ab.restore,
        "k-i-refresh": ab.refresh,
        "k-i-pin": ab.pin,
        "k-i-unpin": ab.unpin
      }, function(ac, ad) {
        if (aa.hasClass(ac)) {
          Z.preventDefault();
          ad.call(ab);
          return false
        }
      })
    },
    _modals: function() {
      var Z = this;
      return a(z).filter(function() {
        var ab = a(this);
        var aa = Z._object(ab).options;
        return aa.modal && aa.visible && ab.is(T)
      }).sort(function(aa, ab) {
        return +a(aa).css("zIndex") - +a(ab).css("zIndex")
      })
    },
    _object: function(aa) {
      var Z = aa.children(A);
      return Z.data("kendoWindow") || Z.data("kendo" + this.options.name)
    },
    center: function() {
      var ac = this,
        ad = ac.wrapper,
        Z = a(window),
        ab = 0,
        aa = 0;
      if (ac.options.isMaximized) {
        return ac
      }
      if (!ac.options.pinned) {
        ab = Z.scrollTop();
        aa = Z.scrollLeft()
      }
      ad.css({
        left: aa + Math.max(0, (Z.width() - ad.width()) / 2),
        top: ab + Math.max(0, (Z.height() - ad.height()) / 2)
      });
      return ac
    },
    title: function(aa) {
      var ab = this,
        af = ab.wrapper,
        Z = ab.options,
        ad = af.children(D),
        ac = ad.children(C),
        ae = ad.outerHeight();
      if (!arguments.length) {
        return ac.text()
      }
      if (aa === false) {
        af.addClass("k-window-titleless");
        ad.remove()
      } else {
        if (!ad.length) {
          af.prepend(Q.titlebar(o(Q, Z)))
        }
        af.css("padding-top", ae);
        ad.css("margin-top", -ae)
      }
      ac.text(aa);
      ab.options.title = aa;
      return ab
    },
    content: function(aa) {
      var Z = this.wrapper.children(A),
        ab = Z.children(".km-scroll-container");
      Z = ab[0] ? ab : Z;
      if (!aa) {
        return Z.html()
      }
      t.destroy(this.element.children());
      Z.html(aa);
      return this
    },
    open: function() {
      var af = this,
        ag = af.wrapper,
        ab = af.options,
        ae = ab.animation.open,
        Z = ag.children(A),
        aa = Z.css(J),
        ac;
      if (!af.trigger(I)) {
        if (af._closing) {
          ag.kendoStop(true, true)
        }
        af._closing = false;
        af.toFront();
        if (ab.autoFocus) {
          af.element.focus()
        }
        ab.visible = true;
        if (ab.modal) {
          ac = af._overlay(false);
          ac.kendoStop(true, true);
          if (ae.duration && t.effects.Fade) {
            var ad = t.fx(ac).fadeIn();
            ad.duration(ae.duration || 0);
            ad.endValue(0.5);
            ad.play()
          } else {
            ac.css("opacity", 0.5)
          }
          ac.show()
        }
        if (!ag.is(T)) {
          Z.css(J, p);
          ag.show().kendoStop().kendoAnimate({
            effects: ae.effects,
            duration: ae.duration,
            complete: function() {
              if (ab.autoFocus) {
                af.element.focus()
              }
              af.trigger(b);
              Z.css(J, aa)
            }
          })
        }
      }
      if (ab.isMaximized) {
        af._documentScrollTop = a(document).scrollTop();
        a("html, body").css(J, p)
      }
      return af
    },
    _removeOverlay: function(af) {
      var ab = this._modals();
      var ac = this.options;
      var aa = ac.modal && !ab.length;
      var ad = ac.modal ? this._overlay(true) : a(S);
      var Z = ac.animation.close;
      if (aa) {
        if (!af && Z.duration && t.effects.Fade) {
          var ae = t.fx(ad).fadeOut();
          ae.duration(Z.duration || 0);
          ae.startValue(0.5);
          ae.play()
        } else {
          this._overlay(false).remove()
        }
      } else {
        if (ab.length) {
          this._object(ab.last())._overlay(true)
        }
      }
    },
    _close: function(ad) {
      var ac = this,
        ae = ac.wrapper,
        aa = ac.options,
        ab = aa.animation.open,
        Z = aa.animation.close;
      if (ae.is(T) && !ac.trigger(e, {
        userTriggered: !! ad
      })) {
        ac._closing = true;
        aa.visible = false;
        a(z).each(function(ah, ag) {
          var af = a(ag).children(A);
          if (ag != ae && af.find("> ." + s).length > 0) {
            af.children(w).remove()
          }
        });
        this._removeOverlay();
        ae.kendoStop().kendoAnimate({
          effects: Z.effects || ab.effects,
          reverse: Z.reverse === true,
          duration: Z.duration,
          complete: function() {
            ae.hide().css("opacity", "");
            ac.trigger(h);
            var af = ac._object(ac._modals().last());
            if (af) {
              af.toFront()
            }
          }
        })
      }
      if (ac.options.isMaximized) {
        a("html, body").css(J, "");
        if (ac._documentScrollTop && ac._documentScrollTop > 0) {
          a(document).scrollTop(ac._documentScrollTop)
        }
      }
    },
    close: function() {
      this._close(false);
      return this
    },
    _actionable: function(Z) {
      return a(Z).is(R + "," + R + " .k-icon,:input,a")
    },
    _shouldFocus: function(ab) {
      var Z = c(),
        aa = this.element;
      return this.options.autoFocus && !a(Z).is(aa) && !this._actionable(ab) && (!aa.find(Z).length || !aa.find(ab).length)
    },
    toFront: function(aa) {
      var ae = this,
        ag = ae.wrapper,
        Z = ag[0],
        ah = +ag.css(Y),
        ab = ah,
        ad = (aa && aa.target) || null;
      a(z).each(function(ak, aj) {
        var al = a(aj),
          am = al.css(Y),
          ai = al.children(A);
        if (!isNaN(am)) {
          ah = Math.max(+am, ah)
        }
        if (aj != Z && ai.find("> ." + s).length > 0) {
          ai.append(Q.overlay)
        }
      });
      if (!ag[0].style.zIndex || ab < ah) {
        ag.css(Y, ah + 2)
      }
      ae.element.find("> .k-overlay").remove();
      if (ae._shouldFocus(ad)) {
        ae.element.focus();
        var ac = a(window).scrollTop(),
          af = parseInt(ag.position().top, 10);
        if (af > 0 && af < ac) {
          if (ac > 0) {
            a(window).scrollTop(af)
          } else {
            ag.css("top", ac)
          }
        }
      }
      return ae
    },
    toggleMaximization: function() {
      if (this._closing) {
        return this
      }
      return this[this.options.isMaximized ? "restore" : "maximize"]()
    },
    restore: function() {
      var ac = this;
      var aa = ac.options;
      var Z = aa.minHeight;
      var ab = ac.restoreOptions;
      if (!aa.isMaximized && !aa.isMinimized) {
        return ac
      }
      if (Z && Z != Infinity) {
        ac.wrapper.css("min-height", Z)
      }
      ac.wrapper.css({
        position: aa.pinned ? "fixed" : "absolute",
        left: ab.left,
        top: ab.top,
        width: ab.width,
        height: ab.height
      }).removeClass(F).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(G).parent().show().end().end().find(K).parent().show();
      ac.options.width = ab.width;
      ac.options.height = ab.height;
      a("html, body").css(J, "");
      if (this._documentScrollTop && this._documentScrollTop > 0) {
        a(document).scrollTop(this._documentScrollTop)
      }
      aa.isMaximized = aa.isMinimized = false;
      ac.resize();
      return ac
    },
    maximize: O("maximize", function() {
      var aa = this,
        ab = aa.wrapper,
        Z = ab.position();
      o(aa.restoreOptions, {
        left: Z.left,
        top: Z.top
      });
      ab.css({
        left: 0,
        top: 0,
        position: "fixed"
      }).addClass(F);
      this._documentScrollTop = a(document).scrollTop();
      a("html, body").css(J, p);
      aa.options.isMaximized = true;
      aa._onDocumentResize()
    }),
    minimize: O("minimize", function() {
      var Z = this;
      Z.wrapper.css({
        height: "",
        minHeight: ""
      });
      Z.element.hide();
      Z.options.isMinimized = true
    }),
    pin: function(Z) {
      var ab = this,
        ad = a(window),
        ae = ab.wrapper,
        ac = parseInt(ae.css("top"), 10),
        aa = parseInt(ae.css("left"), 10);
      if (Z || !ab.options.pinned && !ab.options.isMaximized) {
        ae.css({
          position: "fixed",
          top: ac - ad.scrollTop(),
          left: aa - ad.scrollLeft()
        });
        ae.children(D).find(x).addClass("k-i-unpin").removeClass("k-i-pin");
        ab.options.pinned = true
      }
    },
    unpin: function() {
      var aa = this,
        ac = a(window),
        ad = aa.wrapper,
        ab = parseInt(ad.css("top"), 10),
        Z = parseInt(ad.css("left"), 10);
      if (aa.options.pinned && !aa.options.isMaximized) {
        ad.css({
          position: "",
          top: ab + ac.scrollTop(),
          left: Z + ac.scrollLeft()
        });
        ad.children(D).find(y).addClass("k-i-pin").removeClass("k-i-unpin");
        aa.options.pinned = false
      }
    },
    _onDocumentResize: function() {
      var aa = this,
        ad = aa.wrapper,
        ac = a(window),
        ab, Z;
      if (!aa.options.isMaximized) {
        return
      }
      ab = ac.width();
      Z = ac.height() - parseInt(ad.css("padding-top"), 10);
      ad.css({
        width: ab,
        height: Z
      });
      aa.options.width = ab;
      aa.options.height = Z;
      aa.resize()
    },
    refresh: function(ac) {
      var ae = this,
        ab = ae.options,
        Z = a(ae.element),
        aa, ad, af;
      if (!r(ac)) {
        ac = {
          url: ac
        }
      }
      ac = o({}, ab.content, ac);
      ad = i(ab.iframe) ? ab.iframe : ac.iframe;
      af = ac.url;
      if (af) {
        if (!i(ad)) {
          ad = !q(af)
        }
        if (!ad) {
          ae._ajaxRequest(ac)
        } else {
          aa = Z.find("." + s)[0];
          if (aa) {
            aa.src = af || aa.src
          } else {
            Z.html(Q.contentFrame(o({}, ab, {
              content: ac
            })))
          }
          Z.find("." + s).unbind("load" + H).on("load" + H, function() {
            ae.trigger(M)
          })
        }
      } else {
        if (ac.template) {
          ae.content(P(ac.template)({}))
        }
        ae.trigger(M)
      }
      Z.toggleClass("k-window-iframecontent", ad);
      return ae
    },
    _ajaxRequest: function(ab) {
      var ad = this,
        Z = ab.template,
        ac = ad.wrapper.find(".k-window-titlebar .k-i-refresh"),
        aa = setTimeout(function() {
          ac.addClass(E)
        }, 100);
      a.ajax(o({
        type: "GET",
        dataType: "html",
        cache: false,
        error: function(af, ae) {
          ad.trigger(n, {
            status: ae,
            xhr: af
          })
        },
        complete: function() {
          clearTimeout(aa);
          ac.removeClass(E)
        },
        success: function(ae) {
          if (Z) {
            ae = P(Z)(ae || {})
          }
          ad.content(ae);
          ad.element.prop("scrollTop", 0);
          ad.trigger(M)
        }
      }, ab))
    },
    destroy: function() {
      var Z = this.wrapper;
      U.fn.destroy.call(this);
      t.destroy(Z);
      if (this.resizing) {
        this.resizing.destroy()
      }
      if (this.dragging) {
        this.dragging.destroy()
      }
      this.element.children("iframe").remove();
      Z.find(".k-resize-handle,.k-window-titlebar").off(H);
      Z.remove().off(H);
      a(window).off("resize", this._resizeHandler);
      this._removeOverlay(true)
    },
    _createWindow: function() {
      var ad = this,
        Z = ad.element,
        ac = ad.options,
        aa, ae, ab = t.support.isRtl(Z);
      if (ac.scrollable === false) {
        Z.attr("style", "overflow:hidden;")
      }
      ae = a(Q.wrapper(ac));
      if (ac.title !== false) {
        ae.append(Q.titlebar(o(Q, ac)))
      }
      aa = Z.find("iframe:not(.k-content)").map(function() {
        var af = this.getAttribute("src");
        this.src = "";
        return af
      });
      ae.toggleClass("k-rtl", ab).appendTo(ad.appendTo).append(Z).find("iframe:not(.k-content)").each(function(af) {
        this.src = aa[af]
      });
      ae.find(".k-window-title").css(ab ? "left" : "right", ae.find(".k-window-actions").outerWidth() + 10);
      Z.show();
      Z.find("[data-role=editor]").each(function() {
        var af = a(this).data("kendoEditor");
        if (af) {
          af.refresh()
        }
      })
    }
  });
  Q = {
    wrapper: P("<div class='k-widget k-window' />"),
    action: P("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),
    titlebar: P("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions'># for (var i = 0; i < actions.length; i++) { ##= action({ name: actions[i] }) ## } #</div></div>"),
    overlay: "<div class='k-overlay' />",
    contentFrame: P("<iframe frameborder='0' title='#= title #' class='" + s + "' src='#= content.url #'>This page requires frames in order to show content</iframe>"),
    resizeHandle: P("<div class='k-resize-handle k-resize-#= data #'></div>")
  };

  function X(aa) {
    var Z = this;
    Z.owner = aa;
    Z._draggable = new k(aa.wrapper, {
      filter: B,
      group: aa.wrapper.id + "-resizing",
      dragstart: L(Z.dragstart, Z),
      drag: L(Z.drag, Z),
      dragend: L(Z.dragend, Z)
    })
  }
  X.prototype = {
    dragstart: function(Z) {
      var aa = this,
        ab = aa.owner,
        ac = ab.wrapper;
      aa.elementPadding = parseInt(ab.wrapper.css("padding-top"), 10);
      aa.initialCursorPosition = t.getOffset(ac, "position");
      aa.resizeDirection = Z.currentTarget.prop("className").replace("k-resize-handle k-resize-", "");
      aa.initialSize = {
        width: ac.width(),
        height: ac.height()
      };
      aa.containerOffset = t.getOffset(ab.appendTo);
      ac.append(Q.overlay).children(B).not(Z.currentTarget).hide();
      a(d).css(g, Z.currentTarget.css(g))
    },
    drag: function(ab) {
      var ah = this,
        ak = ah.owner,
        al = ak.wrapper,
        ag = ak.options,
        aa = ah.resizeDirection,
        Z = ah.containerOffset,
        ac = ah.initialCursorPosition,
        ad = ah.initialSize,
        af, ae, ai, aj, am = Math.max(ab.x.location, Z.left),
        an = Math.max(ab.y.location, Z.top);
      if (aa.indexOf("e") >= 0) {
        af = am - ac.left;
        al.width(f(af, ag.minWidth, ag.maxWidth))
      } else {
        if (aa.indexOf("w") >= 0) {
          aj = ac.left + ad.width;
          af = f(aj - am, ag.minWidth, ag.maxWidth);
          al.css({
            left: aj - af - Z.left,
            width: af
          })
        }
      }
      if (aa.indexOf("s") >= 0) {
        ae = an - ac.top - ah.elementPadding;
        al.height(f(ae, ag.minHeight, ag.maxHeight))
      } else {
        if (aa.indexOf("n") >= 0) {
          ai = ac.top + ad.height;
          ae = f(ai - an, ag.minHeight, ag.maxHeight);
          al.css({
            top: ai - ae - Z.top,
            height: ae
          })
        }
      }
      if (af) {
        ak.options.width = af + "px"
      }
      if (ae) {
        ak.options.height = ae + "px"
      }
      ak.resize()
    },
    dragend: function(Z) {
      var aa = this,
        ab = aa.owner,
        ac = ab.wrapper;
      ac.find(w).remove().end().children(B).not(Z.currentTarget).show();
      a(d).css(g, "");
      if (ab.touchScroller) {
        ab.touchScroller.reset()
      }
      if (Z.keyCode == 27) {
        ac.css(aa.initialCursorPosition).css(aa.initialSize)
      }
      return false
    },
    destroy: function() {
      this._draggable.destroy()
    }
  };

  function W(ab, Z) {
    var aa = this;
    aa.owner = ab;
    aa._draggable = new k(ab.wrapper, {
      filter: Z,
      group: ab.wrapper.id + "-moving",
      dragstart: L(aa.dragstart, aa),
      drag: L(aa.drag, aa),
      dragend: L(aa.dragend, aa),
      dragcancel: L(aa.dragcancel, aa)
    });
    aa._draggable.userEvents.stopPropagation = false
  }
  W.prototype = {
    dragstart: function(ab) {
      var ad = this.owner,
        ac = ad.element,
        Z = ac.find(".k-window-actions"),
        aa = t.getOffset(ad.appendTo);
      ad.trigger(l);
      ad.initialWindowPosition = t.getOffset(ad.wrapper, "position");
      ad.startPosition = {
        left: ab.x.client - ad.initialWindowPosition.left,
        top: ab.y.client - ad.initialWindowPosition.top
      };
      if (Z.length > 0) {
        ad.minLeftPosition = Z.outerWidth() + parseInt(Z.css("right"), 10) - ac.outerWidth()
      } else {
        ad.minLeftPosition = 20 - ac.outerWidth()
      }
      ad.minLeftPosition -= aa.left;
      ad.minTopPosition = -aa.top;
      ad.wrapper.append(Q.overlay).children(B).hide();
      a(d).css(g, ab.currentTarget.css(g))
    },
    drag: function(aa) {
      var ae = this.owner,
        ad = ae.options.position,
        ac = Math.max(aa.y.client - ae.startPosition.top, ae.minTopPosition),
        ab = Math.max(aa.x.client - ae.startPosition.left, ae.minLeftPosition),
        Z = {
          left: ab,
          top: ac
        };
      a(ae.wrapper).css(Z);
      ad.top = ac;
      ad.left = ab
    },
    _finishDrag: function() {
      var Z = this.owner;
      Z.wrapper.children(B).toggle(!Z.options.isMinimized).end().find(w).remove();
      a(d).css(g, "")
    },
    dragcancel: function(Z) {
      this._finishDrag();
      Z.currentTarget.closest(z).css(this.owner.initialWindowPosition)
    },
    dragend: function() {
      this._finishDrag();
      this.owner.trigger(j);
      return false
    },
    destroy: function() {
      this._draggable.destroy()
    }
  };
  t.ui.plugin(V)
})(window.kendo.jQuery);
kendo_module({
  id: "slider",
  name: "Slider",
  category: "web",
  description: "The Slider widget provides a rich input for selecting values or ranges of values.",
  depends: ["draganddrop"]
});
(function(a, X) {
  var s = window.kendo,
    Z = s.ui.Widget,
    l = s.ui.Draggable,
    m = a.extend,
    o = s.format,
    B = s.parseFloat,
    F = a.proxy,
    r = a.isArray,
    u = Math,
    R = s.support,
    D = R.pointers,
    z = R.msPointers,
    c = "change",
    J = "slide",
    A = ".slider",
    v = "touchstart" + A + " mousedown" + A,
    U = D ? "pointerdown" + A : (z ? "MSPointerDown" + A : v),
    x = "touchend" + A + " mouseup" + A,
    V = D ? "pointerup" : (z ? "MSPointerUp" + A : x),
    y = "moveSelection",
    t = "keydown" + A,
    d = "click" + A,
    w = "mouseover" + A,
    n = "focus" + A,
    b = "blur" + A,
    k = ".k-draghandle",
    W = ".k-slider-track",
    T = ".k-tick",
    P = "k-state-selected",
    O = "k-state-focused",
    M = "k-state-default",
    N = "k-state-disabled",
    E = 3,
    j = "disabled",
    Y = "undefined",
    S = "tabindex",
    q = s.getTouches;
  var L = Z.extend({
    init: function(aa, ab) {
      var ad = this;
      Z.fn.init.call(ad, aa, ab);
      ab = ad.options;
      ad._distance = ab.max - ab.min;
      ad._isHorizontal = ab.orientation == "horizontal";
      ad._isRtl = ad._isHorizontal && s.support.isRtl(aa);
      ad._position = ad._isHorizontal ? "left" : "bottom";
      ad._sizeFn = ad._isHorizontal ? "width" : "height";
      ad._outerSize = ad._isHorizontal ? "outerWidth" : "outerHeight";
      ab.tooltip.format = ab.tooltip.enabled ? ab.tooltip.format || "{0}" : "{0}";
      ad._createHtml();
      ad.wrapper = ad.element.closest(".k-slider");
      ad._trackDiv = ad.wrapper.find(W);
      ad._setTrackDivWidth();
      ad._maxSelection = ad._trackDiv[ad._sizeFn]();
      ad._sliderItemsInit();
      ad._tabindex(ad.wrapper.find(k));
      ad[ab.enabled ? "enable" : "disable"]();
      var ac = s.support.isRtl(ad.wrapper) ? -1 : 1;
      ad._keyMap = {
        37: Q(-1 * ac * ab.smallStep),
        40: Q(-ab.smallStep),
        39: Q(+1 * ac * ab.smallStep),
        38: Q(+ab.smallStep),
        35: I(ab.max),
        36: I(ab.min),
        33: Q(+ab.largeStep),
        34: Q(-ab.largeStep)
      };
      s.notify(ad)
    },
    events: [c, J],
    options: {
      enabled: true,
      min: 0,
      max: 10,
      smallStep: 1,
      largeStep: 5,
      orientation: "horizontal",
      tickPlacement: "both",
      tooltip: {
        enabled: true,
        format: "{0}"
      }
    },
    _resize: function() {
      this._setTrackDivWidth();
      this.wrapper.find(".k-slider-items").remove();
      this._maxSelection = this._trackDiv[this._sizeFn]();
      this._sliderItemsInit();
      this._refresh()
    },
    _sliderItemsInit: function() {
      var ad = this,
        aa = ad.options;
      var ac = ad._maxSelection / ((aa.max - aa.min) / aa.smallStep);
      var ab = ad._calculateItemsWidth(u.floor(ad._distance / aa.smallStep));
      if (aa.tickPlacement != "none" && ac >= 2) {
        ad._trackDiv.before(f(aa, ad._distance));
        ad._setItemsWidth(ab);
        ad._setItemsTitle()
      }
      ad._calculateSteps(ab);
      if (aa.tickPlacement != "none" && ac >= 2 && aa.largeStep > aa.smallStep) {
        ad._setItemsLargeTick()
      }
    },
    getSize: function() {
      return s.dimensions(this.wrapper)
    },
    _setTrackDivWidth: function() {
      var aa = this,
        ab = parseFloat(aa._trackDiv.css(aa._isRtl ? "right" : aa._position), 10) * 2;
      aa._trackDiv[aa._sizeFn]((aa.wrapper[aa._sizeFn]() - 2) - ab)
    },
    _setItemsWidth: function(ai) {
      var ak = this,
        ag = ak.options,
        ac = 0,
        af = ai.length - 1,
        ae = ak.wrapper.find(T),
        ad, ah = 0,
        aa = 2,
        ab = ae.length,
        aj = 0;
      for (ad = 0; ad < ab - 2; ad++) {
        a(ae[ad + 1])[ak._sizeFn](ai[ad])
      }
      if (ak._isHorizontal) {
        a(ae[ac]).addClass("k-first")[ak._sizeFn](ai[af - 1]);
        a(ae[af]).addClass("k-last")[ak._sizeFn](ai[af])
      } else {
        a(ae[af]).addClass("k-first")[ak._sizeFn](ai[af]);
        a(ae[ac]).addClass("k-last")[ak._sizeFn](ai[af - 1])
      }
      if (ak._distance % ag.smallStep !== 0 && !ak._isHorizontal) {
        for (ad = 0; ad < ai.length; ad++) {
          aj += ai[ad]
        }
        ah = ak._maxSelection - aj;
        ah += parseFloat(ak._trackDiv.css(ak._position), 10) + aa;
        ak.wrapper.find(".k-slider-items").css("padding-top", ah)
      }
    },
    _setItemsTitle: function() {
      var ag = this,
        af = ag.options,
        ad = ag.wrapper.find(T),
        ah = af.min,
        aa = ad.length,
        ab = ag._isHorizontal && !ag._isRtl ? 0 : aa - 1,
        ae = ag._isHorizontal && !ag._isRtl ? aa : -1,
        ac = ag._isHorizontal && !ag._isRtl ? 1 : -1;
      for (; ab - ae !== 0; ab += ac) {
        a(ad[ab]).attr("title", o(af.tooltip.format, H(ah)));
        ah += af.smallStep
      }
    },
    _setItemsLargeTick: function() {
      var ae = this,
        ad = ae.options,
        ac = ae.wrapper.find(T),
        aa = 0,
        ab, af;
      if ((1000 * ad.largeStep) % (1000 * ad.smallStep) === 0 || ae._distance / ad.largeStep >= 3) {
        if (ae._isHorizontal && !ae._isRtl) {
          ac = a.makeArray(ac).reverse()
        }
        for (aa = 0; aa < ac.length; aa++) {
          ab = a(ac[aa]);
          af = ae._values[aa];
          if (af % ad.smallStep === 0 && af % ad.largeStep === 0) {
            ab.addClass("k-tick-large").html("<span class='k-label'>" + ab.attr("title") + "</span>");
            if (aa !== 0 && aa !== ac.length - 1) {
              ab.css("line-height", ab[ae._sizeFn]() + "px")
            }
          }
        }
      }
    },
    _calculateItemsWidth: function(ab) {
      var ag = this,
        ad = ag.options,
        ah = parseFloat(ag._trackDiv.css(ag._sizeFn)) + 1,
        ae = ah / ag._distance,
        ac, af, aa;
      if ((ag._distance / ad.smallStep) - u.floor(ag._distance / ad.smallStep) > 0) {
        ah -= ((ag._distance % ad.smallStep) * ae)
      }
      ac = ah / ab;
      af = [];
      for (aa = 0; aa < ab - 1; aa++) {
        af[aa] = ac
      }
      af[ab - 1] = af[ab] = ac / 2;
      return ag._roundWidths(af)
    },
    _roundWidths: function(ad) {
      var aa = 0,
        ab = ad.length,
        ac;
      for (ac = 0; ac < ab; ac++) {
        aa += (ad[ac] - u.floor(ad[ac]));
        ad[ac] = u.floor(ad[ac])
      }
      aa = u.round(aa);
      return this._addAdditionalSize(aa, ad)
    },
    _addAdditionalSize: function(aa, ac) {
      if (aa === 0) {
        return ac
      }
      var ad = parseFloat(ac.length - 1) / parseFloat(aa == 1 ? aa : aa - 1),
        ab;
      for (ab = 0; ab < aa; ab++) {
        ac[parseInt(u.round(ad * ab), 10)] += 1
      }
      return ac
    },
    _calculateSteps: function(ae) {
      var ag = this,
        ad = ag.options,
        ah = ad.min,
        af = 0,
        ab = u.ceil(ag._distance / ad.smallStep),
        aa = 1,
        ac;
      ab += (ag._distance / ad.smallStep) % 1 === 0 ? 1 : 0;
      ae.splice(0, 0, ae[ab - 2] * 2);
      ae.splice(ab - 1, 1, ae.pop() * 2);
      ag._pixelSteps = [af];
      ag._values = [ah];
      if (ab === 0) {
        return
      }
      while (aa < ab) {
        af += (ae[aa - 1] + ae[aa]) / 2;
        ag._pixelSteps[aa] = af;
        ag._values[aa] = ah += ad.smallStep;
        aa++
      }
      ac = ag._distance % ad.smallStep === 0 ? ab - 1 : ab;
      ag._pixelSteps[ac] = ag._maxSelection;
      ag._values[ac] = ad.max;
      if (ag._isRtl) {
        ag._pixelSteps.reverse();
        ag._values.reverse()
      }
    },
    _getValueFromPosition: function(ad, aa) {
      var ah = this,
        ae = ah.options,
        ag = u.max(ae.smallStep * (ah._maxSelection / ah._distance), 0),
        af = 0,
        ab = (ag / 2),
        ac;
      if (ah._isHorizontal) {
        af = ad - aa.startPoint;
        if (ah._isRtl) {
          af = ah._maxSelection - af
        }
      } else {
        af = aa.startPoint - ad
      }
      if (ah._maxSelection - ((parseInt(ah._maxSelection % ag, 10) - 3) / 2) < af) {
        return ae.max
      }
      for (ac = 0; ac < ah._pixelSteps.length; ac++) {
        if (u.abs(ah._pixelSteps[ac] - af) - 1 <= ab) {
          return H(ah._values[ac])
        }
      }
    },
    _getFormattedValue: function(ah, aa) {
      var ae = this,
        ab = "",
        af = ae.options.tooltip,
        ag, ad, ac;
      if (r(ah)) {
        ad = ah[0];
        ac = ah[1]
      } else {
        if (aa && aa.type) {
          ad = aa.selectionStart;
          ac = aa.selectionEnd
        }
      }
      if (aa) {
        ag = aa.tooltipTemplate
      }
      if (!ag && af.template) {
        ag = s.template(af.template)
      }
      if (r(ah) || (aa && aa.type)) {
        if (ag) {
          ab = ag({
            selectionStart: ad,
            selectionEnd: ac
          })
        } else {
          ad = o(af.format, ad);
          ac = o(af.format, ac);
          ab = ad + " - " + ac
        }
      } else {
        if (aa) {
          aa.val = ah
        }
        if (ag) {
          ab = ag({
            value: ah
          })
        } else {
          ab = o(af.format, ah)
        }
      }
      return ab
    },
    _getDraggableArea: function() {
      var ab = this,
        aa = s.getOffset(ab._trackDiv);
      return {
        startPoint: ab._isHorizontal ? aa.left : aa.top + ab._maxSelection,
        endPoint: ab._isHorizontal ? aa.left + ab._maxSelection : aa.top
      }
    },
    _createHtml: function() {
      var ad = this,
        aa = ad.element,
        ac = ad.options,
        ab = aa.find("input");
      if (ab.length == 2) {
        ab.eq(0).val(ac.selectionStart);
        ab.eq(1).val(ac.selectionEnd)
      } else {
        aa.val(ac.value)
      }
      aa.wrap(h(ac, aa, ad._isHorizontal)).hide();
      if (ac.showButtons) {
        aa.before(e(ac, "increase", ad._isHorizontal)).before(e(ac, "decrease", ad._isHorizontal))
      }
      aa.before(g(ac, aa))
    },
    _focus: function(ab) {
      var ad = this,
        ac = ab.target,
        ae = ad.value(),
        aa = ad._drag;
      if (!aa) {
        if (ac == ad.wrapper.find(k).eq(0)[0]) {
          aa = ad._firstHandleDrag;
          ad._activeHandle = 0
        } else {
          aa = ad._lastHandleDrag;
          ad._activeHandle = 1
        }
        ae = ae[ad._activeHandle]
      }
      a(ac).addClass(O + " " + P);
      if (aa) {
        ad._activeHandleDrag = aa;
        aa.selectionStart = ad.options.selectionStart;
        aa.selectionEnd = ad.options.selectionEnd;
        aa._updateTooltip(ae)
      }
    },
    _focusWithMouse: function(ab) {
      ab = a(ab);
      var ac = this,
        aa = ab.is(k) ? ab.index() : 0;
      window.setTimeout(function() {
        ac.wrapper.find(k)[aa == 2 ? 1 : 0].focus()
      }, 1);
      ac._setTooltipTimeout()
    },
    _blur: function(ab) {
      var ac = this,
        aa = ac._activeHandleDrag;
      a(ab.target).removeClass(O + " " + P);
      if (aa) {
        aa._removeTooltip();
        delete ac._activeHandleDrag;
        delete ac._activeHandle
      }
    },
    _setTooltipTimeout: function() {
      var aa = this;
      aa._tooltipTimeout = window.setTimeout(function() {
        var ab = aa._drag || aa._activeHandleDrag;
        if (ab) {
          ab._removeTooltip()
        }
      }, 300)
    },
    _clearTooltipTimeout: function() {
      var ab = this;
      window.clearTimeout(this._tooltipTimeout);
      var aa = ab._drag || ab._activeHandleDrag;
      if (aa && aa.tooltipDiv) {
        aa.tooltipDiv.stop(true, false).css("opacity", 1)
      }
    }
  });

  function h(ad, ab, ac) {
    var ae = ac ? " k-slider-horizontal" : " k-slider-vertical",
      af = ad.style ? ad.style : ab.attr("style"),
      aa = ab.attr("class") ? (" " + ab.attr("class")) : "",
      ag = "";
    if (ad.tickPlacement == "bottomRight") {
      ag = " k-slider-bottomright"
    } else {
      if (ad.tickPlacement == "topLeft") {
        ag = " k-slider-topleft"
      }
    }
    af = af ? " style='" + af + "'" : "";
    return "<div class='k-widget k-slider" + ae + aa + "'" + af + "><div class='k-slider-wrap" + (ad.showButtons ? " k-slider-buttons" : "") + ag + "'></div></div>"
  }
  function e(ac, ad, ab) {
    var aa = "";
    if (ad == "increase") {
      aa = ab ? "k-i-arrow-e" : "k-i-arrow-n"
    } else {
      aa = ab ? "k-i-arrow-w" : "k-i-arrow-s"
    }
    return "<a class='k-button k-button-" + ad + "'><span class='k-icon " + aa + "' title='" + ac[ad + "ButtonTitle"] + "'>" + ac[ad + "ButtonTitle"] + "</span></a>"
  }
  function f(ad, ab) {
    var ae = "<ul class='k-reset k-slider-items'>",
      aa = u.floor(H(ab / ad.smallStep)) + 1,
      ac;
    for (ac = 0; ac < aa; ac++) {
      ae += "<li class='k-tick' role='presentation'>&nbsp;</li>"
    }
    ae += "</ul>";
    return ae
  }
  function g(ad, ab) {
    var aa = ab.is("input") ? 1 : 2,
      ac = aa == 2 ? ad.leftDragHandleTitle : ad.dragHandleTitle;
    return "<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='" + ac + "' role='slider' aria-valuemin='" + ad.min + "' aria-valuemax='" + ad.max + "' aria-valuenow='" + (aa > 1 ? (ad.selectionStart || ad.min) : ad.value || ad.min) + "'>Drag</a>" + (aa > 1 ? "<a href='#' class='k-draghandle' title='" + ad.rightDragHandleTitle + "'role='slider' aria-valuemin='" + ad.min + "' aria-valuemax='" + ad.max + "' aria-valuenow='" + (ad.selectionEnd || ad.max) + "'>Drag</a>" : "") + "</div>"
  }
  function Q(aa) {
    return function(ab) {
      return ab + aa
    }
  }
  function I(aa) {
    return function() {
      return aa
    }
  }
  function p(aa) {
    return (aa + "").replace(".", s.cultures.current.numberFormat["."])
  }
  function H(ab) {
    ab = parseFloat(ab, 10);
    var aa = u.pow(10, E || 0);
    return u.round(ab * aa) / aa
  }
  function C(aa, ab) {
    var ac = B(aa.getAttribute(ab));
    if (ac === null) {
      ac = X
    }
    return ac
  }
  function i(aa) {
    return typeof aa !== Y
  }
  var K = L.extend({
    init: function(ab, ac) {
      var ad = this,
        aa;
      ab.type = "text";
      ac = m({}, {
        value: C(ab, "value"),
        min: C(ab, "min"),
        max: C(ab, "max"),
        smallStep: C(ab, "step")
      }, ac);
      ab = a(ab);
      if (ac && ac.enabled === X) {
        ac.enabled = !ab.is("[disabled]")
      }
      L.fn.init.call(ad, ab, ac);
      ac = ad.options;
      if (!i(ac.value) || ac.value === null) {
        ac.value = ac.min;
        ab.val(ac.min)
      }
      ac.value = u.max(u.min(ac.value, ac.max), ac.min);
      aa = ad.wrapper.find(k);
      new K.Selection(aa, ad, ac);
      ad._drag = new K.Drag(aa, "", ad, ac)
    },
    options: {
      name: "Slider",
      showButtons: true,
      increaseButtonTitle: "Increase",
      decreaseButtonTitle: "Decrease",
      dragHandleTitle: "drag",
      tooltip: {
        format: "{0}"
      },
      value: null
    },
    enable: function(ab) {
      var af = this,
        ae = af.options,
        aa, ad;
      af.disable();
      if (ab === false) {
        return
      }
      af.wrapper.removeClass(N).addClass(M);
      af.wrapper.find("input").removeAttr(j);
      aa = function(ah) {
        var ak = q(ah)[0];
        if (!ak) {
          return
        }
        var ai = af._isHorizontal ? ak.location.pageX : ak.location.pageY,
          ag = af._getDraggableArea(),
          aj = a(ah.target);
        if (aj.hasClass("k-draghandle")) {
          aj.addClass(O + " " + P);
          return
        }
        af._update(af._getValueFromPosition(ai, ag));
        af._focusWithMouse(ah.target);
        af._drag.dragstart(ah);
        ah.preventDefault()
      };
      af.wrapper.find(T + ", " + W).on(U, aa).end().on(U, function() {
        a(document.documentElement).one("selectstart", s.preventDefault)
      }).on(V, function() {
        if (af._activeDragHandle) {
          af._activeDragHandle._end()
        }
      });
      af.wrapper.find(k).attr(S, 0).on(x, function() {
        af._setTooltipTimeout()
      }).on(d, function(ag) {
        af._focusWithMouse(ag.target);
        ag.preventDefault()
      }).on(n, F(af._focus, af)).on(b, F(af._blur, af));
      ad = F(function(ah) {
        var ag = af._nextValueByIndex(af._valueIndex + (ah * 1));
        af._setValueInRange(ag);
        af._drag._updateTooltip(ag)
      }, af);
      if (ae.showButtons) {
        var ac = F(function(ag, ah) {
          this._clearTooltipTimeout();
          if (ag.which === 1 || (R.touch && ag.which === 0)) {
            ad(ah);
            this.timeout = setTimeout(F(function() {
              this.timer = setInterval(function() {
                ad(ah)
              }, 60)
            }, this), 200)
          }
        }, af);
        af.wrapper.find(".k-button").on(x, F(function(ag) {
          this._clearTimer();
          af._focusWithMouse(ag.target)
        }, af)).on(w, function(ag) {
          a(ag.currentTarget).addClass("k-state-hover")
        }).on("mouseout" + A, F(function(ag) {
          a(ag.currentTarget).removeClass("k-state-hover");
          this._clearTimer()
        }, af)).eq(0).on(v, F(function(ag) {
          ac(ag, 1)
        }, af)).click(false).end().eq(1).on(v, F(function(ag) {
          ac(ag, -1)
        }, af)).click(s.preventDefault)
      }
      af.wrapper.find(k).off(t, false).on(t, F(this._keydown, af));
      ae.enabled = true
    },
    disable: function() {
      var aa = this;
      aa.wrapper.removeClass(M).addClass(N);
      a(aa.element).prop(j, j);
      aa.wrapper.find(".k-button").off(v).on(v, s.preventDefault).off(x).on(x, s.preventDefault).off("mouseleave" + A).on("mouseleave" + A, s.preventDefault).off(w).on(w, s.preventDefault);
      aa.wrapper.find(T + ", " + W).off(U).off(V);
      aa.wrapper.find(k).attr(S, -1).off(x).off(t).off(d).off(n).off(b);
      aa.options.enabled = false
    },
    _update: function(ac) {
      var ab = this,
        aa = ab.value() != ac;
      ab.value(ac);
      if (aa) {
        ab.trigger(c, {
          value: ab.options.value
        })
      }
    },
    value: function(ac) {
      var ab = this,
        aa = ab.options;
      ac = H(ac);
      if (isNaN(ac)) {
        return aa.value
      }
      if (ac >= aa.min && ac <= aa.max) {
        if (aa.value != ac) {
          ab.element.prop("value", p(ac));
          aa.value = ac;
          ab._refreshAriaAttr(ac);
          ab._refresh()
        }
      }
    },
    _refresh: function() {
      this.trigger(y, {
        value: this.options.value
      })
    },
    _refreshAriaAttr: function(ad) {
      var ac = this,
        aa = ac._drag,
        ab;
      if (aa && aa._tooltipDiv) {
        ab = aa._tooltipDiv.text()
      } else {
        ab = ac._getFormattedValue(ad, null)
      }
      this.wrapper.find(k).attr("aria-valuenow", ad).attr("aria-valuetext", ab)
    },
    _clearTimer: function() {
      clearTimeout(this.timeout);
      clearInterval(this.timer)
    },
    _keydown: function(aa) {
      var ab = this;
      if (aa.keyCode in ab._keyMap) {
        ab._clearTooltipTimeout();
        ab._setValueInRange(ab._keyMap[aa.keyCode](ab.options.value));
        ab._drag._updateTooltip(ab.value());
        aa.preventDefault()
      }
    },
    _setValueInRange: function(ac) {
      var ab = this,
        aa = ab.options;
      ac = H(ac);
      if (isNaN(ac)) {
        ab._update(aa.min);
        return
      }
      ac = u.max(u.min(ac, aa.max), aa.min);
      ab._update(ac)
    },
    _nextValueByIndex: function(ab) {
      var aa = this._values.length;
      if (this._isRtl) {
        ab = aa - 1 - ab
      }
      return this._values[u.max(0, u.min(ab, aa - 1))]
    },
    destroy: function() {
      var aa = this;
      Z.fn.destroy.call(aa);
      aa.wrapper.off(A).find(".k-button").off(A).end().find(k).off(A).end().find(T + ", " + W).off(A).end();
      aa._drag.draggable.destroy();
      aa._drag._removeTooltip(true)
    }
  });
  K.Selection = function(aa, ad, ac) {
    function ab(ak) {
      var aj = ak - ac.min,
        af = ad._valueIndex = u.ceil(H(aj / ac.smallStep)),
        ah = parseInt(ad._pixelSteps[af], 10),
        ai = ad._trackDiv.find(".k-slider-selection"),
        ae = parseInt(aa[ad._outerSize]() / 2, 10),
        ag = ad._isRtl ? 2 : 0;
      ai[ad._sizeFn](ad._isRtl ? ad._maxSelection - ah : ah);
      aa.css(ad._position, ah - ae - ag)
    }
    ab(ac.value);
    ad.bind([c, J, y], function(ae) {
      ab(parseFloat(ae.value, 10))
    })
  };
  K.Drag = function(aa, ae, ac, ab) {
    var ad = this;
    ad.owner = ac;
    ad.options = ab;
    ad.element = aa;
    ad.type = ae;
    ad.draggable = new l(aa, {
      distance: 0,
      dragstart: F(ad._dragstart, ad),
      drag: F(ad.drag, ad),
      dragend: F(ad.dragend, ad),
      dragcancel: F(ad.dragcancel, ad)
    });
    aa.click(false)
  };
  K.Drag.prototype = {
    dragstart: function(aa) {
      this.owner._activeDragHandle = this;
      this.draggable.userEvents.cancel();
      this.draggable.userEvents._start(aa)
    },
    _dragstart: function(aa) {
      var ad = this,
        ac = ad.owner,
        ab = ad.options;
      if (!ab.enabled) {
        aa.preventDefault();
        return
      }
      this.owner._activeDragHandle = this;
      ac.element.off(w);
      ad.element.addClass(O + " " + P);
      a(document.documentElement).css("cursor", "pointer");
      ad.dragableArea = ac._getDraggableArea();
      ad.step = u.max(ab.smallStep * (ac._maxSelection / ac._distance), 0);
      if (ad.type) {
        ad.selectionStart = ab.selectionStart;
        ad.selectionEnd = ab.selectionEnd;
        ac._setZIndex(ad.type)
      } else {
        ad.oldVal = ad.val = ab.value
      }
      ad._removeTooltip(true);
      ad._createTooltip()
    },
    _createTooltip: function() {
      var ad = this,
        ac = ad.owner,
        ae = ad.options.tooltip,
        ab = "",
        ag = a(window),
        af, aa;
      if (!ae.enabled) {
        return
      }
      if (ae.template) {
        af = ad.tooltipTemplate = s.template(ae.template)
      }
      a(".k-slider-tooltip").remove();
      ad.tooltipDiv = a("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body);
      ab = ac._getFormattedValue(ad.val || ac.value(), ad);
      if (!ad.type) {
        aa = "k-callout-" + (ac._isHorizontal ? "s" : "e");
        ad.tooltipInnerDiv = "<div class='k-callout " + aa + "'><!-- --></div>";
        ab += ad.tooltipInnerDiv
      }
      ad.tooltipDiv.html(ab);
      ad._scrollOffset = {
        top: ag.scrollTop(),
        left: ag.scrollLeft()
      };
      ad.moveTooltip()
    },
    drag: function(aa) {
      var af = this,
        ac = af.owner,
        ag = aa.x.location,
        ah = aa.y.location,
        ae = af.dragableArea.startPoint,
        ab = af.dragableArea.endPoint,
        ad;
      aa.preventDefault();
      if (ac._isHorizontal) {
        if (ac._isRtl) {
          af.val = af.constrainValue(ag, ae, ab, ag < ab)
        } else {
          af.val = af.constrainValue(ag, ae, ab, ag >= ab)
        }
      } else {
        af.val = af.constrainValue(ah, ab, ae, ah <= ab)
      }
      if (af.oldVal != af.val) {
        af.oldVal = af.val;
        if (af.type) {
          if (af.type == "firstHandle") {
            if (af.val < af.selectionEnd) {
              af.selectionStart = af.val
            } else {
              af.selectionStart = af.selectionEnd = af.val
            }
          } else {
            if (af.val > af.selectionStart) {
              af.selectionEnd = af.val
            } else {
              af.selectionStart = af.selectionEnd = af.val
            }
          }
          ad = {
            values: [af.selectionStart, af.selectionEnd],
            value: [af.selectionStart, af.selectionEnd]
          }
        } else {
          ad = {
            value: af.val
          }
        }
        ac.trigger(J, ad)
      }
      af._updateTooltip(af.val)
    },
    _updateTooltip: function(ae) {
      var ac = this,
        ab = ac.options,
        ad = ab.tooltip,
        aa = "";
      if (!ad.enabled) {
        return
      }
      if (!ac.tooltipDiv) {
        ac._createTooltip()
      }
      aa = ac.owner._getFormattedValue(H(ae), ac);
      if (!ac.type) {
        aa += ac.tooltipInnerDiv
      }
      ac.tooltipDiv.html(aa);
      ac.moveTooltip()
    },
    dragcancel: function() {
      this.owner._refresh();
      a(document.documentElement).css("cursor", "");
      return this._end()
    },
    dragend: function() {
      var ab = this,
        aa = ab.owner;
      a(document.documentElement).css("cursor", "");
      if (ab.type) {
        aa._update(ab.selectionStart, ab.selectionEnd)
      } else {
        aa._update(ab.val)
      }
      return ab._end()
    },
    _end: function() {
      var ab = this,
        aa = ab.owner;
      aa._focusWithMouse(ab.element);
      aa.element.on(w);
      return false
    },
    _removeTooltip: function(aa) {
      var ac = this,
        ab = ac.owner;
      if (ac.tooltipDiv && ab.options.tooltip.enabled && ab.options.enabled) {
        if (aa) {
          ac.tooltipDiv.remove();
          ac.tooltipDiv = null
        } else {
          ac.tooltipDiv.fadeOut("slow", function() {
            a(this).remove();
            ac.tooltipDiv = null
          })
        }
      }
    },
    moveTooltip: function() {
      var al = this,
        aj = al.owner,
        am = 0,
        ag = 0,
        ae = al.element,
        ai = s.getOffset(ae),
        ah = 8,
        an = a(window),
        ab = al.tooltipDiv.find(".k-callout"),
        ao = al.tooltipDiv.outerWidth(),
        af = al.tooltipDiv.outerHeight(),
        ad, ak, ac, aa;
      if (al.type) {
        ad = aj.wrapper.find(k);
        ai = s.getOffset(ad.eq(0));
        ak = s.getOffset(ad.eq(1));
        if (aj._isHorizontal) {
          am = ak.top;
          ag = ai.left + ((ak.left - ai.left) / 2)
        } else {
          am = ai.top + ((ak.top - ai.top) / 2);
          ag = ak.left
        }
        aa = ad.eq(0).outerWidth() + 2 * ah
      } else {
        am = ai.top;
        ag = ai.left;
        aa = ae.outerWidth() + 2 * ah
      }
      if (aj._isHorizontal) {
        ag -= parseInt((ao - ae[aj._outerSize]()) / 2, 10);
        am -= af + ab.height() + ah
      } else {
        am -= parseInt((af - ae[aj._outerSize]()) / 2, 10);
        ag -= ao + ab.width() + ah
      }
      if (aj._isHorizontal) {
        ac = al._flip(am, af, aa, an.outerHeight() + al._scrollOffset.top);
        am += ac;
        ag += al._fit(ag, ao, an.outerWidth() + al._scrollOffset.left)
      } else {
        ac = al._flip(ag, ao, aa, an.outerWidth() + al._scrollOffset.left);
        am += al._fit(am, af, an.outerHeight() + al._scrollOffset.top);
        ag += ac
      }
      if (ac > 0 && ab) {
        ab.removeClass();
        ab.addClass("k-callout k-callout-" + (aj._isHorizontal ? "n" : "w"))
      }
      al.tooltipDiv.css({
        top: am,
        left: ag
      })
    },
    _fit: function(ab, ac, ad) {
      var aa = 0;
      if (ab + ac > ad) {
        aa = ad - (ab + ac)
      }
      if (ab < 0) {
        aa = -ab
      }
      return aa
    },
    _flip: function(ab, ad, aa, ae) {
      var ac = 0;
      if (ab + ad > ae) {
        ac += -(aa + ad)
      }
      if (ab + ac < 0) {
        ac += aa + ad
      }
      return ac
    },
    constrainValue: function(ad, ac, aa, ab) {
      var ae = this,
        af = 0;
      if (ac < ad && ad < aa) {
        af = ae.owner._getValueFromPosition(ad, ae.dragableArea)
      } else {
        if (ab) {
          af = ae.options.max
        } else {
          af = ae.options.min
        }
      }
      return af
    }
  };
  s.ui.plugin(K);
  var G = L.extend({
    init: function(ab, ae) {
      var ag = this,
        ad = a(ab).find("input"),
        ac = ad.eq(0)[0],
        af = ad.eq(1)[0];
      ac.type = "text";
      af.type = "text";
      ae = m({}, {
        selectionStart: C(ac, "value"),
        min: C(ac, "min"),
        max: C(ac, "max"),
        smallStep: C(ac, "step")
      }, {
        selectionEnd: C(af, "value"),
        min: C(af, "min"),
        max: C(af, "max"),
        smallStep: C(af, "step")
      }, ae);
      if (ae && ae.enabled === X) {
        ae.enabled = !ad.is("[disabled]")
      }
      L.fn.init.call(ag, ab, ae);
      ae = ag.options;
      if (!i(ae.selectionStart) || ae.selectionStart === null) {
        ae.selectionStart = ae.min;
        ad.eq(0).val(ae.min)
      }
      if (!i(ae.selectionEnd) || ae.selectionEnd === null) {
        ae.selectionEnd = ae.max;
        ad.eq(1).val(ae.max)
      }
      var aa = ag.wrapper.find(k);
      new G.Selection(aa, ag, ae);
      ag._firstHandleDrag = new K.Drag(aa.eq(0), "firstHandle", ag, ae);
      ag._lastHandleDrag = new K.Drag(aa.eq(1), "lastHandle", ag, ae)
    },
    options: {
      name: "RangeSlider",
      leftDragHandleTitle: "drag",
      rightDragHandleTitle: "drag",
      tooltip: {
        format: "{0}"
      },
      selectionStart: null,
      selectionEnd: null
    },
    enable: function(ab) {
      var ad = this,
        ac = ad.options,
        aa;
      ad.disable();
      if (ab === false) {
        return
      }
      ad.wrapper.removeClass(N).addClass(M);
      ad.wrapper.find("input").removeAttr(j);
      aa = function(ag) {
        var al = q(ag)[0];
        if (!al) {
          return
        }
        var ai = ad._isHorizontal ? al.location.pageX : al.location.pageY,
          af = ad._getDraggableArea(),
          am = ad._getValueFromPosition(ai, af),
          aj = a(ag.target),
          ah, ak, ae;
        if (aj.hasClass("k-draghandle")) {
          aj.addClass(O + " " + P);
          return
        }
        if (am < ac.selectionStart) {
          ah = am;
          ak = ac.selectionEnd;
          ae = ad._firstHandleDrag
        } else {
          if (am > ad.selectionEnd) {
            ah = ac.selectionStart;
            ak = am;
            ae = ad._lastHandleDrag
          } else {
            if (am - ac.selectionStart <= ac.selectionEnd - am) {
              ah = am;
              ak = ac.selectionEnd;
              ae = ad._firstHandleDrag
            } else {
              ah = ac.selectionStart;
              ak = am;
              ae = ad._lastHandleDrag
            }
          }
        }
        ae.dragstart(ag);
        ad._setValueInRange(ah, ak);
        ad._focusWithMouse(ae.element)
      };
      ad.wrapper.find(T + ", " + W).on(U, aa).end().on(U, function() {
        a(document.documentElement).one("selectstart", s.preventDefault)
      }).on(V, function() {
        if (ad._activeDragHandle) {
          ad._activeDragHandle._end()
        }
      });
      ad.wrapper.find(k).attr(S, 0).on(x, function() {
        ad._setTooltipTimeout()
      }).on(d, function(ae) {
        ad._focusWithMouse(ae.target);
        ae.preventDefault()
      }).on(n, F(ad._focus, ad)).on(b, F(ad._blur, ad));
      ad.wrapper.find(k).off(t, s.preventDefault).eq(0).on(t, F(function(ae) {
        this._keydown(ae, "firstHandle")
      }, ad)).end().eq(1).on(t, F(function(ae) {
        this._keydown(ae, "lastHandle")
      }, ad));
      ad.options.enabled = true
    },
    disable: function() {
      var aa = this;
      aa.wrapper.removeClass(M).addClass(N);
      aa.wrapper.find("input").prop(j, j);
      aa.wrapper.find(T + ", " + W).off(U).off(V);
      aa.wrapper.find(k).attr(S, -1).off(x).off(t).off(d).off(n).off(b);
      aa.options.enabled = false
    },
    _keydown: function(ad, ae) {
      var ah = this,
        ag = ah.options.selectionStart,
        af = ah.options.selectionEnd,
        ac, ab, aa;
      if (ad.keyCode in ah._keyMap) {
        ah._clearTooltipTimeout();
        if (ae == "firstHandle") {
          aa = ah._activeHandleDrag = ah._firstHandleDrag;
          ag = ah._keyMap[ad.keyCode](ag);
          if (ag > af) {
            af = ag
          }
        } else {
          aa = ah._activeHandleDrag = ah._lastHandleDrag;
          af = ah._keyMap[ad.keyCode](af);
          if (ag > af) {
            ag = af
          }
        }
        ah._setValueInRange(ag, af);
        ac = Math.max(ag, ah.options.selectionStart);
        ab = Math.min(af, ah.options.selectionEnd);
        aa.selectionEnd = Math.max(ab, ah.options.selectionStart);
        aa.selectionStart = Math.min(ac, ah.options.selectionEnd);
        aa._updateTooltip(ah.value()[ah._activeHandle]);
        ad.preventDefault()
      }
    },
    _update: function(ac, ab) {
      var ad = this,
        ae = ad.value();
      var aa = ae[0] != ac || ae[1] != ab;
      ad.value([ac, ab]);
      if (aa) {
        ad.trigger(c, {
          values: [ac, ab],
          value: [ac, ab]
        })
      }
    },
    value: function(aa) {
      if (aa && aa.length) {
        return this._value(aa[0], aa[1])
      } else {
        return this._value()
      }
    },
    _value: function(ae, aa) {
      var af = this,
        ab = af.options,
        ad = ab.selectionStart,
        ac = ab.selectionEnd;
      if (isNaN(ae) && isNaN(aa)) {
        return [ad, ac]
      } else {
        ae = H(ae);
        aa = H(aa)
      }
      if (ae >= ab.min && ae <= ab.max && aa >= ab.min && aa <= ab.max && ae <= aa) {
        if (ad != ae || ac != aa) {
          af.element.find("input").eq(0).prop("value", p(ae)).end().eq(1).prop("value", p(aa));
          ab.selectionStart = ae;
          ab.selectionEnd = aa;
          af._refresh();
          af._refreshAriaAttr(ae, aa)
        }
      }
    },
    values: function(ab, aa) {
      if (r(ab)) {
        return this._value(ab[0], ab[1])
      } else {
        return this._value(ab, aa)
      }
    },
    _refresh: function() {
      var ab = this,
        aa = ab.options;
      ab.trigger(y, {
        values: [aa.selectionStart, aa.selectionEnd],
        value: [aa.selectionStart, aa.selectionEnd]
      });
      if (aa.selectionStart == aa.max && aa.selectionEnd == aa.max) {
        ab._setZIndex("firstHandle")
      }
    },
    _refreshAriaAttr: function(ae, ac) {
      var af = this,
        ab = af.wrapper.find(k),
        aa = af._activeHandleDrag,
        ad;
      ad = af._getFormattedValue([ae, ac], aa);
      ab.eq(0).attr("aria-valuenow", ae);
      ab.eq(1).attr("aria-valuenow", ac);
      ab.attr("aria-valuetext", ad)
    },
    _setValueInRange: function(ac, ab) {
      var aa = this.options;
      ac = u.max(u.min(ac, aa.max), aa.min);
      ab = u.max(u.min(ab, aa.max), aa.min);
      if (ac == aa.max && ab == aa.max) {
        this._setZIndex("firstHandle")
      }
      this._update(u.min(ac, ab), u.max(ac, ab))
    },
    _setZIndex: function(aa) {
      this.wrapper.find(k).each(function(ab) {
        a(this).css("z-index", aa == "firstHandle" ? 1 - ab : ab)
      })
    },
    destroy: function() {
      var aa = this;
      Z.fn.destroy.call(aa);
      aa.wrapper.off(A).find(T + ", " + W).off(A).end().find(k).off(A);
      aa._firstHandleDrag.draggable.destroy();
      aa._lastHandleDrag.draggable.destroy()
    }
  });
  G.Selection = function(aa, ae, ad) {
    function ac(an) {
      an = an || [];
      var am = an[0] - ad.min,
        aj = an[1] - ad.min,
        al = u.ceil(H(am / ad.smallStep)),
        ai = u.ceil(H(aj / ad.smallStep)),
        ak = ae._pixelSteps[al],
        ah = ae._pixelSteps[ai],
        af = parseInt(aa.eq(0)[ae._outerSize]() / 2, 10),
        ag = ae._isRtl ? 2 : 0;
      aa.eq(0).css(ae._position, ak - af - ag).end().eq(1).css(ae._position, ah - af - ag);
      ab(ak, ah)
    }
    function ab(aj, ah) {
      var af, ai, ag = ae._trackDiv.find(".k-slider-selection");
      af = u.abs(aj - ah);
      ag[ae._sizeFn](af);
      if (ae._isRtl) {
        ai = u.max(aj, ah);
        ag.css("right", ae._maxSelection - ai - 1)
      } else {
        ai = u.min(aj, ah);
        ag.css(ae._position, ai - 1)
      }
    }
    ac(ae.value());
    ae.bind([c, J, y], function(af) {
      ac(af.values)
    })
  };
  s.ui.plugin(G)
})(window.kendo.jQuery);
kendo_module({
  id: "scheduler.view",
  name: "Scheduler View",
  category: "web",
  description: "The Scheduler Common View",
  depends: ["core"],
  hidden: true
});
(function(a) {
  var r = window.kendo,
    J = r.ui,
    K = J.Widget,
    s = r.keys,
    v = ".kendoSchedulerView",
    u = Math;

  function t(O, M) {
    var N = [];

    function L(P, S) {
      S = S[M];
      if (S) {
        var R = N[P] = N[P] || [];
        for (var Q = 0; Q < S.length; Q++) {
          R.push(S[Q]);
          L(P + 1, S[Q])
        }
      }
    }
    L(0, O);
    return N
  }
  function e() {
    if (r.support.cssBorderSpacing) {
      return ""
    }
    return 'cellspacing="0"'
  }
  function E(M, L) {
    if (!M.length) {
      return ""
    }
    return "<table " + e() + ' class="' + a.trim("k-scheduler-table " + (L || "")) + '"><tr>' + M.join("</tr><tr>") + "</tr></table>"
  }
  function d(M, L) {
    if (!M.length) {
      return ""
    }
    return "<div style='position:relative'>" + E(M, L) + "</div>"
  }
  function G(M, L, O) {
    var P = [];
    if (O > 0) {
      for (var N = 0; N < M; N++) {
        P.push("<th></th>")
      }
    }
    if (L) {
      P.push('<th class="k-scheduler-times-all-day">' + L.text + "</th>")
    }
    if (O < 1) {
      return a()
    }
    return a('<div class="k-scheduler-times">' + E(P) + "</div>")
  }
  function l(S, P, L) {
    var T = [];
    var Q;
    for (var R = 0; R < S.length; R++) {
      var V = S[R];
      var X = [];
      var O = P / V.length;
      for (Q = 0; Q < V.length; Q++) {
        X.push('<th colspan="' + O + '" class="' + (V[Q].className || "") + '">' + V[Q].text + "</th>")
      }
      T.push(X.join(""))
    }
    var M = [];
    if (L) {
      var U = S[S.length - 1];
      var W = [];
      var N = L.cellContent;
      for (Q = 0; Q < U.length; Q++) {
        W.push('<td class="' + (U[Q].className || "") + '">' + (N ? N(Q) : "&nbsp;") + "</th>")
      }
      M.push(W.join(""))
    }
    return a('<div class="k-scheduler-header k-state-default"><div class="k-scheduler-header-wrap">' + E(T) + d(M, "k-scheduler-header-all-day") + "</div></div>")
  }
  function F(R, N) {
    var S = new Array(N).join().split(",");
    var O = [];
    var P;
    for (var Q = 0; Q < R.length; Q++) {
      var M = R[Q];
      var T = N / M.length;
      var L;
      for (P = 0; P < M.length; P++) {
        L = M[P].className || "";
        if (M[P].allDay) {
          L = "k-scheduler-times-all-day"
        }
        S[T * P] += '<th class="' + L + '" rowspan="' + T + '">' + M[P].text + "</th>"
      }
    }
    for (P = 0; P < N; P++) {
      O.push(S[P])
    }
    if (N < 1) {
      return a()
    }
    return a('<div class="k-scheduler-times">' + E(O) + "</div>")
  }
  function h() {
    return a('<div class="k-scheduler-content"><table ' + e() + ' class="k-scheduler-table"/></div>')
  }
  var q = '<div class="k-marquee k-scheduler-marquee"><div class="k-marquee-color"></div><div class="k-marquee-text"><div class="k-label-top"></div><div class="k-label-bottom"></div></div></div>';
  r.ui.scheduler = {};
  var x = r.Class.extend({
    init: function(L) {
      this._index = L;
      this._timeSlotCollections = [];
      this._daySlotCollections = []
    },
    addTimeSlotCollection: function(M, L) {
      return this._addCollection(M, L, this._timeSlotCollections)
    },
    addDaySlotCollection: function(M, L) {
      return this._addCollection(M, L, this._daySlotCollections)
    },
    _addCollection: function(O, N, M) {
      var L = new C(O, N, this._index, M.length);
      M.push(L);
      return L
    },
    timeSlotCollectionCount: function() {
      return this._timeSlotCollections.length
    },
    daySlotCollectionCount: function() {
      return this._daySlotCollections.length
    },
    daySlotByPosition: function(L, M) {
      return this._slotByPosition(L, M, this._daySlotCollections)
    },
    timeSlotByPosition: function(L, M) {
      return this._slotByPosition(L, M, this._timeSlotCollections)
    },
    _slotByPosition: function(Q, R, N) {
      for (var M = 0; M < N.length; M++) {
        var L = N[M];
        for (var P = 0; P < L.count(); P++) {
          var O = L.at(P);
          if (Q >= O.offsetLeft && Q < O.offsetLeft + O.clientWidth && R >= O.offsetTop && R < O.offsetTop + O.clientHeight) {
            return O
          }
        }
      }
    },
    refresh: function() {
      var L;
      for (L = 0; L < this._daySlotCollections.length; L++) {
        this._daySlotCollections[L].refresh()
      }
      for (L = 0; L < this._timeSlotCollections.length; L++) {
        this._timeSlotCollections[L].refresh()
      }
    },
    timeSlotRanges: function(P, N) {
      var L = this._timeSlotCollections;
      var O = this._startSlot(P, L);
      var M = O;
      if (P < N) {
        M = this._endSlot(N, L)
      }
      return this._continuousRange(I, L, O, M)
    },
    daySlotRanges: function(Q, N, O) {
      var L = this._daySlotCollections;
      var P = this._startSlot(Q, L, O);
      var M = P;
      if (Q < N) {
        M = this._endSlot(N, L, O)
      }
      return this._continuousRange(n, L, P, M)
    },
    _continuousRange: function(U, N, W, O) {
      var Y = W.slot;
      var Q = O.slot;
      var X = Y.collectionIndex;
      var P = Q.collectionIndex;
      var V = [];
      for (var M = X; M <= P; M++) {
        var L = N[M];
        var R = L.first();
        var T = L.last();
        var S = false;
        var Z = false;
        if (M == X) {
          Z = !W.inRange
        }
        if (M == P) {
          S = !O.inRange
        }
        if (R.start < Y.start) {
          R = Y
        }
        if (T.start > Q.start) {
          T = Q
        }
        if (X < P) {
          if (M == X) {
            S = true
          } else {
            if (M == P) {
              Z = true
            } else {
              S = Z = true
            }
          }
        }
        V.push(new U({
          start: R,
          end: T,
          collection: L,
          head: S,
          tail: Z
        }))
      }
      return V
    },
    slotRanges: function(M, N) {
      var O = r.date.toUtcTime(M.start);
      var L = r.date.toUtcTime(M.end);
      if (N === undefined) {
        N = M.isMultiDay()
      }
      if (N) {
        return this.daySlotRanges(O, L, M.isAllDay)
      }
      if (M.startTime) {
        O = r.date.getMilliseconds(M.startTime) + r.date.toUtcTime(r.date.getDate(M.start))
      }
      if (M.endTime) {
        L = r.date.getMilliseconds(M.endTime) + r.date.toUtcTime(r.date.getDate(M.end))
      }
      return this.timeSlotRanges(O, L)
    },
    ranges: function(O, L, N, M) {
      if (typeof O != "number") {
        O = r.date.toUtcTime(O)
      }
      if (typeof L != "number") {
        L = r.date.toUtcTime(L)
      }
      if (N) {
        return this.daySlotRanges(O, L, M)
      }
      return this.timeSlotRanges(O, L)
    },
    _startCollection: function(O, N) {
      for (var M = 0; M < N.length; M++) {
        var L = N[M];
        if (L.startInRange(O)) {
          return L
        }
      }
      return null
    },
    _endCollection: function(O, N) {
      for (var M = 0; M < N.length; M++) {
        var L = N[M];
        if (L.endInRange(O)) {
          return L
        }
      }
      return null
    },
    _getCollections: function(L) {
      return L ? this._daySlotCollections : this._timeSlotCollections
    },
    continuousSlot: function(P, O) {
      var N = O ? -1 : 1;
      var M = this._getCollections(P.isDaySlot);
      var L = M[P.collectionIndex + N];
      return L ? L[O ? "last" : "first"]() : undefined
    },
    firstSlot: function() {
      var L = this._getCollections(this.daySlotCollectionCount());
      return L[0].first()
    },
    lastSlot: function() {
      var L = this._getCollections(this.daySlotCollectionCount());
      return L[L.length - 1].last()
    },
    upSlot: function(N, L) {
      var O = this;
      var M = function(R, P, Q) {
        var S = Q === 0;
        if (!L && !R && S && O.daySlotCollectionCount()) {
          return O._daySlotCollections[0].at(P)
        }
      };
      if (!this.timeSlotCollectionCount()) {
        L = true
      }
      return this._verticalSlot(N, -1, M)
    },
    downSlot: function(N, L) {
      var O = this;
      var M = function(R, P, Q) {
        if (!L && R && O.timeSlotCollectionCount()) {
          return O._timeSlotCollections[Q].at(0)
        }
      };
      if (!this.timeSlotCollectionCount()) {
        L = true
      }
      return this._verticalSlot(N, 1, M)
    },
    leftSlot: function(L) {
      return this._horizontalSlot(L, -1)
    },
    rightSlot: function(L) {
      return this._horizontalSlot(L, 1)
    },
    _horizontalSlot: function(Q, R) {
      var O = Q.index;
      var P = Q.isDaySlot;
      var M = Q.collectionIndex;
      var N = this._getCollections(P);
      if (P) {
        O += R
      } else {
        M += R
      }
      var L = N[M];
      return L ? L.at(O) : undefined
    },
    _verticalSlot: function(Q, R, S) {
      var O = Q.index;
      var P = Q.isDaySlot;
      var M = Q.collectionIndex;
      var N = this._getCollections(P);
      Q = S(P, M, O);
      if (Q) {
        return Q
      }
      if (P) {
        M += R
      } else {
        O += R
      }
      var L = N[M];
      return L ? L.at(O) : undefined
    },
    _collection: function(M, N) {
      var L = N ? this._daySlotCollections : this._timeSlotCollections;
      return L[M]
    },
    _startSlot: function(Q, M, O) {
      var L = this._startCollection(Q, M);
      var N = true;
      if (!L) {
        L = M[0];
        N = false
      }
      var P = L.slotByStartDate(Q, O);
      if (!P) {
        P = L.first();
        N = false
      }
      return {
        slot: P,
        inRange: N
      }
    },
    _endSlot: function(Q, M, O) {
      var L = this._endCollection(Q, M);
      var N = true;
      if (!L) {
        L = M[M.length - 1];
        N = false
      }
      var P = L.slotByEndDate(Q, O);
      if (!P) {
        P = L.last();
        N = false
      }
      return {
        slot: P,
        inRange: N
      }
    },
    getSlotCollection: function(L, M) {
      return this[M ? "getDaySlotCollection" : "getTimeSlotCollection"](L)
    },
    getTimeSlotCollection: function(L) {
      return this._timeSlotCollections[L]
    },
    getDaySlotCollection: function(L) {
      return this._daySlotCollections[L]
    }
  });
  var D = r.Class.extend({
    init: function(L) {
      a.extend(this, L)
    },
    innerHeight: function() {
      var L = this.collection;
      var P = this.start.index;
      var M = this.end.index;
      var N = 0;
      for (var O = P; O <= M; O++) {
        N += L.at(O).offsetHeight
      }
      return N
    },
    events: function() {
      return this.collection.events()
    },
    addEvent: function(L) {
      this.events().push(L)
    },
    startSlot: function() {
      if (this.start.offsetLeft > this.end.offsetLeft) {
        return this.end
      }
      return this.start
    },
    endSlot: function() {
      if (this.start.offsetLeft > this.end.offsetLeft) {
        return this.start
      }
      return this.end
    }
  });
  var I = D.extend({
    innerHeight: function() {
      var L = this.collection;
      var P = this.start.index;
      var M = this.end.index;
      var N = 0;
      for (var O = P; O <= M; O++) {
        N += L.at(O).offsetHeight
      }
      return N
    },
    outerRect: function(N, L, M) {
      return this._rect("offset", N, L, M)
    },
    _rect: function(Q, S, M, R) {
      var W;
      var L;
      var U = this.start;
      var O = this.end;
      if (typeof S != "number") {
        S = r.date.toUtcTime(S)
      }
      if (typeof M != "number") {
        M = r.date.toUtcTime(M)
      }
      if (R) {
        W = U.offsetTop;
        L = O.offsetTop + O[Q + "Height"]
      } else {
        var T = S - U.start;
        if (T < 0) {
          T = 0
        }
        var V = U.end - U.start;
        W = U.offsetTop + U[Q + "Height"] * T / V;
        var N = O.end - M;
        if (N < 0) {
          N = 0
        }
        var P = O.end - O.start;
        L = O.offsetTop + O[Q + "Height"] - O[Q + "Height"] * N / P
      }
      return {
        top: W,
        bottom: L
      }
    },
    innerRect: function(N, L, M) {
      return this._rect("client", N, L, M)
    }
  });
  var n = D.extend({
    innerWidth: function() {
      var L = this.collection;
      var P = this.start.index;
      var M = this.end.index;
      var N = 0;
      var Q = P !== M ? "offsetWidth" : "clientWidth";
      for (var O = P; O <= M; O++) {
        N += L.at(O)[Q]
      }
      return N
    }
  });
  var C = r.Class.extend({
    init: function(O, M, N, L) {
      this._slots = [];
      this._events = [];
      this._start = r.date.toUtcTime(O);
      this._end = r.date.toUtcTime(M);
      this._groupIndex = N;
      this._collectionIndex = L
    },
    refresh: function() {
      var L = [];
      for (var Q = 0; Q < this._slots.length; Q++) {
        var P = this._slots[Q];
        var O = P.offsetTop;
        P.refresh();
        L[Q] = P.offsetTop - O
      }
      for (var N = 0; N < this._events.length; N++) {
        var M = this._events[N];
        M.element.css({
          top: M.element[0].offsetTop + L[M.slotIndex]
        })
      }
    },
    startInRange: function(L) {
      return this._start <= L && L < this._end
    },
    endInRange: function(L) {
      return this._start <= L && L <= this._end
    },
    slotByStartDate: function(L) {
      var O = L;
      if (typeof O != "number") {
        O = r.date.toUtcTime(L)
      }
      for (var N = 0; N < this._slots.length; N++) {
        var M = this._slots[N];
        if (M.startInRange(O)) {
          return M
        }
      }
      return null
    },
    slotByEndDate: function(M, L) {
      var P = M;
      if (typeof P != "number") {
        P = r.date.toUtcTime(M)
      }
      if (L) {
        return this.slotByStartDate(M, false)
      }
      for (var O = 0; O < this._slots.length; O++) {
        var N = this._slots[O];
        if (N.endInRange(P)) {
          return N
        }
      }
      return null
    },
    count: function() {
      return this._slots.length
    },
    events: function() {
      return this._events
    },
    addTimeSlot: function(L, O, M) {
      var N = new H(L, O, M, this._groupIndex, this._collectionIndex, this._slots.length);
      this._slots.push(N)
    },
    addDaySlot: function(L, P, M, N) {
      var O = new m(L, P, M, this._groupIndex, this._collectionIndex, this._slots.length, N);
      this._slots.push(O)
    },
    first: function() {
      return this._slots[0]
    },
    last: function() {
      return this._slots[this._slots.length - 1]
    },
    at: function(L) {
      return this._slots[L]
    }
  });
  var B = r.Class.extend({
    init: function(M, Q, N, O, L, P) {
      this.element = M;
      this.clientWidth = M.clientWidth;
      this.clientHeight = M.clientHeight;
      this.offsetWidth = M.offsetWidth;
      this.offsetHeight = M.offsetHeight;
      this.offsetTop = M.offsetTop;
      this.offsetLeft = M.offsetLeft;
      this.start = Q;
      this.end = N;
      this.element = M;
      this.groupIndex = O;
      this.collectionIndex = L;
      this.index = P;
      this.isDaySlot = false
    },
    startDate: function() {
      return r.timezone.toLocalDate(this.start)
    },
    endDate: function() {
      return r.timezone.toLocalDate(this.end)
    },
    startInRange: function(L) {
      return this.start <= L && L < this.end
    },
    endInRange: function(L) {
      return this.start < L && L <= this.end
    },
    startOffset: function() {
      return this.start
    },
    endOffset: function() {
      return this.end
    }
  });
  var H = B.extend({
    refresh: function() {
      this.offsetTop = this.element.offsetTop
    },
    offsetX: function(M, L) {
      if (M) {
        return this.offsetLeft + L
      } else {
        return this.offsetLeft + L
      }
    },
    startInRange: function(L) {
      return this.start <= L && L < this.end
    },
    endInRange: function(L) {
      return this.start < L && L <= this.end
    },
    startOffset: function(Q, R, O) {
      if (O) {
        return this.start
      }
      var N = a(this.element).offset();
      var L = R - N.top;
      var M = this.end - this.start;
      var P = Math.floor(M * (L / this.offsetHeight));
      return this.start + P
    },
    endOffset: function(Q, R, O) {
      if (O) {
        return this.end
      }
      var N = a(this.element).offset();
      var L = R - N.top;
      var M = this.end - this.start;
      var P = Math.floor(M * (L / this.offsetHeight));
      return this.start + P
    }
  });
  var m = B.extend({
    init: function(M, R, N, P, L, Q, O) {
      B.fn.init.apply(this, arguments);
      this.eventCount = O;
      this.isDaySlot = true;
      this.firstChildHeight = this.element.firstChild.offsetHeight + 3;
      this.firstChildTop = this.element.firstChild.offsetTop
    },
    refresh: function() {
      this.clientHeight = this.element.clientHeight;
      this.offsetTop = this.element.offsetTop
    },
    startDate: function() {
      var L = new Date(this.start);
      return r.timezone.apply(L, "Etc/UTC")
    },
    endDate: function() {
      var L = new Date(this.end);
      return r.timezone.apply(L, "Etc/UTC")
    },
    startInRange: function(L) {
      return this.start <= L && L < this.end
    },
    endInRange: function(L) {
      return this.start < L && L <= this.end
    }
  });
  var z;

  function y() {
    z = z ? z : r.support.scrollbar();
    return z
  }
  r.ui.SchedulerView = K.extend({
    init: function(L, M) {
      K.fn.init.call(this, L, M);
      this._scrollbar = y();
      this._isRtl = r.support.isRtl(L);
      this._resizeHint = a();
      this._moveHint = a();
      this._cellId = r.guid();
      this._resourcesForGroups();
      this._selectedSlots = []
    },
    _isMobile: function() {
      var L = this.options;
      return (L.mobile === true && r.support.mobileOS) || L.mobile === "phone" || L.mobile === "tablet"
    },
    _isMobilePhoneView: function() {
      var L = this.options;
      return (L.mobile === true && r.support.mobileOS && !r.support.mobileOS.tablet) || L.mobile === "phone"
    },
    _addResourceView: function() {
      var L = new x(this.groups.length);
      this.groups.push(L);
      return L
    },
    dateForTitle: function() {
      return r.format(this.options.selectedDateFormat, this.startDate(), this.endDate())
    },
    _changeGroup: function(N, M) {
      var L = M ? "prevGroupSlot" : "nextGroupSlot";
      var O = this[L](N.start, N.groupIndex, N.isAllDay);
      if (O) {
        N.groupIndex += M ? -1 : 1
      }
      return O
    },
    _changeGroupContinuously: function() {
      return null
    },
    _changeViewPeriod: function() {
      return false
    },
    _horizontalSlots: function(S, Q, P, R) {
      var O = R ? "leftSlot" : "rightSlot";
      var U = Q[0].start;
      var M = Q[Q.length - 1].end;
      var N = this.groups[S.groupIndex];
      if (!P) {
        var T = this._normalizeHorizontalSelection(S, Q, R);
        if (T) {
          U = M = T
        }
      }
      U = N[O](U);
      M = N[O](M);
      if (!P && !this._isVerticallyGrouped() && (!U || !M)) {
        U = M = this._changeGroup(S, R)
      }
      var L;
      if (!U || !M) {
        L = this._continuousSlot(S, Q, R);
        L = this._changeGroupContinuously(S, L, P, R);
        if (L) {
          U = M = L
        }
      }
      return {
        startSlot: U,
        endSlot: M
      }
    },
    _verticalSlots: function(R, P, O, Q) {
      var T = P[0].start;
      var L = P[P.length - 1].end;
      var M = this.groups[R.groupIndex];
      if (!O) {
        var S = this._normalizeVerticalSelection(R, P, Q);
        if (S) {
          T = L = S
        }
      }
      var N = Q ? "upSlot" : "downSlot";
      T = M[N](T, O);
      L = M[N](L, O);
      if (!O && this._isVerticallyGrouped() && (!T || !L)) {
        T = L = this._changeGroup(R, Q)
      }
      return {
        startSlot: T,
        endSlot: L
      }
    },
    _normalizeHorizontalSelection: function() {
      return null
    },
    _normalizeVerticalSelection: function(N, L, M) {
      var O;
      if (M) {
        O = L[0].start
      } else {
        O = L[L.length - 1].end
      }
      return O
    },
    _continuousSlot: function() {
      return null
    },
    constrainSelection: function(L) {
      if (!this.inRange(L)) {
        var M = this.groups[0].firstSlot();
        L.isAllDay = M.isDaySlot;
        L.start = M.startDate();
        L.end = M.endDate()
      }
    },
    move: function(S, P, T) {
      var O = false;
      var N = this.groups[S.groupIndex];
      if (!N.timeSlotCollectionCount()) {
        S.isAllDay = true
      }
      var Q = N.ranges(S.start, S.end, S.isAllDay, false);
      var V, M, R, U;
      if (P === s.DOWN || P === s.UP) {
        O = true;
        R = P === s.UP;
        this._updateDirection(S, Q, T, R, true);
        U = this._verticalSlots(S, Q, T, R);
        if (!U.startSlot && !T && this._changeViewPeriod(S, R, true)) {
          return O
        }
      } else {
        if (P === s.LEFT || P === s.RIGHT) {
          O = true;
          R = P === s.LEFT;
          this._updateDirection(S, Q, T, R, false);
          U = this._horizontalSlots(S, Q, T, R);
          if (!U.startSlot && !T && this._changeViewPeriod(S, R, false)) {
            return O
          }
        }
      }
      if (O) {
        V = U.startSlot;
        M = U.endSlot;
        if (T) {
          var L = S.backward;
          if (L && V) {
            S.start = V.startDate()
          } else {
            if (!L && M) {
              S.end = M.endDate()
            }
          }
        } else {
          if (V && M) {
            S.isAllDay = V.isDaySlot;
            S.start = V.startDate();
            S.end = M.endDate()
          }
        }
        S.events = []
      }
      return O
    },
    moveToEventInGroup: function(O, U, T, S) {
      var M = O._continuousEvents || [];
      var N, L;
      var R = S ? -1 : 1;
      var Q = M.length;
      var P = S ? Q - 1 : 0;
      while (P < Q && P > -1) {
        L = M[P];
        if ((!S && L.start.startDate() >= U.startDate()) || (S && L.start.startDate() <= U.startDate())) {
          if (T.length) {
            L = M[P + R]
          }
          if (L && a.inArray(L.uid, T) === -1) {
            N = !! L;
            break
          }
        }
        P += R
      }
      return L
    },
    moveToEvent: function(S, R) {
      var O = S.groupIndex;
      var N = this.groups[O];
      var T = N.ranges(S.start, S.end, S.isAllDay, false)[0].start;
      var P = this.groups.length;
      var Q = R ? -1 : 1;
      var M = S.events;
      var L;
      while (O < P && O > -1) {
        L = this.moveToEventInGroup(N, T, M, R);
        O += Q;
        N = this.groups[O];
        if (!N || L) {
          break
        }
        M = [];
        if (R) {
          T = N.lastSlot()
        } else {
          T = N.firstSlot(true)
        }
      }
      if (L) {
        S.events = [L.uid];
        S.start = L.start.startDate();
        S.end = L.end.endDate();
        S.isAllDay = L.start.isDaySlot;
        S.groupIndex = L.start.groupIndex
      }
      return !!L
    },
    current: function(L) {
      if (L !== undefined) {
        this._current = L;
        this._scrollTo(L, this.content[0])
      } else {
        return this._current
      }
    },
    select: function(L) {
      this.clearSelection();
      if (!this._selectEvents(L)) {
        this._selectSlots(L)
      }
    },
    _selectSlots: function(S) {
      var O = S.isAllDay;
      var N = this.groups[S.groupIndex];
      if (!N.timeSlotCollectionCount()) {
        O = true
      }
      this._selectedSlots = [];
      var R = N.ranges(S.start, S.end, O, false);
      var M;
      var T;
      for (var Q = 0; Q < R.length; Q++) {
        var P = R[Q];
        var L = P.collection;
        for (var U = P.start.index; U <= P.end.index; U++) {
          T = L.at(U);
          M = T.element;
          M.setAttribute("aria-selected", true);
          c(M);
          this._selectedSlots.push({
            start: T.startDate(),
            end: T.endDate(),
            element: M
          })
        }
      }
      if (S.backward) {
        M = R[0].start.element
      }
      this.current(M)
    },
    _selectEvents: function(R) {
      var M = false;
      var L = R.events;
      var N = this.groups[R.groupIndex]._continuousEvents || [];
      var O, P = N.length;
      if (!L[0] || !N[0]) {
        return M
      }
      var Q = a();
      for (O = 0; O < P; O++) {
        if (a.inArray(N[O].uid, L) > -1) {
          Q = Q.add(N[O].element)
        }
      }
      if (Q[0]) {
        Q.addClass("k-state-selected").attr("aria-selected", true);
        this.current(Q.last()[0]);
        M = true
      }
      return M
    },
    inRange: function(N) {
      var P = this.startDate();
      var M = r.date.addDays(this.endDate(), 1);
      var O = N.start;
      var L = N.end;
      return P <= O && O < M && P < L && L <= M
    },
    _scrollbarOffset: function(M, L) {
      if (!this._isRtl || (L && !this._isVerticallyGrouped()) || !r.support.browser.webkit) {
        return M
      }
      return this._scrollbarWidth + M
    },
    _resourceValue: function(M, L) {
      if (M.valuePrimitive) {
        L = r.getter(M.dataValueField)(L)
      }
      return L
    },
    _resourceBySlot: function(R) {
      var O = this.groupedResources;
      var P = {};
      if (O.length) {
        var N = R.groupIndex;
        for (var L = O.length - 1; L >= 0; L--) {
          var M = O[L];
          var S = this._resourceValue(M, M.dataSource.at(N % M.dataSource.total()));
          if (M.multiple) {
            S = [S]
          }
          var Q = r.setter(M.field);
          Q(P, S);
          N = Math.floor(N / M.dataSource.total())
        }
      }
      return P
    },
    _createResizeHint: function(M, N, O, L) {
      return a(q).css({
        left: M,
        top: N,
        width: O,
        height: L
      })
    },
    _removeResizeHint: function() {
      this._resizeHint.remove();
      this._resizeHint = a()
    },
    _removeMoveHint: function() {
      this._moveHint.remove();
      this._moveHint = a()
    },
    _scrollTo: function(P, M) {
      var Q = P.offsetTop,
        R = P.offsetHeight,
        O = M.scrollTop,
        N = M.clientHeight,
        L = Q + R,
        S = 0;
      if (O > Q) {
        S = Q
      } else {
        if (L > (O + N)) {
          if (R <= N) {
            S = (L - N)
          } else {
            S = Q
          }
        } else {
          S = O
        }
      }
      M.scrollTop = S
    },
    _shouldInverseResourceColor: function(N) {
      var O = new g(N.color).isDark();
      var L = this.element.css("color");
      var M = new g(L).isDark();
      return (O == M)
    },
    eventResources: function(N) {
      var W = [],
        S = this.options;
      if (!S.resources) {
        return W
      }
      for (var R = 0; R < S.resources.length; R++) {
        var T = S.resources[R];
        var Q = T.field;
        var P = r.getter(Q)(N);
        if (!P) {
          continue
        }
        if (!T.multiple) {
          P = [P]
        }
        var L = T.dataSource.view();
        for (var V = 0; V < P.length; V++) {
          var O = null;
          var X = P[V];
          if (!T.valuePrimitive) {
            X = r.getter(T.dataValueField)(X)
          }
          for (var M = 0; M < L.length; M++) {
            if (L[M].get(T.dataValueField) == X) {
              O = L[M];
              break
            }
          }
          if (O !== null) {
            var U = r.getter(T.dataColorField)(O);
            W.push({
              text: r.getter(T.dataTextField)(O),
              value: X,
              color: U
            })
          }
        }
      }
      return W
    },
    createLayout: function(P) {
      var L = -1;
      if (!P.rows) {
        P.rows = []
      }
      for (var O = 0; O < P.rows.length; O++) {
        if (P.rows[O].allDay) {
          L = O;
          break
        }
      }
      var M = P.rows[L];
      if (L >= 0) {
        P.rows.splice(L, 1)
      }
      var N = this.columnLevels = t(P, "columns");
      var R = this.rowLevels = t(P, "rows");
      this.table = a("<table " + e() + ' class="k-scheduler-layout k-scheduler-' + this.name + 'view"/>');
      var Q = R[R.length - 1].length;
      this.table.append(this._topSection(N, M, Q));
      this.table.append(this._bottomSection(N, R, Q));
      this.element.append(this.table);
      this._scroller()
    },
    refreshLayout: function() {
      var U = this,
        W = U.element.find(">.k-scheduler-toolbar"),
        O = U.element.innerHeight(),
        S = this._scrollbar,
        N = 0,
        R = this._isRtl ? "left" : "right";
      for (var P = 0; P < W.length; P++) {
        O -= W.eq(P).outerHeight()
      }
      if (U.datesHeader) {
        N = U.datesHeader.outerHeight()
      }
      if (U.timesHeader && U.timesHeader.outerHeight() > N) {
        N = U.timesHeader.outerHeight()
      }
      if (U.datesHeader && U.timesHeader) {
        var M = U.datesHeader.find("table:first tr");
        U.timesHeader.find("tr").height(function(X) {
          a(this).height(M.eq(X).height())
        })
      }
      if (N) {
        O -= N
      }
      if (U.footer) {
        O -= U.footer.outerHeight()
      }
      var Q = function(X) {
        var Y, Z;
        if (X[0].style.height) {
          return true
        } else {
          Y = X.height()
        }
        X.height("auto");
        Z = X.height();
        if (Y != Z) {
          X.height("");
          return true
        }
        X.height("");
        return false
      };
      var L = U.content[0],
        T = !r.support.kineticScrollNeeded ? S : 0;
      this._scrollbarWidth = 0;
      if (Q(U.element)) {
        if (O > S * 2) {
          U.content.height(O)
        } else {
          U.content.height(S * 2 + 1)
        }
        U.times.height(L.clientHeight);
        var V = U.times.find("table");
        if (V.length) {
          V.height(U.content.find("table")[0].clientHeight)
        }
      }
      if (L.offsetWidth - L.clientWidth > 0) {
        U.table.addClass("k-scrollbar-v");
        U.datesHeader.css("padding-" + R, T - parseInt(U.datesHeader.children().css("border-" + R + "-width"), 10));
        this._scrollbarWidth = T
      } else {
        U.datesHeader.css("padding-" + R, "")
      }
      if (L.offsetHeight - L.clientHeight > 0 || L.clientHeight > U.content.children(".k-scheduler-table").height()) {
        U.table.addClass("k-scrollbar-h")
      } else {
        U.table.removeClass("k-scrollbar-h")
      }
    },
    _topSection: function(N, L, O) {
      this.timesHeader = G(N.length, L, O);
      var M = N[N.length - 1].length;
      this.datesHeader = l(N, M, L);
      return a("<tr>").append(this.timesHeader.add(this.datesHeader).wrap("<td>").parent())
    },
    _bottomSection: function(L, N, M) {
      this.times = F(N, M);
      this.content = h(L[L.length - 1], N[N.length - 1]);
      return a("<tr>").append(this.times.add(this.content).wrap("<td>").parent())
    },
    _scroller: function() {
      var L = this;
      this.content.bind("scroll" + v, function() {
        L.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(this.scrollLeft);
        L.times.scrollTop(this.scrollTop)
      });
      var M = r.touchScroller(this.content, {
        avoidScrolling: function(N) {
          return a(N.event.target).closest(".k-event.k-event-active").length > 0
        }
      });
      if (M && M.movable) {
        this._touchScroller = M;
        this.content = M.scrollElement;
        M.movable.bind("change", function(N) {
          L.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(-N.sender.x);
          L.times.scrollTop(-N.sender.y)
        })
      }
    },
    _resourcesForGroups: function() {
      var R = [];
      var N = this.options.group;
      var Q = this.options.resources;
      N = N && N.resources ? N.resources : [];
      if (Q && N.length) {
        for (var O = 0, P = Q.length; O < P; O++) {
          for (var L = 0, M = N.length; L < M; L++) {
            if (Q[O].name === N[L]) {
              R.push(Q[O])
            }
          }
        }
      }
      this.groupedResources = R
    },
    _createColumnsLayout: function(M, L) {
      return j("columns", M, L)
    },
    _groupOrientation: function() {
      var L = this.options.group;
      return L && L.resources ? L.orientation : "horizontal"
    },
    _isVerticallyGrouped: function() {
      return this.groupedResources.length && this._groupOrientation() === "vertical"
    },
    _createRowsLayout: function(M, L) {
      return j("rows", M, L)
    },
    selectionByElement: function() {
      return null
    },
    clearSelection: function() {
      this.content.find(".k-state-selected").removeAttr("id").attr("aria-selected", false).removeClass("k-state-selected")
    },
    destroy: function() {
      var L = this;
      K.fn.destroy.call(this);
      if (L.table) {
        r.destroy(L.table);
        L.table.remove()
      }
    },
    calendarInfo: function() {
      return r.getCulture().calendars.standard
    },
    prevGroupSlot: function(M, O, P) {
      var L;
      var N = this.groups[O];
      var Q = N.ranges(M, M, P, false)[0].start;
      if (O <= 0) {
        return
      }
      if (this._isVerticallyGrouped()) {
        if (!N.timeSlotCollectionCount()) {
          L = N._collection(N.daySlotCollectionCount() - 1, true);
          return L.at(Q.index)
        } else {
          L = N._collection(P ? Q.index : Q.collectionIndex, false);
          return L.last()
        }
      } else {
        if (!N.timeSlotCollectionCount()) {
          L = N._collection(Q.collectionIndex, true);
          return L.last()
        } else {
          L = N._collection(P ? 0 : N.timeSlotCollectionCount() - 1, P);
          return P ? L.last() : L.at(Q.index)
        }
      }
    },
    nextGroupSlot: function(M, O, P) {
      var L;
      var N = this.groups[O];
      var Q = N.ranges(M, M, P, false)[0].start;
      if (O >= this.groups.length - 1) {
        return
      }
      if (this._isVerticallyGrouped()) {
        if (!N.timeSlotCollectionCount()) {
          L = N._collection(0, true);
          return L.at(Q.index)
        } else {
          L = N._collection(0, N.daySlotCollectionCount());
          return P ? L.last() : L.at(Q.collectionIndex)
        }
      } else {
        if (!N.timeSlotCollectionCount()) {
          L = N._collection(Q.collectionIndex, true);
          return L.first()
        } else {
          L = N._collection(0, P);
          return P ? L.first() : L.at(Q.index)
        }
      }
    }
  });

  function f(L, R, M) {
    var O, P, S, Q, N;
    for (O = L.length - 1; O >= 0; O--) {
      P = w(L[O]);
      S = P.start;
      N = P.end;
      Q = S <= R && N >= R;
      if (Q || (S >= R && N <= M) || (R <= S && M >= S)) {
        if (S < R) {
          R = S
        }
        if (N > M) {
          M = N
        }
      }
    }
    return o(L, R, M)
  }
  function w(L) {
    return {
      start: L.start,
      end: L.end
    }
  }
  function o(L, Q, P) {
    var N = [];
    for (var O = 0; O < L.length; O++) {
      var M = w(L[O]);
      if ((M.start < Q && M.end > Q) || (M.start >= Q && M.end <= P)) {
        N.push(L[O])
      }
    }
    return N
  }
  function i(L) {
    return b(L)
  }
  function k(L) {
    return b(L)
  }
  var g = function(S) {
    var M = this,
      N = g.formats,
      R, Q, P, O, L;
    if (arguments.length === 1) {
      S = M.resolveColor(S);
      for (O = 0; O < N.length; O++) {
        R = N[O].re;
        Q = N[O].process;
        P = R.exec(S);
        if (P) {
          L = Q(P);
          M.r = L[0];
          M.g = L[1];
          M.b = L[2]
        }
      }
    } else {
      M.r = arguments[0];
      M.g = arguments[1];
      M.b = arguments[2]
    }
    M.r = M.normalizeByte(M.r);
    M.g = M.normalizeByte(M.g);
    M.b = M.normalizeByte(M.b)
  };
  g.prototype = {
    resolveColor: function(L) {
      L = L || "#000";
      if (L.charAt(0) == "#") {
        L = L.substr(1, 6)
      }
      L = L.replace(/ /g, "");
      L = L.toLowerCase();
      L = g.namedColors[L] || L;
      return L
    },
    normalizeByte: function(L) {
      return (L < 0 || isNaN(L)) ? 0 : ((L > 255) ? 255 : L)
    },
    percBrightness: function() {
      var L = this;
      return u.sqrt(0.241 * L.r * L.r + 0.691 * L.g * L.g + 0.06800000000000001 * L.b * L.b)
    },
    isDark: function() {
      var M = this;
      var L = M.percBrightness();
      return L < 180
    }
  };
  g.formats = [{
    re: /^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,
    process: function(L) {
      return [parseInt(L[1], 10), parseInt(L[2], 10), parseInt(L[3], 10)]
    }
  }, {
    re: /^(\w{2})(\w{2})(\w{2})$/,
    process: function(L) {
      return [parseInt(L[1], 16), parseInt(L[2], 16), parseInt(L[3], 16)]
    }
  }, {
    re: /^(\w{1})(\w{1})(\w{1})$/,
    process: function(L) {
      return [parseInt(L[1] + L[1], 16), parseInt(L[2] + L[2], 16), parseInt(L[3] + L[3], 16)]
    }
  }];
  g.namedColors = {
    aqua: "00ffff",
    azure: "f0ffff",
    beige: "f5f5dc",
    black: "000000",
    blue: "0000ff",
    brown: "a52a2a",
    coral: "ff7f50",
    cyan: "00ffff",
    darkblue: "00008b",
    darkcyan: "008b8b",
    darkgray: "a9a9a9",
    darkgreen: "006400",
    darkorange: "ff8c00",
    darkred: "8b0000",
    dimgray: "696969",
    fuchsia: "ff00ff",
    gold: "ffd700",
    goldenrod: "daa520",
    gray: "808080",
    green: "008000",
    greenyellow: "adff2f",
    indigo: "4b0082",
    ivory: "fffff0",
    khaki: "f0e68c",
    lightblue: "add8e6",
    lightgrey: "d3d3d3",
    lightgreen: "90ee90",
    lightpink: "ffb6c1",
    lightyellow: "ffffe0",
    lime: "00ff00",
    limegreen: "32cd32",
    linen: "faf0e6",
    magenta: "ff00ff",
    maroon: "800000",
    mediumblue: "0000cd",
    navy: "000080",
    olive: "808000",
    orange: "ffa500",
    orangered: "ff4500",
    orchid: "da70d6",
    pink: "ffc0cb",
    plum: "dda0dd",
    purple: "800080",
    red: "ff0000",
    royalblue: "4169e1",
    salmon: "fa8072",
    silver: "c0c0c0",
    skyblue: "87ceeb",
    slateblue: "6a5acd",
    slategray: "708090",
    snow: "fffafa",
    steelblue: "4682b4",
    tan: "d2b48c",
    teal: "008080",
    tomato: "ff6347",
    turquoise: "40e0d0",
    violet: "ee82ee",
    wheat: "f5deb3",
    white: "ffffff",
    whitesmoke: "f5f5f5",
    yellow: "ffff00",
    yellowgreen: "9acd32"
  };

  function b(Q) {
    var N = [];
    for (var S = 0; S < Q.length; S++) {
      var P = Q[S];
      var R = w(P);
      var L = null;
      for (var T = 0, M = N.length; T < M; T++) {
        var O = R.start > N[T].end;
        if (R.start < N[T].start || O) {
          L = N[T];
          if (L.end < R.end) {
            L.end = R.end
          }
          break
        }
      }
      if (!L) {
        L = {
          start: R.start,
          end: R.end,
          events: []
        };
        N.push(L)
      }
      L.events.push(P)
    }
    return N
  }
  function j(P, S, O) {
    var R = S[0];
    if (R) {
      var L = [];
      var M = R.dataSource.view();
      for (var N = 0; N < M.length; N++) {
        var Q = {
          text: r.getter(R.dataTextField)(M[N]),
          className: "k-slot-cell"
        };
        Q[P] = j(P, S.slice(1), O);
        L.push(Q)
      }
      return L
    }
    return O
  }
  function p(L) {
    return function(N) {
      if (a.isArray(N) || N instanceof r.data.ObservableArray) {
        for (var M = 0; M < N.length; M++) {
          if (N[M] == L) {
            return true
          }
        }
        return false
      }
      return N == L
    }
  }
  var A = /\s*k-state-selected/;

  function c(L) {
    L.className = L.className.replace(A, "") + " k-state-selected"
  }
  a.extend(J.SchedulerView, {
    createColumns: i,
    createRows: k,
    rangeIndex: w,
    collidingEvents: f,
    groupEqFilter: p
  })
})(window.kendo.jQuery);
kendo_module({
  id: "scheduler.dayview",
  name: "Scheduler Day View",
  category: "web",
  description: "The Scheduler Day View",
  depends: ["scheduler.view"],
  hidden: true
});
(function(a, x) {
  var n = window.kendo,
    w = n.ui,
    u = n.date.setTime,
    t = w.SchedulerView,
    h = a.extend,
    s = a.proxy,
    i = n.date.getDate,
    p = n.date.MS_PER_MINUTE,
    o = n.date.MS_PER_DAY,
    j = n.date.getMilliseconds,
    r = ".kendoMultiDayView";
  var f = n.template('<div title="(#=kendo.format("{0:t} - {1:t}", start, end)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div><div class="k-event-template">${title}</div></div>'),
    e = n.template('<div title="(#=kendo.format("{0:t}", start)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">${title}</div></div>'),
    d = n.template("<span class='k-link k-nav-day'>#=kendo.toString(date, 'ddd M/dd')#</span>"),
    c = '<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#" #} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span>#if(resizable && !singleDay && !data.tail && !data.middle){#<span class="k-resize-handle k-resize-w"></span>#}##if(resizable && !singleDay && !data.head && !data.middle){#<span class="k-resize-handle k-resize-e"></span>#}#</div>',
    g = '<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#" #if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</span><span class="k-event-top-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-n"></span># } #</span><span class="k-event-bottom-actions"># if(data.head || data.middle) {#<span class="k-icon k-i-arrow-s"></span># } #</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-n"></span># } ## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-s"></span># } #</div>';

  function v(y) {
    var z = new Date(1980, 1, 1, 0, 0, 0);
    u(z, j(y));
    return z
  }
  function l(D, z, y) {
    var B = z.getTime(),
      A = y.getTime(),
      C;
    C = D.getTime();
    return C >= B && C <= A
  }
  function m(B, z, y, A) {
    A = A ? B <= y : B < y;
    return B > z && A
  }
  function b(A, E, y, C) {
    var z = A._continuousEvents;
    var D = z[z.length - 1];
    var F = i(E.start.startDate()).getTime();
    if (C && D && i(D.start.startDate()).getTime() == F) {
      var B = z.length - 1;
      for (; B > -1; B--) {
        if (z[B].isAllDay || i(z[B].start.startDate()).getTime() < F) {
          break
        }
      }
      z.splice(B + 1, 0, {
        element: y,
        isAllDay: true,
        uid: y.attr(n.attr("uid")),
        start: E.start,
        end: E.end
      })
    } else {
      z.push({
        element: y,
        isAllDay: C,
        uid: y.attr(n.attr("uid")),
        start: E.start,
        end: E.end
      })
    }
  }
  function k(z) {
    var A = [];
    var y = z.workWeekStart;
    A.push(y);
    while (z.workWeekEnd != y) {
      if (y > 6) {
        y -= 7
      } else {
        y++
      }
      A.push(y)
    }
    return A
  }
  var q = t.extend({
    init: function(y, z) {
      var A = this;
      t.fn.init.call(A, y, z);
      A.title = A.options.title || A.options.name;
      A._workDays = k(A.options);
      A._templates();
      A._editable();
      A.calculateDateRange();
      A._groups()
    },
    _updateResizeHint: function(A, D, M, z) {
      var G = A.isMultiDay();
      var C = this.groups[D];
      var J = C.ranges(M, z, G, A.isAllDay);
      this._removeResizeHint();
      for (var I = 0; I < J.length; I++) {
        var H = J[I];
        var L = H.startSlot();
        var O = L.offsetWidth;
        var E = L.clientHeight;
        var N = L.offsetTop;
        if (G) {
          O = H.innerWidth()
        } else {
          var K = H.outerRect(M, z, this.options.snap);
          N = K.top;
          E = K.bottom - K.top
        }
        var F = t.fn._createResizeHint.call(this, this._scrollbarOffset(L.offsetLeft, G), N, O, E);
        this._resizeHint = this._resizeHint.add(F)
      }
      var B = "t";
      var y = this.content;
      if (G) {
        B = "M/dd";
        y = this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div");
        if (!y.length) {
          y = this.content
        }
      }
      this._resizeHint.appendTo(y);
      this._resizeHint.find(".k-label-top,.k-label-bottom").text("");
      this._resizeHint.first().addClass("k-first").find(".k-label-top").text(n.toString(n.timezone.toLocalDate(M), B));
      this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(n.toString(n.timezone.toLocalDate(z), B))
    },
    _updateMoveHint: function(C, E, A) {
      var G = C.isMultiDay();
      var D = this.groups[E];
      var L = n.date.toUtcTime(C.start) + A;
      var B = L + C.duration();
      var J = D.ranges(L, B, G, C.isAllDay);
      L = n.timezone.toLocalDate(L);
      B = n.timezone.toLocalDate(B);
      this._removeMoveHint();
      if (!G && (j(B) === 0 || j(B) < j(this.startTime()))) {
        if (J.length > 1) {
          J.pop()
        }
      }
      for (var I = 0; I < J.length; I++) {
        var H = J[I];
        var M = H.start;
        var F = this._createEventElement(C.clone({
          start: L,
          startTime: L,
          end: B,
          endTime: B
        }), !G);
        F.addClass("k-event-drag-hint");
        var z = {
          left: M.offsetLeft + 2,
          top: M.offsetTop
        };
        if (this._isRtl) {
          z.left = M.clientWidth * 0.1 + this._scrollbarOffset(M.offsetLeft) + 2
        }
        if (G) {
          z.width = H.innerWidth() - 4
        } else {
          var K = H.outerRect(L, B, this.options.snap);
          z.top = K.top;
          z.height = K.bottom - K.top;
          z.width = M.clientWidth * 0.9 - 4
        }
        F.css(z);
        this._moveHint = this._moveHint.add(F)
      }
      var y = this.content;
      if (G) {
        y = this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div");
        if (!y.length) {
          y = this.content
        }
      }
      this._moveHint.appendTo(y)
    },
    _slotByPosition: function(D, E) {
      var C;
      var B;
      if (this._isVerticallyGrouped()) {
        B = this.content.offset();
        E += this.content[0].scrollTop;
        D += this.content[0].scrollLeft
      } else {
        B = this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day)").find(">div").offset()
      }
      if (B) {
        D -= B.left;
        E -= B.top
      }
      D = Math.ceil(D);
      E = Math.ceil(E);
      var z;
      var A;
      for (A = 0; A < this.groups.length; A++) {
        z = this.groups[A];
        C = z.daySlotByPosition(D, E);
        if (C) {
          return C
        }
      }
      if (B) {
        D += B.left;
        E += B.top
      }
      B = this.content.offset();
      D -= B.left;
      E -= B.top;
      if (!this._isVerticallyGrouped()) {
        E += this.content[0].scrollTop;
        D += this.content[0].scrollLeft
      }
      D = Math.ceil(D);
      E = Math.ceil(E);
      for (A = 0; A < this.groups.length; A++) {
        z = this.groups[A];
        C = z.timeSlotByPosition(D, E);
        if (C) {
          return C
        }
      }
      return null
    },
    _groupCount: function() {
      var y = this.groupedResources;
      if (y.length) {
        if (this._groupOrientation() === "vertical") {
          return this._rowCountForLevel(y.length - 1)
        } else {
          return this._columnCountForLevel(y.length) / this._columnOffsetForResource(y.length)
        }
      }
      return 1
    },
    _columnCountInResourceView: function() {
      var y = this.groupedResources;
      if (!y.length || this._isVerticallyGrouped()) {
        return this._columnCountForLevel(0)
      }
      return this._columnOffsetForResource(y.length)
    },
    _timeSlotGroups: function(J, E) {
      var L = this._timeSlotInterval();
      var Q = this.content.find("tr:not(.k-scheduler-header-all-day)");
      Q.attr("role", "row");
      var M = Q.length;
      if (this._isVerticallyGrouped()) {
        M = Math.floor(M / J)
      }
      for (var K = 0; K < J; K++) {
        var O = 0;
        if (this._isVerticallyGrouped()) {
          O = K
        }
        var N = O * M;
        var R;
        var A = 0;
        if (!this._isVerticallyGrouped()) {
          A = K
        }
        while (N < (O + 1) * M) {
          var B = Q[N].children;
          var I = this.groups[K];
          if (N % M === 0) {
            R = j(new Date(+this.startTime()))
          }
          for (var z = A * E; z < (A + 1) * E; z++) {
            var y = B[z];
            var D = z % E;
            var C = I.getTimeSlotCollection(D);
            var F = this._dates[D];
            var G = Date.UTC(F.getFullYear(), F.getMonth(), F.getDate());
            var P = G + R;
            var H = P + L;
            y.setAttribute("role", "gridcell");
            y.setAttribute("aria-selected", false);
            C.addTimeSlot(y, P, H)
          }
          R += L;
          N++
        }
      }
    },
    _daySlotGroups: function(H, E) {
      var L;
      if (this._isVerticallyGrouped()) {
        L = this.element.find(".k-scheduler-header-all-day")
      } else {
        L = this.element.find(".k-scheduler-header-all-day tr")
      }
      L.attr("role", "row");
      for (var I = 0; I < H; I++) {
        var J = 0;
        if (this._isVerticallyGrouped()) {
          J = I
        }
        var G = this.groups[I];
        var D = G.getDaySlotCollection(0);
        var C = L[J].children;
        var B = 0;
        if (!this._isVerticallyGrouped()) {
          B = I
        }
        var z = 0;
        for (var A = B * E; A < (B + 1) * E; A++) {
          var y = C[A];
          if (A % E === 0) {
            z = 0
          }
          var K = n.date.addDays(this.startDate(), z);
          var F = Date.UTC(K.getFullYear(), K.getMonth(), K.getDate());
          z++;
          y.setAttribute("role", "gridcell");
          y.setAttribute("aria-selected", false);
          D.addDaySlot(y, F, F + n.date.MS_PER_DAY)
        }
      }
    },
    _groups: function() {
      var A = this._groupCount();
      var y = this._columnCountInResourceView();
      this.groups = [];
      for (var B = 0; B < A; B++) {
        var C = this._addResourceView(B);
        for (var z = 0; z < y; z++) {
          C.addTimeSlotCollection(this._dates[z], n.date.addDays(this._dates[z], 1))
        }
        C.addDaySlotCollection(this._dates[0], this._dates[this._dates.length - 1])
      }
      this._timeSlotGroups(A, y);
      if (this.options.allDaySlot) {
        this._daySlotGroups(A, y)
      }
    },
    options: {
      name: "MultiDayView",
      selectedDateFormat: "{0:D}",
      allDaySlot: true,
      showWorkHours: false,
      title: "",
      startTime: n.date.today(),
      endTime: n.date.today(),
      minorTickCount: 2,
      majorTick: 60,
      majorTimeHeaderTemplate: "#=kendo.toString(date, 't')#",
      minorTimeHeaderTemplate: "&nbsp;",
      slotTemplate: "&nbsp;",
      allDaySlotTemplate: "&nbsp;",
      eventTemplate: f,
      allDayEventTemplate: e,
      dateHeaderTemplate: d,
      editable: true,
      workDayStart: new Date(1980, 1, 1, 8, 0, 0),
      workDayEnd: new Date(1980, 1, 1, 17, 0, 0),
      workWeekStart: 1,
      workWeekEnd: 5,
      footer: {
        command: "workDay"
      },
      messages: {
        allDay: "all day",
        showFullDay: "Show full day",
        showWorkDay: "Show business hours"
      }
    },
    events: ["remove", "add", "edit"],
    _templates: function() {
      var y = this.options,
        z = h({}, n.Template, y.templateSettings);
      this.eventTemplate = this._eventTmpl(y.eventTemplate, g);
      this.allDayEventTemplate = this._eventTmpl(y.allDayEventTemplate, c);
      this.majorTimeHeaderTemplate = n.template(y.majorTimeHeaderTemplate, z);
      this.minorTimeHeaderTemplate = n.template(y.minorTimeHeaderTemplate, z);
      this.dateHeaderTemplate = n.template(y.dateHeaderTemplate, z);
      this.slotTemplate = n.template(y.slotTemplate, z);
      this.allDaySlotTemplate = n.template(y.allDaySlotTemplate, z)
    },
    _editable: function() {
      if (this.options.editable) {
        if (this._isMobile()) {
          this._touchEditable()
        } else {
          this._mouseEditable()
        }
      }
    },
    _mouseEditable: function() {
      var y = this;
      y.element.on("click" + r, ".k-event a:has(.k-si-close)", function(z) {
        y.trigger("remove", {
          uid: a(this).closest(".k-event").attr(n.attr("uid"))
        });
        z.preventDefault()
      });
      if (y.options.editable.create !== false) {
        y.element.on("dblclick" + r, ".k-scheduler-content td", function(z) {
          if (!a(this).parent().hasClass("k-scheduler-header-all-day")) {
            var B = y._slotByPosition(z.pageX, z.pageY);
            if (B) {
              var A = y._resourceBySlot(B);
              y.trigger("add", {
                eventInfo: h({
                  start: B.startDate(),
                  end: B.endDate()
                }, A)
              })
            }
            z.preventDefault()
          }
        }).on("dblclick" + r, ".k-scheduler-header-all-day td", function(z) {
          var B = y._slotByPosition(z.pageX, z.pageY);
          if (B) {
            var A = y._resourceBySlot(B);
            y.trigger("add", {
              eventInfo: h({}, {
                isAllDay: true,
                start: n.date.getDate(B.startDate()),
                end: n.date.getDate(B.startDate())
              }, A)
            })
          }
          z.preventDefault()
        })
      }
      if (y.options.editable.update !== false) {
        y.element.on("dblclick" + r, ".k-event", function(z) {
          y.trigger("edit", {
            uid: a(this).closest(".k-event").attr(n.attr("uid"))
          });
          z.preventDefault()
        })
      }
    },
    _touchEditable: function() {
      var y = this;
      if (y.options.editable.create !== false) {
        y._addUserEvents = new n.UserEvents(y.element, {
          filter: ".k-scheduler-content td",
          tap: function(z) {
            if (!a(z.target).parent().hasClass("k-scheduler-header-all-day")) {
              var B = y._slotByPosition(z.x.location, z.y.location);
              if (B) {
                var A = y._resourceBySlot(B);
                y.trigger("add", {
                  eventInfo: h({
                    start: B.startDate(),
                    end: B.endDate()
                  }, A)
                })
              }
              z.preventDefault()
            }
          }
        });
        y._allDayUserEvents = new n.UserEvents(y.element, {
          filter: ".k-scheduler-header-all-day td",
          tap: function(z) {
            var B = y._slotByPosition(z.x.location, z.y.location);
            if (B) {
              var A = y._resourceBySlot(B);
              y.trigger("add", {
                eventInfo: h({}, {
                  isAllDay: true,
                  start: n.date.getDate(B.startDate()),
                  end: n.date.getDate(B.startDate())
                }, A)
              })
            }
            z.preventDefault()
          }
        })
      }
      if (y.options.editable.update !== false) {
        y._editUserEvents = new n.UserEvents(y.element, {
          filter: ".k-event",
          tap: function(z) {
            var A = a(z.target).closest(".k-event");
            if (!A.hasClass("k-event-active")) {
              y.trigger("edit", {
                uid: A.attr(n.attr("uid"))
              })
            }
            z.preventDefault()
          }
        })
      }
    },
    _layout: function(A) {
      var z = [];
      var E = [];
      var C = this.options;
      var F = this;
      for (var B = 0; B < A.length; B++) {
        var y = {};
        y.text = F.dateHeaderTemplate({
          date: A[B]
        });
        if (n.date.isToday(A[B])) {
          y.className = "k-today"
        }
        z.push(y)
      }
      var D = this.groupedResources;
      if (C.allDaySlot) {
        E.push({
          text: C.messages.allDay,
          allDay: true,
          cellContent: function(G) {
            G = D.length && F._groupOrientation() !== "vertical" ? G % A.length : G;
            return F.allDaySlotTemplate({
              date: A[G]
            })
          }
        })
      }
      this._forTimeRange(this.startTime(), this.endTime(), function(G, I, J, H) {
        var L = I ? F.majorTimeHeaderTemplate : F.minorTimeHeaderTemplate;
        var K = {
          text: L({
            date: G
          }),
          className: H ? "k-slot-cell" : ""
        };
        E.push(K)
      });
      if (D.length) {
        if (this._groupOrientation() === "vertical") {
          E = this._createRowsLayout(D, E)
        } else {
          z = this._createColumnsLayout(D, z)
        }
      }
      return {
        columns: z,
        rows: E
      }
    },
    _footer: function() {
      var A = this.options;
      if (A.footer !== false) {
        var z = '<div class="k-header k-scheduler-footer">';
        var y = A.footer.command;
        if (y && y === "workDay") {
          z += '<ul class="k-reset k-header k-toolbar">';
          z += '<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>';
          z += (A.showWorkHours ? A.messages.showFullDay : A.messages.showWorkDay) + "</a></li>";
          z += "</ul>"
        } else {
          z += "&nbsp;"
        }
        z += "</div>";
        this.footer = a(z).appendTo(this.element);
        var B = this;
        this.footer.on("click" + r, ".k-scheduler-fullday", function(C) {
          C.preventDefault();
          B.trigger("navigate", {
            view: B.name || A.name,
            date: B.startDate(),
            isWorkDay: !A.showWorkHours
          })
        })
      }
    },
    _forTimeRange: function(I, H, y, z) {
      I = v(I);
      H = v(H);
      var R = this,
        N = j(I),
        M = j(H),
        J = R.options.minorTickCount,
        L = R.options.majorTick * p,
        K = L / J || 1,
        P = new Date(+I),
        Q = P.getDate(),
        O, B = 0,
        F, A = "";
      F = o / K;
      if (N != M) {
        if (N > M) {
          M += o
        }
        F = ((M - N) / K)
      }
      F = Math.round(F);
      for (; B < F; B++) {
        var G = B % (L / K),
          D = G === 0,
          E = G < J - 1,
          C = G === J - 1;
        A += y(P, D, E, C);
        u(P, K, false)
      }
      if (M) {
        O = j(P);
        if (Q < P.getDate()) {
          O += o
        }
        if (O > M) {
          P = new Date(+H)
        }
      }
      if (z) {
        A += z(P)
      }
      return A
    },
    _content: function(B) {
      var N = this;
      var H = N.options;
      var M = N.startTime();
      var C = this.endTime();
      var D = 1;
      var J = 1;
      var A = B.length;
      var E = "";
      var I = this.groupedResources;
      var y = "";
      var L = this.slotTemplate;
      if (I.length) {
        if (N._groupOrientation() === "vertical") {
          J = this._rowCountForLevel(this.rowLevels.length - 2);
          if (H.allDaySlot) {
            y = '<tr class="k-scheduler-header-all-day">';
            for (var F = 0, G = B.length; F < G; F++) {
              y += "<td>" + this.allDaySlotTemplate({
                date: B[F]
              }) + "</td>"
            }
            y += "</tr>"
          }
        } else {
          D = this._columnCountForLevel(this.columnLevels.length - 2)
        }
      }
      E += "<tbody>";
      var z = function(Q, U) {
        var P = "";
        var S;
        var T;
        var O = "";
        var V;
        P = "<tr" + (U ? ' class="k-middle-row"' : "") + ">";
        for (var R = 0; R < D; R++) {
          for (S = 0, T = A; S < T; S++) {
            O = "";
            if (n.date.isToday(B[S])) {
              O += "k-today"
            }
            if (n.date.getMilliseconds(Q) < n.date.getMilliseconds(N.options.workDayStart) || n.date.getMilliseconds(Q) >= n.date.getMilliseconds(N.options.workDayEnd) || !N._isWorkDay(B[S])) {
              O += " k-nonwork-hour"
            }
            P += "<td" + (O !== "" ? ' class="' + O + '"' : "") + ">";
            V = n.date.getDate(B[S]);
            n.date.setTime(V, n.date.getMilliseconds(Q));
            P += L({
              date: V
            });
            P += "</td>"
          }
        }
        P += "</tr>";
        return P
      };
      for (var K = 0; K < J; K++) {
        E += y;
        E += this._forTimeRange(M, C, z)
      }
      E += "</tbody>";
      this.content.find("table").append(E)
    },
    _isWorkDay: function(y) {
      var z = y.getDay();
      var B = this._workDays;
      for (var A = 0; A < B.length; A++) {
        if (B[A] === z) {
          return true
        }
      }
      return false
    },
    _render: function(z) {
      var A = this;
      z = z || [];
      this._dates = z;
      this._startDate = z[0];
      this._endDate = z[(z.length - 1) || 0];
      this.createLayout(this._layout(z));
      this._content(z);
      this._footer();
      this.refreshLayout();
      var y = this.element.find(".k-scheduler-header-all-day td");
      if (y.length) {
        this._allDayHeaderHeight = y.first()[0].clientHeight
      }
      A.datesHeader.on("click" + r, ".k-nav-day", function(B) {
        var E = a(B.currentTarget).closest("th");
        var C = E.offset();
        var D = A._slotByPosition(C.left, C.top + E.outerHeight());
        A.trigger("navigate", {
          view: "day",
          date: D.startDate()
        })
      })
    },
    startTime: function() {
      var y = this.options;
      return y.showWorkHours ? y.workDayStart : y.startTime
    },
    endTime: function() {
      var y = this.options;
      return y.showWorkHours ? y.workDayEnd : y.endTime
    },
    startDate: function() {
      return this._startDate
    },
    endDate: function() {
      return this._endDate
    },
    _end: function(y) {
      var z = j(this.endTime()) || o;
      if (y) {
        z = 0
      }
      return new Date(this._endDate.getTime() + z)
    },
    nextDate: function() {
      return n.date.nextDay(this.endDate())
    },
    previousDate: function() {
      return n.date.previousDay(this.startDate())
    },
    calculateDateRange: function() {
      this._render([this.options.date])
    },
    destroy: function() {
      var y = this;
      if (y.datesHeader) {
        y.datesHeader.off(r)
      }
      if (y.element) {
        y.element.off(r)
      }
      t.fn.destroy.call(this);
      if (y.footer) {
        y.footer.remove()
      }
      if (this._isMobile() && y.options.editable) {
        if (y.options.editable.create !== false) {
          y._addUserEvents.destroy();
          y._allDayUserEvents.destroy()
        }
        if (y.options.editable.update !== false) {
          y._editUserEvents.destroy()
        }
      }
    },
    selectionByElement: function(y) {
      var z = y.offset();
      return this._slotByPosition(z.left, z.top)
    },
    _timeSlotInterval: function() {
      var y = this.options;
      return (y.majorTick / y.minorTickCount) * p
    },
    _timeSlotIndex: function(y) {
      var A = this.options;
      var z = j(y);
      var B = j(this.startTime());
      var C = ((A.majorTick / A.minorTickCount) * p);
      return (z - B) / (C)
    },
    _slotIndex: function(y, z) {
      if (z) {
        return this._dateSlotIndex(y)
      }
      return this._timeSlotIndex(y)
    },
    _dateSlotIndex: function(y, C) {
      var z;
      var A;
      var E = this._dates || [];
      var F;
      var D;
      var B = 1;
      for (z = 0, A = E.length; z < A; z++) {
        F = n.date.getDate(E[z]);
        D = new Date(n.date.getDate(E[z]).getTime() + o - (C ? 0 : 1));
        if (l(y, F, D)) {
          return z * B
        }
      }
      return -1
    },
    _positionAllDayEvent: function(A, L) {
      var M = L.innerWidth();
      var O = L.start.index;
      var B = L.end.index;
      var y = t.collidingEvents(L.events(), O, B);
      var z = this._headerColumnCount || 0;
      var G = 2;
      var I = O !== B ? 5 : 4;
      var C = this._allDayHeaderHeight;
      var N = L.startSlot();
      A.css({
        left: this._scrollbarOffset(N.offsetLeft + G, true),
        width: M - I
      });
      L.addEvent({
        slotIndex: O,
        start: O,
        end: B,
        element: A
      });
      y.push({
        slotIndex: O,
        start: O,
        end: B,
        element: A
      });
      var K = t.createRows(y);
      if (K.length && K.length > z) {
        this._updateAllDayHeaderHeight(C * K.length + C);
        this._headerColumnCount = K.length
      }
      var P = L.start.offsetTop;
      for (var E = 0, H = K.length; E < H; E++) {
        var J = K[E].events;
        for (var F = 0, D = J.length; F < D; F++) {
          a(J[F].element).css({
            top: P + E * C
          })
        }
      }
    },
    _arrangeColumns: function(B, N, F, K) {
      var M = K.start;
      B = {
        element: B,
        slotIndex: M.index,
        start: N,
        end: N + F
      };
      var z, L = M.clientWidth,
        E = L * 0.1,
        y, C = K.events(),
        J = t.collidingEvents(C, B.start, B.end);
      K.addEvent(B);
      J.push(B);
      z = t.createColumns(J);
      var A = (L - E) / z.length;
      for (var G = 0, I = z.length; G < I; G++) {
        y = z[G].events;
        for (var H = 0, D = y.length; H < D; H++) {
          y[H].element[0].style.width = A - 4 + "px";
          y[H].element[0].style.left = (this._isRtl ? this._scrollbarOffset(E) : 0) + M.offsetLeft + G * A + 2 + "px"
        }
      }
    },
    _positionEvent: function(A, y, D) {
      var E = A.start;
      var z = A.end;
      if (A.startTime) {
        E = n.date.getMilliseconds(A.startTime) + n.date.toUtcTime(n.date.getDate(A.start))
      }
      if (A.endTime) {
        z = n.date.getMilliseconds(A.endTime) + n.date.toUtcTime(n.date.getDate(A.end))
      }
      var C = D.innerRect(E, z, false);
      var B = C.bottom - C.top - 2;
      if (B < 0) {
        B = 0
      }
      y.css({
        top: C.top,
        height: B
      });
      this._arrangeColumns(y, C.top, y[0].clientHeight, D)
    },
    _eventTmpl: function(D, G) {
      var z = this.options,
        B = h({}, n.Template, z.templateSettings),
        A = B.paramName,
        y = "",
        F = typeof D,
        C = {
          storage: {},
          count: 0
        };
      if (F === "function") {
        C.storage["tmpl" + C.count] = D;
        y += "#=this.tmpl" + C.count + "(" + A + ")#";
        C.count++
      } else {
        if (F === "string") {
          y += D
        }
      }
      var E = n.template(n.format(G, y), B);
      if (C.count > 0) {
        E = s(E, C.storage)
      }
      return E
    },
    _createEventElement: function(B, H, F, P) {
      var Q = H ? this.eventTemplate : this.allDayEventTemplate;
      var J = this.options;
      var y = J.editable;
      var G = this._isMobile();
      var M = y && y.destroy !== false && !G;
      var K = y && y.resize !== false;
      var N = i(this.startDate());
      var z = i(this.endDate());
      var O = j(this.startTime());
      var A = j(this.endTime());
      var E = j(B.startTime || B.start);
      var D = j(B.endTime || B.end);
      var I;
      if (O >= A) {
        A = j(new Date(this.endTime().getTime() + o - 1))
      }
      if (!H && !B.isAllDay) {
        z = new Date(z.getTime() + o)
      }
      var C = B.end;
      if (B.isAllDay) {
        C = i(B.end)
      }
      if ((!l(i(B.start), N, z) && !l(C, N, z)) || (H && E < O && D > A)) {
        I = true
      } else {
        if (i(B.start) < N || (H && E < O)) {
          P = true
        } else {
          if ((C > z && !H) || (H && D > A)) {
            F = true
          }
        }
      }
      var L = this.eventResources(B);
      return a(Q(h({}, {
        ns: n.ns,
        resizable: K,
        showDelete: M,
        middle: I,
        head: F,
        tail: P,
        singleDay: this._dates.length == 1,
        resources: L,
        inverseColor: L && L[0] ? this._shouldInverseResourceColor(L[0]) : false
      }, B, {
        start: B.startTime || B.start,
        end: B.endTime || B.end
      })))
    },
    _isInTimeSlot: function(z) {
      var C = this.startTime(),
        B = this.endTime(),
        D = z.startTime || z.start,
        y = z.endTime || z.end;
      if (j(B) === j(n.date.getDate(B))) {
        B = n.date.getDate(B);
        u(B, o - 1)
      }
      if (n.date.getDate(y) > n.date.getDate(D)) {
        y = n.date.getDate(y);
        u(y, o - 1)
      }
      y = j(y);
      D = j(D);
      B = j(B);
      C = j(C);
      if (C === D && D === y) {
        return true
      }
      var A = D !== B;
      return m(D, C, B, A) || m(y, C, B, A) || m(C, D, y) || m(B, D, y)
    },
    _isInDateSlot: function(y) {
      var A = this.startDate();
      var z = new Date(this.endDate().getTime() + o - 1);
      return (l(y.start, A, z) || l(y.end, A, z) || l(A, y.start, y.end) || l(z, y.start, y.end)) && (!l(y.end, A, A) || l(y.end, y.start, y.start) || y.isAllDay)
    },
    _updateAllDayHeaderHeight: function(A) {
      var y = this.element.find(".k-scheduler-header-all-day td");
      if (y.length) {
        y.parent().add(this.element.find(".k-scheduler-times-all-day").parent()).height(A);
        for (var z = 0; z < this.groups.length; z++) {
          this.groups[z].refresh()
        }
      }
    },
    _renderEvents: function(D, F) {
      var y = this.datesHeader.find(".k-scheduler-header-wrap > div");
      var C;
      var H;
      var J;
      for (H = 0, J = D.length; H < J; H++) {
        C = D[H];
        if (this._isInDateSlot(C)) {
          var I = C.isAllDay || C.end.getTime() - C.start.getTime() >= o;
          var z = I && !this._isVerticallyGrouped() ? y : this.content;
          var A;
          var O;
          var E;
          if (!I) {
            if (this._isInTimeSlot(C)) {
              E = this.groups[F];
              if (!E._continuousEvents) {
                E._continuousEvents = []
              }
              O = E.slotRanges(C);
              var M = O.length;
              for (var N = 0; N < M; N++) {
                var L = O[N];
                var P = C.start;
                var B = C.end;
                if (M > 1) {
                  if (N === 0) {
                    B = L.end.endDate()
                  } else {
                    if (N == M - 1) {
                      P = L.start.startDate()
                    } else {
                      P = L.start.startDate();
                      B = L.end.endDate()
                    }
                  }
                }
                var K = C.clone({
                  start: P,
                  end: B,
                  startTime: C.startTime,
                  endTime: C.endTime
                });
                if (this._isInTimeSlot(K)) {
                  var G = L.head;
                  A = this._createEventElement(C, !I, G, L.tail);
                  A.appendTo(z);
                  this._positionEvent(K, A, L);
                  b(E, L, A, false)
                }
              }
            }
          } else {
            if (this.options.allDaySlot) {
              E = this.groups[F];
              if (!E._continuousEvents) {
                E._continuousEvents = []
              }
              O = E.slotRanges(C);
              A = this._createEventElement(C, !I);
              this._positionAllDayEvent(A, O[0]);
              b(E, O[0], A, true);
              A.appendTo(z)
            }
          }
        }
      }
    },
    render: function(y) {
      this._headerColumnCount = 0;
      this._groups();
      this.element.find(".k-event").remove();
      this._updateAllDayHeaderHeight(this._allDayHeaderHeight);
      y = new n.data.Query(y).sort([{
        field: "start",
        dir: "asc"
      }, {
        field: "end",
        dir: "desc"
      }]).toArray();
      var z = this.groupedResources;
      if (z.length) {
        this._renderGroups(y, z, 0)
      } else {
        this._renderEvents(y, 0, 0)
      }
      this.refreshLayout();
      this.trigger("activate")
    },
    _renderGroups: function(y, D, B) {
      var C = D[0];
      if (C) {
        var F = C.dataSource.view();
        for (var A = 0; A < F.length; A++) {
          var E = this._resourceValue(C, F[A]);
          var z = new n.data.Query(y).filter({
            field: C.field,
            operator: t.groupEqFilter(E)
          }).toArray();
          if (D.length > 1) {
            B = this._renderGroups(z, D.slice(1), B++)
          } else {
            this._renderEvents(z, B++)
          }
        }
      }
      return B
    },
    _columnOffsetForResource: function(y) {
      return this._columnCountForLevel(y) / this._columnCountForLevel(y - 1)
    },
    _columnCountForLevel: function(z) {
      var y = this.columnLevels[z];
      return y ? y.length : 0
    },
    _rowCountForLevel: function(y) {
      var z = this.rowLevels[y];
      return z ? z.length : 0
    },
    clearSelection: function() {
      this.content.add(this.datesHeader).find(".k-state-selected").removeAttr("id").attr("aria-selected", false).removeClass("k-state-selected")
    },
    _updateDirection: function(D, B, A, C, F) {
      var z = D.isAllDay;
      var E = B[0].start;
      var y = B[B.length - 1].end;
      if (A) {
        if (F) {
          if (!z && E.index === y.index && E.collectionIndex === y.collectionIndex) {
            D.backward = C
          }
        } else {
          if ((z && E.index === y.index) || (!z && E.collectionIndex === y.collectionIndex)) {
            D.backward = C
          }
        }
      }
    },
    _changeViewPeriod: function(C, B, E) {
      if (!E) {
        var y = B ? this.previousDate() : this.nextDate();
        var D = C.start;
        var z = C.end;
        C.start = new Date(y);
        C.end = new Date(y);
        var A = C.isAllDay ? o : j(z);
        u(C.start, j(D));
        u(C.end, A);
        if (!this._isVerticallyGrouped()) {
          C.groupIndex = B ? this.groups.length - 1 : 0
        }
        C.events = [];
        return true
      }
    }
  });
  h(true, w, {
    MultiDayView: q,
    DayView: q.extend({
      options: {
        title: "Day"
      },
      name: "day"
    }),
    WeekView: q.extend({
      options: {
        title: "Week",
        selectedDateFormat: "{0:D} - {1:D}"
      },
      name: "week",
      calculateDateRange: function() {
        var B = this.options.date,
          C = n.date.dayOfWeek(B, this.calendarInfo().firstDay, -1),
          z, A, y = [];
        for (z = 0, A = 7; z < A; z++) {
          y.push(C);
          C = n.date.nextDay(C)
        }
        this._render(y)
      }
    }),
    WorkWeekView: q.extend({
      options: {
        title: "Work Week",
        selectedDateFormat: "{0:D} - {1:D}"
      },
      nextDate: function() {
        return n.date.dayOfWeek(n.date.nextDay(this.endDate()), this.options.workWeekStart, 1)
      },
      previousDate: function() {
        return n.date.previousDay(this.startDate())
      },
      calculateDateRange: function() {
        var A = this.options.date,
          B = n.date.dayOfWeek(A, this.options.workWeekStart, -1),
          z = n.date.dayOfWeek(B, this.options.workWeekEnd, 1),
          y = [];
        while (B <= z) {
          y.push(B);
          B = n.date.nextDay(B)
        }
        this._render(y)
      }
    })
  })
})(window.kendo.jQuery);
kendo_module({
  id: "scheduler.agendaview",
  name: "Scheduler Agenda View",
  category: "web",
  description: "The Scheduler Agenda View",
  depends: ["scheduler.view"],
  hidden: true
});
(function(a) {
  var d = window.kendo,
    h = d.ui,
    e = ".kendoAgendaView";
  h.AgendaView = h.SchedulerView.extend({
    init: function(i, j) {
      h.SchedulerView.fn.init.call(this, i, j);
      j = this.options;
      if (j.editable) {
        j.editable = a.extend({
          "delete": true
        }, j.editable, {
          create: false,
          update: false
        })
      }
      this.title = j.title;
      this.name = "agenda";
      this._eventTemplate = d.template(j.eventTemplate);
      this._dateTemplate = d.template(j.eventDateTemplate);
      this._groupTemplate = d.template(j.eventGroupTemplate);
      this._timeTemplate = d.template(j.eventTimeTemplate);
      this.element.on("mouseenter" + e, ".k-scheduler-agenda .k-scheduler-content tr", "_mouseenter").on("mouseleave" + e, ".k-scheduler-agenda .k-scheduler-content tr", "_mouseleave").on("click" + e, ".k-scheduler-agenda .k-scheduler-content .k-link:has(.k-si-close)", "_remove");
      this._renderLayout(j.date)
    },
    _mouseenter: function(i) {
      a(i.currentTarget).addClass("k-state-hover")
    },
    _mouseleave: function(i) {
      a(i.currentTarget).removeClass("k-state-hover")
    },
    _remove: function(i) {
      i.preventDefault();
      this.trigger("remove", {
        uid: a(i.currentTarget).closest(".k-task").attr(d.attr("uid"))
      })
    },
    nextDate: function() {
      return d.date.nextDay(this.startDate())
    },
    startDate: function() {
      return this._startDate
    },
    endDate: function() {
      return this._endDate
    },
    previousDate: function() {
      return d.date.previousDay(this.startDate())
    },
    _renderLayout: function(i) {
      this._startDate = i;
      this._endDate = d.date.addDays(i, 7);
      this.createLayout(this._layout());
      this.table.addClass("k-scheduler-agenda")
    },
    _layout: function() {
      var i = [{
        text: this.options.messages.time,
        className: "k-scheduler-timecolumn"
      }, {
        text: this.options.messages.event
      }];
      if (!this._isMobilePhoneView()) {
        i.splice(0, 0, {
          text: this.options.messages.date,
          className: "k-scheduler-datecolumn"
        })
      }
      var l = this.groupedResources;
      if (l.length) {
        var j = [];
        for (var k = 0; k < l.length; k++) {
          j.push({
            text: "",
            className: "k-scheduler-groupcolumn"
          })
        }
        i = j.concat(i)
      }
      return {
        columns: i
      }
    },
    _tasks: function(m) {
      var q = [];
      for (var n = 0; n < m.length; n++) {
        var k = m[n];
        var o = k.start;
        var j = k.end;
        if (k.isAllDay) {
          j = d.date.nextDay(j)
        }
        var l = Math.ceil((j - o) / d.date.MS_PER_DAY);
        if (!k.isAllDay && l === 1 && d.date.getDate(j).getTime() !== d.date.getDate(o).getTime()) {
          l += 1
        }
        var p = k.clone();
        p.startDate = d.date.getDate(o);
        if (p.startDate >= this.startDate()) {
          q.push(p)
        }
        if (l > 1) {
          p.end = d.date.nextDay(o);
          p.head = true;
          for (var i = 1; i < l; i++) {
            o = p.end;
            p = k.clone();
            p.start = o;
            p.startDate = d.date.getDate(o);
            p.end = d.date.nextDay(o);
            if (i == l - 1) {
              p.end = new Date(p.start.getFullYear(), p.start.getMonth(), p.start.getDate(), j.getHours(), j.getMinutes(), j.getSeconds(), j.getMilliseconds());
              p.tail = true
            } else {
              p.isAllDay = true;
              p.middle = true
            }
            if (p.end <= this.endDate() && p.start >= this.startDate()) {
              q.push(p)
            }
          }
        }
      }
      return new d.data.Query(q).sort([{
        field: "start",
        dir: "asc"
      }, {
        field: "end",
        dir: "asc"
      }]).groupBy({
        field: "startDate"
      }).toArray()
    },
    _renderTaskGroups: function(v, k) {
      var q = [];
      var j = this.options.editable;
      var o = j && j.destroy !== false && !this._isMobile();
      var n = this._isMobilePhoneView();
      for (var s = 0; s < v.length; s++) {
        var i = v[s].value;
        var u = v[s].items;
        var w = d.date.isToday(i);
        for (var t = 0; t < u.length; t++) {
          var r = u[t];
          var p = [];
          var l = !n ? p : [];
          if (s === 0 && t === 0 && k.length) {
            for (var m = 0; m < k.length; m++) {
              l.push(d.format('<td class="k-scheduler-groupcolumn{2}" rowspan="{0}">{1}</td>', k[m].rowSpan, this._groupTemplate({
                value: k[m].text
              }), k[m].className))
            }
          }
          if (t === 0) {
            if (n) {
              l.push(d.format('<td class="k-scheduler-datecolumn" colspan="2">{0}</td>', this._dateTemplate({
                date: i
              })));
              q.push('<tr role="row" aria-selected="false"' + (w ? ' class="k-today">' : ">") + l.join("") + "</tr>")
            } else {
              p.push(d.format('<td class="k-scheduler-datecolumn{2}" rowspan="{0}">{1}</td>', u.length, this._dateTemplate({
                date: i
              }), s == v.length - 1 && !k.length ? " k-last" : ""))
            }
          }
          if (r.head) {
            r.format = "{0:t}"
          } else {
            if (r.tail) {
              r.format = "{1:t}"
            } else {
              r.format = "{0:t}-{1:t}"
            }
          }
          r.resources = this.eventResources(r);
          p.push(d.format('<td class="k-scheduler-timecolumn"><div>{0}{1}{2}</div></td><td>{3}</td>', r.tail || r.middle ? '<span class="k-icon k-i-arrow-w"></span>' : "", this._timeTemplate(r.clone({
            start: r.startTime || r.start,
            end: r.endTime || r.end
          })), r.head || r.middle ? '<span class="k-icon k-i-arrow-e"></span>' : "", this._eventTemplate(r.clone({
            showDelete: o
          }))));
          q.push('<tr role="row" aria-selected="false"' + (w ? ' class="k-today">' : ">") + p.join("") + "</tr>")
        }
      }
      return q.join("")
    },
    render: function(i) {
      var l = this.content.find("table").empty();
      var j = [];
      if (i.length > 0) {
        var k = this.groupedResources;
        if (k.length) {
          j = this._createGroupConfiguration(i, k, null);
          this._renderGroups(j, l, [])
        } else {
          j = this._tasks(i);
          l.append(this._renderTaskGroups(j, []))
        }
      }
      this._eventsList = c(j);
      this.refreshLayout();
      this.trigger("activate")
    },
    _renderGroups: function(i, n, l) {
      for (var j = 0, k = i.length; j < k; j++) {
        var m = l.splice(0);
        m.push(i[j]);
        if (i[j].groups) {
          this._renderGroups(i[j].groups, n, m)
        } else {
          n.append(this._renderTaskGroups(i[j].items, m))
        }
      }
    },
    _createGroupConfiguration: function(m, r, p) {
      var q = r[0];
      var j = [];
      var k = q.dataSource.view();
      var n = this._isMobilePhoneView();
      for (var l = 0; l < k.length; l++) {
        var v = f(q, k[l]);
        var u = new d.data.Query(m).filter({
          field: q.field,
          operator: h.SchedulerView.groupEqFilter(v)
        }).toArray();
        if (u.length) {
          var t = this._tasks(u);
          var i = p ? "" : " k-first";
          if (l === k.length - 1 && (!p || p.className.indexOf("k-last") > -1)) {
            i += " k-last"
          }
          var o = {
            text: d.getter(q.dataTextField)(k[l]),
            value: v,
            rowSpan: 0,
            className: i
          };
          if (r.length > 1) {
            o.groups = this._createGroupConfiguration(u, r.slice(1), o);
            if (p) {
              p.rowSpan += o.rowSpan
            }
          } else {
            o.items = t;
            var s = g(o.items);
            if (n) {
              s += o.items.length
            }
            o.rowSpan = s;
            if (p) {
              p.rowSpan += s
            }
          }
          j.push(o)
        }
      }
      return j
    },
    selectionByElement: function(i) {
      i = a(i);
      if (i.hasClass("k-scheduler-datecolumn")) {
        return
      }
      var k = i.parent().index();
      var j = this._eventsList[k];
      return {
        index: k,
        start: j.start,
        end: j.end,
        isAllDay: j.isAllDay,
        uid: j.uid
      }
    },
    select: function(j) {
      this.clearSelection();
      var i = this.table.find(".k-task").eq(j.index).closest("tr").addClass("k-state-selected").attr("aria-selected", true)[0];
      this.current(i)
    },
    move: function(m, l) {
      var j = false;
      var k = m.index;
      if (l == d.keys.UP) {
        k--;
        j = true
      } else {
        if (l == d.keys.DOWN) {
          k++;
          j = true
        }
      }
      if (j) {
        var i = this._eventsList[k];
        if (i) {
          m.start = i.start;
          m.end = i.end;
          m.isAllDay = i.isAllDay;
          m.events = [i.uid];
          m.index = k
        }
      }
      return j
    },
    moveToEvent: function() {
      return false
    },
    constrainSelection: function(j) {
      var i = this._eventsList[0];
      if (i) {
        j.start = i.start;
        j.end = i.end;
        j.isAllDay = i.isAllDay;
        j.events = [i.uid];
        j.index = 0
      }
    },
    isInRange: function() {
      return true
    },
    destroy: function() {
      if (this.element) {
        this.element.off(e)
      }
      h.SchedulerView.fn.destroy.call(this)
    },
    options: {
      title: "Agenda",
      name: "agenda",
      editable: true,
      selectedDateFormat: "{0:D}-{1:D}",
      eventTemplate: '<div class="k-task" title="#:title.replace(/"/g,"\'")#" data-#=kendo.ns#uid="#=uid#"># if (resources[0]) {#<span class="k-scheduler-mark" style="background-color:#=resources[0].color#"></span># } ## if (data.isException()) { #<span class="k-icon k-i-exception"></span># } else if (data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } ##:title##if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</div>',
      eventTimeTemplate: "#if(data.isAllDay) {#all day#} else { ##=kendo.format(format, start, end)## } #",
      eventDateTemplate: '<strong class="k-scheduler-agendaday">#=kendo.toString(date, "dd")#</strong><em class="k-scheduler-agendaweek">#=kendo.toString(date,"dddd")#</em><span class="k-scheduler-agendadate">#=kendo.toString(date, "y")#</span>',
      eventGroupTemplate: '<strong class="k-scheduler-adgendagroup">#=value#</strong>',
      messages: {
        event: "Event",
        date: "Date",
        time: "Time"
      }
    }
  });

  function g(l) {
    var k = 0;
    for (var i = 0, j = l.length; i < j; i++) {
      k += l[i].items.length
    }
    return k
  }
  function f(j, i) {
    if (j.valuePrimitive) {
      i = d.getter(j.dataValueField)(i)
    }
    return i
  }
  function c(i) {
    var j = 0,
      l = i.length,
      k, m = [];
    for (; j < l; j++) {
      k = i[j];
      if (k.groups) {
        k = b(k.groups);
        m = m.concat(k)
      } else {
        m = m.concat(b(k.items))
      }
    }
    return m
  }
  function b(i) {
    var k = [].concat(i),
      j = k.shift(),
      m = [],
      l = [].push;
    while (j) {
      if (j.groups) {
        l.apply(k, j.groups)
      } else {
        if (j.items) {
          l.apply(k, j.items)
        } else {
          l.call(m, j)
        }
      }
      j = k.shift()
    }
    return m
  }
})(window.kendo.jQuery);
kendo_module({
  id: "scheduler.monthview",
  name: "Scheduler Month View",
  category: "web",
  description: "The Scheduler Month View",
  depends: ["scheduler.view"],
  hidden: true
});
(function(a) {
  var i = window.kendo,
    r = i.ui,
    p = r.SchedulerView,
    l = ".kendoMonthView",
    e = a.extend,
    o = a.proxy,
    g = i.date.getDate,
    k = i.date.MS_PER_DAY,
    n = 6,
    m = 7,
    b = i.template('<span class="k-link k-nav-day">#:kendo.toString(date, "dd")#</span>'),
    d = '<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span>#}#</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-w"></span>#}## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-e"></span>#}#</div>',
    c = i.template('<div title="#=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">#:title#</div></div>');
  var j = i.template('<div style="width:#=width#px;left:#=left#px;top:#=top#px" class="k-more-events k-button"><span>...</span></div>');
  r.MonthView = p.extend({
    init: function(s, t) {
      var u = this;
      p.fn.init.call(u, s, t);
      u.title = u.options.title;
      u.name = "month";
      u._templates();
      u._editable();
      u._renderLayout(u.options.date);
      u._groups()
    },
    _updateDirection: function(y, w, v, x, B) {
      if (v) {
        var z = w[0].start;
        var s = w[w.length - 1].end;
        var u = z.index === s.index;
        var t = z.collectionIndex === s.collectionIndex;
        var A;
        if (B) {
          A = (u && t) || t
        } else {
          A = u && t
        }
        if (A) {
          y.backward = x
        }
      }
    },
    _changeViewPeriod: function(u, t, v) {
      var s = v ? 7 : 1;
      if (t) {
        s *= -1
      }
      u.start = i.date.addDays(u.start, s);
      u.end = i.date.addDays(u.end, s);
      if (!v || (v && this._isVerticallyGrouped())) {
        u.groupIndex = t ? this.groups.length - 1 : 0
      }
      u.events = [];
      return true
    },
    _continuousSlot: function(w, u, v) {
      var t = w.backward ? 0 : u.length - 1;
      var s = this.groups[w.groupIndex];
      return s.continuousSlot(u[t].start, v)
    },
    _changeGroupContinuously: function(y, s, w, x) {
      if (!w) {
        var u = y.groupIndex;
        var v = this.groups.length - 1;
        var z = this._isVerticallyGrouped();
        var t = this.groups[u];
        if (!s && z) {
          s = t[x ? "lastSlot" : "firstSlot"]();
          u += (x ? -1 : 1)
        } else {
          if (s && !z) {
            u = x ? v : 0
          }
        }
        if (u < 0 || u > v) {
          u = x ? v : 0;
          s = null
        }
        y.groupIndex = u
      }
      return s
    },
    _normalizeHorizontalSelection: function(u, s, t) {
      var v;
      if (t) {
        v = s[0].start
      } else {
        v = s[s.length - 1].end
      }
      return v
    },
    _normalizeVerticalSelection: function(t, s) {
      var u;
      if (t.backward) {
        u = s[0].start
      } else {
        u = s[s.length - 1].end
      }
      return u
    },
    _templates: function() {
      var s = this.options,
        t = e({}, i.Template, s.templateSettings);
      this.eventTemplate = this._eventTmpl(s.eventTemplate);
      this.dayTemplate = i.template(s.dayTemplate, t)
    },
    dateForTitle: function() {
      return i.format(this.options.selectedDateFormat, this._firstDayOfMonth, this._lastDayOfMonth)
    },
    nextDate: function() {
      return i.date.nextDay(this._lastDayOfMonth)
    },
    previousDate: function() {
      return i.date.previousDay(this._firstDayOfMonth)
    },
    startDate: function() {
      return this._startDate
    },
    endDate: function() {
      return this._endDate
    },
    _renderLayout: function(s) {
      var t = this;
      this._firstDayOfMonth = i.date.firstDayOfMonth(s);
      this._lastDayOfMonth = i.date.lastDayOfMonth(s);
      this._startDate = f(s, this.calendarInfo());
      this.createLayout(this._layout());
      this._content();
      this.refreshLayout();
      this.content.on("click" + l, ".k-nav-day,.k-more-events", function(u) {
        var v = a(u.currentTarget).offset();
        var w = t._slotByPosition(v.left, v.top);
        u.preventDefault();
        t.trigger("navigate", {
          view: "day",
          date: w.startDate()
        })
      })
    },
    _editable: function() {
      if (this.options.editable && !this._isMobilePhoneView()) {
        if (this._isMobile()) {
          this._touchEditable()
        } else {
          this._mouseEditable()
        }
      }
    },
    _mouseEditable: function() {
      var s = this;
      s.element.on("click" + l, ".k-scheduler-monthview .k-event a:has(.k-si-close)", function(t) {
        s.trigger("remove", {
          uid: a(this).closest(".k-event").attr(i.attr("uid"))
        });
        t.preventDefault()
      });
      if (s.options.editable.create !== false) {
        s.element.on("dblclick" + l, ".k-scheduler-monthview .k-scheduler-content td", function(t) {
          var u = a(t.currentTarget).offset();
          var w = s._slotByPosition(u.left, u.top);
          if (w) {
            var v = s._resourceBySlot(w);
            s.trigger("add", {
              eventInfo: e({
                isAllDay: true,
                start: w.startDate(),
                end: w.startDate()
              }, v)
            })
          }
          t.preventDefault()
        })
      }
      if (s.options.editable.update !== false) {
        s.element.on("dblclick" + l, ".k-scheduler-monthview .k-event", function(t) {
          s.trigger("edit", {
            uid: a(this).closest(".k-event").attr(i.attr("uid"))
          });
          t.preventDefault()
        })
      }
    },
    _touchEditable: function() {
      var s = this;
      if (s.options.editable.create !== false) {
        s._addUserEvents = new i.UserEvents(s.element, {
          filter: ".k-scheduler-monthview .k-scheduler-content td",
          tap: function(t) {
            var u = a(t.target).offset();
            var w = s._slotByPosition(u.left, u.top);
            if (w) {
              var v = s._resourceBySlot(w);
              s.trigger("add", {
                eventInfo: e({
                  isAllDay: true,
                  start: w.startDate(),
                  end: w.startDate()
                }, v)
              })
            }
            t.preventDefault()
          }
        })
      }
      if (s.options.editable.update !== false) {
        s._editUserEvents = new i.UserEvents(s.element, {
          filter: ".k-scheduler-monthview .k-event",
          tap: function(t) {
            if (a(t.event.target).closest("a:has(.k-si-close)").length === 0) {
              s.trigger("edit", {
                uid: a(t.target).closest(".k-event").attr(i.attr("uid"))
              });
              t.preventDefault()
            }
          }
        })
      }
    },
    selectionByElement: function(s) {
      var t = a(s).offset();
      return this._slotByPosition(t.left, t.top)
    },
    _columnCountForLevel: function(t) {
      var s = this.columnLevels[t];
      return s ? s.length : 0
    },
    _rowCountForLevel: function(s) {
      var t = this.rowLevels[s];
      return t ? t.length : 0
    },
    _content: function() {
      var s = "<tbody>";
      var u = 1;
      var t = this.groupedResources;
      if (t.length) {
        if (this._isVerticallyGrouped()) {
          u = this._rowCountForLevel(t.length - 1)
        }
      }
      for (var v = 0; v < u; v++) {
        s += this._createCalendar()
      }
      s += "</tbody>";
      this.content.find("table").html(s)
    },
    _createCalendar: function() {
      var z = this.startDate();
      var s = m * n;
      var t = m;
      var B = [z];
      var w = "";
      var v = 1;
      var x = this.groupedResources;
      if (x.length) {
        if (!this._isVerticallyGrouped()) {
          v = this._columnCountForLevel(x.length - 1)
        }
      }
      this._slotIndices = {};
      for (var y = 0; y < s / t; y++) {
        w += "<tr>";
        B.push(z);
        var A = y * t;
        for (var u = 0; u < v; u++) {
          w += this._createRow(z, A, t)
        }
        z = i.date.addDays(z, t);
        w += "</tr>"
      }
      this._weekStartDates = B;
      this._endDate = i.date.previousDay(z);
      return w
    },
    _createRow: function(z, A, t) {
      var y = this._firstDayOfMonth;
      var x = this._lastDayOfMonth;
      var v = this.dayTemplate;
      var u = "";
      var w = "";
      for (var s = 0; s < t; s++) {
        u = "";
        if (i.date.isToday(z)) {
          u += "k-today"
        }
        if (!i.date.isInDateRange(z, y, x)) {
          u += " k-other-month"
        }
        w += "<td ";
        if (u !== "") {
          w += 'class="' + u + '"'
        }
        w += ">";
        w += v({
          date: z
        });
        w += "</td>";
        this._slotIndices[g(z).getTime()] = A + s;
        z = i.date.nextDay(z)
      }
      return w
    },
    _layout: function() {
      var s = this.calendarInfo();
      var z = this._isMobile() ? s.days.namesShort : s.days.names;
      var w = q(z, s.firstDay);
      var t = a.map(w, function(A) {
        return {
          text: A
        }
      });
      var x = this.groupedResources;
      var y;
      if (x.length) {
        if (this._isVerticallyGrouped()) {
          var v = [];
          for (var u = 0; u < 6; u++) {
            v.push({
              text: "<div>&nbsp;</div>",
              className: "k-hidden k-slot-cell"
            })
          }
          y = this._createRowsLayout(x, v)
        } else {
          t = this._createColumnsLayout(x, t)
        }
      }
      return {
        columns: t,
        rows: y
      }
    },
    _eventTmpl: function(x) {
      var t = this.options,
        v = e({}, i.Template, t.templateSettings),
        u = v.paramName,
        s = "",
        z = typeof x,
        w = {
          storage: {},
          count: 0
        };
      if (z === "function") {
        w.storage["tmpl" + w.count] = x;
        s += "#=this.tmpl" + w.count + "(" + u + ")#";
        w.count++
      } else {
        if (z === "string") {
          s += x
        }
      }
      var y = i.template(i.format(d, s), v);
      if (w.count > 0) {
        y = o(y, w.storage)
      }
      return y
    },
    _createEventElement: function(t) {
      var v = this.options;
      var s = v.editable;
      var u = this._isMobile();
      t.showDelete = s && s.destroy !== false && !u;
      t.resizable = s && s.resize !== false && !u;
      t.ns = i.ns;
      t.resources = this.eventResources(t);
      t.inverseColor = t.resources && t.resources[0] ? this._shouldInverseResourceColor(t.resources[0]) : false;
      return a(this.eventTemplate(t))
    },
    _isInDateSlot: function(s) {
      var u = this.startDate();
      var t = new Date(this.endDate().getTime() + k - 1);
      return (h(s.start, u, t) || h(s.end, u, t) || h(u, s.start, s.end) || h(t, s.start, s.end)) && (!h(s.end, u, u) || h(s.end, s.start, s.start) || s.isAllDay)
    },
    _slotIndex: function(s) {
      return this._slotIndices[g(s).getTime()]
    },
    _positionMobileEvent: function(A, t, x) {
      var C = A.start;
      if (A.start.offsetLeft > A.end.offsetLeft) {
        C = A.end
      }
      var B = A.start.index;
      var u = B;
      var v = 3;
      var w = p.collidingEvents(A.events(), B, u);
      w.push({
        element: t,
        start: B,
        end: u
      });
      var y = p.createRows(w);
      var z = A.collection.at(B);
      var s = z.container;
      if (!s) {
        s = a(i.format('<div class="k-events-container" style="top:{0};left:{1};width:{2}"/>', C.offsetTop + C.firstChildTop + C.firstChildHeight - 3 + "px", C.offsetLeft + "px", C.offsetWidth + "px"));
        z.container = s;
        this.content[0].appendChild(s[0])
      }
      if (y.length <= v) {
        A.addEvent({
          element: t,
          start: B,
          end: u,
          groupIndex: C.groupIndex
        });
        x._continuousEvents.push({
          element: t,
          uid: t.attr(i.attr("uid")),
          start: A.start,
          end: A.end
        });
        s[0].appendChild(t[0])
      }
    },
    _positionEvent: function(J, t, A) {
      var w = this.options.eventHeight;
      var L = J.start;
      if (J.start.offsetLeft > J.end.offsetLeft) {
        L = J.end
      }
      var K = J.start.index;
      var u = J.end.index;
      var v = L.eventCount;
      var y = p.collidingEvents(J.events(), K, u);
      var E = K !== u ? 5 : 4;
      y.push({
        element: t,
        start: K,
        end: u
      });
      var G = p.createRows(y);
      for (var B = 0, D = Math.min(G.length, v); B < D; B++) {
        var F = G[B].events;
        var z = L.offsetTop + L.firstChildHeight + B * w + 3 * B + "px";
        for (var C = 0, x = F.length; C < x; C++) {
          F[C].element[0].style.top = z
        }
      }
      if (G.length > v) {
        for (var I = K; I <= u; I++) {
          var s = J.collection;
          var H = s.at(I);
          if (H.more) {
            return
          }
          H.more = a(j({
            ns: i.ns,
            start: I,
            end: I,
            width: H.clientWidth - 2,
            left: this._scrollbarOffset(H.offsetLeft + 2),
            top: H.offsetTop + H.firstChildHeight + v * w + 3 * v
          }));
          this.content[0].appendChild(H.more[0])
        }
      } else {
        J.addEvent({
          element: t,
          start: K,
          end: u,
          groupIndex: L.groupIndex
        });
        t[0].style.width = J.innerWidth() - E + "px";
        t[0].style.left = this._scrollbarOffset(L.offsetLeft + 2) + "px";
        t[0].style.height = w + "px";
        A._continuousEvents.push({
          element: t,
          uid: t.attr(i.attr("uid")),
          start: J.start,
          end: J.end
        });
        this.content[0].appendChild(t[0])
      }
    },
    _slotByPosition: function(v, w) {
      var t = this.content.offset();
      v -= t.left;
      w -= t.top;
      w += this.content[0].scrollTop;
      v += this.content[0].scrollLeft;
      v = Math.ceil(v);
      w = Math.ceil(w);
      for (var s = 0; s < this.groups.length; s++) {
        var u = this.groups[s].daySlotByPosition(v, w);
        if (u) {
          return u
        }
      }
      return null
    },
    _createResizeHint: function(v) {
      var u = v.startSlot().offsetLeft;
      u = this._scrollbarOffset(u);
      var w = v.start.offsetTop;
      var x = v.innerWidth();
      var s = v.start.clientHeight - 2;
      var t = p.fn._createResizeHint.call(this, u, w, x, s);
      t.appendTo(this.content);
      this._resizeHint = this._resizeHint.add(t)
    },
    _updateResizeHint: function(t, v, y, s) {
      this._removeResizeHint();
      var u = this.groups[v];
      var x = u.ranges(y, s, true, t.isAllDay);
      for (var w = 0; w < x.length; w++) {
        this._createResizeHint(x[w])
      }
      this._resizeHint.find(".k-label-top,.k-label-bottom").text("");
      this._resizeHint.first().addClass("k-first").find(".k-label-top").text(i.toString(i.timezone.toLocalDate(y), "M/dd"));
      this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(i.toString(i.timezone.toLocalDate(s), "M/dd"))
    },
    _updateMoveHint: function(v, x, s) {
      var C = i.date.toUtcTime(v.start) + s;
      var t = C + v.duration();
      var w = this.groups[x];
      var B = w.ranges(C, t, true, v.isAllDay);
      this._removeMoveHint();
      for (var A = 0; A < B.length; A++) {
        var z = B[A];
        var D = z.startSlot();
        var u = z.endSlot();
        var y = this._createEventElement(v.clone({
          head: z.head,
          tail: z.tail
        }));
        y.css({
          left: D.offsetLeft + 2,
          top: D.offsetTop + D.firstChildHeight,
          height: this.options.eventHeight,
          width: z.innerWidth() - (D.index !== u.index ? 5 : 4)
        });
        y.addClass("k-event-drag-hint");
        y.appendTo(this.content);
        this._moveHint = this._moveHint.add(y)
      }
    },
    _groups: function() {
      var D = this._groupCount();
      var z = m;
      var G = n;
      this.groups = [];
      for (var F = 0; F < D; F++) {
        this._addResourceView(F)
      }
      var L = this.content[0].getElementsByTagName("tr");
      for (var E = 0; E < D; E++) {
        var t = 0;
        var I = 0;
        if (this._isVerticallyGrouped()) {
          I = E
        }
        for (var H = I * G; H < (I + 1) * G; H++) {
          var C = this.groups[E];
          var y = C.addDaySlotCollection(i.date.addDays(this.startDate(), t), i.date.addDays(this.startDate(), t + z));
          var K = L[H];
          var w = K.children;
          var v = 0;
          K.setAttribute("role", "row");
          if (!this._isVerticallyGrouped()) {
            v = E
          }
          for (var u = v * z; u < (v + 1) * z; u++) {
            var s = w[u];
            var x = s.clientHeight;
            var B = s.firstChild.offsetHeight + 3;
            var J = i.date.toUtcTime(i.date.addDays(this.startDate(), t));
            t++;
            var A = Math.floor((x - B) / (this.options.eventHeight + 3)) - 1;
            s.setAttribute("role", "gridcell");
            s.setAttribute("aria-selected", false);
            y.addDaySlot(s, J, J + i.date.MS_PER_DAY, A)
          }
        }
      }
    },
    render: function(s) {
      this.content.children(".k-event,.k-more-events,.k-events-container").remove();
      this._groups();
      s = new i.data.Query(s).sort([{
        field: "start",
        dir: "asc"
      }, {
        field: "end",
        dir: "desc"
      }]).toArray();
      var t = this.groupedResources;
      if (t.length) {
        this._renderGroups(s, t, 0, 1)
      } else {
        this._renderEvents(s, 0)
      }
      this.refreshLayout();
      this.trigger("activate")
    },
    _renderEvents: function(u, w) {
      var t;
      var x;
      var z;
      var y = this._isMobilePhoneView();
      for (x = 0, z = u.length; x < z; x++) {
        t = u[x];
        if (this._isInDateSlot(t)) {
          var v = this.groups[w];
          if (!v._continuousEvents) {
            v._continuousEvents = []
          }
          var E = v.slotRanges(t, true);
          var C = E.length;
          for (var D = 0; D < C; D++) {
            var B = E[D];
            var F = t.start;
            var s = t.end;
            if (C > 1) {
              if (D === 0) {
                s = B.end.endDate()
              } else {
                if (D == C - 1) {
                  F = B.start.startDate()
                } else {
                  F = B.start.startDate();
                  s = B.end.endDate()
                }
              }
            }
            var A = t.clone({
              start: F,
              end: s,
              head: B.head,
              tail: B.tail
            });
            if (y) {
              this._positionMobileEvent(B, this._createEventElement(A), v)
            } else {
              this._positionEvent(B, this._createEventElement(A), v)
            }
          }
        }
      }
    },
    _renderGroups: function(t, x, v, s) {
      var w = x[0];
      if (w) {
        var A = w.dataSource.view();
        for (var u = 0; u < A.length; u++) {
          var z = this._resourceValue(w, A[u]);
          var y = new i.data.Query(t).filter({
            field: w.field,
            operator: p.groupEqFilter(z)
          }).toArray();
          if (x.length > 1) {
            v = this._renderGroups(y, x.slice(1), v++, s + 1)
          } else {
            this._renderEvents(y, v++)
          }
        }
      }
      return v
    },
    _groupCount: function() {
      var s = this.groupedResources;
      if (s.length) {
        if (this._isVerticallyGrouped()) {
          return this._rowCountForLevel(s.length - 1)
        } else {
          return this._columnCountForLevel(s.length) / this._columnOffsetForResource(s.length)
        }
      }
      return 1
    },
    _columnOffsetForResource: function(s) {
      return this._columnCountForLevel(s) / this._columnCountForLevel(s - 1)
    },
    destroy: function() {
      if (this.table) {
        this.table.removeClass("k-scheduler-monthview")
      }
      if (this.content) {
        this.content.off(l)
      }
      if (this.element) {
        this.element.off(l)
      }
      p.fn.destroy.call(this);
      if (this._isMobile() && !this._isMobilePhoneView() && this.options.editable) {
        if (this.options.editable.create !== false) {
          this._addUserEvents.destroy()
        }
        if (this.options.editable.update !== false) {
          this._editUserEvents.destroy()
        }
      }
    },
    events: ["remove", "add", "edit", "navigate"],
    options: {
      title: "Month",
      name: "month",
      eventHeight: 25,
      editable: true,
      selectedDateFormat: "{0:y}",
      dayTemplate: b,
      eventTemplate: c
    }
  });

  function q(s, t) {
    return s.slice(t).concat(s.slice(0, t))
  }
  function f(t, s) {
    var u = s.firstDay,
      v = new Date(t.getFullYear(), t.getMonth(), 0, t.getHours(), t.getMinutes(), t.getSeconds(), t.getMilliseconds());
    while (v.getDay() != u) {
      i.date.setTime(v, -1 * k)
    }
    return v
  }
  function h(x, t, s) {
    var v = t.getTime(),
      u = s.getTime(),
      w;
    w = x.getTime();
    return w >= v && w <= u
  }
})(window.kendo.jQuery);
kendo_module({
  id: "scheduler.recurrence",
  name: "Recurrence",
  category: "web",
  depends: ["dropdownlist", "datepicker", "numerictextbox"],
  hidden: true
});
(function(a, ah) {
  var z = window.kendo,
    af = z.timezone,
    f = z.Class,
    ag = z.ui,
    aq = ag.Widget,
    o = ag.DropDownList,
    i = z.date,
    ad = i.setTime,
    ac = i.setDayOfWeek,
    b = i.adjustDST,
    r = i.firstDayOfMonth,
    t = i.getMilliseconds,
    m = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 366],
    n = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365],
    E = [31, 28, 30, 31, 30, 31, 30, 31, 30, 31, 30, 31],
    ai = {
      0: "SU",
      1: "MO",
      2: "TU",
      3: "WE",
      4: "TH",
      5: "FR",
      6: "SA"
    }, aj = {
      SU: 0,
      MO: 1,
      TU: 2,
      WE: 3,
      TH: 4,
      FR: 5,
      SA: 6
    }, j = ["yyyy-MM-ddTHH:mm:ss.fffzzz", "yyyy-MM-ddTHH:mm:sszzz", "yyyy-MM-ddTHH:mm:ss", "yyyy-MM-ddTHH:mm", "yyyy-MM-ddTHH", "yyyy-MM-dd", "yyyyMMddTHHmmssfffzzz", "yyyyMMddTHHmmsszzz", "yyyyMMddTHHmmss", "yyyyMMddTHHmm", "yyyyMMddTHH", "yyyyMMdd"],
    V = ["months", "weeks", "yearDays", "monthDays", "weekDays", "hours", "minutes", "seconds"],
    W = V.length,
    B = {
      months: function(au, av, ay) {
        var aw = ay.months,
          ax = X(aw, au.getMonth() + 1),
          at = false;
        if (ax !== null) {
          if (ax.length) {
            au.setMonth(ax[0] - 1, 1)
          } else {
            au.setFullYear(au.getFullYear() + 1, aw[0] - 1, 1)
          }
          at = true
        }
        return at
      },
      monthDays: function(au, aw, aB) {
        var az, ay, av, at = false,
          ax = au.getHours(),
          aA = function(aC) {
            if (aC < 0) {
              aC = az + aC
            }
            return aC
          };
        while (au <= aw) {
          ay = au.getMonth();
          az = u(au);
          av = X(aB.monthDays, au.getDate(), aA);
          if (av === null) {
            return at
          }
          at = true;
          if (av.length) {
            au.setMonth(ay, av.sort(I)[0]);
            b(au, ax);
            if (ay === au.getMonth()) {
              break
            }
          } else {
            au.setMonth(ay + 1, 1)
          }
        }
        return at
      },
      yearDays: function(au, av, ay) {
        var az, aA, at = false,
          aw = au.getHours(),
          ax = function(aB) {
            if (aB < 0) {
              aB = az + aB
            }
            return aB
          };
        while (au < av) {
          az = A(au) ? 366 : 365;
          aA = X(ay.yearDays, l(au), ax);
          if (aA === null) {
            return at
          }
          at = true;
          az = au.getFullYear();
          if (aA.length) {
            au.setFullYear(az, 0, aA.sort(I)[0]);
            b(au, aw);
            break
          } else {
            au.setFullYear(az + 1, 0, 1)
          }
        }
        return at
      },
      weeks: function(au, aw, az) {
        var aB = az.weekStart,
          aC, aA, av, at = false,
          ax = au.getHours(),
          ay = function(aD) {
            if (aD < 0) {
              aD = 53 + aD
            }
            return aD
          };
        while (au < aw) {
          aA = X(az.weeks, ao(au, aB), ay);
          if (aA === null) {
            return at
          }
          at = true;
          aC = au.getFullYear();
          if (aA.length) {
            av = (aA.sort(I)[0] * 7) - 1;
            au.setFullYear(aC, 0, av);
            ac(au, aB, -1);
            b(au, ax);
            break
          } else {
            au.setFullYear(aC + 1, 0, 1)
          }
        }
        return at
      },
      weekDays: function(at, av, ax) {
        var aA = ax.weekDays,
          aB = ax.weekStart,
          az = Y(aA, at, aB),
          aw = at.getHours(),
          ay, au;
        if (az === null) {
          return false
        }
        ay = az[0];
        if (!ay) {
          ay = aA[0];
          ac(at, aB)
        }
        au = ay.day;
        if (ay.offset) {
          while (at <= av && !y(at, ay, aB)) {
            if (an(at, aB) === H(at, aB)) {
              at.setMonth(at.getMonth() + 1, 1);
              b(at, aw)
            } else {
              at.setDate(at.getDate() + 7);
              b(at, aw);
              ac(at, aB, -1)
            }
          }
        }
        if (at.getDay() !== au) {
          ac(at, au)
        }
        return true
      },
      hours: function(au, av, ay) {
        var aw = ay.hours,
          aA = ay._startTime,
          az = aA.getHours(),
          ax = X(aw, az),
          at = false;
        if (ax !== null) {
          at = true;
          au.setHours(az);
          b(au, az);
          if (ax.length) {
            ax = ax[0];
            au.setHours(ax)
          } else {
            ax = au.getHours();
            au.setDate(au.getDate() + 1);
            b(au, ax);
            ax = aw[0];
            au.setHours(ax);
            b(au, ax)
          }
          if (ay.minutes) {
            au.setMinutes(0)
          }
          aA.setHours(ax, au.getMinutes())
        }
        return at
      },
      minutes: function(av, aw, aA) {
        var ay = aA.minutes,
          au = av.getMinutes(),
          az = X(ay, au),
          ax = aA._startTime.getHours(),
          at = false;
        if (az !== null) {
          at = true;
          if (az.length) {
            az = az[0]
          } else {
            ax += 1;
            az = ay[0]
          }
          if (aA.seconds) {
            av.setSeconds(0)
          }
          av.setHours(ax, az);
          ax = ax % 24;
          b(av, ax);
          aA._startTime.setHours(ax, az, av.getSeconds())
        }
        return at
      },
      seconds: function(au, av, ay) {
        var az = ay.seconds,
          aw = ay._startTime.getHours(),
          aA = X(az, au.getSeconds()),
          ax = au.getMinutes(),
          at = false;
        if (aA !== null) {
          at = true;
          if (aA.length) {
            au.setSeconds(aA[0])
          } else {
            ax += 1;
            au.setMinutes(ax, az[0]);
            if (ax > 59) {
              ax = ax % 60;
              aw = (aw + 1) % 24
            }
          }
          ay._startTime.setHours(aw, ax, au.getSeconds())
        }
        return at
      }
    }, d = f.extend({
      next: function(at, aw) {
        var ay = aw._startTime,
          au = ay.getDate(),
          av, ax;
        if (aw.seconds) {
          ax = at.getSeconds() + 1;
          at.setSeconds(ax);
          ay.setSeconds(ax);
          ay.setDate(au)
        } else {
          if (aw.minutes) {
            av = at.getMinutes() + 1;
            at.setMinutes(av);
            ay.setMinutes(av);
            ay.setDate(au)
          } else {
            return false
          }
        }
        return true
      },
      normalize: function(at) {
        var au = at.rule;
        if (at.idx === 4 && au.hours) {
          au._startTime.setHours(0);
          this._hour(at.date, au)
        }
      },
      limit: function(at, av, aA) {
        var ay = aA.interval,
          aB, aw, az, ax, au;
        while (at <= av) {
          az = aw = ah;
          au = at.getDate();
          for (ax = 0; ax < W; ax++) {
            aB = V[ax];
            if (aA[aB]) {
              az = B[aB](at, av, aA);
              if (aw !== ah && az) {
                break
              } else {
                aw = az
              }
            }
            if (az) {
              this.normalize({
                date: at,
                rule: aA,
                day: au,
                idx: ax
              })
            }
          }
          if ((ay === 1 || !this.interval(aA, at)) && ax === W) {
            break
          }
        }
      },
      interval: function(aC, at) {
        var aD = new Date(aC._startPeriod);
        var ay = at.getHours();
        var aE = aC.weekStart;
        var az = aC.interval;
        var ax = aC.freq;
        var aA = false;
        var aw = 0;
        var aB = 0;
        var au = 1;
        var av;
        if (ax === "hourly") {
          av = Math.floor((at - aD) / (60 * z.date.MS_PER_MINUTE));
          aw = w(av, az);
          if (aw !== 0) {
            this._hour(at, aC, aw);
            aA = true
          }
        } else {
          if (ax === "daily") {
            av = Math.floor((at - aD) / z.date.MS_PER_DAY);
            aw = w(av, az);
            if (aw !== 0) {
              this._date(at, aC, aw);
              aA = true
            }
          } else {
            if (ax === "weekly") {
              av = (at.getFullYear() - aD.getFullYear()) * 52;
              aw = ao(at, aE) - ao(aD, aE) + av;
              aw = w(aw, az);
              if (aw !== 0) {
                z.date.setDayOfWeek(at, aC.weekStart, -1);
                at.setDate(at.getDate() + (aw * 7));
                b(at, ay);
                aA = true
              }
            } else {
              if (ax === "monthly") {
                av = at.getFullYear() - aD.getFullYear();
                av = at.getMonth() - aD.getMonth() + (av * 12);
                aw = w(av, az);
                if (aw !== 0) {
                  au = aC._hasRuleValue ? 1 : at.getDate();
                  at.setFullYear(at.getFullYear(), at.getMonth() + aw, au);
                  b(at, ay);
                  aA = true
                }
              } else {
                if (ax === "yearly") {
                  av = at.getFullYear() - aD.getFullYear();
                  aw = w(av, az);
                  if (!aC.months) {
                    aB = at.getMonth()
                  }
                  if (!aC.yearDays && !aC.monthDays && !aC.weekDays) {
                    au = at.getDate()
                  }
                  if (aw !== 0) {
                    at.setFullYear(at.getFullYear() + aw, aB, au);
                    b(at, ay);
                    aA = true
                  }
                }
              }
            }
          }
        }
        return aA
      },
      _hour: function(at, aw, av) {
        var ax = aw._startTime,
          au = ax.getHours();
        if (av) {
          au += av
        }
        at.setHours(au);
        au = au % 24;
        ax.setHours(au);
        b(at, au)
      },
      _date: function(at, aw, av) {
        var au = at.getHours();
        at.setDate(at.getDate() + av);
        if (!b(at, au)) {
          this._hour(at, aw)
        }
      }
    }),
    v = d.extend({
      next: function(at, au) {
        if (!d.fn.next(at, au)) {
          this._hour(at, au, 1)
        }
      },
      normalize: function(at) {
        var au = at.rule;
        if (at.idx === 4) {
          au._startTime.setHours(0);
          this._hour(at.date, au)
        }
      }
    }),
    h = d.extend({
      next: function(at, au) {
        if (!d.fn.next(at, au)) {
          this[au.hours ? "_hour" : "_date"](at, au, 1)
        }
      }
    }),
    ap = h.extend({
      setup: function(au, at) {
        if (!au.weekDays) {
          au.weekDays = [{
            day: at.getDay(),
            offset: 0
          }]
        }
      }
    }),
    D = d.extend({
      next: function(at, aw) {
        var au, av;
        if (!d.fn.next(at, aw)) {
          if (aw.hours) {
            this._hour(at, aw, 1)
          } else {
            if (aw.monthDays || aw.weekDays || aw.yearDays || aw.weeks) {
              this._date(at, aw, 1)
            } else {
              au = at.getDate();
              av = at.getHours();
              at.setMonth(at.getMonth() + 1);
              b(at, av);
              while (at.getDate() !== au) {
                at.setDate(au);
                b(at, av)
              }
              this._hour(at, aw)
            }
          }
        }
      },
      normalize: function(av) {
        var aw = av.rule,
          at = av.date,
          au = at.getHours();
        if (av.idx === 0 && !aw.monthDays && !aw.weekDays) {
          at.setDate(av.day);
          b(at, au)
        } else {
          d.fn.normalize(av)
        }
      },
      setup: function(av, au, at) {
        if (!av.monthDays && !av.weekDays) {
          at.setDate(au.getDate())
        }
      }
    }),
    ar = D.extend({
      next: function(at, aw) {
        var au, av = at.getHours();
        if (!d.fn.next(at, aw)) {
          if (aw.hours) {
            this._hour(at, aw, 1)
          } else {
            if (aw.monthDays || aw.weekDays || aw.yearDays || aw.weeks) {
              this._date(at, aw, 1)
            } else {
              if (aw.months) {
                au = at.getDate();
                at.setMonth(at.getMonth() + 1);
                b(at, av);
                while (at.getDate() !== au) {
                  at.setDate(au);
                  b(at, av)
                }
                this._hour(at, aw)
              } else {
                at.setFullYear(at.getFullYear() + 1);
                b(at, av);
                this._hour(at, aw)
              }
            }
          }
        }
      },
      setup: function() {}
    }),
    s = {
      hourly: new v(),
      daily: new h(),
      weekly: new ap(),
      monthly: new D(),
      yearly: new ar()
    }, g = "click";

  function w(at, av) {
    var au;
    if (at !== 0 && at < av) {
      au = av - at
    } else {
      au = at % av;
      if (au) {
        au = av - au
      }
    }
    return au
  }
  function l(at) {
    var av = at.getMonth();
    var au = A(at) ? m[av] : n[av];
    return au + at.getDate()
  }
  function ao(at, av) {
    var aw, au;
    at = new Date(at.getFullYear(), at.getMonth(), at.getDate());
    b(at, 0);
    aw = at.getFullYear();
    if (av !== ah) {
      ac(at, av, -1);
      at.setDate(at.getDate() + 4)
    } else {
      at.setDate(at.getDate() + (4 - (at.getDay() || 7)))
    }
    b(at, 0);
    au = Math.floor((at.getTime() - new Date(aw, 0, 1, -6)) / 86400000);
    return 1 + Math.floor(au / 7)
  }
  function an(at, aw) {
    var au = r(at).getDay(),
      av = Math.abs(7 - (au + 7 - (aw || 7))) || 7;
    return Math.ceil((at.getDate() - av) / 7) + 1
  }
  function G(at, au, av) {
    if (au < 0) {
      au = H(at, av) + (au + 1)
    }
    return au
  }
  function H(at, au) {
    return an(new Date(at.getFullYear(), at.getMonth() + 1, 0), au)
  }
  function y(at, av, ax) {
    var au = av.offset,
      aw = an(at, ax);
    if (!c(at, av, ax)) {
      aw -= 1
    }
    return aw === G(at, au, ax)
  }
  function c(au, ay, az) {
    var av = ay.day,
      ax = ay.offset,
      aw, at;
    if (!ax) {
      return true
    }
    aw = r(au).getDay();
    if (aw < az) {
      aw += az
    }
    if (av < az) {
      av += az
    }
    at = av >= aw;
    if (!at && ax < 0 && G(au, ax, az) !== 1) {
      at = true
    }
    return at
  }
  function Y(aB, au, aD) {
    var at = au.getDay(),
      ax = aB.length,
      aA, av, ay, aC, az = [],
      aw = 0;
    if (at < aD) {
      at += 7
    }
    for (; aw < ax; aw++) {
      aA = aB[aw];
      ay = aA.offset;
      av = aA.day;
      if (av < aD) {
        av += 7
      }
      aC = an(au, aD);
      if (!c(au, aA, aD)) {
        aC -= 1
      }
      ay = ay ? G(au, ay, aD) : aC;
      if (aC < ay) {
        az.push(aA)
      } else {
        if (aC === ay) {
          if (at < av) {
            az.push(aA)
          } else {
            if (at === av) {
              return null
            }
          }
        }
      }
    }
    return az
  }
  function X(ax, az, aw) {
    var au = 0,
      av = ax.length,
      at = [],
      ay;
    for (; au < av; au++) {
      ay = ax[au];
      if (aw) {
        ay = aw(ay)
      }
      if (az === ay) {
        return null
      } else {
        if (az < ay) {
          at.push(ay)
        }
      }
    }
    return at
  }
  function J(av, aw) {
    var at = 0,
      au = av.length,
      ax;
    for (; at < au; at++) {
      ax = parseInt(av[at], 10);
      if (isNaN(ax) || ax < aw.start || ax > aw.end || (ax === 0 && aw.start < 0)) {
        return null
      }
      av[at] = ax
    }
    return av.sort(I)
  }
  function O(aw) {
    var au = 0,
      av = aw.length,
      ax, ay, at;
    for (; au < av; au++) {
      ax = aw[au];
      ay = ax.length;
      at = ax.substring(ay - 2).toUpperCase();
      at = aj[at];
      if (at === ah) {
        return null
      }
      aw[au] = {
        offset: parseInt(ax.substring(0, ay - 2), 10) || 0,
        day: at
      }
    }
    return aw
  }
  function ab(av) {
    var at = 0,
      au = av.length,
      ax, ay, aw = [];
    for (; at < au; at++) {
      ax = av[at];
      if (typeof ax === "string") {
        ay = ax
      } else {
        ay = "" + ai[ax.day];
        if (ax.offset) {
          ay = ax.offset + ay
        }
      }
      aw.push(ay)
    }
    return aw.toString()
  }
  function u(at) {
    var au = at.getMonth();
    if (au === 1) {
      if (new Date(at.getFullYear(), 1, 29).getMonth() === 1) {
        return 29
      }
      return 28
    }
    return E[au]
  }
  function A(at) {
    at = at.getFullYear();
    return ((at % 4 === 0) && (at % 100 !== 0)) || (at % 400 === 0)
  }
  function I(at, au) {
    return at - au
  }
  function L(av, ay) {
    var aw = 0,
      ax, at, au = [];
    if (av) {
      av = av.split(";");
      ax = av.length;
      for (; aw < ax; aw++) {
        at = N(av[aw], ay);
        if (at) {
          au.push(at)
        }
      }
    }
    return au
  }
  function x(aw, at, az) {
    var au = a.isArray(aw) ? aw : L(aw, az),
      av = at.getTime() - at.getMilliseconds(),
      ax = 0,
      ay = au.length;
    for (; ax < ay; ax++) {
      if (au[ax].getTime() === av) {
        return true
      }
    }
    return false
  }
  function ae(av, au) {
    var at = new Date(av);
    switch (au.freq) {
      case "yearly":
        at.setFullYear(at.getFullYear(), 0, 1);
        break;
      case "monthly":
        at.setFullYear(at.getFullYear(), at.getMonth(), 1);
        break;
      case "weekly":
        ac(at, au.weekStart, -1);
        break;
      default:
        break
    }
    if (au.hours) {
      at.setHours(0)
    }
    if (au.minutes) {
      at.setMinutes(0)
    }
    if (au.seconds) {
      at.setSeconds(0)
    }
    return at
  }
  function p(av, au) {
    var at = new Date(av);
    switch (au.freq) {
      case "yearly":
        at.setFullYear(at.getFullYear(), 11, 31);
        break;
      case "monthly":
        at.setFullYear(at.getFullYear(), at.getMonth() + 1, 0);
        break;
      case "weekly":
        ac(at, au.weekStart, -1);
        at.setDate(at.getDate() + 6);
        break;
      default:
        break
    }
    if (au.hours) {
      at.setHours(23)
    }
    if (au.minutes) {
      at.setMinutes(59)
    }
    if (au.seconds) {
      at.setSeconds(59)
    }
    return at
  }
  function F(au, aD, aC) {
    var ay = au.slice(aC._startIdx);
    var az = ay.length;
    var aB = aC.positions;
    var ax = [];
    var aA;
    var at;
    for (var av = 0, aw = aB.length; av < aw; av++) {
      aA = aB[av];
      if (aA < 0) {
        aA = az + aA
      } else {
        aA -= 1
      }
      at = ay[aA];
      if (at && at.start >= aD) {
        ax.push(at)
      }
    }
    au = au.slice(0, aC._startIdx).concat(ax);
    aC._startIdx = au.length;
    return au
  }
  function q(az, aP, aw, aT) {
    var aL = M(az.recurrenceRule),
      aR, ay, ax, aH, aJ, aO, av, aQ, aI, aN, aM, aS, aG, aE, aD, aC, aB, at, aF, aK, au, aA = [];
    if (!aL) {
      return [az]
    }
    aK = aL.positions;
    au = aK ? 0 : 1;
    aN = aL.start;
    aM = aL.end;
    if (aN || aM) {
      az = az.clone({
        start: aN ? new Date(aN.value) : ah,
        end: aM ? new Date(aM.value) : ah
      })
    }
    aB = az.start;
    aC = aB.getTime();
    aD = t(aB);
    aE = L(az.recurrenceException, aT);
    aQ = aP = new Date(aP);
    aw = new Date(aw);
    aG = aL.freq;
    aF = s[aG];
    at = aL.count;
    if (aL.until && aL.until < aw) {
      aw = new Date(aL.until)
    }
    aS = aG === "yearly" || aG === "monthly" || aG === "weekly";
    if (aP < aC || at || aL.interval > 1 || aS) {
      aP = new Date(aC)
    } else {
      aH = aP.getHours();
      aJ = aP.getMinutes();
      aO = aP.getSeconds();
      if (!aL.hours) {
        aH = aB.getHours()
      }
      if (!aL.minutes) {
        aJ = aB.getMinutes()
      }
      if (!aL.seconds) {
        aO = aB.getSeconds()
      }
      aP.setHours(aH, aJ, aO, aB.getMilliseconds())
    }
    aL._startPeriod = new Date(aP);
    if (aK) {
      aP = ae(aP, aL);
      aw = p(aw, aL);
      aL._startPeriod = new Date(aP);
      aL._endPeriod = p(aP, aL);
      aL._startIdx = 0
    }
    av = az.duration();
    aL._startTime = aR = z.date.toInvariantTime(aP);
    if (aF.setup) {
      aF.setup(aL, aB, aP)
    }
    aF.limit(aP, aw, aL);
    while (aP <= aw) {
      ax = new Date(aP);
      ad(ax, av);
      aI = aP >= aQ || ax > aQ;
      if (aI && !x(aE, aP, aT) || aK) {
        ay = new Date(aL._startTime);
        ad(ay, av);
        if (aC !== aP.getTime() || aD !== t(aR)) {
          aA.push(az.toOccurrence({
            start: new Date(aP),
            startTime: new Date(aR),
            end: ax,
            endTime: ay
          }))
        } else {
          az.startTime = aR;
          az.endTime = ay;
          aA.push(az)
        }
      }
      if (aK) {
        aF.next(aP, aL);
        aF.limit(aP, aw, aL);
        if (aP > aL._endPeriod) {
          aA = F(aA, aB, aL);
          aL._endPeriod = p(aP, aL);
          au = aA.length
        }
        if (at && at === au) {
          break
        }
      } else {
        if (at && at === au) {
          break
        }
        au++;
        aF.next(aP, aL);
        aF.limit(aP, aw, aL)
      }
    }
    return aA
  }
  function N(at, au) {
    at = z.parseDate(at, j);
    if (at && au) {
      at = af.convert(at, at.getTimezoneOffset(), au)
    }
    return at
  }
  function K(at, aB) {
    var ax = at.split(";");
    var aw;
    var ay;
    var aA;
    var az;
    for (var au = 0, av = ax.length; au < av; au++) {
      aw = ax[au].split(":");
      ay = aw[0];
      aA = aw[1];
      if (ay.indexOf("TZID") !== -1) {
        az = ay.substring(ay.indexOf("TZID")).split("=")[1]
      }
      if (aA) {
        aA = N(aA, az || aB)
      }
    }
    if (aA) {
      return {
        value: aA,
        tzid: az
      }
    }
  }
  function M(aA, aH) {
    var au = {}, at = 0,
      av, aD, aE, az, aG, aF, aC = false,
      aB, aw, ax, ay = function(aI, aJ) {
        var aK = aI.day,
          aL = aJ.day;
        if (aK < aG) {
          aK += 7
        }
        if (aL < aG) {
          aL += 7
        }
        return aK - aL
      };
    if (!aA) {
      return null
    }
    ax = aA.split("\n");
    if (!ax[1] && (aA.indexOf("DTSTART") !== -1 || aA.indexOf("DTEND") !== -1)) {
      ax = aA.split(" ")
    }
    for (at = 0, av = ax.length; at < av; at++) {
      aw = ax[at];
      if (aw.indexOf("DTSTART") !== -1) {
        au.start = K(aw, aH)
      } else {
        if (aw.indexOf("DTEND") !== -1) {
          au.end = K(aw, aH)
        } else {
          if (aw.indexOf("RRULE") !== -1) {
            aB = aw.substring(6)
          } else {
            aB = aw
          }
        }
      }
    }
    aB = aB.split(";");
    for (at = 0, av = aB.length; at < av; at++) {
      az = aB[at];
      aD = az.split("=");
      aE = a.trim(aD[1]).split(",");
      switch (a.trim(aD[0]).toUpperCase()) {
        case "FREQ":
          au.freq = aE[0].toLowerCase();
          break;
        case "UNTIL":
          au.until = N(aE[0], aH);
          break;
        case "COUNT":
          au.count = parseInt(aE[0], 10);
          break;
        case "INTERVAL":
          au.interval = parseInt(aE[0], 10);
          break;
        case "BYSECOND":
          au.seconds = J(aE, {
            start: 0,
            end: 60
          });
          aC = true;
          break;
        case "BYMINUTE":
          au.minutes = J(aE, {
            start: 0,
            end: 59
          });
          aC = true;
          break;
        case "BYHOUR":
          au.hours = J(aE, {
            start: 0,
            end: 23
          });
          aC = true;
          break;
        case "BYMONTHDAY":
          au.monthDays = J(aE, {
            start: -31,
            end: 31
          });
          aC = true;
          break;
        case "BYYEARDAY":
          au.yearDays = J(aE, {
            start: -366,
            end: 366
          });
          aC = true;
          break;
        case "BYMONTH":
          au.months = J(aE, {
            start: 1,
            end: 12
          });
          aC = true;
          break;
        case "BYDAY":
          au.weekDays = aF = O(aE);
          aC = true;
          break;
        case "BYWEEKNO":
          au.weeks = J(aE, {
            start: -53,
            end: 53
          });
          aC = true;
          break;
        case "BYSETPOS":
          au.positions = J(aE, {
            start: -366,
            end: 366
          });
          break;
        case "WKST":
          au.weekStart = aG = aj[aE[0]];
          break
      }
    }
    if (au.freq === ah || (au.count !== ah && au.until)) {
      return null
    }
    if (!au.interval) {
      au.interval = 1
    }
    if (aG === ah) {
      au.weekStart = aG = z.culture().calendar.firstDay
    }
    if (aF) {
      au.weekDays = aF.sort(ay)
    }
    if (au.positions && !aC) {
      au.positions = null
    }
    au._hasRuleValue = aC;
    return au
  }
  function aa(at, aw) {
    var av = at.value;
    var au = at.tzid || "";
    av = af.convert(av, au || aw || av.getTimezoneOffset(), "Etc/UTC");
    if (au) {
      au = ";TZID=" + au
    }
    return au + ":" + z.toString(av, "yyyyMMddTHHmmssZ") + " "
  }
  function Z(au, az) {
    var ay = au.weekStart,
      av = "FREQ=" + au.freq.toUpperCase(),
      ax = au.until,
      aw = au.start || "",
      at = au.end || "";
    if (au.interval > 1) {
      av += ";INTERVAL=" + au.interval
    }
    if (au.count) {
      av += ";COUNT=" + au.count
    }
    if (ax) {
      ax = af.convert(ax, az || ax.getTimezoneOffset(), "Etc/UTC");
      av += ";UNTIL=" + z.toString(ax, "yyyyMMddTHHmmssZ")
    }
    if (au.months) {
      av += ";BYMONTH=" + au.months
    }
    if (au.weeks) {
      av += ";BYWEEKNO=" + au.weeks
    }
    if (au.yearDays) {
      av += ";BYYEARDAY=" + au.yearDays
    }
    if (au.monthDays) {
      av += ";BYMONTHDAY=" + au.monthDays
    }
    if (au.weekDays) {
      av += ";BYDAY=" + ab(au.weekDays)
    }
    if (au.hours) {
      av += ";BYHOUR=" + au.hours
    }
    if (au.minutes) {
      av += ";BYMINUTE=" + au.minutes
    }
    if (au.seconds) {
      av += ";BYSECOND=" + au.seconds
    }
    if (au.positions) {
      av += ";BYSETPOS=" + au.positions
    }
    if (ay !== ah) {
      av += ";WKST=" + ai[ay]
    }
    if (aw) {
      aw = "DTSTART" + aa(aw, az)
    }
    if (at) {
      at = "DTEND" + aa(at, az)
    }
    if (aw || at) {
      av = aw + at + "RRULE:" + av
    }
    return av
  }
  z.recurrence = {
    rule: {
      parse: M,
      serialize: Z
    },
    expand: q,
    dayInYear: l,
    weekInYear: ao,
    weekInMonth: an,
    numberOfWeeks: H,
    isException: x
  };
  var al = function(at) {
    var ax = z.culture().calendar.days.namesShort,
      av = ax.length,
      aw = "",
      au = 0,
      ay = [];
    for (; au < av; au++) {
      ay.push(au)
    }
    ax = ax.slice(at).concat(ax.slice(0, at));
    ay = ay.slice(at).concat(ay.slice(0, at));
    for (au = 0; au < av; au++) {
      aw += '<label class="k-check"><input class="k-recur-weekday-checkbox" type="checkbox" value="' + ay[au] + '" /> ' + ax[au] + "</label>"
    }
    return aw
  };
  var T = z.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-month-radio" type="radio" name="month" value="monthday" />#:messages.day#</label><input class="k-recur-monthday" /></li><li><input class="k-recur-month-radio" type="radio" name="month" value="weekday" /><input class="k-recur-weekday-offset" /><input class="k-recur-weekday" /></li></ul></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><input class="k-recur-year-radio" type="radio" name="year" value="monthday" /><input class="k-recur-month" /><input class="k-recur-monthday" /></li><li><input class="k-recur-year-radio" type="radio" name="year" value="weekday" /><input class="k-recur-weekday-offset" /><input class="k-recur-weekday" />#:messages.of#<input class="k-recur-month" /></li></ul></div># } ## if (frequency !== "never") { #<div class="k-edit-label"><label>#:end.label#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-end-never" type="radio" name="end" value="never" />#:end.never#</label></li><li><label><input class="k-recur-end-count" type="radio" name="end" value="count" />#:end.after#</label><input class="k-recur-count" />#:end.occurrence#</li><li><label><input class="k-recur-end-until" type="radio" name="end" value="until" />#:end.on#</label><input class="k-recur-until" /></li></ul></div># } #');
  var k = [{
    day: 0,
    offset: 0
  }, {
    day: 1,
    offset: 0
  }, {
    day: 2,
    offset: 0
  }, {
    day: 3,
    offset: 0
  }, {
    day: 4,
    offset: 0
  }, {
    day: 5,
    offset: 0
  }, {
    day: 6,
    offset: 0
  }];
  var ak = [{
    day: 1,
    offset: 0
  }, {
    day: 2,
    offset: 0
  }, {
    day: 3,
    offset: 0
  }, {
    day: 4,
    offset: 0
  }, {
    day: 5,
    offset: 0
  }];
  var am = [{
    day: 0,
    offset: 0
  }, {
    day: 6,
    offset: 0
  }];
  var e = aq.extend({
    init: function(at, av) {
      var aw;
      var ax = this;
      var au = av && av.frequencies;
      aq.fn.init.call(ax, at, av);
      ax.wrapper = ax.element;
      av = ax.options;
      av.start = aw = av.start || i.today();
      if (au) {
        av.frequencies = au
      }
      if (typeof aw === "string") {
        av.start = z.parseDate(aw, "yyyyMMddTHHmmss")
      }
      if (av.firstWeekDay === null) {
        av.firstWeekDay = z.culture().calendar.firstDay
      }
      ax._namespace = "." + av.name
    },
    options: {
      value: "",
      start: "",
      timezone: "",
      spinners: true,
      firstWeekDay: null,
      frequencies: ["never", "daily", "weekly", "monthly", "yearly"],
      mobile: false,
      messages: {
        frequencies: {
          never: "Never",
          daily: "Daily",
          weekly: "Weekly",
          monthly: "Monthly",
          yearly: "Yearly"
        },
        daily: {
          repeatEvery: "Repeat every: ",
          interval: " day(s)"
        },
        weekly: {
          interval: " week(s)",
          repeatEvery: "Repeat every: ",
          repeatOn: "Repeat on: "
        },
        monthly: {
          repeatEvery: "Repeat every: ",
          repeatOn: "Repeat on: ",
          interval: " month(s)",
          day: "Day "
        },
        yearly: {
          repeatEvery: "Repeat every: ",
          repeatOn: "Repeat on: ",
          interval: " year(s)",
          of: " of "
        },
        end: {
          label: "End:",
          never: "Never",
          after: "After ",
          occurrence: " occurrence(s)",
          on: "On "
        },
        offsetPositions: {
          first: "first",
          second: "second",
          third: "third",
          fourth: "fourth",
          last: "last"
        },
        weekdays: {
          day: "day",
          weekday: "weekday",
          weekend: "weekend day"
        }
      }
    },
    events: ["change"],
    _initInterval: function() {
      var au = this;
      var at = au._value;
      au._container.find(".k-recur-interval").kendoNumericTextBox({
        spinners: au.options.spinners,
        value: at.interval || 1,
        decimals: 0,
        format: "#",
        min: 1,
        change: function() {
          at.interval = this.value();
          au._trigger()
        }
      })
    },
    _weekDayRule: function(at) {
      var aw = this;
      var ax = aw._weekDay.value();
      var au = Number(aw._weekDayOffset.value());
      var ay = null;
      var av = null;
      if (!at) {
        if (ax === "day") {
          ay = k;
          av = au
        } else {
          if (ax === "weekday") {
            ay = ak;
            av = au
          } else {
            if (ax === "weekend") {
              ay = am;
              av = au
            } else {
              ay = [{
                offset: au,
                day: Number(ax)
              }]
            }
          }
        }
      }
      aw._value.weekDays = ay;
      aw._value.positions = av
    },
    _weekDayView: function() {
      var aw = this;
      var az = aw._value.weekDays;
      var av = aw._value.positions;
      var ay = aw._weekDayOffset;
      var ax;
      var aA;
      var at;
      var au;
      if (az) {
        at = az.length;
        if (av) {
          if (at === 7) {
            aA = "day";
            ax = av
          } else {
            if (at === 5) {
              aA = "weekday";
              ax = av
            } else {
              if (at === 2) {
                aA = "weekend";
                ax = av
              }
            }
          }
        }
        if (!aA) {
          az = az[0];
          aA = az.day;
          ax = az.offset || ""
        }
        au = ay.value ? "value" : "val";
        ay[au](ax);
        aw._weekDay[au](aA)
      }
    },
    _initWeekDay: function() {
      var aw = this,
        au;
      var ay = aw.options.messages.weekdays;
      var av = aw.options.messages.offsetPositions;
      var ax = aw._container.find(".k-recur-weekday");
      var at = function() {
        aw._weekDayRule();
        aw._trigger()
      };
      if (ax[0]) {
        aw._weekDayOffset = new o(aw._container.find(".k-recur-weekday-offset"), {
          change: at,
          dataTextField: "text",
          dataValueField: "value",
          dataSource: [{
            text: av.first,
            value: "1"
          }, {
            text: av.second,
            value: "2"
          }, {
            text: av.third,
            value: "3"
          }, {
            text: av.fourth,
            value: "4"
          }, {
            text: av.last,
            value: "-1"
          }]
        });
        au = [{
          text: ay.day,
          value: "day"
        }, {
          text: ay.weekday,
          value: "weekday"
        }, {
          text: ay.weekend,
          value: "weekend"
        }];
        aw._weekDay = new o(ax, {
          value: aw.options.start.getDay(),
          change: at,
          dataTextField: "text",
          dataValueField: "value",
          dataSource: au.concat(a.map(z.culture().calendar.days.names, function(az, aA) {
            return {
              text: az,
              value: aA
            }
          }))
        });
        aw._weekDayView()
      }
    },
    _initWeekDays: function() {
      var ay = this;
      var ax = ay._value;
      var aA = ay._container.find(".k-recur-weekday-checkbox");
      if (aA[0]) {
        aA.on(g + ay._namespace, function() {
          ax.weekDays = a.map(aA.filter(":checked"), function(aB) {
            return {
              day: Number(aB.value),
              offset: 0
            }
          });
          if (!ay.options.mobile) {
            ay._trigger()
          }
        });
        if (ax.weekDays) {
          var au, az;
          var at = 0,
            av = aA.length;
          var aw = ax.weekDays.length;
          for (; at < av; at++) {
            az = aA[at];
            for (au = 0; au < aw; au++) {
              if (az.value == ax.weekDays[au].day) {
                az.checked = true
              }
            }
          }
        }
      }
    },
    _initMonthDay: function() {
      var av = this;
      var au = av._value;
      var at = av._container.find(".k-recur-monthday");
      if (at[0]) {
        av._monthDay = new z.ui.NumericTextBox(at, {
          spinners: av.options.spinners,
          min: 1,
          max: 31,
          decimals: 0,
          format: "#",
          value: au.monthDays ? au.monthDays[0] : av.options.start.getDate(),
          change: function() {
            var aw = this.value();
            au.monthDays = aw ? [aw] : aw;
            av._trigger()
          }
        })
      }
    },
    _initCount: function() {
      var av = this,
        at = av._container.find(".k-recur-count"),
        au = av._value;
      av._count = at.kendoNumericTextBox({
        spinners: av.options.spinners,
        value: au.count || 1,
        decimals: 0,
        format: "#",
        min: 1,
        change: function() {
          au.count = this.value();
          av._trigger()
        }
      }).data("kendoNumericTextBox")
    },
    _initUntil: function() {
      var aw = this,
        at = aw._container.find(".k-recur-until"),
        av = aw.options.start,
        au = aw._value,
        ax = au.until;
      aw._until = at.kendoDatePicker({
        min: ax && ax < av ? ax : av,
        value: ax || av,
        change: function() {
          au.until = this.value();
          aw._trigger()
        }
      }).data("kendoDatePicker")
    },
    _trigger: function() {
      if (!this.options.mobile) {
        this.trigger("change")
      }
    }
  });
  var U = e.extend({
    init: function(at, au) {
      var av = this;
      e.fn.init.call(av, at, au);
      av._initFrequency();
      av._initContainer();
      av.value(av.options.value)
    },
    options: {
      name: "RecurrenceEditor"
    },
    events: ["change"],
    destroy: function() {
      var at = this;
      at._frequency.destroy();
      at._container.find("input[type=radio],input[type=checkbox]").off(g + at._namespace);
      z.destroy(at._container);
      e.fn.destroy.call(at)
    },
    value: function(av) {
      var at = this,
        au = at.options.timezone;
      if (av === ah) {
        if (!at._value.freq) {
          return ""
        }
        return Z(at._value, au)
      }
      at._value = M(av, au) || {};
      at._frequency.value(at._value.freq || "");
      at._initView(at._frequency.value())
    },
    _initContainer: function() {
      var av = this.element,
        at = a('<div class="k-recur-view" />'),
        au = av.parent(".k-edit-field");
      if (au[0]) {
        at.insertAfter(au)
      } else {
        av.append(at)
      }
      this._container = at
    },
    _initFrequency: function() {
      var ay = this,
        ax = ay.options,
        au = ax.frequencies,
        aw = ax.messages.frequencies,
        at = a("<input />"),
        av;
      au = a.map(au, function(az) {
        return {
          text: aw[az],
          value: az
        }
      });
      av = au[0];
      if (av && av.value === "never") {
        av.value = ""
      }
      ay.element.append(at);
      ay._frequency = new o(at, {
        dataTextField: "text",
        dataValueField: "value",
        dataSource: au,
        change: function() {
          ay._value = {};
          ay._initView(ay._frequency.value());
          ay.trigger("change")
        }
      })
    },
    _initView: function(au) {
      var ax = this;
      var aw = ax._value;
      var av = ax.options;
      var at = {
        frequency: au || "never",
        weekDayCheckBoxes: al,
        firstWeekDay: av.firstWeekDay,
        messages: av.messages[au],
        end: av.messages.end
      };
      z.destroy(ax._container);
      ax._container.html(T(at));
      if (!au) {
        ax._value = {};
        return
      }
      aw.freq = au;
      if (au === "weekly" && !aw.weekDays) {
        aw.weekDays = [{
          day: av.start.getDay(),
          offset: 0
        }]
      }
      ax._initInterval();
      ax._initWeekDays();
      ax._initMonthDay();
      ax._initWeekDay();
      ax._initMonth();
      ax._initCount();
      ax._initUntil();
      ax._period();
      ax._end()
    },
    _initMonth: function() {
      var ax = this;
      var aw = ax._value;
      var at = aw.months || [ax.options.start.getMonth() + 1];
      var au = ax._container.find(".k-recur-month");
      var av;
      if (au[0]) {
        av = {
          change: function() {
            aw.months = [Number(this.value())];
            ax.trigger("change")
          },
          dataTextField: "text",
          dataValueField: "value",
          dataSource: a.map(z.culture().calendar.months.names, function(az, ay) {
            return {
              text: az,
              value: ay + 1
            }
          })
        };
        ax._month1 = new o(au[0], av);
        ax._month2 = new o(au[1], av);
        if (at) {
          at = at[0];
          ax._month1.value(at);
          ax._month2.value(at)
        }
      }
    },
    _end: function() {
      var ay = this;
      var ax = ay._value;
      var au = ay._container;
      var aw = ay._namespace;
      var at = function(az) {
        ay._toggleEnd(az.currentTarget.value);
        ay.trigger("change")
      };
      var av;
      ay._buttonNever = au.find(".k-recur-end-never").on(g + aw, at);
      ay._buttonCount = au.find(".k-recur-end-count").on(g + aw, at);
      ay._buttonUntil = au.find(".k-recur-end-until").on(g + aw, at);
      if (ax.count) {
        av = "count"
      } else {
        if (ax.until) {
          av = "until"
        }
      }
      ay._toggleEnd(av)
    },
    _period: function() {
      var ax = this;
      var av = ax._value;
      var at = av.freq === "monthly";
      var ay = at ? ax._toggleMonthDay : ax._toggleYear;
      var aw = ".k-recur-" + (at ? "month" : "year") + "-radio";
      var au = ax._container.find(aw);
      if (!at && av.freq !== "yearly") {
        return
      }
      au.on(g + ax._namespace, function(az) {
        ay.call(ax, az.currentTarget.value);
        ax.trigger("change")
      });
      ax._buttonMonthDay = au.eq(0);
      ax._buttonWeekDay = au.eq(1);
      ay.call(ax, av.weekDays ? "weekday" : "monthday")
    },
    _toggleEnd: function(aw) {
      var ax = this;
      var at, ay;
      var au, av;
      if (aw === "count") {
        ax._buttonCount.prop("checked", true);
        au = true;
        av = false;
        at = ax._count.value();
        ay = null
      } else {
        if (aw === "until") {
          ax._buttonUntil.prop("checked", true);
          au = false;
          av = true;
          at = null;
          ay = ax._until.value()
        } else {
          ax._buttonNever.prop("checked", true);
          au = av = false;
          at = ay = null
        }
      }
      ax._count.enable(au);
      ax._until.enable(av);
      ax._value.count = at;
      ax._value.until = ay
    },
    _toggleMonthDay: function(ax) {
      var ay = this;
      var au = false;
      var av = true;
      var at = false;
      var aw;
      if (ax === "monthday") {
        ay._buttonMonthDay.prop("checked", true);
        aw = [ay._monthDay.value()];
        au = true;
        av = false;
        at = true
      } else {
        ay._buttonWeekDay.prop("checked", true);
        aw = null
      }
      ay._weekDay.enable(av);
      ay._weekDayOffset.enable(av);
      ay._monthDay.enable(au);
      ay._value.monthDays = aw;
      ay._weekDayRule(at)
    },
    _toggleYear: function(ax) {
      var aw = this;
      var at = false;
      var au = true;
      var av;
      if (ax === "monthday") {
        at = true;
        au = false;
        av = aw._month1.value()
      } else {
        av = aw._month2.value()
      }
      aw._month1.enable(at);
      aw._month2.enable(au);
      aw._value.months = [av];
      aw._toggleMonthDay(ax)
    }
  });
  ag.plugin(U);
  var R = z.template('<div class="k-edit-label"><label>#:headerTitle#</label></div><div class="k-edit-field k-recur-pattern k-scheduler-toolbar"></div><div class="k-recur-view"></div>');
  var S = z.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval" pattern="\\\\d*"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatBy#</label></div><div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div><div class="k-monthday-view" style="display:none"><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><input class="k-recur-monthday" pattern="\\\\d*"/></div></div><div class="k-weekday-view" style="display:none"><div class="k-edit-label"><label>#:messages.every#</label></div><div class="k-edit-field"><select class="k-recur-weekday-offset"></select></div><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><select class="k-recur-weekday"></select></div></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatBy#</label></div><div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div><div class="k-monthday-view" style="display:none"><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><input class="k-recur-monthday" pattern="\\\\d*"/></div></div><div class="k-weekday-view" style="display:none"><div class="k-edit-label"><label>#:messages.every#</label></div><div class="k-edit-field"><select class="k-recur-weekday-offset"></select></div><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><select class="k-recur-weekday"></select></div></div><div class="k-edit-label"><label>#:messages.month#</label></div><div class="k-edit-field"><select class="k-recur-month"></select></div># } #');
  var P = z.template('# if (endPattern === "count") { #<div class="k-edit-label"><label>#:messages.after#</label></div><div class="k-edit-field"><input class="k-recur-count" pattern="\\\\d*" /></div># } else if (endPattern === "until") { #<div class="k-edit-label"><label>#:messages.on#</label></div><div class="k-edit-field"><input type="date" class="k-recur-until" /></div># } #');
  var Q = z.template('<ul class="k-reset k-header k-toolbar k-scheduler-navigation">#for (var i = 0, length = dataSource.length; i < length; i++) {#<li class="k-state-default #= value === dataSource[i].value ? "k-state-selected" : "" #"><a role="button" href="\\#" class="k-link" data-#=ns#value="#=dataSource[i].value#">#:dataSource[i].text#</a></li>#}#</ul>');
  var C = e.extend({
    init: function(at, au) {
      var av = this;
      e.fn.init.call(av, at, au);
      au = av.options;
      av._optionTemplate = z.template('<option value="#:value#">#:text#</option>');
      av.value(au.value);
      av._pane = au.pane;
      av._initRepeatButton();
      av._initRepeatEnd();
      av._defaultValue = av._value
    },
    options: {
      name: "MobileRecurrenceEditor",
      animations: {
        left: "slide",
        right: "slide:right"
      },
      mobile: true,
      messages: {
        cancel: "Cancel",
        update: "Save",
        endTitle: "Repeat ends",
        repeatTitle: "Repeat pattern",
        headerTitle: "Repeat event",
        end: {
          patterns: {
            never: "Never",
            after: "After...",
            on: "On..."
          },
          never: "Never",
          after: "End repeat after",
          on: "End repeat on"
        },
        daily: {
          interval: ""
        },
        weekly: {
          interval: ""
        },
        monthly: {
          interval: "",
          repeatBy: "Repeat by: ",
          dayOfMonth: "Day of the month",
          dayOfWeek: "Day of the week",
          repeatEvery: "Repeat every",
          every: "Every",
          day: "Day "
        },
        yearly: {
          interval: "",
          repeatBy: "Repeat by: ",
          dayOfMonth: "Day of the month",
          dayOfWeek: "Day of the week",
          repeatEvery: "Repeat every: ",
          every: "Every",
          month: "Month",
          day: "Day"
        }
      }
    },
    events: ["change"],
    value: function(av) {
      var at = this;
      var au = at.options.timezone;
      if (av === ah) {
        if (!at._value.freq) {
          return ""
        }
        return Z(at._value, au)
      }
      at._value = M(av, au) || {}
    },
    destroy: function() {
      this._destroyView();
      z.destroy(this._endFields);
      this._repeatButton.off(g + this._namespace);
      e.fn.destroy.call(this)
    },
    _initRepeatButton: function() {
      var au = this;
      var at = au.options.messages.frequencies[this._value.freq || "never"];
      au._repeatButton = a('<a href="#" class="k-button k-scheduler-recur">' + at + "</a>").on(g + au._namespace, function(av) {
        av.preventDefault();
        au._createView("repeat");
        au._pane.navigate("recurrence", au.options.animations.left)
      });
      au.element.append(au._repeatButton)
    },
    _initRepeatEnd: function() {
      var av = this;
      var au = a('<div class="k-edit-label"><label>Ends</label></div>').insertAfter(av.element.parent(".k-edit-field"));
      var at = a('<div class="k-edit-field"><a href="#" class="k-button k-scheduler-recur-end"></a></div>').on(g + av._namespace, function(aw) {
        aw.preventDefault();
        if (!av._value.freq) {
          return
        }
        av._createView("end");
        av._pane.navigate("recurrence", av.options.animations.left)
      }).insertAfter(au);
      av._endFields = au.add(at).toggleClass("k-state-disabled", !av._value.freq);
      av._endButton = at.find(".k-scheduler-recur-end").text(av._endText())
    },
    _endText: function() {
      var au = this._value;
      var at = this.options.messages.end;
      var av = at.never;
      if (au.count) {
        av = z.format("{0} {1}", at.after, au.count)
      } else {
        if (au.until) {
          av = z.format("{0} {1:d}", at.on, au.until)
        }
      }
      return av
    },
    _initFrequency: function() {
      var av = this;
      var at = av.options.messages.frequencies;
      var au = Q({
        dataSource: a.map(this.options.frequencies, function(aw) {
          return {
            text: at[aw],
            value: aw !== "never" ? aw : ""
          }
        }),
        value: av._value.freq || "",
        ns: z.ns
      });
      av._view.element.find(".k-recur-pattern").append(au).on(g + av._namespace, ".k-scheduler-navigation li", function(aw) {
        var ax = a(this);
        aw.preventDefault();
        ax.addClass("k-state-selected").siblings().removeClass("k-state-selected");
        av._value = {
          freq: ax.children("a").attr(z.attr("value"))
        };
        av._initRepeatView()
      })
    },
    _initEndNavigation: function() {
      var aw = this;
      var at = aw.options.messages.end.patterns;
      var av = aw._value;
      var ax = "";
      if (av.count) {
        ax = "count"
      } else {
        if (av.until) {
          ax = "until"
        }
      }
      var au = Q({
        dataSource: [{
          text: at.never,
          value: ""
        }, {
          text: at.after,
          value: "count"
        }, {
          text: at.on,
          value: "until"
        }],
        value: ax,
        ns: z.ns
      });
      aw._view.element.find(".k-recur-pattern").append(au).on(g + aw._namespace, ".k-scheduler-navigation li", function(az) {
        var aA = a(this);
        var ay = null;
        var aB = null;
        az.preventDefault();
        aA.addClass("k-state-selected").siblings().removeClass("k-state-selected");
        aw._initEndView(aA.children("a").attr(z.attr("value")));
        if (aw._count) {
          ay = aw._count.value();
          aB = null
        } else {
          if (aw._until) {
            ay = null;
            aB = aw._until.val ? z.parseDate(aw._until.val(), "yyyy-MM-dd") : aw._until.value()
          }
        }
        av.count = ay;
        av.until = aB
      })
    },
    _createView: function(az) {
      var ay = this;
      var aw = ay.options;
      var av = aw.messages;
      var at = av[az === "repeat" ? "repeatTitle" : "endTitle"];
      var au = '<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="recurrence"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">' + av.cancel + "</a>" + av.headerTitle + '<a href="#" class="k-button k-scheduler-update">' + av.update + "</a></div>";
      var ax = ay._pane.view().id;
      ay._view = ay._pane.append(au + R({
        headerTitle: at
      }));
      ay._view.element.on(g + ay._namespace, "a.k-scheduler-cancel, a.k-scheduler-update", function(aA) {
        aA.preventDefault();
        aA.stopPropagation();
        if (a(this).hasClass("k-scheduler-update")) {
          ay.trigger("change");
          ay._defaultValue = a.extend({}, ay._value)
        } else {
          ay._value = ay._defaultValue
        }
        var aB = ay._value.freq;
        ay._endButton.text(ay._endText());
        ay._endFields.toggleClass("k-state-disabled", !aB);
        ay._repeatButton.text(av.frequencies[aB || "never"]);
        ay._destroyView();
        ay._pane.navigate(ax, ay.options.animations.right)
      });
      ay._container = ay._view.element.find(".k-recur-view");
      if (az === "repeat") {
        ay._initFrequency();
        ay._initRepeatView()
      } else {
        ay._initEndNavigation();
        ay._initEndView()
      }
    },
    _destroyView: function() {
      if (this._view) {
        this._view.destroy();
        this._view.element.remove()
      }
      this._view = null
    },
    _initRepeatView: function() {
      var ay = this;
      var av = ay._value.freq || "never";
      var au = {
        frequency: av,
        weekDayCheckBoxes: al,
        firstWeekDay: ay.options.firstWeekDay,
        messages: ay.options.messages[av]
      };
      var aw = S(au);
      var at = ay._container;
      var ax = ay._value;
      z.destroy(at);
      at.html(aw);
      if (!aw) {
        ay._value = {};
        return
      }
      if (av === "weekly" && !ax.weekDays) {
        ax.weekDays = [{
          day: ay.options.start.getDay(),
          offset: 0
        }]
      }
      ay._initInterval();
      ay._initMonthDay();
      ay._initWeekDays();
      ay._initWeekDay();
      ay._initMonth();
      ay._period()
    },
    _initEndView: function(au) {
      var aw = this;
      var av = aw._value;
      if (au === ah) {
        if (av.count) {
          au = "count"
        } else {
          if (av.until) {
            au = "until"
          }
        }
      }
      var at = {
        endPattern: au,
        messages: aw.options.messages.end
      };
      z.destroy(aw._container);
      aw._container.html(P(at));
      aw._initCount();
      aw._initUntil()
    },
    _initWeekDay: function() {
      var aw = this,
        au;
      var ax = aw.options.messages.weekdays;
      var av = aw.options.messages.offsetPositions;
      var ay = aw._container.find(".k-recur-weekday");
      var at = function() {
        aw._weekDayRule();
        aw.trigger("change")
      };
      if (ay[0]) {
        aw._weekDayOffset = aw._container.find(".k-recur-weekday-offset").html(aw._options([{
          text: av.first,
          value: "1"
        }, {
          text: av.second,
          value: "2"
        }, {
          text: av.third,
          value: "3"
        }, {
          text: av.fourth,
          value: "4"
        }, {
          text: av.last,
          value: "-1"
        }])).change(at);
        au = [{
          text: ax.day,
          value: "day"
        }, {
          text: ax.weekday,
          value: "weekday"
        }, {
          text: ax.weekend,
          value: "weekend"
        }];
        au = au.concat(a.map(z.culture().calendar.days.names, function(az, aA) {
          return {
            text: az,
            value: aA
          }
        }));
        aw._weekDay = ay.html(aw._options(au)).change(at).val(aw.options.start.getDay());
        aw._weekDayView()
      }
    },
    _initMonth: function() {
      var az = this;
      var ax = az._value;
      var ay = az.options.start;
      var au = ax.months || [ay.getMonth() + 1];
      var aw = az._container.find(".k-recur-month");
      var av = z.culture().calendar.months.names;
      if (aw[0]) {
        var at = a.map(av, function(aB, aA) {
          return {
            text: aB,
            value: aA + 1
          }
        });
        aw.html(az._options(at)).change(function() {
          ax.months = [Number(this.value)]
        });
        az._monthSelect = aw;
        if (au) {
          aw.val(au[0])
        }
      }
    },
    _period: function() {
      var aB = this;
      var aA = aB._value;
      var at = aB._container;
      var ax = aB.options.messages[aA.freq];
      var az = at.find(".k-repeat-rule");
      var aC = at.find(".k-weekday-view");
      var ay = at.find(".k-monthday-view");
      if (az[0]) {
        var au = aA.weekDays ? "weekday" : "monthday";
        var av = Q({
          value: au,
          dataSource: [{
            text: ax.dayOfMonth,
            value: "monthday"
          }, {
            text: ax.dayOfWeek,
            value: "weekday"
          }],
          ns: z.ns
        });
        var aw = function(aF) {
          var aG = aB._weekDay.val();
          var aH = aB._weekDayOffset.val();
          var aE = aB._monthDay.value();
          var aD = aB._monthSelect ? aB._monthSelect.val() : null;
          if (aF === "monthday") {
            aA.weekDays = null;
            aA.monthDays = aE ? [aE] : aE;
            aA.months = aD ? [Number(aD)] : aD;
            aC.hide();
            ay.show()
          } else {
            aA.monthDays = null;
            aA.months = aD ? [Number(aD)] : aD;
            aA.weekDays = [{
              offset: Number(aH),
              day: Number(aG)
            }];
            aC.show();
            ay.hide()
          }
        };
        az.append(av).on(g + aB._namespace, ".k-scheduler-navigation li", function(aD) {
          var aE = a(this).addClass("k-state-selected");
          aD.preventDefault();
          aE.siblings().removeClass("k-state-selected");
          var aF = aE.children("a").attr(z.attr("value"));
          aw(aF)
        });
        aw(au)
      }
    },
    _initUntil: function() {
      var ax = this;
      var at = ax._container.find(".k-recur-until");
      var aw = ax.options.start;
      var av = ax._value;
      var ay = av.until;
      var au = ay && ay < aw ? ay : aw;
      if (z.support.input.date) {
        ax._until = at.attr("min", z.toString(au, "yyyy-MM-dd")).val(z.toString(ay || aw, "yyyy-MM-dd")).on("change", function() {
          av.until = z.parseDate(this.value, "yyyy-MM-dd")
        })
      } else {
        ax._until = at.kendoDatePicker({
          min: au,
          value: ay || aw,
          change: function() {
            av.until = this.value()
          }
        }).data("kendoDatePicker")
      }
    },
    _options: function(at, ax) {
      var av = 0;
      var au = "";
      var aw = at.length;
      var ay = this._optionTemplate;
      if (ax) {
        au += ay({
          value: "",
          text: ax
        })
      }
      for (; av < aw; av++) {
        au += ay(at[av])
      }
      return au
    }
  });
  ag.plugin(C)
})(window.kendo.jQuery);
kendo_module({
  id: "scheduler",
  name: "Scheduler",
  category: "web",
  description: "The Scheduler is an event calendar.",
  depends: ["dropdownlist", "editable", "multiselect", "window", "datepicker", "scheduler.recurrence", "scheduler.view"],
  features: [{
    id: "scheduler-dayview",
    name: "Scheduler Day View",
    description: "Scheduler Day View",
    depends: ["scheduler.dayview"]
  }, {
    id: "scheduler-agendaview",
    name: "Scheduler Agenda View",
    description: "Scheduler Agenda View",
    depends: ["scheduler.agendaview"]
  }, {
    id: "scheduler-monthview",
    name: "Scheduler Month View",
    description: "Scheduler Month View",
    depends: ["scheduler.monthview"]
  }, {
    id: "scheduler-mobile",
    name: "Scheduler adaptive rendering",
    description: "Support for adaptive rendering",
    depends: ["mobile.actionsheet", "mobile.pane"]
  }]
});
(function(a, at) {
  var G = window.kendo,
    l = G.date,
    D = G.support.input,
    Q = l.MS_PER_DAY,
    A = l.getDate,
    B = G.date.getMilliseconds,
    X = G.recurrence,
    H = G.keys,
    ar = G.ui,
    au = ar.Widget,
    ah = "string",
    U = ar.Popup,
    e = ar.Calendar,
    k = G.data.DataSource,
    F = a.isPlainObject,
    z = a.extend,
    W = a.proxy,
    ap = Object.prototype.toString,
    E = a.isArray,
    T = ".kendoScheduler",
    h = "click",
    g = "change",
    f = "cancel",
    ab = "remove",
    ac = "save",
    b = "add",
    u = "edit",
    am = A(new Date()),
    Z = "recurrenceException",
    Y = "yyyyMMddTHHmmssZ",
    q = "Are you sure you want to delete this event?",
    r = "Do you want to delete only this event occurrence or the whole series?",
    x = "Do you want to edit only this event occurrence or the whole series?",
    i = '<a class="k-button #=className#" #=attr# href="\\#">#=text#</a>',
    ao = G.template('<div class="k-floatwrap k-header k-scheduler-toolbar k-secondary"><ul class="k-reset k-header k-toolbar k-scheduler-navigation"><li class="k-state-default k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li><li class="k-state-default k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li><li class="k-state-default k-nav-current"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-calendar"></span><span data-#=ns#bind="text: formattedDate"></span></a></li></ul><ul class="k-reset k-header k-toolbar k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#=view#" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul></div>'),
    O = G.template('<div class="k-floatwrap k-header k-scheduler-toolbar k-secondary"><ul class="k-reset k-header k-toolbar k-scheduler-navigation"><li class="k-state-default k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li></ul><ul class="k-reset k-header k-toolbar k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#=view#" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul></div><div class="k-floatwrap k-header k-scheduler-toolbar k-secondary"><ul class="k-reset k-header k-toolbar k-scheduler-navigation"><li class="k-state-default k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-nav-current"><span data-#=ns#bind="text: formattedDate"></span></li><li class="k-state-default k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li></ul></div>'),
    I = function(aA, aD) {
      var az = {
        name: aD.field
      };
      var aB = !D.date ? G.attr("role") + '="datepicker" ' : "";
      var aC = !D.datetimelocal ? G.attr("role") + '="datetimepicker" ' : "";
      d(az, aD);
      c(az, aD);
      a('<input type="datetime-local" required ' + G.attr("type") + '="date" ' + aC + G.attr("bind") + '="value:' + aD.field + ',invisible:isAllDay" />').attr(az).appendTo(aA);
      a('<input type="date" required ' + G.attr("type") + '="date" ' + aB + G.attr("bind") + '="value:' + aD.field + ',visible:isAllDay" />').attr(az).appendTo(aA);
      a("<span " + G.attr("for") + '="' + aD.field + '" class="k-invalid-msg"/>').hide().appendTo(aA)
    }, n = function(aA, aB) {
      var az = {
        name: aB.field
      };
      d(az, aB);
      c(az, aB);
      a('<input type="text" required ' + G.attr("type") + '="date" ' + G.attr("role") + '="datetimepicker" ' + G.attr("bind") + '="value:' + aB.field + ',invisible:isAllDay" />').attr(az).appendTo(aA);
      a('<input type="text" required ' + G.attr("type") + '="date" ' + G.attr("role") + '="datepicker" ' + G.attr("bind") + '="value:' + aB.field + ',visible:isAllDay" />').attr(az).appendTo(aA);
      a("<span " + G.attr("bind") + '="text: ' + aB.field + 'Timezone"></span>').appendTo(aA);
      if (aB.field === "end") {
        a("<span " + G.attr("bind") + '="text: startTimezone, invisible: endTimezone"></span>').appendTo(aA)
      }
      a("<span " + G.attr("for") + '="' + aB.field + '" class="k-invalid-msg"/>').hide().appendTo(aA)
    }, aa = function(az, aA) {
      a("<div " + G.attr("bind") + '="value:' + aA.field + '" />').attr({
        name: aA.field
      }).appendTo(az).kendoRecurrenceEditor({
        start: aA.model.start,
        timezone: aA.timezone,
        messages: aA.messages
      })
    }, K = function(az, aA) {
      a("<div " + G.attr("bind") + '="value:' + aA.field + '" />').attr({
        name: aA.field
      }).appendTo(az).kendoMobileRecurrenceEditor({
        start: aA.model.start,
        timezone: aA.timezone,
        messages: aA.messages,
        pane: aA.pane,
        value: aA.model[aA.field]
      })
    }, N = function(az, aA) {
      var aB = ai(aA.model, aA.messages.noTimezone);
      a('<a href="#" class="k-button k-timezone-button">' + aB + "</a>").click(aA.click).appendTo(az)
    }, al = function(az, aA) {
      a('<a href="#" class="k-button">' + aA.messages.timezoneEditorButton + "</a>").click(aA.click).appendTo(az)
    }, M = function(az, aA) {
      a("<div " + G.attr("bind") + '="value:' + aA.field + '" />').attr({
        name: aA.field
      }).toggle(aA.visible).appendTo(az).kendoMobileTimezoneEditor()
    }, ak = function(az, aA) {
      a("<div " + G.attr("bind") + '="value:' + aA.field + '" />').attr({
        name: aA.field
      }).toggle(aA.visible).appendTo(az).kendoTimezoneEditor()
    };

  function ai(aA, az) {
    az = az || "";
    if (aA.startTimezone) {
      az = aA.startTimezone;
      if (aA.endTimezone) {
        az += " | " + aA.endTimezone
      }
    }
    return az
  }
  function d(az, aA) {
    var aB = aA.timezone;
    if (aB) {
      az[G.attr("timezone")] = aB
    }
  }
  function c(az, aB) {
    var aC = aB.model.fields[aB.field].validation;
    if (aC) {
      var aA = aC.dateCompare;
      if (aA && F(aA) && aA.message) {
        az[G.attr("dateCompare-msg")] = aA.message
      }
    }
  }
  function av(az, aA) {
    return function(aB) {
      aB = az(aB);
      j(aB, "apply", aA);
      return aB || []
    }
  }
  function aw(az, aA) {
    return function(aB) {
      if (aB) {
        if (ap.call(aB) !== "[object Array]" && !(aB instanceof G.data.ObservableArray)) {
          aB = [aB]
        }
      }
      j(aB, "remove", aA, true);
      aB = az(aB);
      return aB || []
    }
  }
  function j(az, aD, aF, aE) {
    var aA, aB, aC;
    az = az || [];
    for (aB = 0, aC = az.length; aB < aC; aB++) {
      aA = az[aB];
      if (aE) {
        if (aA.startTimezone || aA.endTimezone) {
          if (aF) {
            aA.start = G.timezone.convert(aA.start, aA.startTimezone || aA.endTimezone, aF);
            aA.end = G.timezone.convert(aA.end, aA.endTimezone || aA.startTimezone, aF);
            aA.start = G.timezone[aD](aA.start, aF);
            aA.end = G.timezone[aD](aA.end, aF)
          } else {
            aA.start = G.timezone[aD](aA.start, aA.startTimezone || aA.endTimezone);
            aA.end = G.timezone[aD](aA.end, aA.endTimezone || aA.startTimezone)
          }
        } else {
          if (aF) {
            aA.start = G.timezone[aD](aA.start, aF);
            aA.end = G.timezone[aD](aA.end, aF)
          }
        }
      } else {
        if (aA.startTimezone || aA.endTimezone) {
          aA.start = G.timezone[aD](aA.start, aA.startTimezone || aA.endTimezone);
          aA.end = G.timezone[aD](aA.end, aA.endTimezone || aA.startTimezone);
          if (aF) {
            aA.start = G.timezone.convert(aA.start, aA.startTimezone || aA.endTimezone, aF);
            aA.end = G.timezone.convert(aA.end, aA.endTimezone || aA.startTimezone, aF)
          }
        } else {
          if (aF) {
            aA.start = G.timezone[aD](aA.start, aF);
            aA.end = G.timezone[aD](aA.end, aF)
          }
        }
      }
      if (aE) {
        delete aA.uid
      }
    }
    return az
  }
  function C(az, aD) {
    var aC = az.length,
      aB = 0,
      aA;
    for (; aB < aC; aB++) {
      aA = az[aB];
      if (aA.uid === aD) {
        return aA
      }
    }
  }
  function an(az) {
    var aA = new Date(1980, 0, 1);
    aA.setHours(az.getHours(), az.getMinutes(), az.getSeconds(), az.getMilliseconds());
    return aA
  }
  var ae = G.Class.extend({
    init: function(aA, az) {
      var aB = aA.timezone;
      this.reader = az;
      if (az.model) {
        this.model = az.model
      }
      this.timezone = aB;
      this.data = av(a.proxy(this.data, this), aB);
      this.serialize = aw(a.proxy(this.serialize, this), aB)
    },
    errors: function(az) {
      return this.reader.errors(az)
    },
    parse: function(az) {
      return this.reader.parse(az)
    },
    data: function(az) {
      return this.reader.data(az)
    },
    total: function(az) {
      return this.reader.total(az)
    },
    groups: function(az) {
      return this.reader.groups(az)
    },
    aggregates: function(az) {
      return this.reader.aggregates(az)
    },
    serialize: function(az) {
      return this.reader.serialize(az)
    }
  });

  function m(aF) {
    if (aF.filter("[name=end]").length) {
      var az = aF.closest(".k-scheduler-edit-form");
      var aI = az.find("[name=start]:visible");
      var aC = az.find("[name=end]:visible");
      if (aC[0] && aI[0]) {
        var aH, aB;
        var aJ = G.widgetInstance(aI, G.ui);
        var aD = G.widgetInstance(aC, G.ui);
        var aA = az.data("kendoEditable");
        var aG = aA ? aA.options.model : null;
        if (aJ && aD) {
          aH = aJ.value();
          aB = aD.value()
        } else {
          aH = G.parseDate(aI.val());
          aB = G.parseDate(aC.val())
        }
        if (aH && aB) {
          if (aG) {
            var aL = aI.attr(G.attr("timezone"));
            var aK = aG.startTimezone;
            var aE = aG.endTimezone;
            aK = aK || aE;
            aE = aE || aK;
            if (aK) {
              if (aL) {
                aH = G.timezone.convert(aG.start, aK, aL);
                aB = G.timezone.convert(aG.end, aE, aL)
              } else {
                aH = G.timezone.remove(aG.start, aK);
                aB = G.timezone.remove(aG.end, aE)
              }
            }
          }
          return aH <= aB
        }
      }
    }
    return true
  }
  var ag = G.data.Model.define({
    init: function(aA) {
      var az = this;
      G.data.Model.fn.init.call(az, aA);
      az._defaultId = az.defaults[az.idField]
    },
    clone: function(aA, aC) {
      var aB = this.uid,
        az = new this.constructor(a.extend({}, this.toJSON(), aA));
      if (!aC) {
        az.uid = aB
      }
      return az
    },
    duration: function() {
      var az = this.end;
      var aB = this.start;
      var aA = (az.getTimezoneOffset() - aB.getTimezoneOffset()) * G.date.MS_PER_MINUTE;
      return az - aB - aA
    },
    expand: function(aA, az, aB) {
      return X ? X.expand(this, aA, az, aB) : [this]
    },
    update: function(az) {
      for (var aA in az) {
        this.set(aA, az[aA])
      }
      if (this.startTime) {
        this.set("startTime", an(this.start))
      }
      if (this.endTime) {
        this.set("endTime", an(this.end))
      }
    },
    isMultiDay: function() {
      return this.isAllDay || this.duration() >= G.date.MS_PER_DAY
    },
    isException: function() {
      return this.id && this.recurrenceId
    },
    isOccurrence: function() {
      return this.isNew() && this.recurrenceId
    },
    isRecurring: function() {
      return !!(this.recurrenceRule || this.recurrenceId)
    },
    isRecurrenceHead: function() {
      return !!(this.id && this.recurrenceRule)
    },
    toOccurrence: function(az) {
      az = a.extend(az, {
        recurrenceException: null,
        recurrenceRule: null,
        recurrenceId: this.id || this.recurrenceId
      });
      az[this.idField] = this.defaults[this.idField];
      return this.clone(az, true)
    },
    toJSON: function() {
      var az = G.data.Model.fn.toJSON.call(this);
      az.uid = this.uid;
      delete az.startTime;
      delete az.endTime;
      return az
    },
    set: function(aB, aE) {
      var aA = this.isAllDay || false;
      G.data.Model.fn.set.call(this, aB, aE);
      if (aB == "isAllDay" && aE != aA) {
        var aD = G.date.getDate(this.start);
        var az = new Date(this.end);
        var aC = G.date.getMilliseconds(az);
        if (aC === 0 && aE) {
          aC = Q
        }
        this.set("start", aD);
        if (aE === true) {
          G.date.setTime(az, -aC);
          if (az < aD) {
            az = aD
          }
        } else {
          G.date.setTime(az, Q - aC)
        }
        this.set("end", az)
      }
    },
    id: "id",
    fields: {
      id: {
        type: "number"
      },
      title: {
        defaultValue: "",
        type: "string"
      },
      start: {
        type: "date",
        validation: {
          required: true
        }
      },
      startTimezone: {
        type: "string"
      },
      end: {
        type: "date",
        validation: {
          required: true,
          dateCompare: {
            value: m,
            message: "End date should be greater than or equal to the start date"
          }
        }
      },
      endTimezone: {
        type: "string"
      },
      recurrenceRule: {
        defaultValue: "",
        type: "string"
      },
      recurrenceException: {
        defaultValue: "",
        type: "string"
      },
      isAllDay: {
        type: "boolean",
        defaultValue: false
      },
      description: {
        type: "string"
      }
    }
  });
  var af = k.extend({
    init: function(az) {
      k.fn.init.call(this, z(true, {}, {
        schema: {
          modelBase: ag,
          model: ag
        }
      }, az));
      this.reader = new ae(this.options.schema, this.reader)
    },
    expand: function(aC, aA) {
      var az = this.view(),
        aB = {};
      if (aC && aA) {
        aA = new Date(aA.getTime() + Q - 1);
        aB = {
          logic: "or",
          filters: [{
            logic: "and",
            filters: [{
              field: "start",
              operator: "gte",
              value: aC
            }, {
              field: "end",
              operator: "gte",
              value: aC
            }, {
              field: "start",
              operator: "lte",
              value: aA
            }]
          }, {
            logic: "and",
            filters: [{
              field: "start",
              operator: "lte",
              value: new Date(aC.getTime() + Q - 1)
            }, {
              field: "end",
              operator: "gte",
              value: aC
            }]
          }]
        };
        az = new G.data.Query(y(az, aC, aA, this.reader.timezone)).filter(aB).toArray()
      }
      return az
    },
    cancelChanges: function(az) {
      if (az && az.isOccurrence()) {
        this._removeExceptionDate(az)
      }
      k.fn.cancelChanges.call(this, az)
    },
    insert: function(aA, aB) {
      if (!aB) {
        return
      }
      if (!(aB instanceof ag)) {
        var az = aB;
        aB = this._createNewModel();
        aB.accept(az)
      }
      if (aB.isRecurrenceHead() || aB.recurrenceId) {
        aB = aB.recurrenceId ? aB : aB.toOccurrence();
        this._addExceptionDate(aB)
      }
      return k.fn.insert.call(this, aA, aB)
    },
    remove: function(az) {
      if (az.isRecurrenceHead()) {
        this._removeExceptions(az)
      } else {
        if (az.isRecurring()) {
          this._addExceptionDate(az)
        }
      }
      return k.fn.remove.call(this, az)
    },
    _removeExceptions: function(aC) {
      var az = this.data().slice(0),
        aB = az.shift(),
        aA = aC.id;
      while (aB) {
        if (aB.recurrenceId === aA) {
          k.fn.remove.call(this, aB)
        }
        aB = az.shift()
      }
      aC.set(Z, "")
    },
    _removeExceptionDate: function(aB) {
      if (aB.recurrenceId) {
        var aA = this.get(aB.recurrenceId);
        if (aA) {
          var aC = aB.start;
          aC = G.timezone.convert(aC, this.reader.timezone || aC.getTimezoneOffset(), "Etc/UTC");
          var az = G.toString(aC, Y) + ";";
          aA.set(Z, aA.recurrenceException.replace(az, ""))
        }
      }
    },
    _addExceptionDate: function(aA) {
      var aC = aA.start;
      var aD = this.reader.timezone;
      var az = this.get(aA.recurrenceId);
      var aB = az.recurrenceException || "";
      if (!X.isException(aB, aC, aD)) {
        aC = G.timezone.convert(aC, aD || aC.getTimezoneOffset(), "Etc/UTC");
        aB += G.toString(aC, Y) + ";";
        az.set(Z, aB)
      }
    }
  });

  function y(aB, aE, aA, aF) {
    var aD = aB.length,
      az = [],
      aC = 0;
    for (; aC < aD; aC++) {
      az = az.concat(aB[aC].expand(aE, aA, aF))
    }
    return az
  }
  af.create = function(aB) {
    aB = aB && aB.push ? {
      data: aB
    } : aB;
    var aA = aB || {}, az = aA.data;
    aA.data = az;
    if (!(aA instanceof af) && aA instanceof G.data.DataSource) {
      throw new Error("Incorrect DataSource type. Only SchedulerDataSource instances are supported")
    }
    return aA instanceof af ? aA : new af(aA)
  };
  z(true, G.data, {
    SchedulerDataSource: af,
    SchedulerDataReader: ae,
    SchedulerEvent: ag
  });
  var o = {
    update: {
      text: "Save",
      className: "k-scheduler-update"
    },
    canceledit: {
      text: "Cancel",
      className: "k-scheduler-cancel"
    },
    destroy: {
      text: "Delete",
      imageClass: "k-delete",
      className: "k-scheduler-delete",
      iconClass: "k-icon"
    }
  };

  function aq(az) {
    delete az.name;
    delete az.prefix;
    delete az.remove;
    delete az.edit;
    delete az.add;
    delete az.navigate;
    return az
  }
  function s(az) {
    return function(aA) {
      a(G.format('<select data-{0}bind="value:{1}">', G.ns, az.field)).appendTo(aA).kendoDropDownList({
        dataTextField: az.dataTextField,
        dataValueField: az.dataValueField,
        dataSource: az.dataSource,
        valuePrimitive: az.valuePrimitive,
        optionLabel: "None",
        template: G.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#', az.dataColorField, az.dataTextField)
      })
    }
  }
  function t(az) {
    return function(aA) {
      var aD = "";
      var aE = az.dataSource.view();
      for (var aB = 0, aC = aE.length; aB < aC; aB++) {
        aD += G.format('<option value="{0}">{1}</option>', G.getter(az.dataValueField)(aE[aB]), G.getter(az.dataTextField)(aE[aB]))
      }
      a(G.format('<select data-{0}bind="value:{1}">{2}</select>', G.ns, az.field, aD)).appendTo(aA)
    }
  }
  function R(az) {
    return function(aA) {
      a(G.format('<select data-{0}bind="value:{1}">', G.ns, az.field)).appendTo(aA).kendoMultiSelect({
        dataTextField: az.dataTextField,
        dataValueField: az.dataValueField,
        dataSource: az.dataSource,
        valuePrimitive: az.valuePrimitive,
        itemTemplate: G.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#', az.dataColorField, az.dataTextField),
        tagTemplate: G.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#', az.dataColorField, az.dataTextField)
      })
    }
  }
  function S(az) {
    return function(aA) {
      var aD = "";
      var aE = az.dataSource.view();
      for (var aB = 0, aC = aE.length; aB < aC; aB++) {
        aD += G.format('<option value="{0}">{1}</option>', G.getter(az.dataValueField)(aE[aB]), G.getter(az.dataTextField)(aE[aB]))
      }
      a(G.format('<select data-{0}bind="value:{1}" multiple="multiple" data-{0}value-primitive="{3}">{2}</select>', G.ns, az.field, aD, az.valuePrimitive)).appendTo(aA)
    }
  }
  function P(aC, az) {
    var aA = aC.end.getTime() - aC.start.getTime();
    var aD = new Date(aC.start.getTime());
    G.date.setTime(aD, az);
    var aB = new Date(aD.getTime());
    G.date.setTime(aB, aA);
    return {
      start: aD,
      end: aB
    }
  }
  var w = {
    mobile: {
      dateRange: I,
      timezonePopUp: N,
      timezone: M,
      recurrence: K,
      description: '<textarea name="description" class="k-textbox"/>',
      multipleResources: S,
      resources: t
    },
    desktop: {
      dateRange: n,
      timezonePopUp: al,
      timezone: ak,
      recurrence: aa,
      description: '<textarea name="description" class="k-textbox"/>',
      multipleResources: R,
      resources: s
    }
  };
  var v = G.Observable.extend({
    init: function(az, aA) {
      G.Observable.fn.init.call(this);
      this.element = az;
      this.options = z(true, {}, this.options, aA);
      this.createButton = this.options.createButton
    },
    fields: function(aA, aD) {
      var aG = this;
      var aC = aG.options.messages;
      var aH = aG.options.timezone;
      var az = function(aI) {
        aI.preventDefault();
        aG._initTimezoneEditor(aD, this)
      };
      var aB = [{
        field: "title",
        title: aC.editor.title
      }, {
        field: "start",
        title: aC.editor.start,
        editor: aA.dateRange,
        timezone: aH
      }, {
        field: "end",
        title: aC.editor.end,
        editor: aA.dateRange,
        timezone: aH
      }, {
        field: "isAllDay",
        title: aC.editor.allDayEvent
      }];
      if (G.timezone.windows_zones && !aD.isAllDay) {
        aB.push({
          field: "timezone",
          title: aC.editor.timezone,
          editor: aA.timezonePopUp,
          click: az,
          messages: aC.editor,
          model: aD
        });
        aB.push({
          field: "startTimezone",
          title: aC.editor.startTimezone,
          editor: aA.timezone
        });
        aB.push({
          field: "endTimezone",
          title: aC.editor.endTimezone,
          editor: aA.timezone
        })
      }
      if (!aD.recurrenceId) {
        aB.push({
          field: "recurrenceRule",
          title: aC.editor.repeat,
          editor: aA.recurrence,
          timezone: aH,
          messages: aC.recurrenceEditor,
          pane: this.pane
        })
      }
      if ("description" in aD) {
        aB.push({
          field: "description",
          title: aC.editor.description,
          editor: aA.description
        })
      }
      for (var aF = 0; aF < this.options.resources.length; aF++) {
        var aE = this.options.resources[aF];
        aB.push({
          field: aE.field,
          title: aE.title,
          editor: aE.multiple ? aA.multipleResources(aE) : aA.resources(aE)
        })
      }
      return aB
    },
    end: function() {
      return this.editable.end()
    },
    _buildEditTemplate: function(aG, aB, az) {
      var aF = this.options.messages;
      var aI = z({}, G.Template, this.options.templateSettings);
      var aH = aI.paramName;
      var aJ = this.options.editable.template;
      var aC = "";
      if (aJ) {
        if (typeof aJ === ah) {
          aJ = window.unescape(aJ)
        }
        aC += (G.template(aJ, aI))(aG)
      } else {
        for (var aD = 0, aE = aB.length; aD < aE; aD++) {
          var aA = aB[aD];
          if (aA.field === "startTimezone") {
            aC += '<div class="k-popup-edit-form k-scheduler-edit-form k-scheduler-timezones" style="display:none">';
            aC += '<div class="k-edit-form-container">';
            aC += '<div class="k-edit-label"></div>';
            aC += '<div class="k-edit-field"><label class="k-check"><input class="k-timezone-toggle" type="checkbox" />' + aF.editor.separateTimezones + "</label></div>"
          }
          aC += '<div class="k-edit-label"><label for="' + aA.field + '">' + (aA.title || aA.field || "") + "</label></div>";
          if ((!aG.editable || aG.editable(aA.field))) {
            az.push(aA);
            aC += "<div " + G.attr("container-for") + '="' + aA.field + '" class="k-edit-field"></div>'
          } else {
            var aK = "#:";
            if (aA.field) {
              aA = G.expr(aA.field, aH);
              aK += aA + "==null?'':" + aA
            } else {
              aK += "''"
            }
            aK += "#";
            aK = G.template(aK, aI);
            aC += '<div class="k-edit-field">' + aK(aG) + "</div>"
          }
          if (aA.field === "endTimezone") {
            aC += this._createEndTimezoneButton()
          }
        }
      }
      return aC
    },
    _createEndTimezoneButton: function() {
      return "</div></div>"
    },
    _revertTimezones: function(az) {
      az.set("startTimezone", this._startTimezone);
      az.set("endTimezone", this._endTimezone);
      delete this._startTimezone;
      delete this._endTimezone
    }
  });
  var J = v.extend({
    init: function() {
      v.fn.init.apply(this, arguments);
      this.pane = G.mobile.ui.Pane.wrap(this.element);
      this.pane.element.parent().css("height", this.options.height);
      this.view = this.pane.view();
      this._actionSheetButtonTemplate = G.template('<li><a #=attr# class="k-button #=className#" href="\\#">#:text#</a></li>');
      this._actionSheetPopupOptions = a(document.documentElement).hasClass("km-root") ? {
        modal: false
      } : {
        align: "bottom center",
        position: "bottom center",
        effect: "slideIn:up"
      }
    },
    options: {
      animations: {
        left: "slide",
        right: "slide:right"
      }
    },
    destroy: function() {
      this.close();
      this.unbind();
      this.pane.destroy()
    },
    _initTimezoneEditor: function(aE) {
      var aH = this;
      var aF = aH.pane;
      var aD = aH.options.messages;
      var aI = aH.timezoneView;
      var aA = aH.container.find(".k-scheduler-timezones");
      var az = aA.find(".k-timezone-toggle");
      var aB = aA.find(".k-edit-label:last").add(aA.find(".k-edit-field:last"));
      var aG = function(aJ) {
        if (aJ.field === "startTimezone") {
          var aK = aE.startTimezone;
          az.prop("disabled", !aK);
          if (!aK) {
            aB.hide();
            aE.set("endTimezone", "");
            az.prop("checked", false)
          }
        }
      };
      aH._startTimezone = aE.startTimezone || "";
      aH._endTimezone = aE.endTimezone || "";
      if (!aI) {
        var aC = '<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">' + aD.cancel + "</a>" + aD.editor.timezoneTitle + '<a href="#" class="k-button k-scheduler-update">' + aD.save + "</a></div></div>";
        this.timezoneView = aI = aF.append(aC);
        aI.contentElement().append(aA.show());
        aI.element.on(h + T, ".k-scheduler-cancel, .k-scheduler-update", function(aJ) {
          aJ.preventDefault();
          aJ.stopPropagation();
          if (a(this).hasClass("k-scheduler-cancel")) {
            aH._revertTimezones(aE)
          }
          aE.unbind("change", aG);
          var aK = aF.element.find("#edit").data("kendoMobileView");
          var aL = ai(aE, aD.editor.noTimezone);
          aK.contentElement().find(".k-timezone-button").text(aL);
          aF.navigate(aK, aH.options.animations.right)
        });
        az.click(function() {
          aB.toggle(az.prop("checked"));
          aE.set("endTimezone", "")
        });
        aE.bind("change", aG)
      }
      az.prop("checked", aE.endTimezone).prop("disabled", !aE.startTimezone);
      if (aE.endTimezone) {
        aB.show()
      } else {
        aB.hide()
      }
      aF.navigate(aI, aH.options.animations.left)
    },
    _createActionSheetButton: function(az) {
      az.template = this._actionSheetButtonTemplate;
      return this.createButton(az)
    },
    showDialog: function(aC) {
      var aE = "";
      var aB = '<ul><li class="km-actionsheet-title">' + aC.title + "</li>";
      var aD = this.element.find(".k-event[" + G.attr("uid") + "='" + aC.model.uid + "']");
      if (this.container) {
        aD = this.container.find(".k-scheduler-delete");
        if (aD[0]) {
          aE = "phone"
        }
      }
      for (var aA = 0; aA < aC.buttons.length; aA++) {
        aB += this._createActionSheetButton(aC.buttons[aA])
      }
      aB += "</ul>";
      var az = a(aB).appendTo(this.pane.view().element).kendoMobileActionSheet({
        type: aE,
        cancel: this.options.messages.cancel,
        cancelTemplate: '<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',
        close: function() {
          this.destroy()
        },
        command: function(aG) {
          var aF = az.element.find("li:not(.km-actionsheet-cancel) > .k-button").index(a(aG.currentTarget));
          if (aF > -1) {
            az.close();
            aC.buttons[aF].click()
          }
        },
        popup: this._actionSheetPopupOptions
      }).data("kendoMobileActionSheet");
      az.open(aD)
    },
    editEvent: function(aF) {
      var aG = this.pane;
      var aD = "";
      var aE = this.options.messages;
      var aK = aE.save;
      var aH = aE.destroy;
      var az = aE.cancel;
      var aJ = aE.editor.editorTitle;
      aD += '<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="edit" ' + G.attr("uid") + '="' + aF.uid + '"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">' + az + "</a>" + aJ + '<a href="#" class="k-button k-scheduler-update">' + aK + "</a></div>";
      var aC = this.fields(w.mobile, aF);
      var aI = this;
      var aB = [];
      aD += this._buildEditTemplate(aF, aC, aB);
      if (!aF.isNew()) {
        aD += '<div class="k-edit-buttons"><a href="#" class="k-scheduler-delete k-button">' + aH + "</a></div>"
      }
      aD += "</div>";
      var aL = aG.append(aD);
      var aA = this.container = aL.element;
      this.editable = aA.kendoEditable({
        fields: aB,
        model: aF,
        clearContainer: false,
        validateOnBlur: true
      }).data("kendoEditable");
      aA.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function() {
        a(this).next().children("input").click()
      });
      if (!this.trigger("edit", {
        container: aA,
        model: aF
      })) {
        aA.on(h + T, "a.k-scheduler-edit, a.k-scheduler-cancel, a.k-scheduler-update, a.k-scheduler-delete", function(aN) {
          aN.preventDefault();
          aN.stopPropagation();
          var aM = a(this);
          if (!aM.hasClass("k-scheduler-edit")) {
            var aO = "cancel";
            if (aM.hasClass("k-scheduler-update")) {
              aO = "save"
            } else {
              if (aM.hasClass("k-scheduler-delete")) {
                aO = "remove"
              }
            }
            aI.trigger(aO, {
              container: aA,
              model: aF
            })
          } else {
            aG.navigate("#edit", aI.options.animations.right)
          }
        });
        aG.navigate(aL, aI.options.animations.left)
      } else {
        this.trigger("cancel", {
          container: aA,
          model: aF
        })
      }
      return this.editable
    },
    _views: function() {
      return this.pane.element.find(G.roleSelector("view")).not(this.view.element)
    },
    close: function() {
      if (this.container) {
        this.pane.navigate("", this.options.animations.right);
        var aC = this._views();
        var aB;
        for (var az = 0, aA = aC.length; az < aA; az++) {
          aB = aC.eq(az).data("kendoMobileView");
          if (aB) {
            aB.purge()
          }
        }
        aC.remove();
        this.container = null;
        if (this.editable) {
          this.editable.destroy();
          this.editable = null
        }
        this.timezoneView = null
      }
    }
  });
  var V = v.extend({
    destroy: function() {
      this.close();
      this.unbind()
    },
    editEvent: function(az) {
      this.editable = this._createPopupEditor(az);
      return this.editable
    },
    close: function() {
      var aA = this;
      var az = function() {
        if (aA.editable) {
          aA.editable.destroy();
          aA.editable = null;
          aA.container = null
        }
        if (aA.popup) {
          aA.popup.destroy();
          aA.popup = null
        }
      };
      if (aA.editable) {
        if (aA._timezonePopup && aA._timezonePopup.data("kendoWindow")) {
          aA._timezonePopup.data("kendoWindow").destroy();
          aA._timezonePopup = null
        }
        if (aA.container.is(":visible")) {
          aA.container.data("kendoWindow").bind("deactivate", az).close()
        } else {
          az()
        }
      } else {
        az()
      }
    },
    _createEndTimezoneButton: function() {
      var aA = this.options.messages;
      var az = "";
      az += '<div class="k-edit-buttons k-state-default">';
      az += this.createButton({
        name: "savetimezone",
        text: aA.save
      }) + this.createButton({
        name: "canceltimezone",
        text: aA.cancel
      });
      az += "</div></div></div>";
      return az
    },
    showDialog: function(aB) {
      var aA = G.format("<div class='k-popup-edit-form'><div class='k-edit-form-container'><p class='k-popup-message'>{0}</p>", aB.text);
      aA += '<div class="k-edit-buttons k-state-default">';
      for (var az = 0; az < aB.buttons.length; az++) {
        aA += this.createButton(aB.buttons[az])
      }
      aA += "</div></div></div>";
      var aD = this.element;
      if (this.popup) {
        this.popup.destroy()
      }
      var aC = this.popup = a(aA).appendTo(aD).eq(0).on("click", ".k-button", function(aF) {
        aF.preventDefault();
        aC.close();
        var aE = a(aF.currentTarget).index();
        aB.buttons[aE].click()
      }).kendoWindow({
        modal: true,
        resizable: false,
        draggable: false,
        title: aB.title,
        visible: false,
        close: function() {
          this.destroy();
          aD.focus()
        }
      }).getKendoWindow();
      aC.center().open()
    },
    _createPopupEditor: function(aJ) {
      var aL = this;
      var aD = aL.options.editable;
      var aH = "<div " + G.attr("uid") + '="' + aJ.uid + '" class="k-popup-edit-form k-scheduler-edit-form"><div class="k-edit-form-container">';
      var aI = aL.options.messages;
      var aM = aI.save;
      var aA = aI.cancel;
      var aC = aI.destroy;
      var aG = this.fields(w.desktop, aJ);
      var aE = [];
      aH += this._buildEditTemplate(aJ, aG, aE);
      var az;
      var aK = F(aD) ? aD.window : {};
      aH += '<div class="k-edit-buttons k-state-default">';
      aH += this.createButton({
        name: "update",
        text: aM,
        attr: az
      }) + this.createButton({
        name: "canceledit",
        text: aA,
        attr: az
      });
      aH += "</div></div></div>";
      var aB = this.container = a(aH).appendTo(aL.element).eq(0).kendoWindow(z({
        modal: true,
        resizable: false,
        draggable: true,
        title: aI.editor.editorTitle,
        visible: false,
        close: function(aN) {
          if (aN.userTriggered) {
            if (aL.trigger(f, {
              container: aB,
              model: aJ
            })) {
              aN.preventDefault()
            }
          }
        }
      }, aK));
      var aF = aB.kendoEditable({
        fields: aE,
        model: aJ,
        clearContainer: false,
        validateOnBlur: true
      }).data("kendoEditable");
      if (!aL.trigger(u, {
        container: aB,
        model: aJ
      })) {
        aB.data("kendoWindow").center().open();
        aB.on(h + T, "a.k-scheduler-cancel", function(aN) {
          aN.preventDefault();
          aN.stopPropagation();
          aL.trigger(f, {
            container: aB,
            model: aJ
          })
        });
        aB.on(h + T, "a.k-scheduler-update", function(aN) {
          aN.preventDefault();
          aN.stopPropagation();
          aL.trigger("save", {
            container: aB,
            model: aJ
          })
        });
        aB.on(h + T, "a.k-scheduler-delete", function(aN) {
          aN.preventDefault();
          aN.stopPropagation();
          aL.trigger(ab, {
            container: aB,
            model: aJ
          })
        })
      } else {
        aL.trigger(f, {
          container: aB,
          model: aJ
        })
      }
      return aF
    },
    _initTimezoneEditor: function(aE, az) {
      var aH = this;
      var aC = aH.container.find(".k-scheduler-timezones");
      var aB = aC.find(".k-timezone-toggle");
      var aD = aC.find(".k-edit-label:last").add(aC.find(".k-edit-field:last"));
      var aF = aC.find(".k-scheduler-savetimezone");
      var aA = aC.find(".k-scheduler-canceltimezone");
      var aI = aH._timezonePopup;
      var aG = function(aK) {
        if (aK.field === "startTimezone") {
          var aL = aE.startTimezone;
          aB.prop("disabled", !aL);
          if (!aL) {
            aD.hide();
            aE.set("endTimezone", "");
            aB.prop("checked", false)
          }
        }
      };
      var aJ;
      aH._startTimezone = aE.startTimezone;
      aH._endTimezone = aE.endTimezone;
      if (!aI) {
        aH._timezonePopup = aI = aC.kendoWindow({
          modal: true,
          resizable: false,
          draggable: true,
          title: aH.options.messages.editor.timezoneEditorTitle,
          visible: false,
          close: function(aK) {
            aE.unbind("change", aG);
            if (aK.userTriggered) {
              aH._revertTimezones(aE)
            }
            if (az) {
              az.focus()
            }
          }
        });
        aB.click(function() {
          aD.toggle(aB.prop("checked"));
          aE.set("endTimezone", "")
        });
        aF.click(function(aK) {
          aK.preventDefault();
          aJ.close()
        });
        aA.click(function(aK) {
          aK.preventDefault();
          aH._revertTimezones(aE);
          aJ.close()
        });
        aE.bind("change", aG)
      }
      aB.prop("checked", aE.endTimezone).prop("disabled", !aE.startTimezone);
      if (aE.endTimezone) {
        aD.show()
      } else {
        aD.hide()
      }
      aJ = aI.data("kendoWindow");
      aJ.center().open()
    }
  });
  var ad = au.extend({
    init: function(az, aA) {
      var aB = this;
      au.fn.init.call(aB, az, aA);
      if (!aB.options.views || !aB.options.views.length) {
        aB.options.views = ["day", "week"]
      }
      aB.resources = [];
      aB._initModel();
      aB._wrapper();
      aB._views();
      aB._toolbar();
      aB._dataSource();
      aB._resources();
      aB._resizeHandler = W(aB.resize, aB);
      aB.wrapper.on("mousedown" + T + " selectstart" + T, function(aC) {
        aC.preventDefault()
      });
      if (aB.options.editable && aB.options.editable.resize !== false) {
        aB._resizable()
      }
      aB._movable();
      a(window).on("resize" + T, aB._resizeHandler);
      if (aB.options.messages && aB.options.messages.recurrence) {
        X.options = aB.options.messages.recurrence
      }
      aB._selectable();
      aB._ariaId = G.guid();
      aB._createEditor()
    },
    _isMobile: function() {
      var az = this.options;
      return (az.mobile === true && G.support.mobileOS) || az.mobile === "phone" || az.mobile === "tablet"
    },
    _isMobilePhoneView: function() {
      var az = this.options;
      return (az.mobile === true && G.support.mobileOS && !G.support.mobileOS.tablet) || az.mobile === "phone"
    },
    _selectable: function() {
      var aB = this,
        aC = aB.wrapper,
        aA = G.support.mobileOS ? "touchend" : "mousedown";
      if (!aB.options.selectable) {
        return
      }
      aB._tabindex();
      aC.on(aA, ".k-scheduler-header-all-day td, .k-scheduler-content td, .k-event", function(aD) {
        aB._createSelection(aD.currentTarget);
        aC.focus()
      });
      var az = a.proxy(aB._mouseMove, aB);
      aC.on("mousedown" + T, ".k-scheduler-header-all-day td, .k-scheduler-content td", function() {
        aC.on("mousemove" + T, ".k-scheduler-header-all-day td, .k-scheduler-content td", az)
      });
      aC.on("mouseup" + T + " mouseleave" + T, function() {
        aC.off("mousemove" + T, ".k-scheduler-header-all-day td, .k-scheduler-content td", az)
      });
      aC.on("focus" + T, function() {
        if (!aB._selection) {
          aB._createSelection(a(".k-scheduler-content").find("td:first"))
        }
        aB._select()
      });
      aC.on("focusout" + T, function() {
        aB.view().clearSelection();
        aB._ctrlKey = aB._shiftKey = false
      });
      aC.on("keydown" + T, W(aB._keydown, aB));
      aC.on("keyup" + T, function(aD) {
        aB._ctrlKey = aD.ctrlKey;
        aB._shiftKey = aD.shiftKey
      })
    },
    _select: function() {
      var aF = this.view();
      var aG = this.wrapper;
      var az = aF.current();
      var aD = this._selection;
      if (az) {
        az.removeAttribute("id");
        az.removeAttribute("aria-label");
        aG.removeAttr("aria-activedescendant")
      }
      aF.select(aD);
      az = aF.current();
      if (az) {
        var aC;
        var aA = aD;
        var aB = this._selectedEvents();
        var aE = aF._selectedSlots;
        if (aB[0]) {
          aA = aB[0] || aD;
          aC = G.format(this.options.messages.ariaEventLabel, aA.title, aA.start, aA.start)
        } else {
          aC = G.format(this.options.messages.ariaSlotLabel, aA.start, aA.end)
        }
        az.setAttribute("id", this._ariaId);
        az.setAttribute("aria-label", aC);
        aG.attr("aria-activedescendant", this._ariaId);
        this.trigger("change", {
          start: aD.start,
          end: aD.end,
          events: aB,
          slots: aE,
          resources: aF._resourceBySlot(aD)
        })
      }
    },
    _selectedEvents: function() {
      var aD = this._selection.events;
      var aC = aD.length;
      var aB = 0;
      var az;
      var aA = [];
      for (; aB < aC; aB++) {
        az = this.occurrenceByUid(aD[aB]);
        if (az) {
          aA.push(az)
        }
      }
      return aA
    },
    _mouseMove: function(az) {
      var aA = this;
      clearTimeout(aA._moveTimer);
      aA._moveTimer = setTimeout(function() {
        var aF = aA.view();
        var aC = aA._selection;
        if (aC) {
          var aD = aF.selectionByElement(a(az.currentTarget));
          if (aD && aC.groupIndex === aD.groupIndex) {
            var aE = aD.startDate();
            var aB = aD.endDate();
            if (aE >= aC.end) {
              aC.backward = false
            } else {
              if (aB <= aC.start) {
                aC.backward = true
              }
            }
            if (aC.backward) {
              aC.start = aE
            } else {
              aC.end = aB
            }
            aA._select()
          }
        }
      }, 5)
    },
    _viewByIndex: function(az) {
      var aA, aB = this.views;
      for (aA in aB) {
        if (!az) {
          return aA
        }
        az--
      }
    },
    _keydown: function(az) {
      var aE = this,
        aB = az.keyCode,
        aF = aE.view(),
        aA = aF.options.editable,
        aC = aE._selection,
        aD = az.shiftKey;
      aE._ctrlKey = az.ctrlKey;
      aE._shiftKey = az.shiftKey;
      if (aB === H.TAB) {
        if (aF.moveToEvent(aC, aD)) {
          aE._select();
          az.preventDefault()
        }
      } else {
        if (aA && aB === H.ENTER) {
          if (aC.events.length) {
            if (aA.update !== false) {
              aE.editEvent(aC.events[0])
            }
          } else {
            if (aA.create !== false) {
              if (aC.isAllDay) {
                aC = a.extend({}, aC, {
                  end: G.date.addDays(aC.end, -1)
                })
              }
              aE.addEvent(z({}, aC, aF._resourceBySlot(aC)))
            }
          }
        } else {
          if (aB === H.DELETE) {
            aE.removeEvent(aC.events[0])
          } else {
            if (aB >= 49 && aB <= 57) {
              aE.view(aE._viewByIndex(aB - 49))
            } else {
              if (aF.move(aC, aB, aD)) {
                if (aF.inRange(aC)) {
                  aE._select()
                } else {
                  aE.date(aC.start)
                }
                az.preventDefault()
              }
            }
          }
        }
      }
      aE._adjustSelectedDate()
    },
    _createSelection: function(az) {
      var aC, aB, aA;
      if (!this._selection || (!this._ctrlKey && !this._shiftKey)) {
        this._selection = {
          events: [],
          groupIndex: 0
        }
      }
      az = a(az);
      aA = this._selection;
      aC = az.attr(G.attr("uid"));
      aB = this.view().selectionByElement(az);
      if (aB) {
        aA.groupIndex = aB.groupIndex || 0
      }
      if (aC) {
        aB = C(this._data, aC)
      }
      if (aB && aB.uid) {
        aC = [aB.uid]
      }
      this._updateSelection(aB, aC);
      this._adjustSelectedDate()
    },
    _updateSelection: function(aA, aB) {
      var aC = this._selection;
      if (aA && aC) {
        if (this._shiftKey && aC.start && aC.end) {
          var az = aA.end < aC.end,
            aD = this.view();
          aC.end = aA.endDate ? aA.endDate() : aA.end;
          if (az && aD._timeSlotInterval) {
            G.date.setTime(aC.end, -aD._timeSlotInterval())
          }
        } else {
          aC.start = aA.startDate ? aA.startDate() : aA.start;
          aC.end = aA.endDate ? aA.endDate() : aA.end
        }
        if ("isDaySlot" in aA) {
          aC.isAllDay = aA.isDaySlot
        } else {
          aC.isAllDay = aA.isAllDay
        }
        aC.index = aA.index;
        if (this._ctrlKey) {
          aC.events = aC.events.concat(aB || [])
        } else {
          aC.events = aB || []
        }
      }
    },
    options: {
      name: "Scheduler",
      date: am,
      editable: true,
      autoBind: true,
      snap: true,
      mobile: false,
      timezone: "",
      min: new Date(1900, 0, 1),
      max: new Date(2099, 11, 31),
      messages: {
        today: "Today",
        save: "Save",
        cancel: "Cancel",
        destroy: "Delete",
        deleteWindowTitle: "Delete event",
        ariaSlotLabel: "Selected from {0:t} to {1:t}",
        ariaEventLabel: "{0} on {1:D} at {2:t}",
        views: {
          day: "Day",
          week: "Week",
          workWeek: "Work Week",
          agenda: "Agenda",
          month: "Month"
        },
        recurrenceMessages: {
          deleteWindowTitle: "Delete Recurring Item",
          deleteWindowOccurrence: "Delete current occurrence",
          deleteWindowSeries: "Delete the series",
          editWindowTitle: "Edit Recurring Item",
          editWindowOccurrence: "Edit current occurrence",
          editWindowSeries: "Edit the series"
        },
        editor: {
          title: "Title",
          start: "Start",
          end: "End",
          allDayEvent: "All day event",
          description: "Description",
          repeat: "Repeat",
          timezone: " ",
          startTimezone: "Start timezone",
          endTimezone: "End timezone",
          separateTimezones: "Use separate start and end time zones",
          timezoneEditorTitle: "Timezones",
          timezoneEditorButton: "Time zone",
          timezoneTitle: "Time zones",
          noTimezone: "No timezone",
          editorTitle: "Event"
        }
      },
      height: null,
      width: null,
      resources: [],
      group: {
        resources: [],
        direction: "horizontal"
      },
      views: [],
      selectable: false
    },
    events: [ab, u, f, ac, "add", "dataBinding", "dataBound", "moveStart", "move", "moveEnd", "resizeStart", "resize", "resizeEnd", "navigate", "change"],
    destroy: function() {
      var aA = this,
        az;
      au.fn.destroy.call(aA);
      if (aA.dataSource) {
        aA.dataSource.unbind(g, aA._refreshHandler)
      }
      if (aA.calendar) {
        aA.calendar.destroy();
        aA.popup.destroy()
      }
      if (aA.view()) {
        aA.view().destroy()
      }
      if (aA._editor) {
        aA._editor.destroy()
      }
      if (this._moveDraggable) {
        this._moveDraggable.destroy()
      }
      if (this._resizeDraggable) {
        this._resizeDraggable.destroy()
      }
      az = aA.element.add(aA.wrapper).add(aA.toolbar).add(aA.popup);
      az.off(T);
      a(window).off("resize" + T, aA._resizeHandler);
      G.destroy(aA.wrapper)
    },
    setDataSource: function(az) {
      this.options.dataSource = az;
      this._dataSource();
      if (this.options.autoBind) {
        az.fetch()
      }
    },
    items: function() {
      return this.wrapper.children(".k-event, .k-task")
    },
    _movable: function() {
      var aF;
      var az;
      var aG;
      var aA;
      var aB;
      var aH = this;
      var aC = aH._isMobile();
      var aD = aH.options.editable && aH.options.editable.move !== false;
      var aE = aH.options.editable && aH.options.editable.resize !== false;
      if (aD || (aE && aC)) {
        aH._moveDraggable = new G.ui.Draggable(aH.element, {
          distance: 0,
          filter: ".k-event",
          holdToDrag: aC
        });
        if (aD) {
          aH._moveDraggable.bind("dragstart", function(aI) {
            var aK = aH.view();
            var aJ = aI.currentTarget;
            if (aC && !aJ.hasClass("k-event-active")) {
              aH.element.find(".k-event-active").removeClass("k-event-active");
              aI.preventDefault();
              return
            }
            aB = aH.occurrenceByUid(aJ.attr(G.attr("uid")));
            aF = aK._slotByPosition(aI.x.location, aI.y.location);
            aG = aF.startOffset(aI.x.location, aI.y.location, aH.options.snap);
            az = aF;
            if (!aF || aH.trigger("moveStart", {
              event: aB
            })) {
              aI.preventDefault()
            }
          }).bind("drag", function(aJ) {
            var aM = aH.view();
            var aL = aM._slotByPosition(aJ.x.location, aJ.y.location);
            if (!aL) {
              return
            }
            aA = aL.startOffset(aJ.x.location, aJ.y.location, aH.options.snap);
            var aI = aA - aG;
            aM._updateMoveHint(aB, aL.groupIndex, aI);
            var aK = P(aB, aI);
            if (!aH.trigger("move", {
              event: aB,
              slot: {
                element: aL.element,
                start: aL.startDate(),
                end: aL.endDate()
              },
              resources: aM._resourceBySlot(aL),
              start: aK.start,
              end: aK.end
            })) {
              az = aL
            } else {
              aM._updateMoveHint(aB, aL.groupIndex, aI)
            }
          }).bind("dragend", function(aJ) {
            aH.view()._removeMoveHint();
            var aI = aA - aG;
            var aN = P(aB, aI);
            var aO = aN.start;
            var aK = aN.end;
            var aL = aH.view()._resourceBySlot(az);
            var aP = aH.view()._resourceBySlot(aF);
            var aM = aH.trigger("moveEnd", {
              event: aB,
              slot: {
                element: az.element,
                start: az.startDate(),
                end: az.endDate()
              },
              start: aO,
              end: aK,
              resources: aL
            });
            if (!aM && (aB.start.getTime() != aO.getTime() || aB.end.getTime() != aK.getTime() || G.stringify(aL) != G.stringify(aP))) {
              aH._updateEvent(null, aB, a.extend({
                start: aO,
                end: aK
              }, aL))
            }
            aJ.currentTarget.removeClass("k-event-active");
            this.cancelHold()
          }).bind("dragcancel", function() {
            aH.view()._removeMoveHint();
            this.cancelHold()
          })
        }
        if (aC) {
          aH._moveDraggable.bind("hold", function(aI) {
            if (aH.element.find(".k-scheduler-monthview").length) {
              aI.preventDefault()
            }
            aH.element.find(".k-event-active").removeClass("k-event-active");
            aI.currentTarget.addClass("k-event-active")
          });
          aH._moveDraggable.userEvents.bind("press", function(aI) {
            aI.preventDefault()
          })
        }
      }
    },
    _resizable: function() {
      var aD;
      var aA;
      var aB;
      var aC;
      var aE = this;

      function az(aG) {
        var aF = {
          "k-resize-e": "east",
          "k-resize-w": "west",
          "k-resize-n": "north",
          "k-resize-s": "south"
        };
        for (var aH in aF) {
          if (aG.hasClass(aH)) {
            return aF[aH]
          }
        }
      }
      aE._resizeDraggable = new G.ui.Draggable(aE.element, {
        distance: 0,
        filter: ".k-resize-handle",
        dragstart: function(aG) {
          var aF = a(aG.currentTarget);
          var aH = aF.closest(".k-event");
          var aI = aH.attr(G.attr("uid"));
          aB = aE.occurrenceByUid(aI);
          aC = aE.view()._slotByPosition(aG.x.location, aG.y.location);
          if (aE.trigger("resizeStart", {
            event: aB
          })) {
            aG.preventDefault()
          }
          aD = G.date.toUtcTime(aB.start);
          aA = G.date.toUtcTime(aB.end)
        },
        drag: function(aI) {
          if (!aC) {
            return
          }
          var aH = a(aI.currentTarget);
          var aG = az(aH);
          var aL = aE.view();
          var aF = aL._slotByPosition(aI.x.location, aI.y.location);
          if (!aF || aC.groupIndex != aF.groupIndex) {
            return
          }
          aC = aF;
          var aK = aD;
          var aJ = aA;
          if (aG == "south") {
            if (!aC.isDaySlot && aC.end - G.date.toUtcTime(aB.start) >= aL._timeSlotInterval()) {
              if (aB.isAllDay) {
                aA = aC.startOffset(aI.x.location, aI.y.location, aE.options.snap)
              } else {
                aA = aC.endOffset(aI.x.location, aI.y.location, aE.options.snap)
              }
            }
          } else {
            if (aG == "north") {
              if (!aC.isDaySlot && G.date.toUtcTime(aB.end) - aC.start >= aL._timeSlotInterval()) {
                aD = aC.startOffset(aI.x.location, aI.y.location, aE.options.snap)
              }
            } else {
              if (aG == "east") {
                if (aC.isDaySlot && G.date.toUtcTime(G.date.getDate(aC.endDate())) >= G.date.toUtcTime(G.date.getDate(aB.start))) {
                  if (aB.isAllDay) {
                    aA = aC.startOffset(aI.x.location, aI.y.location, aE.options.snap)
                  } else {
                    aA = aC.endOffset(aI.x.location, aI.y.location, aE.options.snap)
                  }
                }
              } else {
                if (aG == "west") {
                  if (aC.isDaySlot && G.date.toUtcTime(G.date.getDate(aB.end)) >= G.date.toUtcTime(G.date.getDate(aC.startDate()))) {
                    aD = aC.startOffset(aI.x.location, aI.y.location, aE.options.snap)
                  }
                }
              }
            }
          }
          if (!aE.trigger("resize", {
            event: aB,
            slot: {
              element: aC.element,
              start: aC.startDate(),
              end: aC.endDate()
            },
            start: G.timezone.toLocalDate(aD),
            end: G.timezone.toLocalDate(aA),
            resources: aL._resourceBySlot(aC)
          })) {
            aL._updateResizeHint(aB, aC.groupIndex, aD, aA)
          } else {
            aD = aK;
            aA = aJ
          }
        },
        dragend: function(aH) {
          var aG = a(aH.currentTarget);
          var aK = new Date(aB.start.getTime());
          var aI = new Date(aB.end.getTime());
          var aF = az(aG);
          aE.view()._removeResizeHint();
          if (aF == "south") {
            aI = G.timezone.toLocalDate(aA)
          } else {
            if (aF == "north") {
              aK = G.timezone.toLocalDate(aD)
            } else {
              if (aF == "east") {
                aI = G.date.getDate(G.timezone.toLocalDate(aA))
              } else {
                if (aF == "west") {
                  aK = new Date(G.timezone.toLocalDate(aD));
                  aK.setHours(0);
                  aK.setMinutes(0)
                }
              }
            }
          }
          if (aC !== null) {
            var aJ = aE.trigger("resizeEnd", {
              event: aB,
              slot: {
                element: aC.element,
                start: aC.startDate(),
                end: aC.endDate()
              },
              start: aK,
              end: aI,
              resources: aE.view()._resourceBySlot(aC)
            })
          }
          if (!aJ && aI.getTime() >= aK.getTime()) {
            if (aB.start.getTime() != aK.getTime() || aB.end.getTime() != aI.getTime()) {
              aE._updateEvent(aF, aB, {
                start: aK,
                end: aI
              })
            }
          }
        },
        dragcancel: function() {
          aE.view()._removeResizeHint()
        }
      })
    },
    _updateEvent: function(az, aA, aB) {
      var aE = this;
      var aF = function(aI) {
        try {
          aE._preventRefresh = true;
          aI.update(aB)
        } finally {
          aE._preventRefresh = false
        }
        aE.refresh();
        if (!aE.trigger(ac, {
          event: aI
        })) {
          aE._updateSelection(aI);
          aE.dataSource.sync()
        }
      };
      var aC = function(aI) {
        if (aI.recurrenceRule) {
          return aE.dataSource.getByUid(aI.uid)
        } else {
          return aE.dataSource.get(aI.recurrenceId)
        }
      };
      var aH = function() {
        var aJ = aC(aA);
        if (az == "south" || az == "north") {
          if (aB.start) {
            var aK = G.date.getDate(aJ.start);
            G.date.setTime(aK, B(aB.start));
            aB.start = aK
          }
          if (aB.end) {
            var aI = G.date.getDate(aJ.end);
            G.date.setTime(aI, B(aB.end));
            aB.end = aI
          }
        }
        aF(aJ)
      };
      var aG = function() {
        var aI = aC(aA).toOccurrence({
          start: aA.start,
          end: aA.end
        });
        aF(aE.dataSource.add(aI))
      };
      var aD = aE.options.messages.recurrenceMessages;
      if (aA.recurrenceRule || aA.isOccurrence()) {
        aE.showDialog({
          model: aA,
          title: aD.editWindowTitle,
          text: aD.editRecurring ? aD.editRecurring : x,
          buttons: [{
            text: aD.editWindowOccurrence,
            click: aG
          }, {
            text: aD.editWindowSeries,
            click: aH
          }]
        })
      } else {
        aF(aE.dataSource.getByUid(aA.uid))
      }
    },
    _modelForContainer: function(az) {
      az = a(az).closest("[" + G.attr("uid") + "]");
      return this.dataSource.getByUid(az.attr(G.attr("uid")))
    },
    showDialog: function(az) {
      this._editor.showDialog(az)
    },
    focus: function() {
      this.wrapper.focus()
    },
    _confirmation: function(aA, aD) {
      var aB = this.options.editable;
      if (aB === true || aB.confirmation !== false) {
        var aC = this.options.messages;
        var aE = typeof aB.confirmation === ah ? aB.confirmation : q;
        var az = [{
          name: "destroy",
          text: aC.destroy,
          click: function() {
            aA()
          }
        }];
        if (!(this._isMobile() && G.mobile.ui.Pane)) {
          az.push({
            name: "canceledit",
            text: aC.cancel,
            click: function() {
              aA(true)
            }
          })
        }
        this.showDialog({
          model: aD,
          text: aE,
          title: aC.deleteWindowTitle,
          buttons: az
        })
      } else {
        aA()
      }
    },
    addEvent: function(aC) {
      var aA = this._editor.editable;
      var az = this.dataSource;
      var aB;
      aC = aC || {};
      var aD = this.trigger("add", {
        event: aC
      });
      if (!aD && ((aA && aA.end()) || !aA)) {
        this.cancelEvent();
        if (aC && aC.toJSON) {
          aC = aC.toJSON()
        }
        aB = az.add(aC);
        if (aB) {
          this.cancelEvent();
          this._editEvent(aB)
        }
      }
    },
    saveEvent: function() {
      var aB = this._editor;
      if (!aB) {
        return
      }
      var aA = aB.editable;
      var az = aB.container;
      var aC = this._modelForContainer(az);
      if (az && aA && aA.end() && !this.trigger(ac, {
        container: az,
        event: aC
      })) {
        if (!aC.dirty) {
          this._convertDates(aC, "remove")
        }
        if (aC.isRecurrenceHead()) {
          this.dataSource._removeExceptions(aC)
        }
        this.dataSource.sync()
      }
    },
    cancelEvent: function() {
      var aA = this._editor;
      var az = aA.container;
      var aB;
      if (az) {
        aB = this._modelForContainer(az);
        this.dataSource.cancelChanges(aB);
        aA.close()
      }
    },
    editEvent: function(aA) {
      var az = typeof aA == "string" ? this.occurrenceByUid(aA) : aA;
      if (!az) {
        return
      }
      this.cancelEvent();
      if (az.isRecurring()) {
        this._editRecurringDialog(az)
      } else {
        this._editEvent(az)
      }
    },
    _editEvent: function(az) {
      this._createPopupEditor(az)
    },
    _editRecurringDialog: function(aB) {
      var aD = this;
      var az = function() {
        if (aB.isException()) {
          aD._editEvent(aB)
        } else {
          aD.addEvent(aB)
        }
      };
      var aA = function() {
        if (aB.recurrenceId) {
          aB = aD.dataSource.get(aB.recurrenceId)
        }
        aD._editEvent(aB)
      };
      var aC = aD.options.messages.recurrenceMessages;
      aD.showDialog({
        model: aB,
        title: aC.editWindowTitle,
        text: aC.editRecurring ? aC.editRecurring : x,
        buttons: [{
          text: aC.editWindowOccurrence,
          click: az
        }, {
          text: aC.editWindowSeries,
          click: aA
        }]
      })
    },
    _createButton: function(az) {
      var aC = az.template || i,
        aA = typeof az === ah ? az : az.name || az.text,
        aB = {
          className: "k-scheduler-" + (aA || "").replace(/\s/g, ""),
          text: aA,
          attr: ""
        };
      if (!aA && !(F(az) && az.template)) {
        throw new Error("Custom commands should have name specified")
      }
      if (F(az)) {
        if (az.className) {
          az.className += " " + aB.className
        }
        if (aA === "edit" && F(az.text)) {
          az = z(true, {}, az);
          az.text = az.text.edit
        }
        aB = z(true, aB, o[aA], az)
      } else {
        aB = z(true, aB, o[aA])
      }
      return G.template(aC)(aB)
    },
    _convertDates: function(aC, aB) {
      var aF = this.dataSource.reader.timezone;
      var aE = aC.startTimezone;
      var aA = aC.endTimezone;
      var aD = aC.start;
      var az = aC.start;
      aB = aB || "apply";
      aE = aE || aA;
      aA = aA || aE;
      if (aE) {
        if (aF) {
          if (aB === "apply") {
            aD = G.timezone.convert(aC.start, aF, aE);
            az = G.timezone.convert(aC.end, aF, aA)
          } else {
            aD = G.timezone.convert(aC.start, aE, aF);
            az = G.timezone.convert(aC.end, aA, aF)
          }
        } else {
          aD = G.timezone[aB](aC.start, aE);
          az = G.timezone[aB](aC.end, aA)
        }
        aC._set("start", aD);
        aC._set("end", az)
      }
    },
    _createEditor: function() {
      var aA = this;
      var az;
      if (this._isMobile() && G.mobile.ui.Pane) {
        az = aA._editor = new J(this.wrapper, z({}, this.options, {
          timezone: aA.dataSource.reader.timezone,
          resources: aA.resources,
          createButton: W(this._createButton, this)
        }))
      } else {
        az = aA._editor = new V(this.wrapper, z({}, this.options, {
          createButton: W(this._createButton, this),
          timezone: aA.dataSource.reader.timezone,
          resources: aA.resources
        }))
      }
      az.bind("cancel", function(aB) {
        if (aA.trigger("cancel", {
          container: aB.container,
          event: aB.model
        })) {
          aB.preventDefault();
          return
        }
        aA.cancelEvent();
        aA.focus()
      });
      az.bind("edit", function(aB) {
        if (aA.trigger(u, {
          container: aB.container,
          event: aB.model
        })) {
          aB.preventDefault()
        }
      });
      az.bind("save", function() {
        aA.saveEvent()
      });
      az.bind("remove", function(aB) {
        aA.removeEvent(aB.model)
      })
    },
    _createPopupEditor: function(aA) {
      var az = this._editor;
      if (!aA.isNew()) {
        this._convertDates(aA)
      }
      this.editable = az.editEvent(aA)
    },
    removeEvent: function(aB) {
      var aA = this,
        az = typeof aB == "string" ? aA.occurrenceByUid(aB) : aB;
      if (!az) {
        return
      }
      if (az.isRecurring()) {
        aA._deleteRecurringDialog(az)
      } else {
        aA._confirmation(function(aC) {
          if (!aC) {
            aA._removeEvent(az)
          }
        }, az)
      }
    },
    occurrenceByUid: function(aA) {
      var az = this.dataSource.getByUid(aA);
      if (!az) {
        az = C(this._data, aA)
      }
      return az
    },
    occurrencesInRange: function(aA, az) {
      return new G.data.Query(this._data).filter({
        logic: "or",
        filters: [{
          logic: "and",
          filters: [{
            field: "start",
            operator: "gte",
            value: aA
          }, {
            field: "end",
            operator: "gte",
            value: aA
          }, {
            field: "start",
            operator: "lt",
            value: az
          }]
        }, {
          logic: "and",
          filters: [{
            field: "start",
            operator: "lte",
            value: aA
          }, {
            field: "end",
            operator: "gt",
            value: aA
          }]
        }]
      }).toArray()
    },
    _removeEvent: function(az) {
      if (!this.trigger(ab, {
        event: az
      })) {
        if (this.dataSource.remove(az)) {
          this.dataSource.sync()
        }
      }
    },
    _deleteRecurringDialog: function(aC) {
      var aE = this;
      var az = aC;
      var aA = function() {
        var aF = az.recurrenceId ? az : az.toOccurrence();
        aE._removeEvent(aF)
      };
      var aB = function() {
        if (az.recurrenceId) {
          az = aE.dataSource.get(az.recurrenceId)
        }
        aE._removeEvent(az)
      };
      var aD = aE.options.messages.recurrenceMessages;
      aE.showDialog({
        model: aC,
        title: aD.deleteWindowTitle,
        text: aD.deleteRecurring ? aD.deleteRecurring : r,
        buttons: [{
          text: aD.deleteWindowOccurrence,
          click: aA
        }, {
          text: aD.deleteWindowSeries,
          click: aB
        }]
      })
    },
    _unbindView: function(az) {
      az.destroy()
    },
    _bindView: function(aA) {
      var az = this;
      if (az.options.editable) {
        if (az._viewRemoveHandler) {
          aA.unbind(ab, az._viewRemoveHandler)
        }
        az._viewRemoveHandler = function(aB) {
          az.removeEvent(aB.uid)
        };
        aA.bind(ab, az._viewRemoveHandler);
        if (az._viewAddHandler) {
          aA.unbind(b, az._viewAddHandler)
        }
        az._viewAddHandler = function(aB) {
          az.addEvent(aB.eventInfo)
        };
        aA.bind(b, this._viewAddHandler);
        if (az._viewEditHandler) {
          aA.unbind(u, az._viewEditHandler)
        }
        az._viewEditHandler = function(aB) {
          az.editEvent(aB.uid)
        };
        aA.bind(u, this._viewEditHandler)
      }
      if (az._viewNavigateHandler) {
        aA.unbind("navigate", az._viewNavigateHandler)
      }
      az._viewNavigateHandler = function(aC) {
        if (aC.view) {
          var aD = "isWorkDay" in aC;
          var aB = aD ? "changeWorkDay" : "changeView";
          if (!az.trigger("navigate", {
            view: aC.view,
            isWorkDay: aC.isWorkDay,
            action: aB,
            date: aC.date
          })) {
            if (aD) {
              az._workDayMode = aC.isWorkDay
            }
            az._selectView(aC.view);
            az.date(aC.date)
          }
        }
      };
      aA.bind("navigate", az._viewNavigateHandler);
      if (az._viewActivateHandler) {
        aA.unbind("activate", az._viewActivateHandler)
      }
      az._viewActivateHandler = function() {
        var aB = this;
        if (az._selection) {
          aB.constrainSelection(az._selection);
          az._select();
          az._adjustSelectedDate()
        }
      };
      aA.bind("activate", az._viewActivateHandler)
    },
    _selectView: function(az) {
      var aA = this;
      if (az && aA.views[az]) {
        if (aA._selectedView) {
          aA._unbindView(aA._selectedView)
        }
        aA._selectedView = aA._renderView(az);
        aA._selectedViewName = az;
        aA.toolbar.find(".k-scheduler-views li").removeClass("k-state-selected").end().find(".k-view-" + az.replace(/\./g, "\\.")).addClass("k-state-selected")
      }
    },
    view: function(az) {
      var aA = this;
      if (az) {
        aA._selectView(az);
        aA.rebind();
        return
      }
      return aA._selectedView
    },
    _renderView: function(az) {
      var aA = this._initializeView(az);
      this._bindView(aA);
      this._model.set("formattedDate", aA.dateForTitle());
      return aA
    },
    resize: function(aA) {
      var aB = this.getSize(),
        az = this._size;
      if (aA || !az || aB.width !== az.width || aB.height !== az.height) {
        this.refresh({
          action: "resize"
        });
        this._size = aB
      }
    },
    _adjustSelectedDate: function() {
      var az = this._model.selectedDate,
        aA = this._selection,
        aB = aA.start;
      if (aB && !G.date.isInDateRange(az, A(aB), A(aA.end))) {
        az.setFullYear(aB.getFullYear(), aB.getMonth(), aB.getDate())
      }
    },
    _initializeView: function(aA) {
      var aC = this.views[aA];
      if (aC) {
        var az = F(aC),
          aB = aC.type;
        if (typeof aB === ah) {
          aB = G.getter(aC.type)(window)
        }
        if (aB) {
          aC = new aB(this.wrapper, aq(z(true, {}, this.options, az ? aC : {}, {
            resources: this.resources,
            date: this.date(),
            showWorkHours: this._workDayMode
          })))
        } else {
          throw new Error("There is no such view")
        }
      }
      return aC
    },
    _views: function() {
      var aI = this.options.views;
      var aH;
      var az;
      var aF;
      var aC;
      var aE;
      var aG;
      var aB;
      var aD;
      this.views = {};
      for (aB = 0, aD = aI.length; aB < aD; aB++) {
        var aA = false;
        aH = aI[aB];
        aC = F(aH);
        if (aC) {
          aG = aE = aH.type ? aH.type : aH;
          if (typeof aG !== ah) {
            aE = aH.title;
            aA = true
          }
        } else {
          aG = aE = aH
        }
        az = p[aE];
        if (az && !aA) {
          aH.type = az.type;
          az.title = this.options.messages.views[aE];
          if (az.type === "day") {
            az.messages = {
              allDay: this.options.messages.allDay
            }
          } else {
            if (az.type === "agenda") {
              az.messages = {
                event: this.options.messages.event,
                date: this.options.messages.date,
                time: this.options.messages.time
              }
            }
          }
        }
        aH = z({
          title: aE
        }, az, aC ? aH : {});
        if (aE) {
          this.views[aE] = aH;
          if (!aF || aH.selected) {
            aF = aE
          }
        }
      }
      if (aF) {
        this._selectedViewName = aF
      }
    },
    rebind: function() {
      this.dataSource.fetch()
    },
    _dataSource: function() {
      var aB = this,
        aA = aB.options,
        az = aA.dataSource;
      az = E(az) ? {
        data: az
      } : az;
      if (aA.timezone && !(az instanceof af)) {
        az = z(true, az, {
          schema: {
            timezone: aA.timezone
          }
        })
      }
      if (aB.dataSource && aB._refreshHandler) {
        aB.dataSource.unbind(g, aB._refreshHandler).unbind("progress", aB._progressHandler).unbind("error", aB._errorHandler)
      } else {
        aB._refreshHandler = W(aB.refresh, aB);
        aB._progressHandler = W(aB._requestStart, aB);
        aB._errorHandler = W(aB._error, aB)
      }
      aB.dataSource = G.data.SchedulerDataSource.create(az).bind(g, aB._refreshHandler).bind("progress", aB._progressHandler).bind("error", aB._errorHandler)
    },
    _error: function() {
      this._progress(false)
    },
    _requestStart: function() {
      this._progress(true)
    },
    _progress: function(aA) {
      var az = this.element.find(".k-scheduler-content");
      G.ui.progress(az, aA)
    },
    _resources: function() {
      var aF = this;
      var aE = aF.options.resources;
      for (var aB = 0; aB < aE.length; aB++) {
        var aD = aE[aB];
        var aA = aD.field;
        var az = aD.dataSource;
        if (!aA || !az) {
          throw new Error('The "field" and "dataSource" options of the scheduler resource are mandatory.')
        }
        aF.resources.push({
          field: aA,
          name: aD.name || aA,
          title: aD.title || aA,
          dataTextField: aD.dataTextField || "text",
          dataValueField: aD.dataValueField || "value",
          dataColorField: aD.dataColorField || "color",
          valuePrimitive: aD.valuePrimitive != null ? aD.valuePrimitive : true,
          multiple: aD.multiple || false,
          dataSource: G.data.DataSource.create(az)
        })
      }
      var aC = a.map(aF.resources, function(aG) {
        return aG.dataSource.fetch()
      });
      a.when.apply(null, aC).then(function() {
        if (aF.options.autoBind) {
          aF.view(aF._selectedViewName)
        } else {
          aF._selectView(aF._selectedViewName)
        }
      })
    },
    _initModel: function() {
      var az = this;
      az._model = G.observable({
        selectedDate: new Date(this.options.date),
        formattedDate: ""
      });
      az._model.bind("change", function(aA) {
        if (aA.field === "selectedDate") {
          az.view(az._selectedViewName)
        }
      })
    },
    _wrapper: function() {
      var az = this.options.height;
      this.wrapper = this.element.addClass("k-widget k-scheduler k-floatwrap").attr("role", "grid").attr("aria-multiselectable", true);
      if (this._isMobile()) {
        this.wrapper.addClass("k-scheduler-mobile")
      }
      if (this._isMobilePhoneView()) {
        this.wrapper.addClass("k-scheduler-phone")
      }
      if (az) {
        this.wrapper.css("height", az)
      }
    },
    date: function(az) {
      if (az != null && A(az) >= A(this.options.min) && A(az) <= A(this.options.max)) {
        this._model.set("selectedDate", az)
      }
      return A(this._model.get("selectedDate"))
    },
    _toolbar: function() {
      var aB = this;
      var az = aB.options;
      var aA = this._isMobilePhoneView() ? O : ao;
      var aC = a(aA({
        messages: az.messages,
        ns: G.ns,
        views: aB.views
      }));
      aB.wrapper.append(aC);
      aB.toolbar = aC;
      G.bind(aB.toolbar, aB._model);
      aC.on(h + T, ".k-scheduler-navigation li", function(aF) {
        var aG = a(this);
        var aE = new Date(aB.date());
        var aD = "";
        aF.preventDefault();
        if (aG.hasClass("k-nav-today")) {
          aD = "today";
          aE = new Date()
        } else {
          if (aG.hasClass("k-nav-next")) {
            aD = "next";
            aE = aB.view().nextDate()
          } else {
            if (aG.hasClass("k-nav-prev")) {
              aD = "previous";
              aE = aB.view().previousDate()
            } else {
              if (aG.hasClass("k-nav-current") && !aB._isMobilePhoneView()) {
                aB._showCalendar();
                return
              }
            }
          }
        }
        if (!aB.trigger("navigate", {
          view: aB._selectedViewName,
          action: aD,
          date: aE
        })) {
          aB.date(aE)
        }
      });
      aC.on(h + T, ".k-scheduler-views li", function(aD) {
        aD.preventDefault();
        var aE = a(this).attr(G.attr("name"));
        if (!aB.trigger("navigate", {
          view: aE,
          action: "changeView",
          date: aB.date()
        })) {
          aB.view(aE)
        }
      });
      aC.find("li").hover(function() {
        a(this).addClass("k-state-hover")
      }, function() {
        a(this).removeClass("k-state-hover")
      })
    },
    _showCalendar: function() {
      var aB = this,
        aA = aB.toolbar.find(".k-nav-current"),
        az = a('<div class="k-calendar-container"><div class="k-scheduler-calendar"/></div>');
      if (!aB.popup) {
        aB.popup = new U(az, {
          anchor: aA,
          activate: function() {
            if (!aB.calendar) {
              aB.calendar = new Telerik.UI.RadCalendar(this.element.find(".k-scheduler-calendar")[0], {
                onchange: function() {
                  var aC = arguments[0].target.value;
                  if (!aB.trigger("navigate", {
                    view: aB._selectedViewName,
                    action: "changeDate",
                    date: aC
                  })) {
                    aB.date(aC);
                    aB.popup.close()
                  }
                },
                min: aB.options.min,
                max: aB.options.max
              })
            }
            aB.calendar.value = aB.date()
          },
          copyAnchorStyles: false
        })
      }
      aB.popup.open()
    },
    refresh: function(az) {
      var aA = this.view();
      this._progress(false);
      az = az || {};
      if (!aA) {
        return
      }
      if (az && az.action === "itemchange" && (this._editor.editable || this._preventRefresh)) {
        return
      }
      if (this.trigger("dataBinding", {
        action: az.action || "rebind",
        index: az.index,
        items: az.items
      })) {
        return
      }
      if (!(az && az.action === "resize") && this._editor) {
        this._editor.close()
      }
      this._data = this.dataSource.expand(aA.startDate(), aA.endDate());
      aA.render(this._data);
      this.trigger("dataBound")
    },
    slotByPosition: function(aB, aC) {
      var aA = this.view();
      if (!aA._slotByPosition) {
        return null
      }
      var az = aA._slotByPosition(aB, aC);
      if (!az) {
        return null
      }
      return {
        startDate: az.startDate(),
        endDate: az.endDate(),
        element: az.element,
        isDaySlot: az.isDaySlot
      }
    },
    slotByElement: function(az) {
      var aA = a(az).offset();
      return this.slotByPosition(aA.left, aA.top)
    }
  });
  var p = {
    day: {
      type: "kendo.ui.DayView"
    },
    week: {
      type: "kendo.ui.WeekView"
    },
    workWeek: {
      type: "kendo.ui.WorkWeekView"
    },
    agenda: {
      type: "kendo.ui.AgendaView"
    },
    month: {
      type: "kendo.ui.MonthView"
    }
  };
  ar.plugin(ad);
  var aj = au.extend({
    init: function(az, aA) {
      var aB = this,
        aC = G.timezone.windows_zones;
      if (!aC || !G.timezone.zones_titles) {
        throw new Error("kendo.timezones.min.js is not included.")
      }
      au.fn.init.call(aB, az, aA);
      aB.wrapper = aB.element;
      aB._zonesQuery = new G.data.Query(aC);
      aB._zoneTitleId = G.guid();
      aB._zoneTitlePicker();
      aB._zonePicker();
      aB.value(aB.options.value)
    },
    options: {
      name: "TimezoneEditor",
      value: "",
      optionLabel: "No timezone"
    },
    events: ["change"],
    _zoneTitlePicker: function() {
      var az = this,
        aA = a('<input id="' + az._zoneTitleId + '"/>').appendTo(az.wrapper);
      az._zoneTitle = new G.ui.DropDownList(aA, {
        dataSource: G.timezone.zones_titles,
        dataValueField: "other_zone",
        dataTextField: "name",
        optionLabel: az.options.optionLabel,
        cascade: function() {
          if (!this.value()) {
            az._zone.wrapper.hide()
          }
        }
      })
    },
    _zonePicker: function() {
      var az = this,
        aA = a("<input />").appendTo(this.wrapper);
      az._zone = new G.ui.DropDownList(aA, {
        dataValueField: "zone",
        dataTextField: "territory",
        dataSource: az._zonesQuery.data,
        cascadeFrom: az._zoneTitleId,
        cascade: function() {
          az._value = this.value();
          az.trigger("change")
        },
        dataBound: function() {
          az._value = this.value();
          this.wrapper.toggle(this.dataSource.view().length > 1)
        }
      });
      az._zone.wrapper.hide()
    },
    destroy: function() {
      au.fn.destroy.call(this);
      G.destroy(this.wrapper)
    },
    value: function(aA) {
      var az = this,
        aB;
      if (aA === at) {
        return az._value
      }
      aB = az._zonesQuery.filter({
        field: "zone",
        operator: "eq",
        value: aA
      }).data[0];
      if (aB) {
        az._zoneTitle.value(aB.other_zone);
        az._zone.value(aB.zone)
      } else {
        az._zoneTitle.value("")
      }
    }
  });
  ar.plugin(aj);
  var ay = G.template('<option value="#=other_zone#">#=name#</option>');
  var ax = G.template('<option value="#=zone#">#=territory#</option>');
  var L = au.extend({
    init: function(az, aA) {
      var aB = this,
        aC = G.timezone.windows_zones;
      if (!aC || !G.timezone.zones_titles) {
        throw new Error("kendo.timezones.min.js is not included.")
      }
      au.fn.init.call(aB, az, aA);
      aB.wrapper = aB.element;
      aB._zonesQuery = new G.data.Query(aC);
      aB._zoneTitlePicker();
      aB._zonePicker();
      aB.value(aB.options.value)
    },
    options: {
      name: "MobileTimezoneEditor",
      optionLabel: "No timezone",
      value: ""
    },
    events: ["change"],
    _bindZones: function(aA) {
      var az = aA ? this._filter(aA) : [];
      this._zone.html(this._options(az, ax))
    },
    _filter: function(az) {
      return this._zonesQuery.filter({
        field: "other_zone",
        operator: "eq",
        value: az
      }).data
    },
    _options: function(az, aE, aD) {
      var aB = 0;
      var aA = "";
      var aC = az.length;
      if (aD) {
        aA += aE({
          other_zone: "",
          name: this.options.optionLabel
        })
      }
      for (; aB < aC; aB++) {
        aA += aE(az[aB])
      }
      return aA
    },
    _zoneTitlePicker: function() {
      var aA = this;
      var az = aA._options(G.timezone.zones_titles, ay, aA.options.optionLabel);
      aA._zoneTitle = a("<select>" + az + "</select>").appendTo(aA.wrapper).change(function() {
        var aB = this.value;
        var aC = aA._zone;
        aA._bindZones(aB);
        if (aB && aC[0].children.length > 1) {
          aC.show()
        } else {
          aC.hide()
        }
        aA._value = aC[0].value;
        aA.trigger("change")
      })
    },
    _zonePicker: function() {
      var az = this;
      az._zone = a('<select style="display:none"></select>').appendTo(this.wrapper).change(function() {
        az._value = this.value;
        az.trigger("change")
      });
      az._bindZones(az._zoneTitle.val());
      az._value = az._zone[0].value
    },
    destroy: function() {
      au.fn.destroy.call(this);
      G.destroy(this.wrapper)
    },
    value: function(aB) {
      var aA = this;
      var aE = aA._zone;
      var az = "";
      var aD = "";
      var aC;
      if (aB === at) {
        return aA._value
      }
      aC = aA._zonesQuery.filter({
        field: "zone",
        operator: "eq",
        value: aB
      }).data[0];
      if (aC) {
        aD = aC.zone;
        az = aC.other_zone
      }
      aA._zoneTitle.val(az);
      aA._bindZones(az);
      aE.val(aD);
      aD = aE[0].value;
      if (aD && aE[0].children.length > 1) {
        aE.show()
      } else {
        aE.hide()
      }
      aA._value = aD
    }
  });
  ar.plugin(L)
})(window.kendo.jQuery);
kendo_module({
  id: "dataviz.core",
  name: "Core",
  description: "The DataViz core functions",
  category: "dataviz",
  depends: ["core"],
  hidden: true
});
(function(a, a8) {
  var P = document,
    an = window.kendo,
    E = an.dataviz = {}, w = an.Class,
    a1 = an.template,
    au = a.map,
    aC = a.noop,
    aj = a.inArray,
    av = Math,
    H = an.deepExtend;
  var aO = function(X) {
    return a1(X, {
      useWithBlock: false,
      paramName: "d"
    })
  };
  var C = "k-";
  var b = 10,
    i = "axisLabelClick",
    m = 1,
    n = "#000",
    o = "bottom",
    t = "center",
    A = 3,
    x = "clip",
    v = "circle",
    B = "cross",
    I = "12px sans-serif",
    J = 400,
    K = 6,
    L = 600,
    N = av.PI / 180,
    V = "fadeIn",
    Z = /\{\d+:?/,
    ad = "height",
    af = "k",
    ae = 1000,
    ag = 10000,
    ak = 600,
    al = "inside",
    ap = "left",
    ar = "linear",
    ax = Number.MAX_VALUE,
    az = -Number.MAX_VALUE,
    aB = "none",
    aE = "noteClick",
    aF = "noteHover",
    aI = "outside",
    aM = "radial",
    aQ = "right",
    a0 = "swing",
    a6 = "top",
    a7 = "triangle",
    a9 = "undefined",
    bc = /([A-Z])/g,
    bi = "width",
    bh = "#fff",
    bj = "x",
    bk = "y",
    bl = 0.2;

  function ac(bm, X) {
    var Y = {
      top: 0,
      right: 0,
      bottom: 0,
      left: 0
    };
    X = X || 0;
    if (typeof(bm) === "number") {
      Y[a6] = Y[aQ] = Y[o] = Y[ap] = bm
    } else {
      Y[a6] = bm[a6] || X;
      Y[aQ] = bm[aQ] || X;
      Y[o] = bm[o] || X;
      Y[ap] = bm[ap] || X
    }
    return Y
  }
  var aw = w.extend({
    init: function(X, Y, bm, bn, bo, bp) {
      this.a = X || 0;
      this.b = Y || 0;
      this.c = bm || 0;
      this.d = bn || 0;
      this.e = bo || 0;
      this.f = bp || 0
    },
    times: function(X) {
      return new aw(this.a * X.a + this.c * X.b, this.b * X.a + this.d * X.b, this.a * X.c + this.c * X.d, this.b * X.c + this.d * X.d, this.a * X.e + this.c * X.f + this.e, this.b * X.e + this.d * X.f + this.f)
    }
  });
  H(aw, {
    translate: function(Y, bm) {
      var X = new aw();
      X.a = 1;
      X.b = 0;
      X.c = 0;
      X.d = 1;
      X.e = Y;
      X.f = bm;
      return X
    },
    unit: function() {
      return new aw(1, 0, 0, 1, 0, 0)
    },
    rotate: function(X, bm, bn) {
      var Y = new aw();
      Y.a = av.cos(X * N);
      Y.b = av.sin(X * N);
      Y.c = -Y.b;
      Y.d = Y.a;
      Y.e = (bm - bm * Y.a + bn * Y.b) || 0;
      Y.f = (bn - bn * Y.a - bm * Y.b) || 0;
      return Y
    },
    scale: function(Y, bm) {
      var X = new aw();
      X.a = Y;
      X.b = 0;
      X.c = 0;
      X.d = bm;
      X.e = 0;
      X.f = 0;
      return X
    }
  });
  an.dataviz.Matrix = aw;
  var aL = function(Y, bm) {
    var X = this;
    if (!(X instanceof aL)) {
      return new aL(Y, bm)
    }
    X.x = Y || 0;
    X.y = bm || 0
  };
  aL.fn = aL.prototype = {
    clone: function() {
      var X = this;
      return new aL(X.x, X.y)
    },
    equals: function(X) {
      return X && X.x === this.x && X.y === this.y
    },
    rotate: function(X, bo) {
      var bp = this,
        br = bo * N,
        Y = av.cos(br),
        bq = av.sin(br),
        bm = X.x,
        bn = X.y,
        bs = bp.x,
        bt = bp.y;
      bp.x = aV(bm + (bs - bm) * Y + (bt - bn) * bq, A);
      bp.y = aV(bn + (bt - bn) * Y - (bs - bm) * bq, A);
      return bp
    },
    multiply: function(X) {
      var Y = this;
      Y.x *= X;
      Y.y *= X;
      return Y
    },
    distanceTo: function(bm) {
      var X = this.x - bm.x,
        Y = this.y - bm.y;
      return av.sqrt(X * X + Y * Y)
    },
    transform: function(X) {
      var Y = this;
      Y.x = X.a * Y.x + X.c * Y.y + X.e;
      Y.y = X.b * Y.x + X.d * Y.y + X.f;
      return Y
    }
  };
  aL.onCircle = function(Y, X, bm) {
    X *= N;
    return new aL(Y.x - bm * av.cos(X), Y.y - bm * av.sin(X))
  };
  var p = function(Y, bn, bm, bo) {
    var X = this;
    if (!(X instanceof p)) {
      return new p(Y, bn, bm, bo)
    }
    X.x1 = Y || 0;
    X.x2 = bm || 0;
    X.y1 = bn || 0;
    X.y2 = bo || 0
  };
  p.fn = p.prototype = {
    width: function() {
      return this.x2 - this.x1
    },
    height: function() {
      return this.y2 - this.y1
    },
    translate: function(Y, bm) {
      var X = this;
      X.x1 += Y;
      X.x2 += Y;
      X.y1 += bm;
      X.y2 += bm;
      return X
    },
    move: function(bn, bo) {
      var X = this,
        Y = X.height(),
        bm = X.width();
      if (M(bn)) {
        X.x1 = bn;
        X.x2 = X.x1 + bm
      }
      if (M(bo)) {
        X.y1 = bo;
        X.y2 = X.y1 + Y
      }
      return X
    },
    wrap: function(Y) {
      var X = this;
      X.x1 = av.min(X.x1, Y.x1);
      X.y1 = av.min(X.y1, Y.y1);
      X.x2 = av.max(X.x2, Y.x2);
      X.y2 = av.max(X.y2, Y.y2);
      return X
    },
    wrapPoint: function(X) {
      this.wrap(new p(X.x, X.y, X.x, X.y));
      return this
    },
    snapTo: function(bm, X) {
      var Y = this;
      if (X == bj || !X) {
        Y.x1 = bm.x1;
        Y.x2 = bm.x2
      }
      if (X == bk || !X) {
        Y.y1 = bm.y1;
        Y.y2 = bm.y2
      }
      return Y
    },
    alignTo: function(bq, X) {
      var bm = this,
        bo = bm.height(),
        bs = bm.width(),
        Y = X == a6 || X == o ? bk : bj,
        bp = Y == bk ? bo : bs;
      if (X === t) {
        var br = bq.center();
        var bn = bm.center();
        bm.x1 += br.x - bn.x;
        bm.y1 += br.y - bn.y
      } else {
        if (X === a6 || X === ap) {
          bm[Y + 1] = bq[Y + 1] - bp
        } else {
          bm[Y + 1] = bq[Y + 2]
        }
      }
      bm.x2 = bm.x1 + bs;
      bm.y2 = bm.y1 + bo;
      return bm
    },
    shrink: function(bm, Y) {
      var X = this;
      X.x2 -= bm;
      X.y2 -= Y;
      return X
    },
    expand: function(Y, X) {
      this.shrink(-Y, -X);
      return this
    },
    pad: function(Y) {
      var X = this,
        bm = ac(Y);
      X.x1 -= bm.left;
      X.x2 += bm.right;
      X.y1 -= bm.top;
      X.y2 += bm.bottom;
      return X
    },
    unpad: function(Y) {
      var X = this,
        bm = ac(Y);
      bm.left = -bm.left;
      bm.top = -bm.top;
      bm.right = -bm.right;
      bm.bottom = -bm.bottom;
      return X.pad(bm)
    },
    clone: function() {
      var X = this;
      return new p(X.x1, X.y1, X.x2, X.y2)
    },
    center: function() {
      var X = this;
      return new aL(X.x1 + X.width() / 2, X.y1 + X.height() / 2)
    },
    containsPoint: function(Y) {
      var X = this;
      return Y.x >= X.x1 && Y.x <= X.x2 && Y.y >= X.y1 && Y.y <= X.y2
    },
    points: function() {
      var X = this;
      return [new aL(X.x1, X.y1), new aL(X.x2, X.y1), new aL(X.x2, X.y2), new aL(X.x1, X.y2)]
    },
    getHash: function() {
      var X = this;
      return [X.x1, X.y1, X.x2, X.y2].join(",")
    }
  };
  var aR = w.extend({
    init: function(Y, bm, bn, bp, X) {
      var bo = this;
      bo.c = Y;
      bo.ir = bm;
      bo.r = bn;
      bo.startAngle = bp;
      bo.angle = X
    },
    clone: function() {
      var X = this;
      return new aR(X.c, X.ir, X.r, X.startAngle, X.angle)
    },
    middle: function() {
      return this.startAngle + this.angle / 2
    },
    radius: function(Y, X) {
      var bm = this;
      if (X) {
        bm.ir = Y
      } else {
        bm.r = Y
      }
      return bm
    },
    point: function(X, bn) {
      var bq = this,
        bo = X * N,
        Y = av.cos(bo),
        bm = av.sin(bo),
        bp = bn ? bq.ir : bq.r,
        br = aV(bq.c.x - (Y * bp), A),
        bs = aV(bq.c.y - (bm * bp), A);
      return new aL(br, bs)
    },
    adjacentBox: function(Y, bt, bm) {
      var bs = this.clone().expand(Y),
        bp = bs.middle(),
        bq = bs.point(bp),
        bo = bt / 2,
        bn = bm / 2,
        bu = bq.x - bo,
        bv = bq.y - bn,
        br = av.sin(bp * N),
        X = av.cos(bp * N);
      if (av.abs(br) < 0.9) {
        bu += bo * -X / av.abs(X)
      }
      if (av.abs(X) < 0.9) {
        bv += bn * -br / av.abs(br)
      }
      return new p(bu, bv, bu + bt, bv + bm)
    },
    containsPoint: function(bs) {
      var bu = this,
        X = bu.c,
        br = bu.ir,
        bt = bu.r,
        bv = bu.startAngle,
        bo = bu.startAngle + bu.angle,
        bm = bs.x - X.x,
        bn = bs.y - X.y,
        by = new aL(bm, bn),
        bw = bu.point(bv),
        bx = new aL(bw.x - X.x, bw.y - X.y),
        bp = bu.point(bo),
        bq = new aL(bp.x - X.x, bp.y - X.y),
        Y = aV(bm * bm + bn * bn, A);
      return (bx.equals(by) || y(bx, by)) && !y(bq, by) && Y >= br * br && Y <= bt * bt
    },
    getBBox: function() {
      var bs = this,
        bm = new p(ax, ax, az, az),
        bt = aV(bs.startAngle % 360),
        bn = aV((bt + bs.angle) % 360),
        bq = bs.ir,
        X = [0, 90, 180, 270, bt, bn].sort(aH),
        bu = aj(bt, X),
        bo = aj(bn, X),
        Y, bp, br;
      if (bt == bn) {
        Y = X
      } else {
        if (bu < bo) {
          Y = X.slice(bu, bo + 1)
        } else {
          Y = [].concat(X.slice(0, bo + 1), X.slice(bu, X.length))
        }
      }
      for (bp = 0; bp < Y.length; bp++) {
        br = bs.point(Y[bp]);
        bm.wrapPoint(br);
        bm.wrapPoint(br, bq)
      }
      if (!bq) {
        bm.wrapPoint(bs.c)
      }
      return bm
    },
    expand: function(X) {
      this.r += X;
      return this
    }
  });
  var aW = aR.extend({
    init: function(Y, bm, bn, X) {
      aR.fn.init.call(this, Y, 0, bm, bn, X)
    },
    expand: function(X) {
      return aR.fn.expand.call(this, X)
    },
    clone: function() {
      var X = this;
      return new aW(X.c, X.r, X.startAngle, X.angle)
    },
    radius: function(X) {
      return aR.fn.radius.call(this, X)
    },
    point: function(X) {
      return aR.fn.point.call(this, X)
    }
  });
  var aJ = w.extend({
    init: function(X) {
      H(this, {
        height: 40,
        rotation: 90,
        radius: 10,
        arcAngle: 10
      }, X)
    }
  });
  var u = w.extend({
    init: function(Y) {
      var X = this;
      X.children = [];
      X.options = H({}, X.options, Y);
      X.id = X.options.id
    },
    reflow: function(bp) {
      var bn = this,
        Y = bn.children,
        X, bo, bm;
      for (bo = 0; bo < Y.length; bo++) {
        bm = Y[bo];
        bm.reflow(bp);
        X = X ? X.wrap(bm.box) : bm.box.clone()
      }
      bn.box = X || bp
    },
    getViewElements: function(br) {
      var bn = this,
        bp = bn.modelId,
        bs = [],
        bq, Y = bn.children,
        bo, X, bm = Y.length;
      for (bo = 0; bo < bm; bo++) {
        X = Y[bo];
        if (!X.discoverable) {
          X.options = X.options || {};
          X.modelId = bp
        }
        bs.push.apply(bs, X.getViewElements(br))
      }
      if (bn.discoverable) {
        bq = bn.getRoot();
        if (bq) {
          bq.modelMap[bp] = bn
        }
      }
      return bs
    },
    enableDiscovery: function() {
      var X = this;
      X.modelId = ah.current.alloc();
      X.discoverable = true
    },
    destroy: function() {
      var Y = this,
        X = Y.children,
        bq = Y.getRoot(),
        bo = Y.modelId,
        bn = Y.id,
        bp = ah.current,
        bm;
      if (bn) {
        bp.free(bn)
      }
      if (bo) {
        bp.free(bo);
        if (bq && bq.modelMap[bo]) {
          bq.modelMap[bo] = a8
        }
      }
      for (bm = 0; bm < X.length; bm++) {
        X[bm].destroy()
      }
    },
    getRoot: function() {
      var X = this.parent;
      return X ? X.getRoot() : null
    },
    translateChildren: function(bm, bn) {
      var bo = this,
        X = bo.children,
        Y = X.length,
        bp;
      for (bp = 0; bp < Y; bp++) {
        X[bp].box.translate(bm, bn)
      }
    },
    append: function() {
      var X = this,
        Y, bm = arguments.length;
      d(X.children, arguments);
      for (Y = 0; Y < bm; Y++) {
        arguments[Y].parent = X
      }
    }
  });
  var aS = u.extend({
    init: function(X) {
      var Y = this;
      Y.modelMap = {};
      u.fn.init.call(Y, X)
    },
    options: {
      width: L,
      height: J,
      background: bh,
      border: {
        color: n,
        width: 0
      },
      margin: ac(5),
      zIndex: -2
    },
    reflow: function() {
      var bo = this,
        bn = bo.options,
        X = bo.children,
        Y = new p(0, 0, bn.width, bn.height);
      bo.box = Y.unpad(bn.margin);
      for (var bm = 0; bm < X.length; bm++) {
        X[bm].reflow(Y);
        Y = q(Y, X[bm].box)
      }
    },
    getViewElements: function(bp) {
      var bo = this,
        bn = bo.options,
        X = bn.border || {}, Y = bo.box.clone().pad(bn.margin).unpad(X.width),
        bm = [bp.createRect(Y, {
          stroke: X.width ? X.color : "",
          strokeWidth: X.width,
          dashType: X.dashType,
          fill: bn.background,
          fillOpacity: bn.opacity,
          zIndex: bn.zIndex
        })];
      return bm.concat(u.fn.getViewElements.call(bo, bp))
    },
    getRoot: function() {
      return this
    }
  });
  var r = u.extend({
    options: {
      align: ap,
      vAlign: a6,
      margin: {},
      padding: {},
      border: {
        color: n,
        width: 0
      },
      background: "",
      shrinkToFit: false,
      width: 0,
      height: 0,
      visible: true
    },
    reflow: function(bv) {
      var bo = this,
        Y, bn, bs = bo.options,
        br = ac(bs.margin),
        bt = ac(bs.padding),
        X = bs.border.width,
        bm = bo.children,
        bp, bq;

      function bu() {
        bo.align(bv, bj, bs.align);
        bo.align(bv, bk, bs.vAlign);
        bo.paddingBox = Y.clone().unpad(br).unpad(X)
      }
      u.fn.reflow.call(bo, bv);
      if (bs.width && bs.height) {
        Y = bo.box = new p(0, 0, bs.width, bs.height)
      } else {
        Y = bo.box
      }
      if (bs.shrinkToFit) {
        bu();
        bn = bo.contentBox = bo.paddingBox.clone().unpad(bt)
      } else {
        bn = bo.contentBox = Y.clone();
        Y.pad(bt).pad(X).pad(br);
        bu()
      }
      bo.translateChildren(Y.x1 - bn.x1 + br.left + X + bt.left, Y.y1 - bn.y1 + br.top + X + bt.top);
      for (bp = 0; bp < bm.length; bp++) {
        bq = bm[bp];
        bq.reflow(bq.box)
      }
    },
    align: function(bs, Y, X) {
      var bp = this,
        bm = bp.box,
        bn = Y + 1,
        bo = Y + 2,
        br = Y === bj ? bi : ad,
        bq = bm[br]();
      if (ai(X, [ap, a6])) {
        bm[bn] = bs[bn];
        bm[bo] = bm[bn] + bq
      } else {
        if (ai(X, [aQ, o])) {
          bm[bo] = bs[bo];
          bm[bn] = bm[bo] - bq
        } else {
          if (X == t) {
            bm[bn] = bs[bn] + (bs[br]() - bq) / 2;
            bm[bo] = bm[bn] + bq
          }
        }
      }
    },
    hasBox: function() {
      var X = this.options;
      return X.border.width || X.background
    },
    getViewElements: function(bo, bn) {
      var X = this,
        bm = X.options,
        Y = [];
      if (!bm.visible) {
        return []
      }
      if (X.hasBox()) {
        Y.push(bo.createRect(X.paddingBox, H(X.elementStyle(), bn)))
      }
      return Y.concat(u.fn.getViewElements.call(X, bo))
    },
    elementStyle: function() {
      var Y = this,
        bm = Y.options,
        X = bm.border || {};
      return {
        id: this.id,
        stroke: X.width ? X.color : "",
        strokeWidth: X.width,
        dashType: X.dashType,
        strokeOpacity: bd(X.opacity, bm.opacity),
        fill: bm.background,
        fillOpacity: bm.opacity,
        animation: bm.animation,
        zIndex: bm.zIndex,
        data: {
          modelId: Y.modelId
        }
      }
    }
  });
  var a2 = u.extend({
    init: function(X, Y) {
      var bm = this;
      u.fn.init.call(bm, Y);
      bm.content = G(X);
      bm.reflow(p())
    },
    options: {
      font: I,
      color: n,
      align: ap,
      vAlign: ""
    },
    reflow: function(bn) {
      var bo = this,
        Y = bo.options,
        bm, X;
      bm = Y.size = ay(bo.content, {
        font: Y.font
      }, Y.rotation);
      bo.baseline = bm.baseline;
      if (Y.align == ap) {
        bo.box = new p(bn.x1, bn.y1, bn.x1 + bm.width, bn.y1 + bm.height)
      } else {
        if (Y.align == aQ) {
          bo.box = new p(bn.x2 - bm.width, bn.y1, bn.x2, bn.y1 + bm.height)
        } else {
          if (Y.align == t) {
            X = (bn.width() - bm.width) / 2;
            bo.box = new p(aV(bn.x1 + X, A), bn.y1, aV(bn.x2 - X, A), bn.y1 + bm.height)
          }
        }
      }
      if (Y.vAlign == t) {
        X = (bn.height() - bm.height) / 2;
        bo.box = new p(bo.box.x1, bn.y1 + X, bo.box.x2, bn.y2 - X)
      } else {
        if (Y.vAlign == o) {
          bo.box = new p(bo.box.x1, bn.y2 - bm.height, bo.box.x2, bn.y2)
        } else {
          if (Y.vAlign == a6) {
            bo.box = new p(bo.box.x1, bn.y1, bo.box.x2, bn.y1 + bm.height)
          }
        }
      }
    },
    getViewElements: function(bm) {
      var Y = this,
        X = Y.options;
      u.fn.getViewElements.call(this, bm);
      return [bm.createText(Y.content, H({}, X, {
        id: Y.id,
        x: Y.box.x1,
        y: Y.box.y1,
        baseline: Y.baseline,
        data: {
          modelId: Y.modelId
        }
      }))]
    }
  });
  var a3 = r.extend({
    init: function(X, Y) {
      var bn = this,
        bm;
      r.fn.init.call(bn, Y);
      Y = bn.options;
      bm = new a2(X, H({}, Y, {
        align: ap,
        vAlign: a6
      }));
      bn.append(bm);
      bn.content = X;
      if (bn.hasBox()) {
        bm.id = ba()
      }
      bn.reflow(new p())
    }
  });
  var a5 = u.extend({
    init: function(X) {
      var Y = this;
      u.fn.init.call(Y, X);
      X = Y.options;
      Y.append(new a3(X.text, H({}, X, {
        vAlign: X.position
      })))
    },
    options: {
      color: n,
      position: a6,
      align: t,
      margin: ac(5),
      padding: ac(5)
    },
    reflow: function(X) {
      var Y = this;
      u.fn.reflow.call(Y, X);
      Y.box.snapTo(X, bj)
    }
  });
  a5.buildTitle = function(Y, bm, X) {
    var bn;
    if (typeof Y === "string") {
      Y = {
        text: Y
      }
    }
    Y = H({
      visible: true
    }, X, Y);
    if (Y && Y.visible && Y.text) {
      bn = new a5(Y);
      bm.append(bn)
    }
    return bn
  };
  var j = a3.extend({
    init: function(bp, bo, Y, X, bn) {
      var bm = this;
      bm.text = bo;
      bm.value = bp;
      bm.index = Y;
      bm.dataItem = X;
      a3.fn.init.call(bm, bo, H({
        id: ba()
      }, bn));
      bm.enableDiscovery()
    },
    click: function(bm, X) {
      var Y = this;
      bm.trigger(i, {
        element: a(X.target),
        value: Y.value,
        text: Y.text,
        index: Y.index,
        dataItem: Y.dataItem,
        axis: Y.parent.options
      })
    }
  });
  var h = u.extend({
    init: function(Y) {
      var X = this;
      u.fn.init.call(X, Y);
      if (!X.options.visible) {
        X.options = H({}, X.options, {
          labels: {
            visible: false
          },
          line: {
            visible: false
          },
          margin: 0,
          majorTickSize: 0,
          minorTickSize: 0
        })
      }
      X.options.minorTicks = H({}, {
        color: X.options.line.color,
        width: X.options.line.width,
        visible: X.options.minorTickType != aB
      }, X.options.minorTicks, {
        size: X.options.minorTickSize,
        align: X.options.minorTickType
      });
      X.options.majorTicks = H({}, {
        color: X.options.line.color,
        width: X.options.line.width,
        visible: X.options.majorTickType != aB
      }, X.options.majorTicks, {
        size: X.options.majorTickSize,
        align: X.options.majorTickType
      });
      X.createLabels();
      X.createTitle();
      X.createNotes()
    },
    options: {
      labels: {
        visible: true,
        rotation: 0,
        mirror: false,
        step: 1,
        skip: 0
      },
      line: {
        width: 1,
        color: n,
        visible: true
      },
      title: {
        visible: true,
        position: t
      },
      majorTicks: {
        align: aI,
        size: 4,
        skip: 0,
        step: 1
      },
      minorTicks: {
        align: aI,
        size: 3,
        skip: 0,
        step: 1
      },
      axisCrossingValue: 0,
      majorTickType: aI,
      minorTickType: aB,
      majorGridLines: {
        skip: 0,
        step: 1
      },
      minorGridLines: {
        visible: false,
        width: 1,
        color: n,
        skip: 0,
        step: 1
      },
      margin: 5,
      visible: true,
      reverse: false,
      justified: true,
      notes: {
        label: {
          text: ""
        }
      },
      _alignLines: true
    },
    createLabels: function() {
      var Y = this,
        bq = Y.options,
        X = bq.vertical ? aQ : t,
        bo = H({}, bq.labels, {
          align: X,
          zIndex: bq.zIndex,
          modelId: Y.modelId
        }),
        br = bo.step;
      Y.labels = [];
      if (bo.visible) {
        var bp = Y.labelsCount(),
          bn, bm;
        for (bm = bo.skip; bm < bp; bm += br) {
          bn = Y.createAxisLabel(bm, bo);
          if (bn) {
            Y.append(bn);
            Y.labels.push(bn)
          }
        }
      }
    },
    destroy: function() {
      var X = this,
        bm = X.labels,
        Y;
      for (Y = 0; Y < bm.length; Y++) {
        bm[Y].destroy()
      }
      u.fn.destroy.call(X)
    },
    lineBox: function() {
      var X = this,
        bt = X.options,
        bn = X.box,
        bv = bt.vertical,
        bq = X.labels,
        br = bv ? ad : bi,
        bp = bt.justified,
        bs = bt.labels.mirror,
        Y = bs ? bn.x1 : bn.x2,
        bm = bs ? bn.y2 : bn.y1,
        bu = 0,
        bo = bt.line.width;
      if (bp && bq.length > 1) {
        bu = bq[0].box[br]() / 2;
        bo = ao(bq).box[br]() / 2
      }
      return bv ? p(Y, bn.y1 + bu, Y, bn.y2 - bo) : p(bn.x1 + bu, bm, bn.x2 - bo, bm)
    },
    createTitle: function() {
      var X = this,
        Y = X.options,
        bn = H({
          rotation: Y.vertical ? -90 : 0,
          text: "",
          zIndex: 1
        }, Y.title),
        bm;
      if (bn.visible && bn.text) {
        bm = new a3(bn.text, bn);
        X.append(bm);
        X.title = bm
      }
    },
    createNotes: function() {
      var X = this,
        br = X.options,
        bp = br.notes,
        bn = bp.data || [],
        bq, Y, bs, bm, bo;
      X.notes = [];
      for (Y = 0; Y < bn.length; Y++) {
        bm = H({}, bp, bn[Y]);
        bm.value = X.parseNoteValue(bm.value);
        bo = new aD(bm.value, bm.label.text, null, null, null, bm);
        if (bo.options.visible) {
          if (M(bo.options.position)) {
            if (br.vertical && !ai(bo.options.position, [ap, aQ])) {
              bo.options.position = br.reverse ? ap : aQ
            } else {
              if (!br.vertical && !ai(bo.options.position, [a6, o])) {
                bo.options.position = br.reverse ? o : a6
              }
            }
          } else {
            if (br.vertical) {
              bo.options.position = br.reverse ? ap : aQ
            } else {
              bo.options.position = br.reverse ? o : a6
            }
          }
          X.append(bo);
          X.notes.push(bo)
        }
      }
    },
    parseNoteValue: function(X) {
      return X
    },
    renderTicks: function(bw) {
      var X = this,
        bt = [],
        bp = X.options,
        bm = X.lineBox(),
        bo = bp.labels.mirror,
        bn = bp.majorTicks.visible ? bp.majorUnit : 0,
        bu, bv, bq, bs, Y;

      function br(bA, bz) {
        var by, bx = bA.length;
        if (bz.visible) {
          for (by = bz.skip; by < bx; by += bz.step) {
            if (by % bz.skipUnit === 0) {
              continue
            }
            bu = bo ? bm.x2 : bm.x2 - bz.size;
            bv = bo ? bm.y1 - bz.size : bm.y1;
            bq = bA[by];
            if (bp.vertical) {
              bs = aL(bu, bq);
              Y = aL(bu + bz.size, bq)
            } else {
              bs = aL(bq, bv);
              Y = aL(bq, bv + bz.size)
            }
            bt.push(bw.createLine(bs.x, bs.y, Y.x, Y.y, {
              strokeWidth: bz.width,
              stroke: bz.color,
              align: bp._alignLines
            }))
          }
        }
      }
      br(X.getMajorTickPositions(), bp.majorTicks);
      br(X.getMinorTickPositions(), H({}, {
        skipUnit: bn / bp.minorUnit
      }, bp.minorTicks));
      return bt
    },
    renderLine: function(bq) {
      var X = this,
        bp = X.options,
        bm = bp.line,
        bn = X.lineBox(),
        bo, Y = [];
      if (bm.width > 0 && bm.visible) {
        bo = {
          strokeWidth: bm.width,
          stroke: bm.color,
          dashType: bm.dashType,
          zIndex: bm.zIndex,
          align: bp._alignLines
        };
        Y.push(bq.createLine(bn.x1, bn.y1, bn.x2, bn.y2, bo));
        d(Y, X.renderTicks(bq))
      }
      return Y
    },
    getViewElements: function(bm) {
      var X = this,
        Y = u.fn.getViewElements.call(X, bm);
      d(Y, X.renderLine(bm));
      d(Y, X.renderPlotBands(bm));
      d(Y, X.renderBackground(bm));
      return Y
    },
    getActualTickSize: function() {
      var X = this,
        Y = X.options,
        bm = 0;
      if (Y.majorTicks.visible && Y.minorTicks.visible) {
        bm = av.max(Y.majorTicks.size, Y.minorTicks.size)
      } else {
        if (Y.majorTicks.visible) {
          bm = Y.majorTicks.size
        } else {
          if (Y.minorTicks.visible) {
            bm = Y.minorTicks.size
          }
        }
      }
      return bm
    },
    renderBackground: function(bp) {
      var X = this,
        bo = X.options,
        Y = bo.background,
        bm = X.box,
        bn = [];
      if (Y) {
        bn.push(bp.createRect(bm, {
          fill: Y,
          zIndex: -1
        }))
      }
      return bn
    },
    renderPlotBands: function(bu) {
      var X = this,
        bm = X.options,
        bo = bm.plotBands || [],
        bt = bm.vertical,
        bp = [],
        bn = X.plotArea,
        bq, br, Y, bs;
      if (bo.length) {
        bp = au(bo, function(bv) {
          Y = bd(bv.from, az);
          bs = bd(bv.to, ax);
          if (bt) {
            bq = bn.axisX.lineBox();
            br = X.getSlot(bv.from, bv.to)
          } else {
            bq = X.getSlot(bv.from, bv.to);
            br = bn.axisY.lineBox()
          }
          return bu.createRect(p(bq.x1, br.y1, bq.x2, br.y2), {
            fill: bv.color,
            fillOpacity: bv.opacity,
            zIndex: -1
          })
        })
      }
      return bp
    },
    renderGridLines: function(bC, X) {
      var Y = this,
        bo = [],
        bx = Y.options,
        bw = Y.plotArea.modelId,
        bm = X.options.line.visible,
        bt = bx.majorGridLines,
        bv = bt.visible ? bx.majorUnit : 0,
        bB = bx.vertical,
        bp = X.lineBox(),
        bs = bp[bB ? "x1" : "y1"],
        bq = bp[bB ? "x2" : "y2"],
        br = bp[bB ? "y1" : "x1"],
        by, bu = [],
        bA, bn;

      function bz(bG, bE) {
        var bD = bG.length,
          bF;
        if (bE.visible) {
          for (bF = bE.skip; bF < bD; bF += bE.step) {
            by = aV(bG[bF]);
            if (!ai(by, bu)) {
              if (bF % bE.skipUnit !== 0 && (!bm || br !== by)) {
                if (bx.vertical) {
                  bA = aL(bs, by);
                  bn = aL(bq, by)
                } else {
                  bA = aL(by, bs);
                  bn = aL(by, bq)
                }
                if (bA && bn) {
                  bo.push(bC.createLine(bA.x, bA.y, bn.x, bn.y, {
                    data: {
                      modelId: bw
                    },
                    strokeWidth: bE.width,
                    stroke: bE.color,
                    dashType: bE.dashType,
                    zIndex: -1
                  }));
                  bu.push(by)
                }
              }
            }
          }
        }
      }
      bz(Y.getMajorTickPositions(), bx.majorGridLines);
      bz(Y.getMinorTickPositions(), H({}, {
        skipUnit: bv / bx.minorUnit
      }, bx.minorGridLines));
      return bo
    },
    reflow: function(Y) {
      var X = this,
        bs = X.options,
        bv = bs.vertical,
        bp = X.labels,
        bm = bp.length,
        bt = X.getActualTickSize() + bs.margin,
        bq = 0,
        br = 0,
        bu = X.title,
        bo, bn;
      for (bn = 0; bn < bm; bn++) {
        bo = bp[bn];
        bq = av.max(bq, bo.box.height());
        br = av.max(br, bo.box.width())
      }
      if (bu) {
        if (bv) {
          br += bu.box.width()
        } else {
          bq += bu.box.height()
        }
      }
      if (bv) {
        X.box = p(Y.x1, Y.y1, Y.x1 + br + bt, Y.y2)
      } else {
        X.box = p(Y.x1, Y.y1, Y.x2, Y.y1 + bq + bt)
      }
      X.arrangeTitle();
      X.arrangeLabels();
      X.arrangeNotes()
    },
    arrangeLabels: function() {
      var X = this,
        bA = X.options,
        br = X.labels,
        bs = !bA.justified,
        bD = bA.vertical,
        bw = X.lineBox(),
        by = bA.labels.mirror,
        bC = X.getMajorTickPositions(),
        bp = X.getActualTickSize() + bA.margin,
        bo, bv, bm;
      for (bm = 0; bm < br.length; bm++) {
        var bn = br[bm],
          bB = bn.index,
          bt = bD ? bn.box.height() : bn.box.width(),
          bq = bC[bB] - (bt / 2),
          Y, bz, bx, bu;
        if (bD) {
          if (bs) {
            Y = bC[bB];
            bz = bC[bB + 1];
            bx = Y + (bz - Y) / 2;
            bq = bx - (bt / 2)
          }
          bu = bw.x2;
          if (by) {
            bu += bp
          } else {
            bu -= bp + bn.box.width()
          }
          bo = bn.box.move(bu, bq)
        } else {
          if (bs) {
            Y = bC[bB];
            bz = bC[bB + 1]
          } else {
            Y = bq;
            bz = bq + bt
          }
          bv = bw.y1;
          if (by) {
            bv -= bp + bn.box.height()
          } else {
            bv += bp
          }
          bo = p(Y, bv, bz, bv + bn.box.height())
        }
        bn.reflow(bo)
      }
    },
    arrangeTitle: function() {
      var X = this,
        bm = X.options,
        Y = bm.labels.mirror,
        bo = bm.vertical,
        bn = X.title;
      if (bn) {
        if (bo) {
          bn.options.align = Y ? aQ : ap;
          bn.options.vAlign = bn.options.position
        } else {
          bn.options.align = bn.options.position;
          bn.options.vAlign = Y ? a6 : o
        }
        bn.reflow(X.box)
      }
    },
    arrangeNotes: function() {
      var X = this,
        Y, bm, bn, bo;
      for (Y = 0; Y < X.notes.length; Y++) {
        bm = X.notes[Y];
        bo = bm.options.value;
        if (M(bo)) {
          if (X.shouldRenderNote(bo)) {
            bm.show()
          } else {
            bm.hide()
          }
          bn = X.getSlot(bo)
        } else {
          bm.hide()
        }
        bm.reflow(bn || X.lineBox())
      }
    },
    alignTo: function(bn) {
      var X = this,
        Y = bn.lineBox(),
        bo = X.options.vertical,
        bm = bo ? bk : bj;
      X.box.snapTo(Y, bm);
      if (bo) {
        X.box.shrink(0, X.lineBox().height() - Y.height())
      } else {
        X.box.shrink(X.lineBox().width() - Y.width(), 0)
      }
      X.box[bm + 1] -= X.lineBox()[bm + 1] - Y[bm + 1];
      X.box[bm + 2] -= X.lineBox()[bm + 2] - Y[bm + 2]
    },
    axisLabelText: function(bo, X, Y) {
      var bm = bo;
      if (Y.template) {
        var bn = a1(Y.template);
        bm = bn({
          value: bo,
          dataItem: X
        })
      } else {
        if (Y.format) {
          if (Y.format.match(Z)) {
            bm = an.format(Y.format, bo)
          } else {
            bm = an.toString(bo, Y.format, Y.culture)
          }
        }
      }
      return bm
    }
  });
  var aD = r.extend({
    init: function(bq, bp, Y, X, bo, bn) {
      var bm = this;
      r.fn.init.call(bm, bn);
      bm.enableDiscovery();
      bm.value = bq;
      bm.text = bp;
      bm.dataItem = Y;
      bm.category = X;
      bm.series = bo;
      bm.render()
    },
    options: {
      icon: {
        zIndex: 1,
        visible: true,
        type: v
      },
      label: {
        zIndex: 2,
        position: al,
        visible: true,
        align: t,
        vAlign: t
      },
      line: {
        visible: true,
        zIndex: 2
      },
      visible: true,
      position: a6
    },
    hide: function() {
      this.options.visible = false
    },
    show: function() {
      this.options.visible = true
    },
    render: function() {
      var bq = this,
        bs = bq.options,
        bo = bs.label,
        bu = bq.text,
        bn = bs.icon,
        bt = bn.size,
        Y = {
          data: {
            modelId: bq.modelId
          }
        }, X = p(),
        bp, bv, bm, br;
      if (bs.visible) {
        if (M(bo) && bo.visible) {
          if (bo.template) {
            br = a1(bo.template);
            bu = br({
              dataItem: bq.dataItem,
              category: bq.category,
              value: bq.value,
              text: bu,
              series: bq.series
            })
          } else {
            if (bo.format) {
              bu = f(bo.format, bu)
            }
          }
          bq.label = new a3(bu, H({}, bo, Y));
          bq.append(bq.label);
          if (bo.position === al) {
            if (bn.type === v) {
              bt = av.max(bq.label.box.width(), bq.label.box.height())
            } else {
              bv = bq.label.box.width();
              bm = bq.label.box.height()
            }
            X.wrap(bq.label.box)
          }
        }
        bn.width = bv || bt;
        bn.height = bm || bt;
        bp = new aX(H({}, bn, Y));
        bq.marker = bp;
        bq.append(bp);
        bp.reflow(p());
        bq.wrapperBox = X.wrap(bp.box)
      }
    },
    reflow: function(bu) {
      var br = this,
        bs = br.options,
        Y = bu.center(),
        bv = br.wrapperBox,
        bo = bs.line.length,
        bt = bs.position,
        bn = br.label,
        bq = br.marker,
        bp, X, bm;
      if (bs.visible) {
        if (ai(bt, [ap, aQ])) {
          if (bt === ap) {
            bm = bv.alignTo(bu, bt).translate(-bo, bu.center().y - bv.center().y);
            if (bs.line.visible) {
              bp = aL(av.floor(bu.x1), Y.y);
              br.linePoints = [bp, aL(av.floor(bm.x2), Y.y)];
              X = bm.clone().wrapPoint(bp)
            }
          } else {
            bm = bv.alignTo(bu, bt).translate(bo, bu.center().y - bv.center().y);
            if (bs.line.visible) {
              bp = aL(av.floor(bu.x2), Y.y);
              br.linePoints = [bp, aL(av.floor(bm.x1), Y.y)];
              X = bm.clone().wrapPoint(bp)
            }
          }
        } else {
          if (bt === o) {
            bm = bv.alignTo(bu, bt).translate(bu.center().x - bv.center().x, bo);
            if (bs.line.visible) {
              bp = aL(av.floor(Y.x), av.floor(bu.y2));
              br.linePoints = [bp, aL(av.floor(Y.x), av.floor(bm.y1))];
              X = bm.clone().wrapPoint(bp)
            }
          } else {
            bm = bv.alignTo(bu, bt).translate(bu.center().x - bv.center().x, -bo);
            if (bs.line.visible) {
              bp = aL(av.floor(Y.x), av.floor(bu.y1));
              br.linePoints = [bp, aL(av.floor(Y.x), av.floor(bm.y2))];
              X = bm.clone().wrapPoint(bp)
            }
          }
        }
        if (bq) {
          bq.reflow(bm)
        }
        if (bn) {
          bn.reflow(bm);
          if (bq) {
            if (bs.label.position === aI) {
              bn.box.alignTo(bq.box, bt)
            }
            bn.reflow(bn.box)
          }
        }
        br.contentBox = bm;
        br.box = X || bm
      }
    },
    getViewElements: function(bn) {
      var bm = this,
        X = r.fn.getViewElements.call(bm, bn),
        Y = bn.createGroup({
          data: {
            modelId: bm.modelId
          },
          zIndex: 1
        });
      if (bm.options.visible) {
        d(X, bm.createLine(bn))
      }
      Y.children = X;
      return [Y]
    },
    createLine: function(bm) {
      var Y = this,
        X = Y.options.line;
      return [bm.createPolyline(Y.linePoints, false, {
        stroke: X.color,
        strokeWidth: X.width,
        dashType: X.dashType,
        zIndex: X.zIndex
      })]
    },
    click: function(bm, Y) {
      var X = this.eventArgs(Y);
      if (!bm.trigger(aE, X)) {
        Y.preventDefault()
      }
    },
    hover: function(bm, Y) {
      var X = this.eventArgs(Y);
      if (!bm.trigger(aF, X)) {
        Y.preventDefault()
      }
    },
    leave: function(X) {
      X._unsetActivePoint()
    },
    eventArgs: function(X) {
      var Y = this,
        bm = Y.options;
      return {
        element: a(X.target),
        text: M(bm.label) ? bm.label.text : "",
        dataItem: Y.dataItem,
        series: Y.series,
        value: Y.value,
        category: Y.category
      }
    }
  });
  var aX = r.extend({
    options: {
      type: v,
      align: t,
      vAlign: t
    },
    getViewElements: function(bw, bt) {
      var bq = this,
        br = bq.options,
        bv = br.type,
        bu = br.rotation,
        X = bq.paddingBox,
        bm, bn, Y = X.center(),
        bo = X.width() / 2,
        bs, bp;
      u.fn.getViewElements.call(this, bw);
      if ((bt || {}).visible !== true) {
        if (!br.visible || !bq.hasBox()) {
          return []
        }
      }
      bn = H(bq.elementStyle(), bt);
      if (bv === v) {
        bm = bw.createCircle(aL(aV(X.x1 + bo, A), aV(X.y1 + X.height() / 2, A)), bo, bn)
      } else {
        if (bv === a7) {
          bs = [aL(X.x1 + bo, X.y1), aL(X.x1, X.y2), aL(X.x2, X.y2)]
        } else {
          if (bv === B) {
            bm = bw.createGroup();
            bm.children.push(bw.createPolyline([aL(X.x1, X.y1), aL(X.x2, X.y2)], true, bn));
            bm.children.push(bw.createPolyline([aL(X.x1, X.y2), aL(X.x2, X.y1)], true, bn))
          } else {
            bs = X.points()
          }
        }
      }
      if (bs) {
        if (bu) {
          for (bp = 0; bp < bs.length; bp++) {
            bs[bp].rotate(Y, bu)
          }
        }
        bm = bw.createPolyline(bs, true, bn)
      }
      return [bm]
    }
  });
  var aK = r.extend({
    init: function(X) {
      var Y = this;
      r.fn.init.call(Y, X);
      Y.createTextBox()
    },
    options: {
      arcAngle: 300,
      border: {
        width: 1,
        color: "red"
      },
      label: {
        zIndex: 2,
        margin: ac(2),
        border: {
          width: 1,
          color: "green"
        }
      }
    },
    createTextBox: function() {
      var Y = this,
        X = Y.options,
        bm = new a3(X.code, X.label);
      Y.append(bm);
      Y.textBox = bm
    },
    reflow: function(Y) {
      var X = this,
        bm = X.textBox;
      X.box = p(0, 0, bm.box.height(), bm.box.height() * 1.5);
      r.fn.reflow.call(X, Y)
    },
    getViewElements: function(bp) {
      var bo = this,
        bn = bo.options,
        X = bo.box.center(),
        Y = bp.createPin(new aJ({
          origin: new aL(X.x, X.y),
          radius: bo.textBox.box.height() / 2,
          height: bo.textBox.box.height() * 1.5,
          rotation: 0,
          arcAngle: bn.arcAngle
        }), H({}, {
          fill: "red",
          zIndex: 1,
          kur: 1,
          id: "111"
        }, bn)),
        bm = [Y];
      d(bm, r.fn.getViewElements.call(bo, bp));
      return bm
    }
  });
  var aG = h.extend({
    init: function(bo, bn, bm) {
      var X = this,
        Y = X.initDefaults(bo, bn, bm);
      h.fn.init.call(X, Y)
    },
    options: {
      type: "numeric",
      min: 0,
      max: 1,
      vertical: true,
      majorGridLines: {
        visible: true,
        width: 1,
        color: n
      },
      zIndex: 1
    },
    initDefaults: function(bs, br, bq) {
      var bn = this,
        bp = bq.narrowRange,
        Y = bn.autoAxisMin(bs, br, bp),
        X = bn.autoAxisMax(bs, br, bp),
        bo = g(Y, X),
        bm = {
          majorUnit: bo
        }, bt;
      if (bq.roundToMajorUnit !== false) {
        if (Y < 0 && aN(Y, bo, 1 / 3)) {
          Y -= bo
        }
        if (X > 0 && aN(X, bo, 1 / 3)) {
          X += bo
        }
      }
      bm.min = W(Y, bo);
      bm.max = s(X, bo);
      if (bq) {
        bt = M(bq.min) || M(bq.max);
        if (bt) {
          if (bq.min === bq.max) {
            if (bq.min > 0) {
              bq.min = 0
            } else {
              bq.max = 1
            }
          }
        }
        if (bq.majorUnit) {
          bm.min = W(bm.min, bq.majorUnit);
          bm.max = s(bm.max, bq.majorUnit)
        } else {
          if (bt) {
            bq = H(bm, bq);
            bm.majorUnit = g(bq.min, bq.max)
          }
        }
      }
      bm.minorUnit = (bq.majorUnit || bm.majorUnit) / 5;
      return H(bm, bq)
    },
    range: function() {
      var X = this.options;
      return {
        min: X.min,
        max: X.max
      }
    },
    autoAxisMax: function(bn, bm, bo) {
      var X, Y;
      if (!bn && !bm) {
        return 1
      }
      if (bn <= 0 && bm <= 0) {
        bm = bn == bm ? 0 : bm;
        Y = av.abs((bm - bn) / bm);
        if (!bo && Y > bl) {
          return 0
        }
        X = av.min(0, bm - ((bn - bm) / 2))
      } else {
        bn = bn == bm ? 0 : bn;
        X = bm
      }
      return X
    },
    autoAxisMin: function(bn, bm, bo) {
      var X, Y;
      if (!bn && !bm) {
        return 0
      }
      if (bn >= 0 && bm >= 0) {
        bn = bn == bm ? 0 : bn;
        Y = (bm - bn) / bm;
        if (!bo && Y > bl) {
          return 0
        }
        X = av.max(0, bn - ((bm - bn) / 2))
      } else {
        bm = bn == bm ? 0 : bm;
        X = bn
      }
      return X
    },
    getDivisions: function(bm) {
      var X = this.options,
        Y = X.max - X.min;
      return av.floor(aV(Y / bm, A)) + 1
    },
    getTickPositions: function(bA, bx) {
      var X = this,
        bq = X.options,
        bB = bq.vertical,
        bu = bq.reverse,
        bo = X.lineBox(),
        bp = bB ? bo.height() : bo.width(),
        bt = bq.max - bq.min,
        bv = bp / bt,
        bz = bA * bv,
        bw = 0,
        bm = X.getDivisions(bA),
        Y = (bB ? -1 : 1) * (bu ? -1 : 1),
        by = Y === 1 ? 1 : 2,
        br = bo[(bB ? bk : bj) + by],
        bs = [],
        bn;
      if (bx) {
        bw = bx / bA
      }
      for (bn = 0; bn < bm; bn++) {
        if (bn % bw !== 0) {
          bs.push(aV(br, A))
        }
        br = br + bz * Y
      }
      return bs
    },
    getMajorTickPositions: function() {
      var X = this;
      return X.getTickPositions(X.options.majorUnit)
    },
    getMinorTickPositions: function() {
      var X = this;
      return X.getTickPositions(X.options.minorUnit)
    },
    getSlot: function(X, bm) {
      var Y = this,
        br = Y.options,
        bu = br.reverse,
        by = br.vertical,
        bx = by ? bk : bj,
        bo = Y.lineBox(),
        bq = bo[bx + (bu ? 2 : 1)],
        bp = by ? bo.height() : bo.width(),
        bn = bu ? -1 : 1,
        bw = bn * (bp / (br.max - br.min)),
        bs, bt, bv = new p(bo.x1, bo.y1, bo.x1, bo.y1);
      if (!M(X)) {
        X = bm || 0
      }
      if (!M(bm)) {
        bm = X || 0
      }
      X = av.max(av.min(X, br.max), br.min);
      bm = av.max(av.min(bm, br.max), br.min);
      if (by) {
        bs = br.max - av.max(X, bm);
        bt = br.max - av.min(X, bm)
      } else {
        bs = av.min(X, bm) - br.min;
        bt = av.max(X, bm) - br.min
      }
      bv[bx + 1] = bq + bw * (bu ? bt : bs);
      bv[bx + 2] = bq + bw * (bu ? bs : bt);
      return bv
    },
    getValue: function(bt) {
      var X = this,
        bs = X.options,
        bu = bs.reverse,
        bz = bs.vertical,
        bp = bs.max * 1,
        bq = bs.min * 1,
        bx = bz ? bk : bj,
        bm = X.lineBox(),
        bo = bm[bx + (bu ? 2 : 1)],
        bn = bz ? bm.height() : bm.width(),
        Y = bu ? -1 : 1,
        br = Y * (bt[bx] - bo),
        bv = (bp - bq) / bn,
        by = br * bv,
        bw;
      if (br < 0 || br > bn) {
        return null
      }
      bw = bz ? bp - by : bq + by;
      return aV(bw, K)
    },
    translateRange: function(Y) {
      var X = this,
        bo = X.options,
        bm = X.lineBox(),
        bt = bo.vertical,
        bq = bo.reverse,
        bs = bt ? bm.height() : bm.width(),
        bp = bo.max - bo.min,
        br = bs / bp,
        bn = aV(Y / br, K);
      if ((bt || bq) && !(bt && bq)) {
        bn = -bn
      }
      return {
        min: bo.min + bn,
        max: bo.max + bn
      }
    },
    scaleRange: function(Y) {
      var X = this,
        bn = X.options,
        bm = -Y * bn.majorUnit;
      return {
        min: bn.min - bm,
        max: bn.max + bm
      }
    },
    labelsCount: function() {
      return this.getDivisions(this.options.majorUnit)
    },
    createAxisLabel: function(Y, bm) {
      var X = this,
        bn = X.options,
        bp = aV(bn.min + (Y * bn.majorUnit), K),
        bo = X.axisLabelText(bp, null, bm);
      return new j(bp, bo, Y, null, bm)
    },
    shouldRenderNote: function(Y) {
      var X = this.range();
      return X.min <= Y && Y <= X.max
    }
  });
  var bf = w.extend({
    init: function(Y) {
      var X = this;
      X.children = [];
      X.options = H({}, X.options, Y)
    },
    render: function() {
      return this.template(this)
    },
    renderContent: function() {
      var Y = this,
        bn = "",
        bo = Y.sortChildren(),
        X = bo.length,
        bm;
      for (bm = 0; bm < X; bm++) {
        bn += bo[bm].render()
      }
      return bn
    },
    sortChildren: function() {
      var Y = this,
        X = Y.children,
        bn, bm;
      for (bm = 0, bn = X.length; bm < bn; bm++) {
        X[bm]._childIndex = bm
      }
      return X.slice(0).sort(Y.compareChildren)
    },
    refresh: a.noop,
    destroy: function() {
      var Y = this,
        bn = Y.options.id,
        X = Y.children,
        bo, bm;
      if (bn) {
        ah.current.free(bn)
      }
      for (bm = 0, bo = X.length; bm < bo; bm++) {
        X[bm].destroy()
      }
    },
    compareChildren: function(X, bm) {
      var Y = X.options.zIndex || 0,
        bn = bm.options.zIndex || 0;
      if (Y !== bn) {
        return Y - bn
      }
      return X._childIndex - bm._childIndex
    },
    renderId: function() {
      var X = this,
        Y = "";
      if (X.options.id) {
        Y = X.renderAttr("id", X.options.id)
      }
      return Y
    },
    renderAttr: function(X, Y) {
      return M(Y) ? " " + X + "='" + Y + "' " : ""
    },
    renderDataAttributes: function() {
      var bm = this,
        Y = bm.options.data,
        bn, X, bo = "";
      for (bn in Y) {
        X = "data-" + bn.replace(bc, "-$1").toLowerCase();
        bo += bm.renderAttr(X, Y[bn])
      }
      return bo
    },
    renderCursor: function() {
      var X = this.options,
        Y = "";
      if (M(X.cursor) && X.cursor.style) {
        Y += "cursor: " + X.cursor.style + ";"
      }
      return Y
    }
  });
  var be = bf.extend({
    init: function(X) {
      var Y = this;
      bf.fn.init.call(Y, X);
      Y.definitions = {};
      Y.decorators = [];
      Y.animations = []
    },
    destroy: function() {
      var Y = this,
        X = Y.animations,
        bm = Y._viewElement;
      bf.fn.destroy.call(this);
      while (X.length > 0) {
        X.shift().destroy()
      }
      if (bm) {
        Y._freeIds(bm);
        Y._viewElement = null
      }
    },
    _freeIds: function(X) {
      a("[id]", X).each(function() {
        ah.current.free(a(this).attr("id"))
      })
    },
    replace: function(Y) {
      var bm = this,
        X = aa(Y.id);
      if (X) {
        bm._freeIds(X);
        X.parentNode.replaceChild(bm.renderElement(Y.getViewElements(bm)[0]), X)
      }
    },
    load: function(X) {
      var Y = this;
      Y.children = X.getViewElements(Y)
    },
    renderDefinitions: function() {
      var Y = this.definitions,
        X, bm = "";
      for (X in Y) {
        if (Y.hasOwnProperty(X)) {
          bm += Y[X].render()
        }
      }
      return bm
    },
    decorate: function(bm) {
      var Y = this.decorators,
        bn, bo = Y.length,
        X;
      for (bn = 0; bn < bo; bn++) {
        X = Y[bn];
        this._decorateChildren(X, bm);
        bm = X.decorate.call(X, bm)
      }
      return bm
    },
    _decorateChildren: function(Y, bm) {
      var bp = this,
        X = bm.children,
        bn, bo = X.length;
      for (bn = 0; bn < bo; bn++) {
        bp._decorateChildren(Y, X[bn]);
        X[bn] = Y.decorate.call(Y, X[bn])
      }
    },
    setupAnimations: function() {
      for (var X = 0; X < this.animations.length; X++) {
        this.animations[X].setup()
      }
    },
    playAnimations: function() {
      for (var X = 0; X < this.animations.length; X++) {
        this.animations[X].play()
      }
    },
    buildGradient: function(bn) {
      var bp = this,
        X = bp._gradientCache,
        bm, bo, Y;
      if (!X) {
        X = bp._gradientCache = []
      }
      if (bn) {
        bm = ab(bn);
        bo = X[bm];
        Y = E.Gradients[bn.gradient];
        if (!bo && Y) {
          bo = H({
            id: ba()
          }, Y, bn);
          X[bm] = bo
        }
      }
      return bo
    },
    setDefaults: function(X) {
      var Y = this.options;
      X = X || {};
      if (!M(X.inline)) {
        X.inline = Y.inline
      }
      if (!M(X.align)) {
        X.align = Y.align
      }
      return X
    }
  });
  E.Gradients = {
    glass: {
      type: ar,
      rotation: 0,
      stops: [{
        offset: 0,
        color: bh,
        opacity: 0
      }, {
        offset: 0.25,
        color: bh,
        opacity: 0.3
      }, {
        offset: 1,
        color: bh,
        opacity: 0
      }]
    },
    sharpBevel: {
      type: aM,
      stops: [{
        offset: 0,
        color: bh,
        opacity: 0.55
      }, {
        offset: 0.65,
        color: bh,
        opacity: 0
      }, {
        offset: 0.95,
        color: bh,
        opacity: 0.25
      }]
    },
    roundedBevel: {
      type: aM,
      stops: [{
        offset: 0.33,
        color: bh,
        opacity: 0.06
      }, {
        offset: 0.83,
        color: bh,
        opacity: 0.2
      }, {
        offset: 0.95,
        color: bh,
        opacity: 0
      }]
    },
    roundedGlass: {
      type: aM,
      supportVML: false,
      stops: [{
        offset: 0,
        color: bh,
        opacity: 0
      }, {
        offset: 0.5,
        color: bh,
        opacity: 0.3
      }, {
        offset: 0.99,
        color: bh,
        opacity: 0
      }]
    },
    sharpGlass: {
      type: aM,
      supportVML: false,
      stops: [{
        offset: 0,
        color: bh,
        opacity: 0.2
      }, {
        offset: 0.15,
        color: bh,
        opacity: 0.15
      }, {
        offset: 0.17,
        color: bh,
        opacity: 0.35
      }, {
        offset: 0.85,
        color: bh,
        opacity: 0.05
      }, {
        offset: 0.87,
        color: bh,
        opacity: 0.15
      }, {
        offset: 0.99,
        color: bh,
        opacity: 0
      }]
    }
  };
  var Q = w.extend({
    init: function(Y, bm) {
      var X = this;
      X.options = H({}, X.options, bm);
      X.element = Y
    },
    options: {
      duration: ak,
      easing: a0
    },
    play: function() {
      var X = this,
        bt = X.options,
        bq = X.element,
        br = bq.options.id,
        bm, Y = bt.delay || 0,
        bv = +new Date() + Y,
        bn = bt.duration,
        bs = bv + bn,
        bo = a.easing[bt.easing],
        bx, bw, bu, bp;
      setTimeout(function() {
        var by = function() {
          if (X._stopped) {
            return
          }
          bx = +new Date();
          bw = av.min(bx - bv, bn);
          bu = bw / bn;
          bp = bo(bu, bw, 0, 1, bn);
          X.step(bp);
          if (!bm || O(bm)) {
            bm = aa(br)
          }
          bq.refresh(bm);
          if (bx < bs) {
            E.requestFrame(by)
          } else {
            X.destroy()
          }
        };
        by()
      }, Y)
    },
    abort: function() {
      this._stopped = true
    },
    destroy: function() {
      this.abort()
    },
    setup: aC,
    step: aC
  });
  var T = Q.extend({
    options: {
      duration: 200,
      easing: ar
    },
    setup: function() {
      var X = this,
        Y = X.element.options;
      X.targetFillOpacity = Y.fillOpacity;
      X.targetStrokeOpacity = Y.strokeOpacity;
      Y.fillOpacity = Y.strokeOpacity = 0
    },
    step: function(bm) {
      var X = this,
        Y = X.element.options;
      Y.fillOpacity = bm * X.targetFillOpacity;
      Y.strokeOpacity = bm * X.targetStrokeOpacity
    }
  });
  var R = Q.extend({
    options: {
      size: 0,
      easing: ar
    },
    setup: function() {
      var X = this.element.points;
      X[1].x = X[2].x = X[0].x
    },
    step: function(bm) {
      var X = this.options,
        bn = am(0, X.size, bm),
        Y = this.element.points;
      Y[1].x = Y[2].x = Y[0].x + bn
    },
    destroy: function() {
      Q.fn.destroy.call(this);
      this.element.destroy()
    }
  });
  var aU = Q.extend({
    options: {
      easing: ar,
      duration: 900
    },
    setup: function() {
      var X = this,
        bm = X.element,
        bn = bm.options,
        bp = X.options,
        Y = bp.center,
        bq, bo;
      if (bn.rotation) {
        bq = bp.startAngle;
        bo = bn.rotation[0];
        bp.duration = av.max((av.abs(bq - bo) / bp.speed) * 1000, 1);
        X.endState = bo;
        bn.rotation = [bq, Y.x, Y.y]
      }
    },
    step: function(bm) {
      var X = this,
        Y = X.element;
      if (Y.options.rotation) {
        Y.options.rotation[0] = am(X.options.startAngle, X.endState, bm)
      }
    }
  });
  var k = Q.extend({
    options: {
      easing: a0
    },
    setup: function() {
      var Y = this,
        bn = Y.element,
        bq = bn.points,
        bp = bn.options,
        bm = bp.vertical ? bk : bj,
        br = bp.stackBase,
        X = bp.aboveAxis,
        bs, bo = Y.endState = {
          top: bq[0].y,
          right: bq[1].x,
          bottom: bq[3].y,
          left: bq[0].x
        };
      if (bm === bk) {
        bs = bd(br, bo[X ? o : a6])
      } else {
        bs = bd(br, bo[X ? ap : aQ])
      }
      Y.startPosition = bs;
      bb(bq, bm, bs)
    },
    step: function(bo) {
      var X = this,
        bp = X.startPosition,
        bm = X.endState,
        Y = X.element,
        bn = Y.points;
      if (Y.options.vertical) {
        bn[0].y = bn[1].y = am(bp, bm.top, bo);
        bn[2].y = bn[3].y = am(bp, bm.bottom, bo)
      } else {
        bn[0].x = bn[3].x = am(bp, bm.left, bo);
        bn[1].x = bn[2].x = am(bp, bm.right, bo)
      }
    }
  });
  var l = Q.extend({
    options: {
      easing: a0,
      duration: 1000
    },
    setup: function() {
      var X = this,
        bm = X.element,
        bs = bm.points,
        br = bm.options.animation,
        bw = br.vertical,
        bu = br.reverse,
        Y = X.axis = bw ? "y" : "x",
        bv, bn, bt, bo = X.options.endPosition,
        bq = X.initialState = {
          top: bs[0].y,
          right: bs[1].x,
          bottom: bs[3].y,
          left: bs[0].x
        }, bp = !M(X.options.endPosition);
      if (bw) {
        bt = bu ? "y2" : "y1";
        bv = bq[bp && !bu ? o : a6];
        bn = bp ? bq[bu ? o : a6] : bo[bt]
      } else {
        bt = bu ? "x1" : "x2";
        bv = bq[bp && !bu ? ap : aQ];
        bn = bp ? bq[bu ? ap : aQ] : bo[bt]
      }
      X.start = bv;
      X.end = bn;
      if (bp) {
        bb(bs, Y, X.start)
      } else {
        if (br.speed) {
          X.options.duration = av.max((av.abs(X.start - X.end) / br.speed) * 1000, 1)
        }
      }
    },
    step: function(bp) {
      var X = this,
        bq = X.start,
        bn = X.end,
        bm = X.element,
        bo = bm.points,
        Y = X.axis;
      if (bm.options.animation.vertical) {
        bo[0][Y] = bo[1][Y] = am(bq, bn, bp)
      } else {
        bo[1][Y] = bo[2][Y] = am(bq, bn, bp)
      }
    }
  });
  var e = Q.extend({
    options: {
      easing: a0,
      duration: 1000
    },
    setup: function() {
      var X = this,
        bn = X.element,
        bw = bn.points,
        bt = bn.options.animation,
        bA = bt.vertical,
        bx = bt.reverse,
        Y = bA ? "y" : "x",
        by = Y + (bx ? "1" : "2"),
        bp = Y + (bx ? "2" : "1"),
        bz = bt.startPosition[bA ? by : bp],
        bq = bt.size / 2,
        bm = bw.length,
        bs = !M(X.options.endPosition),
        bu = bq,
        bv, bo, br;
      X.axis = Y;
      X.endPositions = [];
      X.startPositions = [];
      if (!bs) {
        bz = bw[1][Y];
        bo = X.options.endPosition[bA ? bp : by];
        if (bt.speed) {
          X.options.duration = av.max((av.abs(bz - bo) / bt.speed) * 1000, 1)
        }
      }
      for (br = 0; br < bm; br++) {
        bv = H({}, bw[br]);
        if (bs) {
          X.endPositions[br] = bv[Y];
          bw[br][Y] = bz - bu
        } else {
          X.endPositions[br] = bo - bu
        }
        X.startPositions[br] = bw[br][Y];
        bu -= bq
      }
    },
    step: function(br) {
      var X = this,
        bs = X.startPositions,
        bo = X.endPositions,
        bn = X.element,
        bq = bn.points,
        Y = X.axis,
        bm = bq.length,
        bp;
      for (bp = 0; bp < bm; bp++) {
        bq[bp][Y] = am(bs[bp], bo[bp], br)
      }
    }
  });

  function c(X, Y) {
    return w.extend({
      init: function(bm) {
        this.view = bm
      },
      decorate: function(bp) {
        var bo = this,
          bq = bo.view,
          bm = bp.options.animation,
          bn;
        if (bm && bm.type === X && bq.options.transitions) {
          bn = bp._animation = new Y(bp, bm);
          bq.animations.push(bn)
        }
        return bp
      }
    })
  }
  var U = c(V, T);
  var z = function(br) {
    var Y = this,
      bm = z.formats,
      bq, bp, bo, bn, X;
    if (arguments.length === 1) {
      br = Y.resolveColor(br);
      for (bn = 0; bn < bm.length; bn++) {
        bq = bm[bn].re;
        bp = bm[bn].process;
        bo = bq.exec(br);
        if (bo) {
          X = bp(bo);
          Y.r = X[0];
          Y.g = X[1];
          Y.b = X[2]
        }
      }
    } else {
      Y.r = arguments[0];
      Y.g = arguments[1];
      Y.b = arguments[2]
    }
    Y.r = Y.normalizeByte(Y.r);
    Y.g = Y.normalizeByte(Y.g);
    Y.b = Y.normalizeByte(Y.b)
  };
  z.prototype = {
    toHex: function() {
      var Y = this,
        bn = Y.padDigit,
        bo = Y.r.toString(16),
        bm = Y.g.toString(16),
        X = Y.b.toString(16);
      return "#" + bn(bo) + bn(bm) + bn(X)
    },
    resolveColor: function(X) {
      X = X || n;
      if (X.charAt(0) == "#") {
        X = X.substr(1, 6)
      }
      X = X.replace(/ /g, "");
      X = X.toLowerCase();
      X = z.namedColors[X] || X;
      return X
    },
    normalizeByte: function(X) {
      return (X < 0 || isNaN(X)) ? 0 : ((X > 255) ? 255 : X)
    },
    padDigit: function(X) {
      return (X.length === 1) ? "0" + X : X
    },
    brightness: function(bm) {
      var X = this,
        Y = av.round;
      X.r = Y(X.normalizeByte(X.r * bm));
      X.g = Y(X.normalizeByte(X.g * bm));
      X.b = Y(X.normalizeByte(X.b * bm));
      return X
    },
    percBrightness: function() {
      var X = this;
      return av.sqrt(0.241 * X.r * X.r + 0.691 * X.g * X.g + 0.06800000000000001 * X.b * X.b)
    }
  };
  z.formats = [{
    re: /^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,
    process: function(X) {
      return [parseInt(X[1], 10), parseInt(X[2], 10), parseInt(X[3], 10)]
    }
  }, {
    re: /^(\w{2})(\w{2})(\w{2})$/,
    process: function(X) {
      return [parseInt(X[1], 16), parseInt(X[2], 16), parseInt(X[3], 16)]
    }
  }, {
    re: /^(\w{1})(\w{1})(\w{1})$/,
    process: function(X) {
      return [parseInt(X[1] + X[1], 16), parseInt(X[2] + X[2], 16), parseInt(X[3] + X[3], 16)]
    }
  }];
  z.namedColors = {
    aqua: "00ffff",
    azure: "f0ffff",
    beige: "f5f5dc",
    black: "000000",
    blue: "0000ff",
    brown: "a52a2a",
    coral: "ff7f50",
    cyan: "00ffff",
    darkblue: "00008b",
    darkcyan: "008b8b",
    darkgray: "a9a9a9",
    darkgreen: "006400",
    darkorange: "ff8c00",
    darkred: "8b0000",
    dimgray: "696969",
    fuchsia: "ff00ff",
    gold: "ffd700",
    goldenrod: "daa520",
    gray: "808080",
    green: "008000",
    greenyellow: "adff2f",
    indigo: "4b0082",
    ivory: "fffff0",
    khaki: "f0e68c",
    lightblue: "add8e6",
    lightgrey: "d3d3d3",
    lightgreen: "90ee90",
    lightpink: "ffb6c1",
    lightyellow: "ffffe0",
    lime: "00ff00",
    limegreen: "32cd32",
    linen: "faf0e6",
    magenta: "ff00ff",
    maroon: "800000",
    mediumblue: "0000cd",
    navy: "000080",
    olive: "808000",
    orange: "ffa500",
    orangered: "ff4500",
    orchid: "da70d6",
    pink: "ffc0cb",
    plum: "dda0dd",
    purple: "800080",
    red: "ff0000",
    royalblue: "4169e1",
    salmon: "fa8072",
    silver: "c0c0c0",
    skyblue: "87ceeb",
    slateblue: "6a5acd",
    slategray: "708090",
    snow: "fffafa",
    steelblue: "4682b4",
    tan: "d2b48c",
    teal: "008080",
    tomato: "ff6347",
    turquoise: "40e0d0",
    violet: "ee82ee",
    wheat: "f5deb3",
    white: "ffffff",
    whitesmoke: "f5f5f5",
    yellow: "ffff00",
    yellowgreen: "9acd32"
  };
  var ah = w.extend({
    init: function(Y, X, bm) {
      this._pool = [];
      this._freed = {};
      this._size = Y;
      this._id = bm;
      this._prefix = X
    },
    alloc: function() {
      var bm = this,
        Y = bm._pool,
        X;
      if (Y.length > 0) {
        X = Y.pop();
        bm._freed[X] = false
      } else {
        X = bm._prefix + bm._id++
      }
      return X
    },
    free: function(Y) {
      var bn = this,
        bm = bn._pool,
        X = bn._freed;
      if (bm.length < bn._size && !X[Y]) {
        bm.push(Y);
        X[Y] = true
      }
    }
  });
  ah.current = new ah(ae, af, ag);
  var at = w.extend({
    init: function(X) {
      this._size = X;
      this._length = 0;
      this._map = {}
    },
    put: function(Y, bo) {
      var bm = this,
        bn = bm._map,
        X = {
          key: Y,
          value: bo
        };
      bn[Y] = X;
      if (!bm._head) {
        bm._head = bm._tail = X
      } else {
        bm._tail.newer = X;
        X.older = bm._tail;
        bm._tail = X
      }
      if (bm._length >= bm._size) {
        bn[bm._head.key] = null;
        bm._head = bm._head.newer;
        bm._head.older = null
      } else {
        bm._length++
      }
    },
    get: function(Y) {
      var bm = this,
        X = bm._map[Y];
      if (X) {
        if (X === bm._head && X !== bm._tail) {
          bm._head = X.newer;
          bm._head.older = null
        }
        if (X !== bm._tail) {
          if (X.older) {
            X.older.newer = X.newer;
            X.newer.older = X.older
          }
          X.older = bm._tail;
          X.newer = null;
          bm._tail.newer = X;
          bm._tail = X
        }
        return X.value
      }
    }
  });
  var bg = function() {
    this._views = []
  };
  bg.prototype = {
    register: function(bm, bo, bn) {
      var bp = this._views,
        X = bp[0],
        Y = {
          name: bm,
          type: bo,
          order: bn
        };
      if (!X || bn < X.order) {
        bp.unshift(Y)
      } else {
        bp.push(Y)
      }
    },
    create: function(bm, bn) {
      var bo = this._views,
        Y = bo[0];
      if (bn) {
        bn = bn.toLowerCase();
        for (var X = 0; X < bo.length; X++) {
          if (bo[X].name === bn) {
            Y = bo[X];
            break
          }
        }
      }
      if (Y) {
        return new Y.type(bm)
      }
      an.logToConsole("Warning: KendoUI DataViz cannot render. Possible causes:\n- The browser does not support SVG, VML and Canvas. User agent: " + navigator.userAgent + "\n- The kendo.dataviz.(svg|vml|canvas).js scripts are not loaded")
    }
  };
  bg.current = new bg();
  var S = {
    svg: function() {
      if (E.SVGView) {
        var X = this._getModel(),
          Y = new E.SVGView(X.options);
        Y.load(X);
        return Y.render()
      } else {
        throw new Error("Unable to create SVGView. Check that kendo.dataviz.svg.js is loaded.")
      }
    },
    imageDataURL: function() {
      if (E.CanvasView) {
        if (E.supportsCanvas()) {
          var Y = this._getModel(),
            X = document.createElement("div"),
            bm = new E.CanvasView(Y.options);
          bm.load(Y);
          return bm.renderTo(X).toDataURL()
        } else {
          an.logToConsole("Warning: Unable to generate image. The browser does not support Canvas.\nUser agent: " + navigator.userAgent);
          return null
        }
      } else {
        throw new Error("Unable to create CanvasView. Check that kendo.dataviz.canvas.js is loaded.")
      }
    }
  };
  var a4 = w.extend({
    init: function() {
      this._cache = new at(1000)
    },
    measure: function(bA, bx, bv) {
      var by = ab(bx),
        bm = bA + by + bv,
        Y = this._cache.get(bm);
      if (Y) {
        return Y
      }
      var bw = {
        width: 0,
        height: 0,
        baseline: 0
      };
      var bq = this._measureBox,
        X = this._baselineMarker.cloneNode(false);
      for (var bz in bx) {
        bq.style[bz] = bx[bz]
      }
      bq.innerHTML = bA;
      bq.appendChild(X);
      P.body.appendChild(bq);
      if ((bA + "").length) {
        bw = {
          width: bq.offsetWidth - m,
          height: bq.offsetHeight,
          baseline: X.offsetTop + m
        }
      }
      if (bv) {
        var bB = bw.width,
          bp = bw.height,
          bn = bB / 2,
          bo = bp / 2,
          br = aT(0, 0, bn, bo, bv),
          bs = aT(bB, 0, bn, bo, bv),
          bt = aT(bB, bp, bn, bo, bv),
          bu = aT(0, bp, bn, bo, bv);
        bw.normalWidth = bB;
        bw.normalHeight = bp;
        bw.width = av.max(br.x, bs.x, bt.x, bu.x) - av.min(br.x, bs.x, bt.x, bu.x);
        bw.height = av.max(br.y, bs.y, bt.y, bu.y) - av.min(br.y, bs.y, bt.y, bu.y)
      }
      this._cache.put(bm, bw);
      bq.parentNode.removeChild(bq);
      return bw
    }
  });
  a4.fn._baselineMarker = a("<div class='" + C + "baseline-marker' style='display: inline-block; vertical-align: baseline;width: " + m + "px; height: " + m + "px;overflow: hidden;' />")[0];
  a4.fn._measureBox = a("<div style='position: absolute; top: -4000px;line-height: normal; visibility: hidden;' />")[0];
  a4.current = new a4();

  function ay(bm, Y, X) {
    return a4.current.measure(bm, Y, X)
  }
  function g(bm, Y) {
    var X = aV(Y - bm, K - 1);
    if (X === 0) {
      if (Y === 0) {
        return 0.1
      }
      X = av.abs(Y)
    }
    var bo = av.pow(10, av.floor(av.log(X) / av.log(10))),
      bn = aV((X / bo), K),
      bp = 1;
    if (bn < 1.904762) {
      bp = 0.2
    } else {
      if (bn < 4.761904) {
        bp = 0.5
      } else {
        if (bn < 9.523809) {
          bp = 1
        } else {
          bp = 2
        }
      }
    }
    return aV(bo * bp, K)
  }
  function ab(bm) {
    var X = [];
    for (var Y in bm) {
      X.push(Y + bm[Y])
    }
    return X.sort().join(" ")
  }
  function ba() {
    return ah.current.alloc()
  }
  function aT(bo, bp, Y, bm, X) {
    var bn = X * N;
    return new aL(Y + (bo - Y) * av.cos(bn) + (bp - bm) * av.sin(bn), bm - (bo - Y) * av.sin(bn) + (bp - bm) * av.cos(bn))
  }
  function q(bs, bu) {
    if (bs.x1 == bu.x1 && bs.y1 == bu.y1 && bs.x2 == bu.x2 && bs.y2 == bu.y2) {
      return bu
    }
    var X = av.min(bs.x1, bu.x1),
      Y = av.max(bs.x1, bu.x1),
      bm = av.min(bs.x2, bu.x2),
      bn = av.max(bs.x2, bu.x2),
      bo = av.min(bs.y1, bu.y1),
      bp = av.max(bs.y1, bu.y1),
      bq = av.min(bs.y2, bu.y2),
      br = av.max(bs.y2, bu.y2),
      bt = [];
    bt[0] = p(Y, bo, bm, bp);
    bt[1] = p(X, bp, Y, bq);
    bt[2] = p(bm, bp, bn, bq);
    bt[3] = p(Y, bq, bm, br);
    if (bs.x1 == X && bs.y1 == bo || bu.x1 == X && bu.y1 == bo) {
      bt[4] = p(X, bo, Y, bp);
      bt[5] = p(bm, bq, bn, br)
    } else {
      bt[4] = p(bm, bo, bn, bp);
      bt[5] = p(X, bq, Y, br)
    }
    return a.grep(bt, function(bv) {
      return bv.height() > 0 && bv.width() > 0
    })[0]
  }
  function aZ() {
    return P.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1")
  }
  function aY() {
    return !!P.createElement("canvas").getContext
  }
  var aP = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(X) {
      setTimeout(X, b)
    };
  E.requestFrame = function(X, Y) {
    return aP(X, Y)
  };

  function ai(Y, X) {
    return aj(Y, X) != -1
  }
  function ao(X) {
    return X[X.length - 1]
  }
  function d(X, Y) {
    X.push.apply(X, Y)
  }
  function s(Y, X) {
    return aV(av.ceil(Y / X) * X, K)
  }
  function W(Y, X) {
    return aV(av.floor(Y / X) * X, K)
  }
  function aV(bm, Y) {
    var X = av.pow(10, Y || 0);
    return av.round(bm * X) / X
  }
  function aN(bo, X, Y) {
    var bm = aV(av.abs(bo % X), K),
      bn = X * (1 - Y);
    return bm === 0 || bm > bn
  }
  function am(bm, X, Y) {
    return aV(bm + (X - bm) * Y, A)
  }
  function M(X) {
    return typeof X !== a9
  }
  function bd(Y, X) {
    return M(Y) ? Y : X
  }
  function aH(X, Y) {
    return X - Y
  }
  function bb(X, bn, bo) {
    var Y, bm = X.length;
    for (Y = 0; Y < bm; Y++) {
      X[Y][bn] = bo
    }
  }
  function f(X, Y) {
    if (X.match(Z)) {
      return an.format.apply(this, arguments)
    }
    return an.toString(Y, X)
  }
  function aa(X) {
    return P.getElementById(X)
  }
  function O(X) {
    var Y = X.parentNode;
    while (Y && Y.parentNode) {
      Y = Y.parentNode
    }
    return Y !== P
  }
  function y(X, Y) {
    return -X.x * Y.y + X.y * Y.x < 0
  }
  function G(Y) {
    if (!Y || !Y.indexOf || Y.indexOf("&") < 0) {
      return Y
    } else {
      var X = G._element;
      X.innerHTML = Y;
      return X.textContent || X.innerText
    }
  }
  G._element = P.createElement("span");

  function F(X, Y) {
    if (X && Y) {
      return X.getTime() - Y.getTime()
    }
    return 0
  }
  var D = function(X) {
    this.closed = X
  };
  D.prototype = D.fn = {
    WEIGHT: 0.333,
    EXTREMUM_ALLOWED_DEVIATION: 0.01,
    process: function(bn) {
      var bx = this,
        X = bx.closed,
        bv = bn.slice(0),
        br = bv.length,
        bm = [],
        bs, bt, bu, Y, bp, bq, bw;
      if (br > 2) {
        bx.removeDuplicates(0, bv);
        br = bv.length
      }
      if (br < 2 || (br == 2 && bv[0].equals(bv[1]))) {
        return bm
      }
      bs = bv[0];
      bt = bv[1];
      bu = bv[2];
      bm.push(bs);
      while (bs.equals(bv[br - 1])) {
        X = true;
        bv.pop();
        br--
      }
      if (br == 2) {
        bw = bx.tangent(bs, bt, bj, bk);
        bm.push(bx.firstControlPoint(bw, bs, bt, bj, bk), bx.secondControlPoint(bw, bs, bt, bj, bk), bt);
        return bm
      }
      if (X) {
        bs = bv[br - 1];
        bt = bv[0];
        bu = bv[1];
        Y = bx.controlPoints(bs, bt, bu);
        bp = Y[1];
        bq = Y[0]
      } else {
        bw = bx.tangent(bs, bt, bj, bk);
        bp = bx.firstControlPoint(bw, bs, bt, bj, bk)
      }
      bm.push(bp);
      for (var bo = 0; bo <= br - 3; bo++) {
        bx.removeDuplicates(bo, bv);
        br = bv.length;
        if (bo + 3 <= br) {
          bs = bv[bo];
          bt = bv[bo + 1];
          bu = bv[bo + 2];
          Y = bx.controlPoints(bs, bt, bu);
          bm.push(Y[0], bt, Y[1])
        }
      }
      if (X) {
        bs = bv[br - 2];
        bt = bv[br - 1];
        bu = bv[0];
        Y = bx.controlPoints(bs, bt, bu);
        bm.push(Y[0], bt, Y[1], bq, bu)
      } else {
        bw = bx.tangent(bt, bu, bj, bk);
        bm.push(bx.secondControlPoint(bw, bt, bu, bj, bk), bu)
      }
      return bm
    },
    removeDuplicates: function(X, Y) {
      while (Y[X].equals(Y[X + 1]) || Y[X + 1].equals(Y[X + 2])) {
        Y.splice(X + 1, 1)
      }
    },
    invertAxis: function(bm, bn, bo) {
      var bp = this,
        X, bq, Y = false;
      if (bm.x === bn.x) {
        Y = true
      } else {
        if (bn.x === bo.x) {
          if ((bn.y < bo.y && bm.y <= bn.y) || (bo.y < bn.y && bn.y <= bm.y)) {
            Y = true
          }
        } else {
          X = bp.lineFunction(bm, bn);
          bq = bp.calculateFunction(X, bo.x);
          if (!(bm.y <= bn.y && bo.y <= bq) && !(bn.y <= bm.y && bo.y >= bq)) {
            Y = true
          }
        }
      }
      return Y
    },
    isLine: function(Y, bm, bn) {
      var bo = this,
        X = bo.lineFunction(Y, bm),
        bp = bo.calculateFunction(X, bn.x);
      return (Y.x == bm.x && bm.x == bn.x) || aV(bp, 1) === aV(bn.y, 1)
    },
    lineFunction: function(bm, bn) {
      var X = (bn.y - bm.y) / (bn.x - bm.x),
        Y = bm.y - X * bm.x;
      return [Y, X]
    },
    controlPoints: function(bo, bp, bq) {
      var bw = this,
        bx = bj,
        by = bk,
        br = false,
        bu = false,
        bv, bm, Y, bs, X = bw.EXTREMUM_ALLOWED_DEVIATION;
      if (bw.isLine(bo, bp, bq)) {
        bv = bw.tangent(bo, bp, bj, bk)
      } else {
        bm = {
          x: bw.isMonotonicByField(bo, bp, bq, bj),
          y: bw.isMonotonicByField(bo, bp, bq, bk)
        };
        if (bm.x && bm.y) {
          bv = bw.tangent(bo, bq, bj, bk);
          br = true
        } else {
          if (bw.invertAxis(bo, bp, bq)) {
            bx = bk;
            by = bj
          }
          if (bm[bx]) {
            bv = 0
          } else {
            var bt;
            if ((bq[by] < bo[by] && bo[by] <= bp[by]) || (bo[by] < bq[by] && bp[by] <= bo[by])) {
              bt = bw.sign((bq[by] - bo[by]) * (bp[bx] - bo[bx]))
            } else {
              bt = -bw.sign((bq[bx] - bo[bx]) * (bp[by] - bo[by]))
            }
            bv = X * bt;
            bu = true
          }
        }
      }
      bs = bw.secondControlPoint(bv, bo, bp, bx, by);
      if (bu) {
        var bn = bx;
        bx = by;
        by = bn
      }
      Y = bw.firstControlPoint(bv, bp, bq, bx, by);
      if (br) {
        bw.restrictControlPoint(bo, bp, bs, bv);
        bw.restrictControlPoint(bp, bq, Y, bv)
      }
      return [bs, Y]
    },
    sign: function(X) {
      return X <= 0 ? -1 : 1
    },
    restrictControlPoint: function(Y, bm, X, bn) {
      if (Y.y < bm.y) {
        if (bm.y < X.y) {
          X.x = Y.x + (bm.y - Y.y) / bn;
          X.y = bm.y
        } else {
          if (X.y < Y.y) {
            X.x = bm.x - (bm.y - Y.y) / bn;
            X.y = Y.y
          }
        }
      } else {
        if (X.y < bm.y) {
          X.x = Y.x - (Y.y - bm.y) / bn;
          X.y = bm.y
        } else {
          if (Y.y < X.y) {
            X.x = bm.x + (Y.y - bm.y) / bn;
            X.y = Y.y
          }
        }
      }
    },
    tangent: function(X, Y, bo, bq) {
      var bm, bn = Y[bo] - X[bo],
        bp = Y[bq] - X[bq];
      if (bn === 0) {
        bm = 0
      } else {
        bm = bp / bn
      }
      return bm
    },
    isMonotonicByField: function(Y, bm, bn, X) {
      return (bn[X] > bm[X] && bm[X] > Y[X]) || (bn[X] < bm[X] && bm[X] < Y[X])
    },
    firstControlPoint: function(bp, Y, bm, br, bs) {
      var bq = this,
        bn = Y[br],
        bo = bm[br],
        X = (bo - bn) * bq.WEIGHT;
      return bq.point(bn + X, Y[bs] + X * bp, br, bs)
    },
    secondControlPoint: function(bp, Y, bm, br, bs) {
      var bq = this,
        bn = Y[br],
        bo = bm[br],
        X = (bo - bn) * bq.WEIGHT;
      return bq.point(bo - X, bm[bs] - X * bp, br, bs)
    },
    point: function(bm, bo, Y, bn) {
      var X = aL();
      X[Y] = bm;
      X[bn] = bo;
      return X
    },
    calculateFunction: function(X, bo) {
      var bn = 0,
        bm = X.length;
      for (var Y = 0; Y < bm; Y++) {
        bn += Math.pow(bo, Y) * X[Y]
      }
      return bn
    }
  };

  function aq(bm, Y, X) {
    return av.max(av.min(bm, X), Y)
  }
  function aA(Y) {
    var bm = Y.originalEvent,
      X = 0;
    if (bm.wheelDelta) {
      X = -bm.wheelDelta / 120;
      X = X > 0 ? av.ceil(X) : av.floor(X)
    }
    if (bm.detail) {
      X = aV(bm.detail / 3)
    }
    return X
  }
  H(an.dataviz, {
    init: function(X) {
      an.init(X, an.dataviz.ui)
    },
    ui: {
      roles: {},
      themes: {},
      views: [],
      plugin: function(X) {
        an.ui.plugin(X, E.ui)
      }
    },
    AXIS_LABEL_CLICK: i,
    COORD_PRECISION: A,
    DEFAULT_PRECISION: K,
    DEFAULT_WIDTH: L,
    DEFAULT_HEIGHT: J,
    DEFAULT_FONT: I,
    INITIAL_ANIMATION_DURATION: ak,
    NOTE_CLICK: aE,
    NOTE_HOVER: aF,
    CLIP: x,
    DASH_ARRAYS: {
      dot: [1.5, 3.5],
      dash: [4, 3.5],
      longdash: [8, 3.5],
      dashdot: [3.5, 3.5, 1.5, 3.5],
      longdashdot: [8, 3.5, 1.5, 3.5],
      longdashdotdot: [8, 3.5, 1.5, 3.5, 1.5, 3.5]
    },
    Axis: h,
    AxisLabel: j,
    Box2D: p,
    BoxElement: r,
    ChartElement: u,
    Color: z,
    CurveProcessor: D,
    ElementAnimation: Q,
    ExpandAnimation: R,
    ExportMixin: S,
    ArrowAnimation: e,
    BarAnimation: k,
    BarIndicatorAnimatin: l,
    FadeAnimation: T,
    FadeAnimationDecorator: U,
    IDPool: ah,
    LRUCache: at,
    Matrix: aw,
    Note: aD,
    NumericAxis: aG,
    Point2D: aL,
    PinElement: aK,
    Ring: aR,
    Pin: aJ,
    RootElement: aS,
    RotationAnimation: aU,
    Sector: aW,
    ShapeElement: aX,
    Text: a2,
    TextMetrics: a4,
    TextBox: a3,
    Title: a5,
    ViewBase: be,
    ViewElement: bf,
    ViewFactory: bg,
    animationDecorator: c,
    append: d,
    autoFormat: f,
    autoMajorUnit: g,
    boxDiff: q,
    defined: M,
    decodeEntities: G,
    dateComparer: F,
    getElement: aa,
    getSpacing: ac,
    inArray: ai,
    interpolateValue: am,
    last: ao,
    limitValue: aq,
    measureText: ay,
    mwDelta: aA,
    rotatePoint: aT,
    round: aV,
    ceil: s,
    floor: W,
    supportsCanvas: aY,
    supportsSVG: aZ,
    renderTemplate: aO,
    uniqueId: ba,
    valueOrDefault: bd
  })
})(window.kendo.jQuery);
kendo_module({
  id: "dataviz.themes",
  name: "Themes",
  description: "Built-in themes for the DataViz widgets",
  category: "dataviz",
  depends: ["dataviz.core"],
  hidden: true
});
(function() {
  var g = window.kendo,
    n = g.dataviz.ui,
    e = g.deepExtend;
  var a = 1.5,
    b = 0.4,
    c = "#000",
    i = "Arial,Helvetica,sans-serif",
    j = "11px " + i,
    k = "12px " + i,
    l = "16px " + i,
    o = "#fff";
  var d = {
    title: {
      font: l
    },
    legend: {
      labels: {
        font: k
      }
    },
    seriesDefaults: {
      visible: true,
      labels: {
        font: j
      },
      donut: {
        margin: 1
      },
      line: {
        width: 2
      },
      vericalLine: {
        width: 2
      },
      scatterLine: {
        width: 1
      },
      area: {
        opacity: 0.4,
        markers: {
          visible: false,
          size: 6
        },
        highlight: {
          markers: {
            border: {
              color: "#fff",
              opacity: 1,
              width: 1
            }
          }
        },
        line: {
          opacity: 1,
          width: 0
        }
      },
      verticalArea: {
        opacity: 0.4,
        markers: {
          visible: false,
          size: 6
        },
        line: {
          opacity: 1,
          width: 0
        }
      },
      radarLine: {
        width: 2,
        markers: {
          visible: false
        }
      },
      radarArea: {
        opacity: 0.5,
        markers: {
          visible: false,
          size: 6
        },
        line: {
          opacity: 1,
          width: 0
        }
      },
      candlestick: {
        line: {
          width: 1,
          color: c
        },
        border: {
          width: 1,
          _brightness: 0.8
        },
        gap: 1,
        spacing: 0.3,
        downColor: o,
        highlight: {
          line: {
            width: 2
          },
          border: {
            width: 2,
            opacity: 1
          }
        }
      },
      ohlc: {
        line: {
          width: 1
        },
        gap: 1,
        spacing: 0.3,
        highlight: {
          line: {
            width: 3,
            opacity: 1
          }
        }
      },
      bubble: {
        opacity: 0.6,
        border: {
          width: 0
        },
        labels: {
          background: "transparent"
        }
      },
      bar: {
        gap: a,
        spacing: b
      },
      column: {
        gap: a,
        spacing: b
      },
      bullet: {
        gap: a,
        spacing: b,
        target: {
          color: "#ff0000"
        }
      },
      verticalBullet: {
        gap: a,
        spacing: b,
        target: {
          color: "#ff0000"
        }
      },
      boxPlot: {
        outliersField: "",
        meanField: "",
        whiskers: {
          width: 1,
          color: c
        },
        mean: {
          width: 1,
          color: c
        },
        median: {
          width: 1,
          color: c
        },
        border: {
          width: 1,
          _brightness: 0.8
        },
        gap: 1,
        spacing: 0.3,
        downColor: o,
        highlight: {
          whiskers: {
            width: 2
          },
          mean: {
            width: 2
          },
          median: {
            width: 2
          },
          border: {
            width: 2,
            opacity: 1
          }
        }
      },
      funnel: {
        labels: {
          color: "",
          background: ""
        }
      },
      notes: {
        icon: {
          size: 7,
          border: {
            width: 1
          }
        },
        label: {
          padding: 3,
          font: k
        },
        line: {
          length: 10,
          width: 1
        },
        visible: true
      }
    },
    categoryAxis: {
      majorGridLines: {
        visible: true
      }
    },
    axisDefaults: {
      labels: {
        font: k
      },
      title: {
        font: l,
        margin: 5
      },
      crosshair: {
        tooltip: {
          font: k
        }
      },
      notes: {
        icon: {
          size: 7,
          border: {
            width: 1
          }
        },
        label: {
          padding: 3,
          font: k
        },
        line: {
          length: 10,
          width: 1
        },
        visible: true
      }
    },
    tooltip: {
      font: k
    },
    navigator: {
      pane: {
        height: 90,
        margin: {
          top: 10
        }
      }
    }
  };
  var f = {
    scale: {
      labels: {
        font: k
      }
    }
  };
  var m = n.themes,
    h = n.registerTheme = function(s, q) {
      var r = {};
      r.chart = e({}, d, q.chart);
      r.gauge = e({}, f, q.gauge);
      var p = r.chart.seriesDefaults;
      p.verticalLine = e({}, p.line);
      p.verticalArea = e({}, p.area);
      p.polarArea = e({}, p.radarArea);
      p.polarLine = e({}, p.radarLine);
      m[s] = r
    };
  h("black", {
    chart: {
      title: {
        color: o
      },
      legend: {
        labels: {
          color: o
        },
        inactiveItems: {
          labels: {
            color: "#919191"
          },
          markers: {
            color: "#919191"
          }
        }
      },
      seriesDefaults: {
        labels: {
          color: o
        },
        errorBars: {
          color: o
        },
        notes: {
          icon: {
            background: "#3b3b3b",
            border: {
              color: "#8e8e8e"
            }
          },
          label: {
            color: o
          },
          line: {
            color: "#8e8e8e"
          }
        },
        pie: {
          overlay: {
            gradient: "sharpBevel"
          }
        },
        donut: {
          overlay: {
            gradient: "sharpGlass"
          }
        },
        line: {
          markers: {
            background: "#3d3d3d"
          }
        },
        scatter: {
          markers: {
            background: "#3d3d3d"
          }
        },
        scatterLine: {
          markers: {
            background: "#3d3d3d"
          }
        },
        candlestick: {
          downColor: "#555",
          line: {
            color: o
          },
          border: {
            _brightness: 1.5,
            opacity: 1
          },
          highlight: {
            border: {
              color: o,
              opacity: 0.2
            }
          }
        },
        ohlc: {
          line: {
            color: o
          }
        }
      },
      chartArea: {
        background: "#3d3d3d"
      },
      seriesColors: ["#0081da", "#3aafff", "#99c900", "#ffeb3d", "#b20753", "#ff4195"],
      axisDefaults: {
        line: {
          color: "#8e8e8e"
        },
        labels: {
          color: o
        },
        majorGridLines: {
          color: "#545454"
        },
        minorGridLines: {
          color: "#454545"
        },
        title: {
          color: o
        },
        crosshair: {
          color: "#8e8e8e"
        },
        notes: {
          icon: {
            background: "#3b3b3b",
            border: {
              color: "#8e8e8e"
            }
          },
          label: {
            color: o
          },
          line: {
            color: "#8e8e8e"
          }
        }
      }
    },
    gauge: {
      pointer: {
        color: "#0070e4"
      },
      scale: {
        rangePlaceholderColor: "#1d1d1d",
        labels: {
          color: o
        },
        minorTicks: {
          color: o
        },
        majorTicks: {
          color: o
        },
        line: {
          color: o
        }
      }
    }
  });
  h("blueopal", {
    chart: {
      title: {
        color: "#293135"
      },
      legend: {
        labels: {
          color: "#293135"
        },
        inactiveItems: {
          labels: {
            color: "#27A5BA"
          },
          markers: {
            color: "#27A5BA"
          }
        }
      },
      seriesDefaults: {
        labels: {
          color: c,
          background: o,
          opacity: 0.5
        },
        errorBars: {
          color: "#293135"
        },
        candlestick: {
          downColor: "#c4d0d5",
          line: {
            color: "#9aabb2"
          }
        },
        notes: {
          icon: {
            background: "transparent",
            border: {
              color: "#9aabb2"
            }
          },
          label: {
            color: "#293135"
          },
          line: {
            color: "#9aabb2"
          }
        }
      },
      seriesColors: ["#0069a5", "#0098ee", "#7bd2f6", "#ffb800", "#ff8517", "#e34a00"],
      axisDefaults: {
        line: {
          color: "#9aabb2"
        },
        labels: {
          color: "#293135"
        },
        majorGridLines: {
          color: "#c4d0d5"
        },
        minorGridLines: {
          color: "#edf1f2"
        },
        title: {
          color: "#293135"
        },
        crosshair: {
          color: "#9aabb2"
        },
        notes: {
          icon: {
            background: "transparent",
            border: {
              color: "#9aabb2"
            }
          },
          label: {
            color: "#293135"
          },
          line: {
            color: "#9aabb2"
          }
        }
      }
    },
    gauge: {
      pointer: {
        color: "#005c83"
      },
      scale: {
        rangePlaceholderColor: "#daecf4",
        labels: {
          color: "#293135"
        },
        minorTicks: {
          color: "#293135"
        },
        majorTicks: {
          color: "#293135"
        },
        line: {
          color: "#293135"
        }
      }
    }
  });
  h("highcontrast", {
    chart: {
      title: {
        color: "#ffffff"
      },
      legend: {
        labels: {
          color: "#ffffff"
        },
        inactiveItems: {
          labels: {
            color: "#66465B"
          },
          markers: {
            color: "#66465B"
          }
        }
      },
      seriesDefaults: {
        labels: {
          color: "#ffffff"
        },
        errorBars: {
          color: "#ffffff"
        },
        notes: {
          icon: {
            background: "transparent",
            border: {
              color: "#ffffff"
            }
          },
          label: {
            color: "#ffffff"
          },
          line: {
            color: "#ffffff"
          }
        },
        pie: {
          overlay: {
            gradient: "sharpGlass"
          }
        },
        donut: {
          overlay: {
            gradient: "sharpGlass"
          }
        },
        line: {
          markers: {
            background: "#2c232b"
          }
        },
        scatter: {
          markers: {
            background: "#2c232b"
          }
        },
        scatterLine: {
          markers: {
            background: "#2c232b"
          }
        },
        area: {
          opacity: 0.5
        },
        candlestick: {
          downColor: "#664e62",
          line: {
            color: "#ffffff"
          },
          border: {
            _brightness: 1.5,
            opacity: 1
          },
          highlight: {
            border: {
              color: "#ffffff",
              opacity: 1
            }
          }
        },
        ohlc: {
          line: {
            color: "#ffffff"
          }
        }
      },
      chartArea: {
        background: "#2c232b"
      },
      seriesColors: ["#a7008f", "#ffb800", "#3aafff", "#99c900", "#b20753", "#ff4195"],
      axisDefaults: {
        line: {
          color: "#ffffff"
        },
        labels: {
          color: "#ffffff"
        },
        majorGridLines: {
          color: "#664e62"
        },
        minorGridLines: {
          color: "#4f394b"
        },
        title: {
          color: "#ffffff"
        },
        crosshair: {
          color: "#ffffff"
        },
        notes: {
          icon: {
            background: "transparent",
            border: {
              color: "#ffffff"
            }
          },
          label: {
            color: "#ffffff"
          },
          line: {
            color: "#ffffff"
          }
        }
      }
    },
    gauge: {
      pointer: {
        color: "#a7008f"
      },
      scale: {
        rangePlaceholderColor: "#2c232b",
        labels: {
          color: "#ffffff"
        },
        minorTicks: {
          color: "#2c232b"
        },
        majorTicks: {
          color: "#664e62"
        },
        line: {
          color: "#ffffff"
        }
      }
    }
  });
  h("default", {
    chart: {
      title: {
        color: "#8e8e8e"
      },
      legend: {
        labels: {
          color: "#232323"
        },
        inactiveItems: {
          labels: {
            color: "#919191"
          },
          markers: {
            color: "#919191"
          }
        }
      },
      seriesDefaults: {
        labels: {
          color: c,
          background: o,
          opacity: 0.5
        },
        errorBars: {
          color: "#232323"
        },
        candlestick: {
          downColor: "#dedede",
          line: {
            color: "#8d8d8d"
          }
        },
        notes: {
          icon: {
            background: "transparent",
            border: {
              color: "#8e8e8e"
            }
          },
          label: {
            color: "#232323"
          },
          line: {
            color: "#8e8e8e"
          }
        }
      },
      seriesColors: ["#ff6800", "#a0a700", "#ff8d00", "#678900", "#ffb53c", "#396000"],
      axisDefaults: {
        line: {
          color: "#8e8e8e"
        },
        labels: {
          color: "#232323"
        },
        minorGridLines: {
          color: "#f0f0f0"
        },
        majorGridLines: {
          color: "#dfdfdf"
        },
        title: {
          color: "#232323"
        },
        crosshair: {
          color: "#8e8e8e"
        },
        notes: {
          icon: {
            background: "transparent",
            border: {
              color: "#8e8e8e"
            }
          },
          label: {
            color: "#232323"
          },
          line: {
            color: "#8e8e8e"
          }
        }
      }
    },
    gauge: {
      pointer: {
        color: "#ea7001"
      },
      scale: {
        rangePlaceholderColor: "#dedede",
        labels: {
          color: "#2e2e2e"
        },
        minorTicks: {
          color: "#2e2e2e"
        },
        majorTicks: {
          color: "#2e2e2e"
        },
        line: {
          color: "#2e2e2e"
        }
      }
    }
  });
  h("silver", {
    chart: {
      title: {
        color: "#4e5968"
      },
      legend: {
        labels: {
          color: "#4e5968"
        },
        inactiveItems: {
          labels: {
            color: "#B1BCC8"
          },
          markers: {
            color: "#B1BCC8"
          }
        }
      },
      seriesDefaults: {
        labels: {
          color: "#293135",
          background: "#eaeaec",
          opacity: 0.5
        },
        errorBars: {
          color: "#4e5968"
        },
        notes: {
          icon: {
            background: "transparent",
            border: {
              color: "#4e5968"
            }
          },
          label: {
            color: "#4e5968"
          },
          line: {
            color: "#4e5968"
          }
        },
        line: {
          markers: {
            background: "#eaeaec"
          }
        },
        scatter: {
          markers: {
            background: "#eaeaec"
          }
        },
        scatterLine: {
          markers: {
            background: "#eaeaec"
          }
        },
        pie: {
          connectors: {
            color: "#A6B1C0"
          }
        },
        donut: {
          connectors: {
            color: "#A6B1C0"
          }
        },
        candlestick: {
          downColor: "#a6afbe"
        }
      },
      chartArea: {
        background: "#eaeaec"
      },
      seriesColors: ["#007bc3", "#76b800", "#ffae00", "#ef4c00", "#a419b7", "#430B62"],
      axisDefaults: {
        line: {
          color: "#a6b1c0"
        },
        labels: {
          color: "#4e5968"
        },
        majorGridLines: {
          color: "#dcdcdf"
        },
        minorGridLines: {
          color: "#eeeeef"
        },
        title: {
          color: "#4e5968"
        },
        crosshair: {
          color: "#a6b1c0"
        },
        notes: {
          icon: {
            background: "transparent",
            border: {
              color: "#4e5968"
            }
          },
          label: {
            color: "#4e5968"
          },
          line: {
            color: "#4e5968"
          }
        }
      }
    },
    gauge: {
      pointer: {
        color: "#0879c0"
      },
      scale: {
        rangePlaceholderColor: "#f3f3f4",
        labels: {
          color: "#515967"
        },
        minorTicks: {
          color: "#515967"
        },
        majorTicks: {
          color: "#515967"
        },
        line: {
          color: "#515967"
        }
      }
    }
  });
  h("metro", {
    chart: {
      title: {
        color: "#777777"
      },
      legend: {
        labels: {
          color: "#777777"
        },
        inactiveItems: {
          labels: {
            color: "#CBCBCB"
          },
          markers: {
            color: "#CBCBCB"
          }
        }
      },
      seriesDefaults: {
        labels: {
          color: c
        },
        errorBars: {
          color: "#777777"
        },
        notes: {
          icon: {
            background: "transparent",
            border: {
              color: "#777777"
            }
          },
          label: {
            color: "#777777"
          },
          line: {
            color: "#777777"
          }
        },
        candlestick: {
          downColor: "#c7c7c7",
          line: {
            color: "#787878"
          }
        },
        overlay: {
          gradient: "none"
        },
        border: {
          _brightness: 1
        }
      },
      seriesColors: ["#8ebc00", "#309b46", "#25a0da", "#ff6900", "#e61e26", "#d8e404", "#16aba9", "#7e51a1", "#313131", "#ed1691"],
      axisDefaults: {
        line: {
          color: "#c7c7c7"
        },
        labels: {
          color: "#777777"
        },
        minorGridLines: {
          color: "#c7c7c7"
        },
        majorGridLines: {
          color: "#c7c7c7"
        },
        title: {
          color: "#777777"
        },
        crosshair: {
          color: "#c7c7c7"
        },
        notes: {
          icon: {
            background: "transparent",
            border: {
              color: "#777777"
            }
          },
          label: {
            color: "#777777"
          },
          line: {
            color: "#777777"
          }
        }
      }
    },
    gauge: {
      pointer: {
        color: "#8ebc00"
      },
      scale: {
        rangePlaceholderColor: "#e6e6e6",
        labels: {
          color: "#777"
        },
        minorTicks: {
          color: "#777"
        },
        majorTicks: {
          color: "#777"
        },
        line: {
          color: "#777"
        }
      }
    }
  });
  h("metroblack", {
    chart: {
      title: {
        color: "#ffffff"
      },
      legend: {
        labels: {
          color: "#ffffff"
        },
        inactiveItems: {
          labels: {
            color: "#797979"
          },
          markers: {
            color: "#797979"
          }
        }
      },
      seriesDefaults: {
        border: {
          _brightness: 1
        },
        labels: {
          color: "#ffffff"
        },
        errorBars: {
          color: "#ffffff"
        },
        notes: {
          icon: {
            background: "transparent",
            border: {
              color: "#cecece"
            }
          },
          label: {
            color: "#ffffff"
          },
          line: {
            color: "#cecece"
          }
        },
        line: {
          markers: {
            background: "#0e0e0e"
          }
        },
        bubble: {
          opacity: 0.6
        },
        scatter: {
          markers: {
            background: "#0e0e0e"
          }
        },
        scatterLine: {
          markers: {
            background: "#0e0e0e"
          }
        },
        candlestick: {
          downColor: "#828282",
          line: {
            color: "#ffffff"
          }
        },
        overlay: {
          gradient: "none"
        }
      },
      chartArea: {
        background: "#0e0e0e"
      },
      seriesColors: ["#00aba9", "#309b46", "#8ebc00", "#ff6900", "#e61e26", "#d8e404", "#25a0da", "#7e51a1", "#313131", "#ed1691"],
      axisDefaults: {
        line: {
          color: "#cecece"
        },
        labels: {
          color: "#ffffff"
        },
        minorGridLines: {
          color: "#2d2d2d"
        },
        majorGridLines: {
          color: "#333333"
        },
        title: {
          color: "#ffffff"
        },
        crosshair: {
          color: "#cecece"
        },
        notes: {
          icon: {
            background: "transparent",
            border: {
              color: "#cecece"
            }
          },
          label: {
            color: "#ffffff"
          },
          line: {
            color: "#cecece"
          }
        }
      }
    },
    gauge: {
      pointer: {
        color: "#00aba9"
      },
      scale: {
        rangePlaceholderColor: "#2d2d2d",
        labels: {
          color: "#ffffff"
        },
        minorTicks: {
          color: "#333333"
        },
        majorTicks: {
          color: "#cecece"
        },
        line: {
          color: "#cecece"
        }
      }
    }
  });
  h("moonlight", {
    chart: {
      title: {
        color: "#ffffff"
      },
      legend: {
        labels: {
          color: "#ffffff"
        },
        inactiveItems: {
          labels: {
            color: "#A1A7AB"
          },
          markers: {
            color: "#A1A7AB"
          }
        }
      },
      seriesDefaults: {
        labels: {
          color: "#ffffff"
        },
        errorBars: {
          color: "#ffffff"
        },
        notes: {
          icon: {
            background: "transparent",
            border: {
              color: "#8c909e"
            }
          },
          label: {
            color: "#ffffff"
          },
          line: {
            color: "#8c909e"
          }
        },
        pie: {
          overlay: {
            gradient: "sharpBevel"
          }
        },
        donut: {
          overlay: {
            gradient: "sharpGlass"
          }
        },
        line: {
          markers: {
            background: "#212a33"
          }
        },
        bubble: {
          opacity: 0.6
        },
        scatter: {
          markers: {
            background: "#212a33"
          }
        },
        scatterLine: {
          markers: {
            background: "#212a33"
          }
        },
        area: {
          opacity: 0.3
        },
        candlestick: {
          downColor: "#757d87",
          line: {
            color: "#ea9d06"
          },
          border: {
            _brightness: 1.5,
            opacity: 1
          },
          highlight: {
            border: {
              color: o,
              opacity: 0.2
            }
          }
        },
        ohlc: {
          line: {
            color: "#ea9d06"
          }
        }
      },
      chartArea: {
        background: "#212a33"
      },
      seriesColors: ["#ffca08", "#ff710f", "#ed2e24", "#ff9f03", "#e13c02", "#a00201"],
      axisDefaults: {
        line: {
          color: "#8c909e"
        },
        minorTicks: {
          color: "#8c909e"
        },
        majorTicks: {
          color: "#8c909e"
        },
        labels: {
          color: "#ffffff"
        },
        majorGridLines: {
          color: "#3e424d"
        },
        minorGridLines: {
          color: "#2f3640"
        },
        title: {
          color: "#ffffff"
        },
        crosshair: {
          color: "#8c909e"
        },
        notes: {
          icon: {
            background: "transparent",
            border: {
              color: "#8c909e"
            }
          },
          label: {
            color: "#ffffff"
          },
          line: {
            color: "#8c909e"
          }
        }
      }
    },
    gauge: {
      pointer: {
        color: "#f4af03"
      },
      scale: {
        rangePlaceholderColor: "#2f3640",
        labels: {
          color: o
        },
        minorTicks: {
          color: "#8c909e"
        },
        majorTicks: {
          color: "#8c909e"
        },
        line: {
          color: "#8c909e"
        }
      }
    }
  });
  h("uniform", {
    chart: {
      title: {
        color: "#686868"
      },
      legend: {
        labels: {
          color: "#686868"
        },
        inactiveItems: {
          labels: {
            color: "#B6B6B6"
          },
          markers: {
            color: "#B6B6B6"
          }
        }
      },
      seriesDefaults: {
        labels: {
          color: "#686868"
        },
        errorBars: {
          color: "#686868"
        },
        notes: {
          icon: {
            background: "transparent",
            border: {
              color: "#9e9e9e"
            }
          },
          label: {
            color: "#686868"
          },
          line: {
            color: "#9e9e9e"
          }
        },
        pie: {
          overlay: {
            gradient: "sharpBevel"
          }
        },
        donut: {
          overlay: {
            gradient: "sharpGlass"
          }
        },
        line: {
          markers: {
            background: "#ffffff"
          }
        },
        bubble: {
          opacity: 0.6
        },
        scatter: {
          markers: {
            background: "#ffffff"
          }
        },
        scatterLine: {
          markers: {
            background: "#ffffff"
          }
        },
        area: {
          opacity: 0.3
        },
        candlestick: {
          downColor: "#cccccc",
          line: {
            color: "#cccccc"
          },
          border: {
            _brightness: 1.5,
            opacity: 1
          },
          highlight: {
            border: {
              color: "#cccccc",
              opacity: 0.2
            }
          }
        },
        ohlc: {
          line: {
            color: "#cccccc"
          }
        }
      },
      chartArea: {
        background: "#ffffff"
      },
      seriesColors: ["#527aa3", "#6f91b3", "#8ca7c2", "#a8bdd1", "#c5d3e0", "#e2e9f0"],
      axisDefaults: {
        line: {
          color: "#9e9e9e"
        },
        minorTicks: {
          color: "#aaaaaa"
        },
        majorTicks: {
          color: "#888888"
        },
        labels: {
          color: "#686868"
        },
        majorGridLines: {
          color: "#dadada"
        },
        minorGridLines: {
          color: "#e7e7e7"
        },
        title: {
          color: "#686868"
        },
        crosshair: {
          color: "#9e9e9e"
        },
        notes: {
          icon: {
            background: "transparent",
            border: {
              color: "#9e9e9e"
            }
          },
          label: {
            color: "#686868"
          },
          line: {
            color: "#9e9e9e"
          }
        }
      }
    },
    gauge: {
      pointer: {
        color: "#527aa3"
      },
      scale: {
        rangePlaceholderColor: "#e7e7e7",
        labels: {
          color: "#686868"
        },
        minorTicks: {
          color: "#aaaaaa"
        },
        majorTicks: {
          color: "#888888"
        },
        line: {
          color: "#9e9e9e"
        }
      }
    }
  });
  h("bootstrap", {
    chart: {
      title: {
        color: "#333333"
      },
      legend: {
        labels: {
          color: "#333333"
        },
        inactiveItems: {
          labels: {
            color: "#999999"
          },
          markers: {
            color: "#9A9A9A"
          }
        }
      },
      seriesDefaults: {
        labels: {
          color: "#333333"
        },
        overlay: {
          gradient: "none"
        },
        errorBars: {
          color: "#343434"
        },
        notes: {
          icon: {
            background: "#000000",
            border: {
              color: "#000000"
            }
          },
          label: {
            color: "#ffffff"
          },
          line: {
            color: "#000000"
          }
        },
        pie: {
          overlay: {
            gradient: "none"
          }
        },
        donut: {
          overlay: {
            gradient: "none"
          }
        },
        line: {
          markers: {
            background: "#ffffff"
          }
        },
        bubble: {
          opacity: 0.6
        },
        scatter: {
          markers: {
            background: "#ffffff"
          }
        },
        scatterLine: {
          markers: {
            background: "#ffffff"
          }
        },
        area: {
          opacity: 0.8
        },
        candlestick: {
          downColor: "#d0d0d0",
          line: {
            color: "#333333"
          },
          border: {
            _brightness: 1.5,
            opacity: 1
          },
          highlight: {
            border: {
              color: "#b8b8b8",
              opacity: 0.2
            }
          }
        },
        ohlc: {
          line: {
            color: "#333333"
          }
        }
      },
      chartArea: {
        background: "#ffffff"
      },
      seriesColors: ["#428bca", "#5bc0de", "#5cb85c", "#f2b661", "#e67d4a", "#da3b36"],
      axisDefaults: {
        line: {
          color: "#cccccc"
        },
        minorTicks: {
          color: "#ebebeb"
        },
        majorTicks: {
          color: "#cccccc"
        },
        labels: {
          color: "#333333"
        },
        majorGridLines: {
          color: "#cccccc"
        },
        minorGridLines: {
          color: "#ebebeb"
        },
        title: {
          color: "#333333"
        },
        crosshair: {
          color: "#000000"
        },
        notes: {
          icon: {
            background: "#000000",
            border: {
              color: "#000000"
            }
          },
          label: {
            color: "#ffffff"
          },
          line: {
            color: "#000000"
          }
        }
      }
    },
    gauge: {
      pointer: {
        color: "#428bca"
      },
      scale: {
        rangePlaceholderColor: "#cccccc",
        labels: {
          color: "#333333"
        },
        minorTicks: {
          color: "#ebebeb"
        },
        majorTicks: {
          color: "#cccccc"
        },
        line: {
          color: "#cccccc"
        }
      }
    }
  });
  h("flat", {
    chart: {
      title: {
        color: "#4c5356"
      },
      legend: {
        labels: {
          color: "#4c5356"
        },
        inactiveItems: {
          labels: {
            color: "#CBCBCB"
          },
          markers: {
            color: "#CBCBCB"
          }
        }
      },
      seriesDefaults: {
        labels: {
          color: "#4c5356"
        },
        errorBars: {
          color: "#4c5356"
        },
        notes: {
          icon: {
            background: "transparent",
            border: {
              color: "#cdcdcd"
            }
          },
          label: {
            color: "#4c5356"
          },
          line: {
            color: "#cdcdcd"
          }
        },
        candlestick: {
          downColor: "#c7c7c7",
          line: {
            color: "#787878"
          }
        },
        area: {
          opacity: 0.9
        },
        overlay: {
          gradient: "none"
        },
        border: {
          _brightness: 1
        }
      },
      seriesColors: ["#10c4b2", "#ff7663", "#ffb74f", "#a2df53", "#1c9ec4", "#ff63a5", "#1cc47b"],
      axisDefaults: {
        line: {
          color: "#cdcdcd"
        },
        labels: {
          color: "#4c5356"
        },
        minorGridLines: {
          color: "#cdcdcd"
        },
        majorGridLines: {
          color: "#cdcdcd"
        },
        title: {
          color: "#4c5356"
        },
        crosshair: {
          color: "#cdcdcd"
        },
        notes: {
          icon: {
            background: "transparent",
            border: {
              color: "#cdcdcd"
            }
          },
          label: {
            color: "#4c5356"
          },
          line: {
            color: "#cdcdcd"
          }
        }
      }
    },
    gauge: {
      pointer: {
        color: "#10c4b2"
      },
      scale: {
        rangePlaceholderColor: "#cdcdcd",
        labels: {
          color: "#4c5356"
        },
        minorTicks: {
          color: "#4c5356"
        },
        majorTicks: {
          color: "#4c5356"
        },
        line: {
          color: "#4c5356"
        }
      }
    }
  })
})(window.kendo.jQuery);
kendo_module({
  id: "dataviz.chart",
  name: "Chart",
  category: "dataviz",
  description: "The Chart widget uses modern browser technologies to render high-quality data visualizations in the browser.",
  depends: ["data", "userevents", "dataviz.core", "dataviz.svg", "dataviz.themes"],
  features: [{
    id: "dataviz.chart-polar",
    name: "Polar & Radar",
    description: "Support for Polar and Radar charts.",
    depends: ["dataviz.chart.polar"],
    requireJS: false
  }, {
    id: "dataviz.chart-funnel",
    name: "Funnel chart",
    description: "Support for Funnel chart.",
    depends: ["dataviz.chart.funnel"],
    requireJS: false
  }]
});
(function(a, dL) {
  var a6 = a.each,
    bE = a.isArray,
    bY = a.map,
    bZ = Math,
    bg = a.extend,
    cG = a.proxy,
    bI = window.kendo,
    ap = bI.Class,
    cm = bI.Observable,
    aF = bI.data.DataSource,
    dV = bI.ui.Widget,
    aP = bI.deepExtend,
    bq = bI.getter,
    bG = bI.isFunction,
    dp = bI.template,
    aG = bI.dataviz,
    s = aG.Axis,
    w = aG.AxisLabel,
    B = aG.BarAnimation,
    M = aG.Box2D,
    N = aG.BoxElement,
    an = aG.ChartElement,
    au = aG.Color,
    aD = aG.CurveProcessor,
    a7 = aG.ElementAnimation,
    ce = aG.Note,
    ck = aG.NumericAxis,
    cD = aG.Point2D,
    cL = aG.RootElement,
    cK = aG.Ring,
    c4 = aG.ShapeElement,
    dq = aG.Text,
    dr = aG.TextBox,
    dA = aG.Title,
    f = aG.animationDecorator,
    g = aG.append,
    r = aG.autoFormat,
    aW = aG.defined,
    aJ = aG.dateComparer,
    bn = aG.getElement,
    bp = aG.getSpacing,
    bv = aG.inArray,
    bC = aG.interpolateValue,
    bJ = aG.last,
    bQ = aG.limitValue,
    cd = aG.mwDelta,
    cM = aG.round,
    cH = aG.renderTemplate,
    dN = aG.uniqueId,
    dP = aG.valueOrDefault;
  var cj = ".kendoChart",
    b = "above",
    l = "area",
    q = "auto",
    bj = "fit",
    t = aG.AXIS_LABEL_CLICK,
    z = "bar",
    A = 0.8,
    H = "below",
    I = "#000",
    J = "both",
    K = "bottom",
    L = "boxPlot",
    R = "bubble",
    W = "bullet",
    ab = "candlestick",
    ah = "category",
    ak = "center",
    al = "change",
    ao = "circle",
    ar = aG.CLIP,
    av = "color",
    aw = "column",
    ax = aG.COORD_PRECISION,
    az = "cross",
    aC = "k-",
    aE = "dataBound",
    aH = "date",
    aO = "days",
    aR = aG.DEFAULT_FONT,
    aS = aG.DEFAULT_HEIGHT,
    aT = aG.DEFAULT_PRECISION,
    aU = aG.DEFAULT_WIDTH,
    aQ = 4,
    aX = "donut",
    aY = 50,
    a2 = "drag",
    a3 = "dragEnd",
    a4 = "dragStart",
    bc = "errorLow",
    bb = "errorHigh",
    dY = "xErrorLow",
    dX = "xErrorHigh",
    d2 = "yErrorLow",
    d1 = "yErrorHigh",
    bh = "fadeIn",
    bl = "funnel",
    br = "glass",
    bu = "hours",
    by = aG.INITIAL_ANIMATION_DURATION,
    bz = "insideBase",
    bA = "insideEnd",
    bB = "interpolate",
    bL = "left",
    bN = "legendItemClick",
    bO = "legendItemHover",
    bR = "line",
    bS = 8,
    b0 = 5,
    b1 = Number.MAX_VALUE,
    b2 = -Number.MAX_VALUE,
    b3 = "minutes",
    b4 = "months",
    b5 = "mouseleave" + cj,
    b8 = "mousemove.tracking",
    ca = "mouseover" + cj,
    b9 = "mouseout" + cj,
    b6 = "mousemove" + cj,
    b7 = 20,
    cb = 150,
    cc = "DOMMouseScroll" + cj + " mousewheel" + cj,
    cf = aG.NOTE_CLICK,
    cg = aG.NOTE_HOVER,
    ch = "noteText",
    cl = "object",
    cn = "ohlc",
    cr = "outsideEnd",
    cq = "_outline",
    ct = "pie",
    cu = 70,
    cA = "plotAreaClick",
    cE = "pointer",
    cJ = "right",
    cN = "roundedBevel",
    cO = "roundedGlass",
    cP = "scatter",
    cQ = "scatterLine",
    cU = "seconds",
    cX = "selectStart",
    cV = "select",
    cW = "selectEnd",
    cZ = "seriesClick",
    c0 = "seriesHover",
    dj = "step",
    c7 = "smooth",
    di = "stderr",
    dh = "stddev",
    dm = "string",
    dw = 1000,
    du = 60 * dw,
    dt = 60 * du,
    ds = 24 * dt,
    dy = 7 * ds,
    dv = 31 * ds,
    dz = 365 * ds,
    dx = {
      years: dz,
      months: dv,
      weeks: dy,
      days: ds,
      hours: dt,
      minutes: du,
      seconds: dw
    }, dI = "top",
    dD = 150,
    dG = 5,
    dH = 100,
    dE = 100,
    dF = "tooltip-inverse",
    dO = "value",
    dQ = "verticalArea",
    dR = "verticalBullet",
    dS = "verticalLine",
    dT = "weeks",
    dU = "#fff",
    dW = "x",
    d0 = "y",
    d3 = "years",
    d4 = "zero",
    d6 = 3,
    d8 = "zoomStart",
    d5 = "zoom",
    d7 = "zoomEnd",
    F = [cU, b3, bu, aO, dT, b4, d3],
    a9 = [z, aw, cn, ab, L, W];
  var aM = {
    seconds: "HH:mm:ss",
    minutes: "HH:mm",
    hours: "HH:mm",
    days: "M/d",
    weeks: "M/d",
    months: "MMM 'yy",
    years: "yyyy"
  };
  var am = dV.extend({
    init: function(Y, ea) {
      var X = this,
        d9;
      bI.destroy(Y);
      dV.fn.init.call(X, Y);
      d9 = aP({}, X.options, ea);
      X.element.addClass(aC + d9.name.toLowerCase()).css("position", "relative");
      X._originalOptions = aP({}, d9);
      X._initTheme(d9);
      X.bind(X.events, X.options);
      X.wrapper = X.element;
      X._initDataSource(ea);
      bI.notify(X, aG.ui)
    },
    _initTheme: function(d9) {
      var X = this,
        ef = aG.ui.themes || {}, ed = d9.theme,
        ec = ef[ed] || ef[ed.toLowerCase()],
        ee = ed && ec ? ec.chart : {}, eb = [],
        ea = d9.series || [],
        Y;
      for (Y = 0; Y < ea.length; Y++) {
        eb.push(a.extend({}, ea[Y]))
      }
      d9.series = eb;
      cI(d9);
      X._applyDefaults(d9, ee);
      if (d9.seriesColors === null) {
        d9.seriesColors = dL
      }
      X.options = aP({}, ee, d9);
      j(X.options)
    },
    _initDataSource: function(d9) {
      var X = this,
        Y = (d9 || {}).dataSource;
      X._dataChangeHandler = cG(X._onDataChanged, X);
      X.dataSource = aF.create(Y).bind(al, X._dataChangeHandler);
      X._bindCategories();
      X._redraw();
      X._attachEvents();
      if (Y && X.options.autoBind) {
        X.dataSource.fetch()
      }
    },
    setDataSource: function(Y) {
      var X = this;
      X.dataSource.unbind(al, X._dataChangeHandler);
      X.dataSource = X._originalOptions.dataSource = Y;
      Y.bind(al, X._dataChangeHandler);
      if (X.options.autoBind) {
        Y.fetch()
      }
    },
    events: [aE, cZ, c0, t, bN, bO, cA, a4, a2, a3, d8, d5, d7, cX, cV, cW, cf, cg],
    items: function() {
      return a()
    },
    options: {
      name: "Chart",
      renderAs: "",
      theme: "default",
      chartArea: {},
      legend: {
        visible: true,
        labels: {}
      },
      categoryAxis: {},
      autoBind: true,
      seriesDefaults: {
        type: aw,
        data: [],
        highlight: {
          visible: true
        },
        labels: {},
        negativeValues: {
          visible: false
        }
      },
      series: [],
      seriesColors: null,
      tooltip: {
        visible: false
      },
      transitions: true,
      valueAxis: {},
      plotArea: {},
      title: {},
      xAxis: {},
      yAxis: {}
    },
    refresh: function() {
      var X = this;
      X._applyDefaults(X.options);
      j(X.options);
      X._bindSeries();
      X._bindCategories();
      X.trigger(aE);
      X._redraw()
    },
    getSize: function() {
      return bI.dimensions(this.element)
    },
    _resize: function() {
      var X = this.options.transitions;
      this.options.transitions = false;
      this._redraw();
      this.options.transitions = X
    },
    redraw: function(d9) {
      var X = this,
        Y, ea;
      X._applyDefaults(X.options);
      if (d9) {
        ea = X._model._plotArea;
        Y = ea.findPane(d9);
        ea.redraw(Y)
      } else {
        X._redraw()
      }
    },
    _redraw: function() {
      var X = this,
        Y = X._getModel(),
        d9;
      X._destroyView();
      X._model = Y;
      X._plotArea = Y._plotArea;
      d9 = X._view = aG.ViewFactory.current.create(Y.options, X.options.renderAs);
      if (d9) {
        d9.load(Y);
        X._viewElement = X._renderView(d9);
        X._tooltip = X._createTooltip();
        X._highlight = new bt(d9, X._viewElement);
        X._setupSelection()
      }
    },
    _sharedTooltip: function() {
      var X = this,
        Y = X.options;
      return X._plotArea instanceof af && Y.tooltip.shared
    },
    _createTooltip: function() {
      var X = this,
        d9 = X.options,
        Y = X.element,
        ea;
      if (X._sharedTooltip()) {
        ea = new c5(Y, X._plotArea, d9.tooltip)
      } else {
        ea = new dC(Y, d9.tooltip)
      }
      return ea
    },
    _renderView: function() {
      var X = this;
      return X._view.renderTo(X.element[0])
    },
    _applyDefaults: function(X, Y) {
      i(X, Y);
      k(X, Y)
    },
    _getModel: function() {
      var X = this,
        d9 = X.options,
        Y = new cL(X._modelOptions()),
        ea;
      Y.parent = X;
      dA.buildTitle(d9.title, Y);
      ea = Y._plotArea = X._createPlotArea();
      if (d9.legend.visible) {
        Y.append(new bM(ea.options.legend))
      }
      Y.append(ea);
      Y.reflow();
      return Y
    },
    _modelOptions: function() {
      var X = this,
        ea = X.options,
        Y = X.element,
        d9 = bZ.floor(Y.height()),
        eb = bZ.floor(Y.width());
      return aP({
        width: eb || aU,
        height: d9 || aS,
        transitions: ea.transitions
      }, ea.chartArea)
    },
    _createPlotArea: function() {
      var X = this,
        Y = X.options;
      return cC.current.create(Y.series, Y)
    },
    _setupSelection: function() {
      var d9 = this,
        ee = d9._plotArea,
        X = ee.axes,
        eg = d9._selections = [],
        ef, ea, Y, ec, eb, ed;
      if (!d9._selectStartHandler) {
        d9._selectStartHandler = cG(d9._selectStart, d9);
        d9._selectHandler = cG(d9._select, d9);
        d9._selectEndHandler = cG(d9._selectEnd, d9)
      }
      for (ea = 0; ea < X.length; ea++) {
        Y = X[ea];
        ed = Y.options;
        if (Y instanceof ai && ed.select && !ed.vertical) {
          ec = 0;
          eb = ed.categories.length - 1;
          if (Y instanceof aI) {
            ec = ed.categories[ec];
            eb = ed.categories[eb]
          }
          if (!ed.justified) {
            if (Y instanceof aI) {
              eb = c(eb, 1, ed.baseUnit, ed.weekStartDay)
            } else {
              eb++
            }
          }
          ef = new cY(d9, Y, aP({
            min: ec,
            max: eb
          }, ed.select));
          ef.bind(cX, d9._selectStartHandler);
          ef.bind(cV, d9._selectHandler);
          ef.bind(cW, d9._selectEndHandler);
          eg.push(ef)
        }
      }
    },
    _selectStart: function(X) {
      return this.trigger(cX, X)
    },
    _select: function(X) {
      return this.trigger(cV, X)
    },
    _selectEnd: function(X) {
      return this.trigger(cW, X)
    },
    _attachEvents: function() {
      var X = this,
        Y = X.element;
      Y.on(ca, cG(X._mouseover, X));
      Y.on(b9, cG(X._mouseout, X));
      Y.on(cc, cG(X._mousewheel, X));
      Y.on(b5, cG(X._mouseleave, X));
      if (X._shouldAttachMouseMove()) {
        Y.on(b6, cG(X._mousemove, X))
      }
      if (bI.UserEvents) {
        X._userEvents = new bI.UserEvents(Y, {
          global: true,
          filter: ":not(.k-selector)",
          multiTouch: false,
          tap: cG(X._tap, X),
          start: cG(X._start, X),
          move: cG(X._move, X),
          end: cG(X._end, X)
        })
      }
    },
    _mouseout: function(Y) {
      var X = this,
        d9 = X._model.modelMap[Y.target.getAttribute("data-model-id")];
      if (d9 && d9.leave) {
        d9.leave(X, Y)
      }
    },
    _start: function(Y) {
      var X = this,
        d9 = X._events;
      if (aW(d9[a4] || d9[a2] || d9[a3])) {
        X._startNavigation(Y, a4)
      }
    },
    _move: function(ed) {
      var ea = this,
        eg = ea._navState,
        X, ef = {}, ee, eb, d9, Y, ec;
      if (eg) {
        ed.preventDefault();
        X = eg.axes;
        for (ee = 0; ee < X.length; ee++) {
          eb = X[ee];
          d9 = eb.options.name;
          if (d9) {
            Y = eb.options.vertical ? ed.y : ed.x;
            ec = Y.startLocation - Y.location;
            if (ec !== 0) {
              ef[eb.options.name] = eb.translateRange(ec)
            }
          }
        }
        eg.axisRanges = ef;
        ea.trigger(a2, {
          axisRanges: ef,
          originalEvent: ed
        })
      }
    },
    _end: function(X) {
      this._endNavigation(X, a3)
    },
    _mousewheel: function(ec) {
      var d9 = this,
        ee = ec.originalEvent,
        ef, eb = cd(ec),
        ei, eh = d9._navState,
        X, ed, ea, Y, eg = {};
      if (!eh) {
        ef = d9._startNavigation(ee, d8);
        if (!ef) {
          eh = d9._navState
        }
      }
      if (eh) {
        ei = eh.totalDelta || eb;
        eh.totalDelta = ei + eb;
        X = d9._navState.axes;
        for (ed = 0; ed < X.length; ed++) {
          ea = X[ed];
          Y = ea.options.name;
          if (Y) {
            eg[Y] = ea.scaleRange(ei)
          }
        }
        d9.trigger(d5, {
          delta: eb,
          axisRanges: eg,
          originalEvent: ec
        });
        if (d9._mwTimeout) {
          clearTimeout(d9._mwTimeout)
        }
        d9._mwTimeout = setTimeout(function() {
          d9._endNavigation(ec, d7)
        }, cb)
      }
    },
    _startNavigation: function(ec, d9) {
      var Y = this,
        ea = Y._eventCoordinates(ec),
        eg = Y._model._plotArea,
        ef = eg.findPointPane(ea),
        X = eg.axes.slice(0),
        ed, eb, ee = false,
        eh;
      if (!ef) {
        return
      }
      for (ed = 0; ed < X.length; ed++) {
        eb = X[ed];
        if (eb.box.containsPoint(ea)) {
          ee = true;
          break
        }
      }
      if (!ee && eg.backgroundBox().containsPoint(ea)) {
        eh = Y.trigger(d9, {
          axisRanges: x(X),
          originalEvent: ec
        });
        if (eh) {
          Y._userEvents.cancel()
        } else {
          Y._suppressHover = true;
          Y._unsetActivePoint();
          Y._navState = {
            pane: ef,
            axes: X
          }
        }
      }
    },
    _endNavigation: function(d9, Y) {
      var X = this;
      if (X._navState) {
        X.trigger(Y, {
          axisRanges: X._navState.axisRanges,
          originalEvent: d9
        });
        X._suppressHover = false;
        X._navState = null
      }
    },
    _getChartElement: function(Y) {
      var X = this,
        eb = a(Y.target).data("modelId"),
        ea = X._model,
        d9;
      if (eb) {
        d9 = ea.modelMap[eb]
      }
      if (d9 && d9.aliasFor) {
        d9 = d9.aliasFor(Y, X._eventCoordinates(Y))
      }
      return d9
    },
    _eventCoordinates: function(ea) {
      var X = this,
        eb = aW((ea.x || {}).client),
        Y = eb ? ea.x.client : ea.clientX,
        d9 = eb ? ea.y.client : ea.clientY;
      return X._toModelCoordinates(Y, d9)
    },
    _toModelCoordinates: function(X, Y) {
      var d9 = this.element,
        ea = d9.offset(),
        eb = parseInt(d9.css("paddingLeft"), 10),
        ec = parseInt(d9.css("paddingTop"), 10),
        ed = a(window);
      return new cD(X - ea.left - eb + ed.scrollLeft(), Y - ea.top - ec + ed.scrollTop())
    },
    _tap: function(Y) {
      var X = this,
        d9 = X._getChartElement(Y);
      if (X._activePoint === d9) {
        X._click(Y)
      } else {
        if (!X._startHover(Y)) {
          X._unsetActivePoint()
        }
        X._click(Y)
      }
    },
    _click: function(Y) {
      var X = this,
        d9 = X._getChartElement(Y);
      while (d9) {
        if (d9.click) {
          d9.click(X, Y)
        }
        d9 = d9.parent
      }
    },
    _startHover: function(Y) {
      var X = this,
        eb = X._tooltip,
        d9 = X._highlight,
        ec = X.options.tooltip,
        ea;
      if (X._suppressHover || !d9 || bv(Y.target, d9._overlays) || X._sharedTooltip()) {
        return
      }
      ea = X._getChartElement(Y);
      if (ea && ea.hover) {
        ea.hover(X, Y);
        if (!Y.isDefaultPrevented()) {
          X._activePoint = ea;
          ec = aP({}, ec, ea.options.tooltip);
          if (ec.visible) {
            eb.show(ea)
          }
          d9.show(ea);
          return true
        }
      }
    },
    _mouseover: function(Y) {
      var X = this;
      if (X._startHover(Y)) {
        a(document).on(b8, cG(X._mouseMoveTracking, X))
      }
    },
    _mouseMoveTracking: function(d9) {
      var X = this,
        eb = X.options,
        ef = X._tooltip,
        ea = X._highlight,
        Y = X._eventCoordinates(d9),
        ed = X._activePoint,
        eg, ec, ee;
      if (X._plotArea.box.containsPoint(Y)) {
        if (ed && ed.series && bv(ed.series.type, [bR, l])) {
          ec = ed.parent;
          ee = ec.getNearestPoint(Y.x, Y.y, ed.seriesIx);
          if (ee && ee != ed) {
            ee.hover(X, d9);
            X._activePoint = ee;
            eg = aP({}, eb.tooltip, ed.options.tooltip);
            if (eg.visible) {
              ef.show(ee)
            }
            ea.show(ee)
          }
        }
      } else {
        a(document).off(b8);
        X._unsetActivePoint()
      }
    },
    _mousemove: function(d9) {
      var X = this,
        ea = new Date(),
        eb = X._mousemove.timestamp;
      if (!eb || ea - eb > b7) {
        var Y = X._eventCoordinates(d9);
        X._trackCrosshairs(Y);
        if (X._sharedTooltip()) {
          X._trackSharedTooltip(Y)
        }
        X._mousemove.timestamp = ea
      }
    },
    _trackCrosshairs: function(X) {
      var Y = this._plotArea.crosshairs,
        ea, d9;
      for (ea = 0; ea < Y.length; ea++) {
        d9 = Y[ea];
        if (d9.box.containsPoint(X)) {
          d9.showAt(X)
        } else {
          d9.hide()
        }
      }
    },
    _trackSharedTooltip: function(d9) {
      var Y = this,
        ec = Y.options,
        ed = Y._plotArea,
        X = ed.categoryAxis,
        ef = Y._tooltip,
        eg = ec.tooltip,
        ea = Y._highlight,
        eb, ee;
      if (ed.box.containsPoint(d9)) {
        eb = X.pointCategoryIndex(d9);
        if (eb !== Y._tooltipCategoryIx) {
          ee = ed.pointsByCategoryIndex(eb);
          if (ee.length > 0) {
            if (eg.visible) {
              ef.showAt(ee, d9)
            }
            ea.show(ee)
          } else {
            ef.hide()
          }
          Y._tooltipCategoryIx = eb
        }
      }
    },
    _mouseleave: function(d9) {
      var X = this,
        ec = X._plotArea,
        Y = ec.crosshairs,
        ed = X._tooltip,
        ea = X._highlight,
        eb;
      if (d9.relatedTarget) {
        for (eb = 0; eb < Y.length; eb++) {
          Y[eb].hide()
        }
        setTimeout(cG(ed.hide, ed), dE);
        ea.hide();
        X._tooltipCategoryIx = null
      }
    },
    _unsetActivePoint: function() {
      var X = this,
        d9 = X._tooltip,
        Y = X._highlight;
      X._activePoint = null;
      if (d9) {
        d9.hide()
      }
      if (Y) {
        Y.hide()
      }
    },
    _onDataChanged: function() {
      var X = this,
        eb = X.options,
        ed = X._sourceSeries || eb.series,
        ee, ef = ed.length,
        d9 = X.dataSource.view(),
        ea = (X.dataSource.group() || []).length > 0,
        ec = [],
        Y;
      for (ee = 0; ee < ef; ee++) {
        Y = ed[ee];
        if (X._isBindable(Y) && ea) {
          g(ec, bs(Y, d9))
        } else {
          ec.push(Y || [])
        }
      }
      X._sourceSeries = ed;
      eb.series = ec;
      j(X.options);
      X._bindSeries();
      X._bindCategories();
      X.trigger(aE);
      X._redraw()
    },
    _bindSeries: function() {
      var X = this,
        d9 = X.dataSource.view(),
        eb = X.options.series,
        ed, ee = eb.length,
        Y, ea, ec;
      for (ed = 0; ed < ee; ed++) {
        Y = eb[ed];
        if (X._isBindable(Y)) {
          ea = Y._groupIx;
          ec = aW(ea) ? (d9[ea] || {}).items : d9;
          if (Y.autoBind !== false) {
            Y.data = ec
          }
        }
      }
    },
    _bindCategories: function() {
      var ea = this,
        eb = ea.dataSource.view() || [],
        ed = (ea.dataSource.group() || []).length > 0,
        d9 = eb,
        ee = ea.options,
        ec = [].concat(ee.categoryAxis),
        Y, X;
      if (ed) {
        if (eb.length) {
          d9 = eb[0].items
        }
      }
      for (Y = 0; Y < ec.length; Y++) {
        X = ec[Y];
        if (X.autoBind !== false) {
          ea._bindCategoryAxis(X, d9, Y)
        }
      }
    },
    _bindCategoryAxis: function(X, ec, Y) {
      var eb = (ec || []).length,
        ea, d9, ed;
      if (X.field) {
        X.categories = [];
        for (ea = 0; ea < eb; ea++) {
          ed = ec[ea];
          d9 = bo(X.field, ed);
          if (ea === 0) {
            X.categories = [d9];
            X.dataItems = [ed]
          } else {
            X.categories.push(d9);
            X.dataItems.push(ed)
          }
        }
      } else {
        this._bindCategoryAxisFromSeries(X, Y)
      }
    },
    _bindCategoryAxisFromSeries: function(X, Y) {
      var ea = this,
        eh = [],
        ej, el = ea.options.series,
        en = el.length,
        em, ek, ei, eb, ec, ed, ee, d9, eo = {}, eg, ef;
      for (em = 0; em < en; em++) {
        ek = el[em];
        ei = ek.categoryAxis === X.name || (!ek.categoryAxis && Y === 0);
        eb = ek.data;
        ed = eb.length;
        if (ek.categoryField && ei && ed > 0) {
          ef = bF(X, bo(ek.categoryField, eb[0]));
          eg = ef ? bm : bo;
          for (ec = 0; ec < ed; ec++) {
            ee = eb[ec];
            d9 = eg(ek.categoryField, ee);
            if (ef || !eo[d9]) {
              eh.push([d9, ee]);
              if (!ef) {
                eo[d9] = true
              }
            }
          }
        }
      }
      if (eh.length > 0) {
        if (ef) {
          eh = dM(eh, function(ep, eq) {
            return aJ(ep[0], eq[0])
          })
        }
        ej = dK(eh);
        X.categories = ej[0];
        X.dataItems = ej[1]
      }
    },
    _isBindable: function(ea) {
      var eb = c2.current.valueFields(ea),
        d9 = true,
        X, Y;
      for (Y = 0; Y < eb.length; Y++) {
        X = eb[Y];
        if (X === dO) {
          X = "field"
        } else {
          X = X + "Field"
        }
        if (!aW(ea[X])) {
          d9 = false;
          break
        }
      }
      return d9
    },
    _legendItemClick: function(ee, ed) {
      var X = this,
        eb = X._plotArea,
        d9 = (eb.srcSeries || eb.series)[ee],
        ea = (X._sourceSeries || [])[ee] || d9,
        ef, eg, ec, Y;
      if (bv(d9.type, [ct, aX, bl])) {
        ec = ea.data[ed];
        Y = ea.data[ed];
        if (!aW(Y.visible)) {
          eg = false
        } else {
          eg = !Y.visible
        }
        Y.visible = eg
      } else {
        eg = !ea.visible;
        ea.visible = eg;
        d9.visible = eg
      }
      if (X.options.transitions) {
        X.options.transitions = false;
        ef = true
      }
      X.redraw();
      if (ef) {
        X.options.transitions = true
      }
    },
    _legendItemHover: function(ee, ed) {
      var X = this,
        ec = X._plotArea,
        d9 = X._highlight,
        Y = (ec.srcSeries || ec.series)[ee],
        ea, eb;
      if (bv(Y.type, [ct, aX, bl])) {
        ea = ed
      } else {
        ea = ee
      }
      eb = ec.pointsBySeriesIndex(ea);
      d9.show(eb)
    },
    _shouldAttachMouseMove: function() {
      var X = this;
      return X._plotArea.crosshairs.length || (X._tooltip && X._sharedTooltip())
    },
    setOptions: function(Y) {
      var X = this;
      X._originalOptions = aP(X._originalOptions, Y);
      X.options = aP({}, X._originalOptions);
      X._sourceSeries = null;
      a(document).off(b6);
      dV.fn.setOptions.call(X, Y);
      X._initTheme(X.options);
      if (Y.dataSource) {
        X.setDataSource(aF.create(Y.dataSource))
      }
      if (X._shouldAttachMouseMove()) {
        X.element.on(b6, cG(X._mousemove, X))
      }
      if (X.options.dataSource) {
        X.refresh()
      } else {
        X.redraw()
      }
    },
    destroy: function() {
      var X = this,
        Y = X.dataSource;
      X.element.off(cj);
      Y.unbind(al, X._dataChangeHandler);
      a(document).off(b8);
      if (X._userEvents) {
        X._userEvents.destroy()
      }
      X._destroyView();
      dV.fn.destroy.call(X)
    },
    _destroyView: function() {
      var X = this,
        Y = X._model,
        ea = X._view,
        d9 = X._selections;
      if (Y) {
        Y.destroy();
        X._model = null
      }
      if (ea) {
        ea.destroy();
        X._view = null
      }
      if (d9) {
        while (d9.length > 0) {
          d9.shift().destroy()
        }
      }
    }
  });
  aP(am.fn, aG.ExportMixin);
  var cC = ap.extend({
    init: function() {
      this._registry = []
    },
    register: function(Y, X) {
      this._registry.push({
        type: Y,
        seriesTypes: X
      })
    },
    create: function(ed, ea) {
      var eb = this._registry,
        d9 = eb[0],
        Y, X, ec;
      for (Y = 0; Y < eb.length; Y++) {
        X = eb[Y];
        ec = bi(ed, X.seriesTypes);
        if (ec.length > 0) {
          d9 = X;
          break
        }
      }
      return new d9.type(ec, ea)
    }
  });
  cC.current = new cC();
  var c2 = ap.extend({
    init: function() {
      this._valueFields = {};
      this._otherFields = {};
      this._nullValue = {};
      this._undefinedValue = {}
    },
    register: function(ea, ec, d9) {
      var X = this,
        Y, eb;
      ec = ec || [dO];
      for (Y = 0; Y < ea.length; Y++) {
        eb = ea[Y];
        X._valueFields[eb] = ec;
        X._otherFields[eb] = d9;
        X._nullValue[eb] = X._makeValue(ec, null);
        X._undefinedValue[eb] = X._makeValue(ec, dL)
      }
    },
    canonicalFields: function(X) {
      return this.valueFields(X).concat(this.otherFields(X))
    },
    valueFields: function(X) {
      return this._valueFields[X.type] || [dO]
    },
    otherFields: function(X) {
      return this._otherFields[X.type] || [dO]
    },
    bindPoint: function(ef, ed) {
      var X = this,
        Y = ef.data,
        ec = Y[ed],
        ee = {
          valueFields: {
            value: ec
          }
        }, ea, d9, eh, eg, ej = X.valueFields(ef),
        eb = X._otherFields[ef.type],
        ei;
      if (ec === null) {
        ei = X._nullValue[ef.type]
      } else {
        if (!aW(ec)) {
          ei = X._undefinedValue[ef.type]
        } else {
          if (bE(ec)) {
            d9 = ec.slice(ej.length);
            ei = X._bindFromArray(ec, ej);
            ea = X._bindFromArray(d9, eb)
          } else {
            if (typeof ec === cl) {
              eh = X.sourceFields(ef, ej);
              eg = X.sourceFields(ef, eb);
              ei = X._bindFromObject(ec, ej, eh);
              ea = X._bindFromObject(ec, eb, eg)
            }
          }
        }
      }
      if (aW(ei)) {
        if (ej.length === 1) {
          ee.valueFields.value = ei[ej[0]]
        } else {
          ee.valueFields = ei
        }
      }
      ee.fields = ea || {};
      return ee
    },
    _makeValue: function(Y, ea) {
      var ec = {}, d9, eb = Y.length,
        X;
      for (d9 = 0; d9 < eb; d9++) {
        X = Y[d9];
        ec[X] = ea
      }
      return ec
    },
    _bindFromArray: function(X, Y) {
      var eb = {}, d9, ea;
      if (Y) {
        ea = bZ.min(Y.length, X.length);
        for (d9 = 0; d9 < ea; d9++) {
          eb[Y[d9]] = X[d9]
        }
      }
      return eb
    },
    _bindFromObject: function(eb, Y, ed) {
      var ee = {}, d9, ea, X, ec;
      if (Y) {
        ea = Y.length;
        ed = ed || Y;
        for (d9 = 0; d9 < ea; d9++) {
          X = Y[d9];
          ec = ed[d9];
          ee[X] = bo(ec, eb)
        }
      }
      return ee
    },
    sourceFields: function(eb, X) {
      var d9, ea, Y, ed, ec;
      if (X) {
        ea = X.length;
        ed = [];
        for (d9 = 0; d9 < ea; d9++) {
          Y = X[d9];
          ec = Y === dO ? "field" : Y + "Field";
          ed.push(eb[ec] || Y)
        }
      }
      return ed
    }
  });
  c2.current = new c2();
  var E = an.extend({
    init: function(Y, d9) {
      var X = this;
      an.fn.init.call(X, d9);
      X.append(new dr(Y, X.options))
    },
    options: {
      position: cr,
      margin: bp(3),
      padding: bp(4),
      color: I,
      background: "",
      border: {
        width: 1,
        color: ""
      },
      aboveAxis: true,
      vertical: false,
      animation: {
        type: bh,
        delay: by
      },
      zIndex: 1
    },
    reflow: function(ec) {
      var Y = this,
        ea = Y.options,
        ee = ea.vertical,
        X = ea.aboveAxis,
        ed = Y.children[0],
        d9 = ed.box,
        eb = ed.options.padding;
      ed.options.align = ee ? ak : bL;
      ed.options.vAlign = ee ? dI : ak;
      if (ea.position == bA) {
        if (ee) {
          ed.options.vAlign = dI;
          if (!X && d9.height() < ec.height()) {
            ed.options.vAlign = K
          }
        } else {
          ed.options.align = X ? cJ : bL
        }
      } else {
        if (ea.position == ak) {
          ed.options.vAlign = ak;
          ed.options.align = ak
        } else {
          if (ea.position == bz) {
            if (ee) {
              ed.options.vAlign = X ? K : dI
            } else {
              ed.options.align = X ? bL : cJ
            }
          } else {
            if (ea.position == cr) {
              if (ee) {
                if (X) {
                  ec = new M(ec.x1, ec.y1 - d9.height(), ec.x2, ec.y1)
                } else {
                  ec = new M(ec.x1, ec.y2, ec.x2, ec.y2 + d9.height())
                }
              } else {
                ed.options.align = ak;
                if (X) {
                  ec = new M(ec.x2 + d9.width(), ec.y1, ec.x2, ec.y2)
                } else {
                  ec = new M(ec.x1 - d9.width(), ec.y1, ec.x1, ec.y2)
                }
              }
            }
          }
        }
      }
      if (ee) {
        eb.left = eb.right = (ec.width() - ed.contentBox.width()) / 2
      } else {
        eb.top = eb.bottom = (ec.height() - ed.contentBox.height()) / 2
      }
      ed.reflow(ec)
    }
  });
  var bP = dq.extend({
    init: function(X, d9) {
      var Y = this;
      Y.item = X;
      dq.fn.init.call(Y, X.text, aP({
        id: dN(),
        cursor: {
          style: cE
        }
      }, d9));
      Y.enableDiscovery()
    },
    click: function(d9, Y) {
      var X = this.eventArgs(Y);
      if (!d9.trigger(bN, X)) {
        Y.preventDefault();
        d9._legendItemClick(X.seriesIndex, X.pointIndex)
      }
    },
    hover: function(d9, Y) {
      var X = this.eventArgs(Y);
      if (!d9.trigger(bO, X)) {
        Y.preventDefault();
        d9._legendItemHover(X.seriesIndex, X.pointIndex)
      }
    },
    leave: function(X) {
      X._unsetActivePoint()
    },
    eventArgs: function(X) {
      var Y = this.item;
      return {
        element: a(X.target),
        text: Y.text,
        series: Y.series,
        seriesIndex: Y.series.index,
        pointIndex: Y.pointIndex
      }
    }
  });
  var bM = an.extend({
    init: function(Y) {
      var X = this;
      an.fn.init.call(X, Y);
      X.createLabels()
    },
    options: {
      position: cJ,
      items: [],
      labels: {},
      offsetX: 0,
      offsetY: 0,
      margin: bp(10),
      padding: bp(5),
      border: {
        color: I,
        width: 0
      },
      background: "",
      zIndex: 1,
      markers: {
        border: {
          width: 1
        }
      }
    },
    createLabels: function() {
      var eb = this,
        ea = eb.options.items,
        X = ea.length,
        Y, d9;
      for (Y = 0; Y < X; Y++) {
        d9 = ea[Y];
        eb.append(new bP(d9, aP({}, eb.options.labels, {
          color: d9.labelColor
        })))
      }
    },
    reflow: function(ea) {
      var Y = this,
        d9 = Y.options,
        X = Y.children.length;
      if (X === 0) {
        Y.box = ea.clone();
        return
      }
      if (d9.position == "custom") {
        Y.customLayout(ea);
        return
      }
      if (d9.position == dI || d9.position == K) {
        Y.horizontalLayout(ea)
      } else {
        Y.verticalLayout(ea)
      }
    },
    getViewElements: function(em) {
      var eh = this,
        d9 = eh.children,
        ek = eh.options,
        ee = ek.items,
        eb = ee.length,
        ej = eh.markerSize(),
        ec = em.createGroup({
          zIndex: ek.zIndex
        }),
        X = ek.border || {}, el, ei, eg, ea, ef, Y, ed;
      g(ec.children, an.fn.getViewElements.call(eh, em));
      for (ed = 0; ed < eb; ed++) {
        ea = ee[ed].markerColor;
        ef = d9[ed];
        ei = M();
        Y = ef.box;
        eg = eg ? eg.wrap(Y) : Y.clone();
        ei.x1 = Y.x1 - ej * 2;
        ei.x2 = ei.x1 + ej;
        if (ek.position == dI || ek.position == K) {
          ei.y1 = Y.y1 + ej / 2
        } else {
          ei.y1 = Y.y1 + (Y.height() - ej) / 2
        }
        ei.y2 = ei.y1 + ej;
        ec.children.push(em.createRect(ei, {
          fill: ea,
          stroke: ea,
          strokeWidth: ek.markers.border.width,
          data: {
            modelId: ef.modelId
          },
          cursor: {
            style: cE
          }
        }))
      }
      if (d9.length > 0) {
        el = bp(ek.padding);
        el.left += ej * 2;
        eg.pad(el);
        ec.children.unshift(em.createRect(eg, {
          stroke: X.width ? X.color : "",
          strokeWidth: X.width,
          dashType: X.dashType,
          fill: ek.background
        }))
      }
      return [ec]
    },
    verticalLayout: function(ej) {
      var ed = this,
        ei = ed.options,
        X = ed.children,
        Y = X.length,
        eb = X[0].box.clone(),
        ee = bp(ei.margin),
        ef = ed.markerSize() * 2,
        eg, eh, ea, d9;
      for (d9 = 1; d9 < Y; d9++) {
        ea = ed.children[d9];
        ea.box.alignTo(ed.children[d9 - 1].box, K);
        eb.wrap(ea.box)
      }
      if (ei.position == bL) {
        eg = ej.x1 + ef + ee.left;
        eh = (ej.y2 - eb.height()) / 2;
        eb.x2 += ef + ee.left + ee.right
      } else {
        eg = ej.x2 - eb.width() - ee.right;
        eh = (ej.y2 - eb.height()) / 2;
        eb.translate(eg, eh);
        eb.x1 -= ef + ee.left
      }
      ed.translateChildren(eg + ei.offsetX, eh + ei.offsetY);
      var ec = eb.width();
      eb.x1 = bZ.max(ej.x1, eb.x1);
      eb.x2 = eb.x1 + ec;
      eb.y1 = ej.y1;
      eb.y2 = ej.y2;
      ed.box = eb
    },
    horizontalLayout: function(el) {
      var ee = this,
        ej = ee.options,
        d9 = ee.children,
        ea = d9.length,
        X = d9[0].box.clone(),
        eg = ee.markerSize() * 3,
        eh, ei, ef = bp(ej.margin),
        Y = d9[0].box.width() + eg,
        ek = el.width(),
        ec, ed = 0,
        eb;
      for (eb = 1; eb < ea; eb++) {
        ec = d9[eb];
        Y += ec.box.width() + eg;
        if (Y > ek - eg) {
          ec.box = M(X.x1, X.y2, X.x1 + ec.box.width(), X.y2 + ec.box.height());
          Y = ec.box.width() + eg;
          ed = ec.box.y1
        } else {
          ec.box.alignTo(d9[eb - 1].box, cJ);
          ec.box.y2 = ed + ec.box.height();
          ec.box.y1 = ed;
          ec.box.translate(eg, 0)
        }
        X.wrap(ec.box)
      }
      eh = (el.width() - X.width() + eg) / 2;
      if (ej.position === dI) {
        ei = el.y1 + ef.top;
        X.y2 = el.y1 + X.height() + ef.top + ef.bottom;
        X.y1 = el.y1
      } else {
        ei = el.y2 - X.height() - ef.bottom;
        X.y1 = el.y2 - X.height() - ef.top - ef.bottom;
        X.y2 = el.y2
      }
      ee.translateChildren(eh + ej.offsetX, ei + ej.offsetY);
      X.x1 = el.x1;
      X.x2 = el.x2;
      ee.box = X
    },
    customLayout: function(ee) {
      var eb = this,
        ed = eb.options,
        X = eb.children,
        Y = X.length,
        ea = X[0].box.clone(),
        ec = eb.markerSize() * 2,
        d9;
      for (d9 = 1; d9 < Y; d9++) {
        ea = eb.children[d9].box;
        ea.alignTo(eb.children[d9 - 1].box, K);
        ea.wrap(ea)
      }
      eb.translateChildren(ed.offsetX + ec, ed.offsetY);
      eb.box = ee
    },
    markerSize: function() {
      var Y = this,
        X = Y.children;
      if (X.length > 0) {
        return X[0].box.height() / 2
      } else {
        return 0
      }
    }
  });
  var ai = s.extend({
    init: function(Y) {
      var X = this;
      s.fn.init.call(X, Y);
      Y = X.options;
      Y.categories = Y.categories.slice(0);
      X._ticks = {}
    },
    options: {
      type: ah,
      categories: [],
      vertical: false,
      majorGridLines: {
        visible: false,
        width: 1,
        color: I
      },
      zIndex: 1,
      justified: false
    },
    range: function() {
      return {
        min: 0,
        max: this.options.categories.length
      }
    },
    getTickPositions: function(eb) {
      var X = this,
        ee = X.options,
        ej = ee.vertical,
        ec = ee.justified,
        ed = X.lineBox(),
        eh = ej ? ed.height() : ed.width(),
        ea = eb - (ec ? 1 : 0),
        ei = eh / ea,
        Y = ej ? d0 : dW,
        ef = ed[Y + 1],
        eg = [],
        d9;
      for (d9 = 0; d9 < eb; d9++) {
        eg.push(cM(ef, ax));
        ef += ei
      }
      if (!ec) {
        eg.push(ed[Y + 2])
      }
      return ee.reverse ? eg.reverse() : eg
    },
    getMajorTickPositions: function() {
      return this.getTicks().majorTicks
    },
    getMinorTickPositions: function() {
      return this.getTicks().minorTicks
    },
    getTicks: function() {
      var X = this,
        Y = X._ticks,
        ed = X.options,
        d9 = ed.categories.length,
        ee = ed.reverse,
        eb = ed.justified,
        ec = X.lineBox(),
        ea;
      ea = ec.getHash() + d9 + ee + eb;
      if (Y._hash !== ea) {
        Y._hash = ea;
        Y.majorTicks = X.getTickPositions(d9);
        Y.minorTicks = X.getTickPositions(d9 * 2)
      }
      return Y
    },
    getSlot: function(Y, el) {
      var X = this,
        ef = X.options,
        ee = X.getTicks().majorTicks,
        ei = ef.reverse,
        ea = ef.justified,
        em = ef.vertical ? d0 : dW,
        eb = X.lineBox(),
        ed = eb[em + (ei ? 2 : 1)],
        ec = eb[em + (ei ? 1 : 2)],
        ej = eb.clone(),
        d9 = bZ.max(1, ee.length - (ea ? 0 : 1)),
        eg, eh, ek;
      Y = dP(Y, 0);
      el = dP(el, Y);
      Y = bQ(Y, 0, d9);
      el = bQ(el - 1, Y, d9);
      el = bZ.max(Y, el);
      eg = Y === 0 ? ed : (ee[Y] || ec);
      eh = ea ? eg : ee[el];
      ek = el - Y;
      if (ek > 0 || (Y === el)) {
        eh = ee[el + 1] || ec
      }
      if (ea) {
        if (Y === d9) {
          eg = eh
        } else {
          eh = eg
        }
      }
      ej[em + 1] = ei ? eh : eg;
      ej[em + 2] = ei ? eg : eh;
      return ej
    },
    pointCategoryIndex: function(eh) {
      var X = this,
        eg = X.options,
        ej = eg.reverse,
        em = eg.vertical,
        el = em ? d0 : dW,
        eb = X.lineBox(),
        ed = eb[el + 1],
        ec = eb[el + 2],
        ei = eh[el],
        ee = X.getMajorTickPositions(),
        d9 = b1,
        ek, ef, ea, Y;
      if (ei < ed || ei > ec) {
        return null
      }
      for (ea = 0; ea < ee.length; ea++) {
        ek = ee[ea];
        ef = ee[ea + 1];
        if (!aW(ef)) {
          ef = ej ? ed : ec
        }
        if (ej) {
          ek = ef;
          ef = ee[ea]
        }
        if (eg.justified) {
          if (ei === ef) {
            Y = bZ.max(0, em ? ee.length - ea - 1 : ea + 1);
            break
          }
          if (bZ.abs(ei - ek) < d9) {
            d9 = ei - ek;
            Y = ea
          }
        } else {
          if (ei >= ek && ei <= ef) {
            Y = ea;
            break
          }
        }
      }
      return Y
    },
    getCategory: function(Y) {
      var X = this.pointCategoryIndex(Y);
      if (X === null) {
        return null
      }
      return this.options.categories[X]
    },
    categoryIndex: function(X) {
      return bx(X, this.options.categories)
    },
    translateRange: function(Y) {
      var X = this,
        eb = X.options,
        d9 = X.lineBox(),
        ee = eb.vertical ? d9.height() : d9.width(),
        ec = eb.categories.length,
        ed = ee / ec,
        ea = cM(Y / ed, aT);
      return {
        min: ea,
        max: ec + ea
      }
    },
    scaleRange: function(eb) {
      var X = this,
        d9 = X.options,
        ea = d9.categories.length,
        Y = eb * ea;
      return {
        min: -Y,
        max: ea + Y
      }
    },
    labelsCount: function() {
      return this.options.categories.length
    },
    createAxisLabel: function(ea, eb) {
      var X = this,
        ec = X.options,
        d9 = ec.dataItems ? ec.dataItems[ea] : null,
        Y = dP(ec.categories[ea], ""),
        ed = X.axisLabelText(Y, d9, eb);
      return new w(Y, ed, ea, d9, eb)
    },
    shouldRenderNote: function(Y) {
      var X = this.options.categories;
      return X.length && (X.length > Y && Y >= 0)
    }
  });
  var aI = ai.extend({
    init: function(d9) {
      var X = this,
        Y, ea;
      d9 = d9 || {};
      d9 = aP({
        roundToBaseUnit: true
      }, d9, {
        categories: dB(d9.categories),
        min: dB(d9.min),
        max: dB(d9.max)
      });
      if (d9.categories && d9.categories.length > 0) {
        Y = (d9.baseUnit || "").toLowerCase();
        ea = Y !== bj && !bv(Y, F);
        if (ea) {
          d9.baseUnit = X.defaultBaseUnit(d9)
        }
        if (Y === bj || d9.baseUnitStep === q) {
          X.autoBaseUnit(d9)
        }
        X.groupCategories(d9)
      } else {
        d9.baseUnit = d9.baseUnit || aO
      }
      ai.fn.init.call(X, d9)
    },
    options: {
      type: aH,
      labels: {
        dateFormats: aM
      },
      autoBaseUnitSteps: {
        seconds: [1, 2, 5, 15, 30],
        minutes: [1, 2, 5, 15, 30],
        hours: [1, 2, 3],
        days: [1, 2, 3],
        weeks: [1, 2],
        months: [1, 2, 3, 6],
        years: [1, 2, 3, 5, 10, 25, 50]
      },
      maxDateGroups: 10
    },
    shouldRenderNote: function(ea) {
      var X = this,
        d9 = X.range(),
        Y = X.options.categories || [];
      return aJ(ea, d9.min) >= 0 && aJ(ea, d9.max) <= 0 && Y.length
    },
    parseNoteValue: function(X) {
      return dB(X)
    },
    translateRange: function(d9) {
      var X = this,
        ed = X.options,
        Y = ed.baseUnit,
        ei = ed.weekStartDay,
        eb = X.lineBox(),
        eg = ed.vertical ? eb.height() : eb.width(),
        ee = X.range(),
        ef = eg / (ee.max - ee.min),
        ec = cM(d9 / ef, aT),
        ea, eh;
      if (ee.min && ee.max) {
        ea = d(ed.min || ee.min, ec);
        eh = d(ed.max || ee.max, ec);
        ee = {
          min: c(ea, 0, Y, ei),
          max: c(eh, 0, Y, ei)
        }
      }
      return ee
    },
    scaleRange: function(Y) {
      var X = this,
        eb = bZ.abs(Y),
        ea = X.range(),
        d9 = ea.min,
        ed = ea.max,
        ec;
      if (ea.min && ea.max) {
        while (eb--) {
          ea = aK(d9, ed);
          ec = bZ.round(ea * 0.1);
          if (Y < 0) {
            d9 = d(d9, ec);
            ed = d(ed, -ec)
          } else {
            d9 = d(d9, -ec);
            ed = d(ed, ec)
          }
        }
        ea = {
          min: d9,
          max: ed
        }
      }
      return ea
    },
    defaultBaseUnit: function(ee) {
      var Y = ee.categories,
        ea = aW(Y) ? Y.length : 0,
        d9, X, eb, ed = b1,
        ec, ef;
      for (d9 = 0; d9 < ea; d9++) {
        X = Y[d9];
        if (X && ec) {
          eb = aK(X, ec);
          if (eb > 0) {
            ed = bZ.min(ed, eb);
            if (ed >= dz) {
              ef = d3
            } else {
              if (ed >= dv - ds * 3) {
                ef = b4
              } else {
                if (ed >= dy) {
                  ef = dT
                } else {
                  if (ed >= ds) {
                    ef = aO
                  } else {
                    if (ed >= dt) {
                      ef = bu
                    } else {
                      if (ed >= du) {
                        ef = b3
                      } else {
                        ef = cU
                      }
                    }
                  }
                }
              }
            }
          }
        }
        ec = X
      }
      return ef || aO
    },
    _categoryRange: function(X) {
      var Y = X._range;
      if (!Y) {
        Y = X._range = c9(X)
      }
      return Y
    },
    range: function(eg) {
      eg = eg || this.options;
      var ea = eg.categories,
        X = eg.baseUnit === bj,
        Y = X ? F[0] : eg.baseUnit,
        d9 = eg.baseUnitStep || 1,
        ee = dJ(eg.min),
        ec = dJ(eg.max),
        eb = this._categoryRange(ea);
      var ef = dJ(eb.min),
        ed = dJ(eb.max);
      if (eg.roundToBaseUnit) {
        return {
          min: c(ee || ef, 0, Y, eg.weekStartDay),
          max: c(ec || ed, d9, Y, eg.weekStartDay)
        }
      } else {
        return {
          min: dB(ee || ef),
          max: dB(ec || this._srcMaxDate || ed)
        }
      }
    },
    autoBaseUnit: function(ee) {
      var ea = this,
        ef = ea.range(aP({}, ee, {
          baseUnitStep: 1
        })),
        Y = ee.baseUnit === bj,
        d9 = 0,
        eb = Y ? F[d9++] : ee.baseUnit,
        eg = ef.max - ef.min,
        ej = eg / dx[eb],
        ei = ej,
        ec = ee.maxDateGroups || ea.options.maxDateGroups,
        X = aP({}, ea.options.autoBaseUnitSteps, ee.autoBaseUnitSteps),
        ek, eh, ed;
      while (!eh || ej > ec) {
        ek = ek || X[eb].slice(0);
        ed = ek.shift();
        if (ed) {
          eh = ed;
          ej = ei / eh
        } else {
          if (eb === bJ(F)) {
            eh = bZ.ceil(ei / ec);
            break
          } else {
            if (Y) {
              eb = F[d9++] || bJ(F);
              ei = eg / dx[eb];
              ek = null
            } else {
              if (ej > ec) {
                eh = bZ.ceil(ei / ec)
              }
              break
            }
          }
        }
      }
      ee.baseUnitStep = eh;
      ee.baseUnit = eb
    },
    _timeScale: function() {
      var X = this,
        ed = X.range(),
        ec = X.options,
        d9 = X.lineBox(),
        ef = ec.vertical,
        ea = ef ? d9.height() : d9.width(),
        ee;
      if (ec.justified) {
        var Y = this._categoryRange(ec.categories);
        var eb = dJ(Y.max);
        ee = dB(eb) - ed.min
      } else {
        ee = ed.max - ed.min
      }
      return ea / ee
    },
    getTickPositions: function(ea) {
      var X = this,
        eh = X.options,
        Y = eh.categories,
        ej = [];
      if (eh.roundToBaseUnit || Y.length === 0) {
        ej = ai.fn.getTickPositions.call(X, ea)
      } else {
        var eq = eh.vertical,
          ek = eh.reverse,
          eg = X.lineBox(),
          eo = Y[0].getTime(),
          d9 = eh.justified,
          ec = Y.length - (d9 ? 1 : 0),
          el = X._timeScale(),
          eb = (eq ? -1 : 1) * (ek ? -1 : 1),
          em = eb === 1 ? 1 : 2,
          ed = eb === 1 ? 2 : 1,
          en = eg[(eq ? d0 : dW) + em],
          ee = eg[(eq ? d0 : dW) + ed],
          ei = en,
          ef, ep;
        for (ef = 0; ef < ec; ef++) {
          ep = Y[ef] - eo;
          ei = en + ep * el * eb;
          ej.push(cM(ei, ax))
        }
        if (bJ(ej) !== ee) {
          ej.push(ee)
        }
      }
      return ej
    },
    groupCategories: function(eg) {
      var X = this,
        ea = eg.categories,
        ee = dB(da(ea)),
        Y = eg.baseUnit,
        d9 = eg.baseUnitStep || 1,
        eh = X.range(eg),
        ed = eh.max,
        eb, ef, ec = [];
      for (eb = eh.min; eb < ed; eb = ef) {
        ec.push(eb);
        ef = c(eb, d9, Y, eg.weekStartDay);
        if (ef > ee && !eg.max) {
          break
        }
      }
      if (!eg.roundToBaseUnit && !aL(bJ(ec), ed)) {
        if (ed < ef) {
          this._srcMaxDate = ed
        } else {
          ec.push(ed)
        }
      }
      eg.srcCategories = ea;
      eg.categories = ec
    },
    createAxisLabel: function(ea, eb) {
      var ec = this.options,
        Y = ec.dataItems ? ec.dataItems[ea] : null,
        d9 = ec.categories[ea],
        X = ec.baseUnit,
        eg = true,
        ef = eb.dateFormats[X];
      if (ec.justified) {
        var ed = bk(d9, X, ec.weekStartDay);
        eg = aL(ed, d9)
      } else {
        if (!ec.roundToBaseUnit) {
          eg = !aL(this.range().max, d9)
        }
      }
      if (eg) {
        eb.format = eb.format || ef;
        var ee = this.axisLabelText(d9, Y, eb);
        if (ee) {
          return new w(d9, ee, ea, Y, eb)
        }
      }
    },
    categoryIndex: function(ed, ec) {
      var X = this,
        eb = X.options,
        Y = eb.categories,
        d9, ea;
      ed = dB(ed);
      ec = ec || X.range();
      d9 = eb.roundToBaseUnit && aL(ec.max, ed);
      if (!ed || (ed > ec.max) || (ed < ec.min) || d9) {
        return -1
      }
      ea = bX(ed, Y);
      return ea
    },
    getSlot: function(X, d9) {
      var Y = this;
      if (typeof X === cl) {
        X = Y.categoryIndex(X)
      }
      if (typeof d9 === cl) {
        d9 = Y.categoryIndex(d9)
      }
      return ai.fn.getSlot.call(Y, X, d9)
    }
  });
  var aN = s.extend({
    init: function(ea, d9, Y) {
      var X = this;
      Y = Y || {};
      aP(Y, {
        min: dB(Y.min),
        max: dB(Y.max),
        axisCrossingValue: dB(Y.axisCrossingValues || Y.axisCrossingValue)
      });
      Y = X.applyDefaults(dB(ea), dB(d9), Y);
      s.fn.init.call(X, Y)
    },
    options: {
      type: aH,
      labels: {
        dateFormats: aM
      }
    },
    applyDefaults: function(ej, ei, eh) {
      var ea = this,
        eg = eh.min || ej,
        ef = eh.max || ei,
        eb = eh.baseUnit || ea.timeUnits(ef - eg),
        ec = dx[eb],
        d9 = bk(dJ(eg) - 1, eb) || dB(ef),
        Y = aj(dJ(ef) + 1, eb),
        en = eh.majorUnit ? eh.majorUnit : dL,
        ee = en || aG.ceil(aG.autoMajorUnit(d9.getTime(), Y.getTime()), ec) / ec,
        X = a5(d9, Y, eb),
        el = aG.ceil(X, ee),
        em = el - X,
        ed = bZ.floor(em / 2),
        ek = em - ed;
      if (!eh.baseUnit) {
        delete eh.baseUnit
      }
      return aP({
        baseUnit: eb,
        min: c(d9, -ed, eb),
        max: c(Y, ek, eb),
        minorUnit: ee / 5
      }, eh, {
        majorUnit: ee
      })
    },
    range: function() {
      var X = this.options;
      return {
        min: X.min,
        max: X.max
      }
    },
    getDivisions: function(Y) {
      var X = this.options;
      return bZ.floor(a5(X.min, X.max, X.baseUnit) / Y + 1)
    },
    getTickPositions: function(ek) {
      var X = this,
        ed = X.options,
        em = ed.vertical,
        eg = ed.reverse,
        eb = X.lineBox(),
        ec = em ? eb.height() : eb.width(),
        el = a5(ed.min, ed.max, ed.baseUnit),
        eh = ec / el,
        ei = ek * eh,
        d9 = X.getDivisions(ek),
        Y = (em ? -1 : 1) * (eg ? -1 : 1),
        ej = Y === 1 ? 1 : 2,
        ee = eb[(em ? d0 : dW) + ej],
        ef = [],
        ea;
      for (ea = 0; ea < d9; ea++) {
        ef.push(cM(ee, ax));
        ee = ee + ei * Y
      }
      return ef
    },
    getMajorTickPositions: function() {
      var X = this;
      return X.getTickPositions(X.options.majorUnit)
    },
    getMinorTickPositions: function() {
      var X = this;
      return X.getTickPositions(X.options.minorUnit)
    },
    getSlot: function(X, Y) {
      return ck.fn.getSlot.call(this, dB(X), dB(Y))
    },
    getValue: function(X) {
      var Y = ck.fn.getValue.call(this, X);
      return Y !== null ? dB(Y) : null
    },
    labelsCount: function() {
      return this.getDivisions(this.options.majorUnit)
    },
    createAxisLabel: function(Y, d9) {
      var eb = this.options,
        ea = Y * eb.majorUnit,
        X = c(eb.min, ea, eb.baseUnit),
        ed = d9.dateFormats[eb.baseUnit];
      d9.format = d9.format || ed;
      var ec = this.axisLabelText(X, null, d9);
      return new w(X, ec, Y, null, d9)
    },
    timeUnits: function(X) {
      var Y = bu;
      if (X >= dz) {
        Y = d3
      } else {
        if (X >= dv) {
          Y = b4
        } else {
          if (X >= dy) {
            Y = dT
          } else {
            if (X >= ds) {
              Y = aO
            }
          }
        }
      }
      return Y
    },
    translateRange: function(d9) {
      var X = this,
        ed = X.options,
        Y = ed.baseUnit,
        ei = ed.weekStartDay,
        eb = X.lineBox(),
        eg = ed.vertical ? eb.height() : eb.width(),
        ee = X.range(),
        ef = eg / (ee.max - ee.min),
        ec = cM(d9 / ef, aT),
        ea = d(ed.min, ec),
        eh = d(ed.max, ec);
      return {
        min: c(ea, 0, Y, ei),
        max: c(eh, 0, Y, ei)
      }
    },
    scaleRange: function(Y) {
      var X = this,
        ea = X.options,
        ec = bZ.abs(Y),
        d9 = ea.min,
        ee = ea.max,
        eb, ed;
      while (ec--) {
        eb = aK(d9, ee);
        ed = bZ.round(eb * 0.1);
        if (Y < 0) {
          d9 = d(d9, ed);
          ee = d(ee, -ed)
        } else {
          d9 = d(d9, -ed);
          ee = d(ee, ed)
        }
      }
      return {
        min: d9,
        max: ee
      }
    },
    shouldRenderNote: function(Y) {
      var X = this.range();
      return aJ(Y, X.min) >= 0 && aJ(Y, X.max) <= 0
    }
  });
  var at = an.extend({
    options: {
      vertical: false,
      gap: 0,
      spacing: 0
    },
    reflow: function(Y) {
      var eb = this,
        ef = eb.options,
        ek = ef.vertical,
        X = ek ? d0 : dW,
        ea = eb.children,
        ed = ef.gap,
        ej = ef.spacing,
        ec = ea.length,
        eh = ec + ed + (ej * (ec - 1)),
        ei = (ek ? Y.height() : Y.width()) / eh,
        eg = Y[X + 1] + ei * (ed / 2),
        d9, ee;
      for (ee = 0; ee < ec; ee++) {
        d9 = (ea[ee].box || Y).clone();
        d9[X + 1] = eg;
        d9[X + 2] = eg + ei;
        ea[ee].reflow(d9);
        if (ee < ec - 1) {
          eg += (ei * ej)
        }
        eg += ei
      }
    }
  });
  var df = an.extend({
    options: {
      vertical: true,
      isReversed: false
    },
    reflow: function(ej) {
      var ef = this,
        ed = ef.options,
        ek = ed.vertical,
        ee = ek ? dW : d0,
        eg = ek ? d0 : dW,
        eh = ej[eg + 2],
        d9 = ef.children,
        X = ef.box = new M(),
        ea = d9.length,
        ei, ec;
      if (ed.isReversed) {
        ei = ek ? K : bL
      } else {
        ei = ek ? dI : cJ
      }
      for (ec = 0; ec < ea; ec++) {
        var eb = d9[ec],
          Y = eb.box.clone();
        Y.snapTo(ej, ee);
        if (eb.options) {
          eb.options.stackBase = eh
        }
        if (ec === 0) {
          X = ef.box = Y.clone()
        } else {
          Y.alignTo(d9[ec - 1].box, ei)
        }
        eb.reflow(Y);
        X.wrap(Y)
      }
    }
  });
  var cF = {
    click: function(X, Y) {
      var d9 = this;
      X.trigger(cZ, {
        value: d9.value,
        category: d9.category,
        series: d9.series,
        dataItem: d9.dataItem,
        element: a(Y.target)
      })
    },
    hover: function(X, Y) {
      var d9 = this;
      X.trigger(c0, {
        value: d9.value,
        category: d9.category,
        series: d9.series,
        dataItem: d9.dataItem,
        element: a(Y.target)
      })
    }
  };
  var ci = {
    createNote: function() {
      var X = this,
        Y = X.options.notes,
        d9 = X.noteText || Y.label.text;
      if (Y.visible !== false && aW(d9) && d9 !== null) {
        X.note = new ce(X.value, d9, X.dataItem, X.category, X.series, X.options.notes);
        X.append(X.note)
      }
    }
  };
  var y = an.extend({
    init: function(d9, Y) {
      var X = this;
      an.fn.init.call(X);
      X.options = Y;
      X.color = Y.color || dU;
      X.value = d9;
      X.id = dN();
      X.enableDiscovery()
    },
    defaults: {
      border: {
        width: 1
      },
      vertical: true,
      overlay: {
        gradient: br
      },
      aboveAxis: true,
      labels: {
        visible: false
      },
      animation: {
        type: z
      },
      opacity: 1,
      notes: {
        label: {}
      }
    },
    render: function() {
      var X = this,
        ec = X.value,
        eb = X.options,
        Y = eb.labels,
        ea = ec !== null ? ec : "",
        d9;
      if (X._rendered) {
        return
      } else {
        X._rendered = true
      }
      if (Y.visible) {
        if (Y.template) {
          d9 = dp(Y.template);
          ea = d9({
            dataItem: X.dataItem,
            category: X.category,
            value: X.value,
            series: X.series
          })
        } else {
          if (Y.format) {
            ea = r(Y.format, ea)
          }
        }
        X.label = new E(ea, aP({
          vertical: eb.vertical,
          id: dN()
        }, eb.labels));
        X.append(X.label)
      }
      X.createNote();
      if (X.errorBar) {
        X.append(X.errorBar)
      }
    },
    reflow: function(eb) {
      this.render();
      var X = this,
        ea = X.options,
        d9 = X.label;
      X.box = eb;
      if (d9) {
        d9.options.aboveAxis = ea.aboveAxis;
        d9.reflow(eb)
      }
      if (X.note) {
        X.note.reflow(eb)
      }
      if (X.errorBars) {
        for (var Y = 0; Y < X.errorBars.length; Y++) {
          X.errorBars[Y].reflow(eb)
        }
      }
    },
    getViewElements: function(ee) {
      var X = this,
        eb = X.options,
        ed = eb.vertical,
        Y = eb.border.width > 0 ? {
          stroke: X.getBorderColor(),
          strokeWidth: eb.border.width,
          strokeOpacity: eb.border.opacity,
          dashType: eb.border.dashType
        } : {}, d9 = X.box,
        ec = aP({
          id: X.id,
          fill: X.color,
          fillOpacity: eb.opacity,
          strokeOpacity: eb.opacity,
          vertical: eb.vertical,
          aboveAxis: eb.aboveAxis,
          stackBase: eb.stackBase,
          animation: eb.animation,
          data: {
            modelId: X.modelId
          }
        }, Y),
        ea = [];
      if (d9.width() > 0 && d9.height() > 0) {
        if (eb.overlay) {
          ec.overlay = aP({
            rotation: ed ? 0 : 90
          }, eb.overlay)
        }
        ea.push(ee.createRect(d9, ec))
      }
      g(ea, an.fn.getViewElements.call(X, ee));
      return ea
    },
    highlightOverlay: function(ea, d9) {
      var X = this,
        Y = X.box;
      d9 = aP({
        data: {
          modelId: X.modelId
        }
      }, d9);
      return ea.createRect(Y, d9)
    },
    getBorderColor: function() {
      var X = this,
        ec = X.options,
        eb = X.color,
        Y = ec.border,
        d9 = Y.color,
        ea = Y._brightness || A;
      if (!aW(d9)) {
        d9 = new au(eb).brightness(ea).toHex()
      }
      return d9
    },
    tooltipAnchor: function(ec, eb) {
      var Y = this,
        ea = Y.options,
        d9 = Y.box,
        ed = ea.vertical,
        X = ea.aboveAxis,
        ee, ef;
      if (ed) {
        ee = d9.x2 + dG;
        ef = X ? d9.y1 : d9.y2 - eb
      } else {
        if (ea.isStacked) {
          ee = X ? d9.x2 - ec : d9.x1;
          ef = d9.y1 - eb - dG
        } else {
          ee = X ? d9.x2 + dG : d9.x1 - ec - dG;
          ef = d9.y1
        }
      }
      return new cD(ee, ef)
    },
    formatValue: function(X) {
      var Y = this;
      return Y.owner.formatPointValue(Y, X)
    }
  });
  aP(y.fn, cF);
  aP(y.fn, ci);
  var be = function(X, d9, Y) {
    var ea = this;
    ea.errorValue = X;
    ea.initGlobalRanges(X, d9, Y)
  };
  be.prototype = be.fn = {
    percentRegex: /percent(?:\w*)\((\d+)\)/,
    standardDeviationRegex: new RegExp("^" + dh + "(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),
    initGlobalRanges: function(ec, ef, ed) {
      var eh = this,
        Y = ef.data,
        ea = eh.standardDeviationRegex.exec(ec);
      if (ea) {
        eh.valueGetter = eh.createValueGetter(ef, ed);
        var X = eh.getAverage(Y),
          d9 = eh.getStandardDeviation(Y, X, false),
          ee = ea[1] ? parseFloat(ea[1]) : 1,
          eb = {
            low: X - d9 * ee,
            high: X + d9 * ee
          };
        eh.globalRange = function() {
          return eb
        }
      } else {
        if (ec.indexOf && ec.indexOf(di) >= 0) {
          eh.valueGetter = eh.createValueGetter(ef, ed);
          var eg = eh.getStandardError(Y);
          eh.globalRange = function(ei) {
            return {
              low: ei - eg,
              high: ei + eg
            }
          }
        }
      }
    },
    createValueGetter: function(ec, d9) {
      var Y = ec.data,
        X = c2.current,
        ee = X.valueFields(ec),
        eb = aW(Y[0]) ? Y[0] : {}, ea, ed, ef;
      if (bE(eb)) {
        ea = d9 ? bx(d9, ee) : 0;
        ef = bq("[" + ea + "]")
      } else {
        if (bH(eb)) {
          ef = bq()
        } else {
          if (typeof eb === cl) {
            ed = X.sourceFields(ec, ee);
            ef = bq(ed[bx(d9, ee)])
          }
        }
      }
      return ef
    },
    getErrorRange: function(eb) {
      var ec = this,
        X = ec.errorValue,
        d9, Y, ed;
      if (!aW(X)) {
        return
      }
      if (ec.globalRange) {
        return ec.globalRange(eb)
      }
      if (bE(X)) {
        d9 = eb - X[0];
        Y = eb + X[1]
      } else {
        if (bH(ed = parseFloat(X))) {
          d9 = eb - ed;
          Y = eb + ed
        } else {
          if ((ed = ec.percentRegex.exec(X))) {
            var ea = eb * (parseFloat(ed[1]) / 100);
            d9 = eb - bZ.abs(ea);
            Y = eb + bZ.abs(ea)
          } else {
            throw new Error("Invalid ErrorBar value: " + X)
          }
        }
      }
      return {
        low: d9,
        high: Y
      }
    },
    getStandardError: function(X) {
      return this.getStandardDeviation(X, this.getAverage(X), true) / bZ.sqrt(X.length)
    },
    getStandardDeviation: function(Y, X, ea) {
      var ec = 0,
        eb = Y.length,
        ed = ea ? eb - 1 : eb;
      for (var d9 = 0; d9 < eb; d9++) {
        ec += bZ.pow(this.valueGetter(Y[d9]) - X, 2)
      }
      return bZ.sqrt(ec / ed)
    },
    getAverage: function(X) {
      var ea = 0,
        d9 = X.length;
      for (var Y = 0; Y < d9; Y++) {
        ea += this.valueGetter(X[Y])
      }
      return ea / d9
    }
  };
  var ad = an.extend({
    init: function(d9, Y) {
      var X = this;
      an.fn.init.call(X, Y);
      X.plotArea = d9;
      X.categoryAxis = d9.seriesCategoryAxis(Y.series[0]);
      X.valueAxisRanges = {};
      X.points = [];
      X.categoryPoints = [];
      X.seriesPoints = [];
      X.seriesOptions = [];
      X._evalSeries = [];
      X.render()
    },
    options: {
      series: [],
      invertAxes: false,
      isStacked: false
    },
    render: function() {
      var X = this;
      X.traverseDataPoints(cG(X.addValue, X))
    },
    pointOptions: function(d9, ea) {
      var Y = this.seriesOptions[ea];
      if (!Y) {
        var X = this.pointType().fn.defaults;
        this.seriesOptions[ea] = Y = aP({}, X, {
          vertical: !this.options.invertAxes
        }, d9)
      }
      return Y
    },
    addErrorBar: function(ee, d9, X) {
      var Y = this,
        eh = ee.value,
        ef = ee.series,
        eg = ee.seriesIx,
        ea = ee.options.errorBars,
        eb, ed = d9.fields[bc],
        ec = d9.fields[bb];
      if (bH(ed) && bH(ec)) {
        eb = {
          low: ed,
          high: ec
        }
      } else {
        if (ea && aW(ea.value)) {
          Y.seriesErrorRanges = Y.seriesErrorRanges || [];
          Y.seriesErrorRanges[eg] = Y.seriesErrorRanges[eg] || new be(ea.value, ef, dO);
          eb = Y.seriesErrorRanges[eg].getErrorRange(eh)
        }
      }
      if (eb) {
        ee.low = eb.low;
        ee.high = eb.high;
        Y.addPointErrorBar(ee, X)
      }
    },
    addPointErrorBar: function(ee, X) {
      var Y = this,
        ef = ee.series,
        ec = ee.low,
        ea = ee.high,
        eb = !Y.options.invertAxes,
        ed = ee.options.errorBars,
        d9, eg;
      if (Y.options.isStacked) {
        eg = Y.stackedErrorRange(ee, X);
        ec = eg.low;
        ea = eg.high
      } else {
        Y.updateRange({
          value: ec
        }, X, ef);
        Y.updateRange({
          value: ea
        }, X, ef)
      }
      d9 = new ae(ec, ea, eb, Y, ef, ed);
      ee.errorBars = [d9];
      ee.append(d9)
    },
    addValue: function(eb, X, Y, ed, ee) {
      var ea = this,
        d9 = ea.categoryPoints[Y],
        ef = ea.seriesPoints[ee],
        ec;
      if (!d9) {
        ea.categoryPoints[Y] = d9 = []
      }
      if (!ef) {
        ea.seriesPoints[ee] = ef = []
      }
      ea.updateRange(eb.valueFields, Y, ed);
      ec = ea.createPoint(eb, X, Y, ed, ee);
      if (ec) {
        ec.category = X;
        ec.series = ed;
        ec.seriesIx = ee;
        ec.owner = ea;
        ec.dataItem = ed.data[Y];
        ec.noteText = eb.fields.noteText;
        ea.addErrorBar(ec, eb, Y)
      }
      ea.points.push(ec);
      ef.push(ec);
      d9.push(ec)
    },
    evalPointOptions: function(ea, ee, X, Y, eb, ec) {
      var ed = {
        defaults: eb._defaults,
        excluded: ["data", "aggregate", "_events"]
      };
      var d9 = this._evalSeries[ec];
      if (!aW(d9)) {
        this._evalSeries[ec] = d9 = bf(ea, {}, ed, true)
      }
      if (d9) {
        bf(ea, {
          value: ee,
          category: X,
          index: Y,
          series: eb,
          dataItem: eb.data[Y]
        }, ed)
      }
      return ea
    },
    updateRange: function(eb, d9, ec) {
      var ea = this,
        X = ec.axis,
        ed = eb.value,
        Y = ea.valueAxisRanges[X];
      if (isFinite(ed) && ed !== null) {
        Y = ea.valueAxisRanges[X] = Y || {
          min: b1,
          max: b2
        };
        Y.min = bZ.min(Y.min, ed);
        Y.max = bZ.max(Y.max, ed)
      }
    },
    seriesValueAxis: function(ea) {
      var d9 = this.plotArea,
        Y = ea.axis,
        X = Y ? d9.namedValueAxes[Y] : d9.valueAxis;
      if (!X) {
        throw new Error("Unable to locate value axis with name " + Y)
      }
      return X
    },
    reflow: function(ee) {
      var ea = this,
        ed = 0,
        d9 = ea.categorySlots = [],
        eb = ea.points,
        Y = ea.categoryAxis,
        ef, eg, X, ec;
      ea.traverseDataPoints(function(em, ei, ej, el) {
        ef = ea.pointValue(em);
        eg = ea.seriesValueAxis(el);
        X = ea.categoryAxisCrossingValue(eg);
        ec = eb[ed++];
        if (ec && ec.plotValue) {
          ef = ec.plotValue
        }
        var ek = d9[ej];
        if (!ek) {
          d9[ej] = ek = ea.categorySlot(Y, ej, eg)
        }
        if (ec) {
          var eo = ea.valueSlot(eg, ef, X);
          var en = ea.pointSlot(ek, eo);
          var eh = eg.options.reverse ? ef < X : ef >= X;
          ec.options.aboveAxis = eh;
          ea.reflowPoint(ec, en)
        }
      });
      ea.reflowCategories(d9);
      ea.box = ee
    },
    categoryAxisCrossingValue: function(ea) {
      var X = this.categoryAxis,
        d9 = ea.options,
        Y = [].concat(d9.axisCrossingValues || d9.axisCrossingValue);
      return Y[X.axisIndex || 0] || 0
    },
    reflowPoint: function(X, Y) {
      X.reflow(Y)
    },
    reflowCategories: function() {},
    pointSlot: function(X, ed) {
      var Y = this,
        ea = Y.options,
        d9 = ea.invertAxes,
        eb = d9 ? ed : X,
        ec = d9 ? X : ed;
      return new M(eb.x1, ec.y1, eb.x2, ec.y2)
    },
    valueSlot: function(d9, Y, X) {
      return d9.getSlot(Y, X)
    },
    categorySlot: function(X, Y) {
      return X.getSlot(Y)
    },
    traverseDataPoints: function(X) {
      var ea = this,
        ee = ea.options,
        eg = ee.series,
        Y = ea.categoryAxis.options.categories || [],
        eb = ag(eg),
        d9, ei, ef, ec, ed, eh = eg.length;
      for (d9 = 0; d9 < eb; d9++) {
        for (ei = 0; ei < eh; ei++) {
          ed = eg[ei];
          ec = Y[d9];
          ef = c2.current.bindPoint(ed, d9);
          X(ef, ec, d9, ed, ei)
        }
      }
    },
    formatPointValue: function(Y, X) {
      return r(X, Y.value)
    },
    pointValue: function(X) {
      return X.valueFields.value
    }
  });
  var D = ad.extend({
    init: function(d9, Y) {
      var X = this;
      X._groupTotals = {};
      X._groups = [];
      ad.fn.init.call(X, d9, Y)
    },
    render: function() {
      var X = this;
      ad.fn.render.apply(X);
      X.computeAxisRanges()
    },
    pointType: function() {
      return y
    },
    clusterType: function() {
      return at
    },
    stackType: function() {
      return df
    },
    createPoint: function(ee, X, Y, en, eo) {
      var d9 = this,
        er = ee.valueFields.value,
        ei = d9.options,
        ea = d9.children,
        ef = d9.options.isStacked,
        ej, el = d9.pointType(),
        ek, eb, ec = d9.clusterType(),
        ep = d9.stackType();
      ek = this.pointOptions(en, eo);
      var eg = ek.labels;
      if (ef) {
        if (eg.position == cr) {
          eg.position = bA
        }
      }
      ek.isStacked = ef;
      var ed = ee.fields.color || en.color;
      if (er < 0 && ek.negativeColor) {
        ed = ek.negativeColor
      }
      ek = d9.evalPointOptions(ek, er, X, Y, en, eo);
      if (bI.isFunction(en.color)) {
        ed = ek.color
      }
      ej = new el(er, ek);
      ej.color = ed;
      eb = ea[Y];
      if (!eb) {
        eb = new ec({
          vertical: ei.invertAxes,
          gap: ei.gap,
          spacing: ei.spacing
        });
        d9.append(eb)
      }
      if (ef) {
        var eq = d9.getStackWrap(en, eb),
          em, eh;
        if (eq.children.length === 0) {
          em = new ep({
            vertical: !ei.invertAxes
          });
          eh = new ep({
            vertical: !ei.invertAxes,
            isReversed: true
          });
          eq.append(em, eh)
        } else {
          em = eq.children[0];
          eh = eq.children[1]
        }
        if (er > 0) {
          em.append(ej)
        } else {
          eh.append(ej)
        }
      } else {
        eb.append(ej)
      }
      return ej
    },
    getStackWrap: function(ea, X) {
      var ed = X.children,
        eb = ea.stack,
        ec, Y, d9 = ed.length;
      if (typeof eb === dm) {
        for (Y = 0; Y < d9; Y++) {
          if (ed[Y]._stackGroup === eb) {
            ec = ed[Y];
            break
          }
        }
      } else {
        ec = ed[0]
      }
      if (!ec) {
        ec = new an();
        ec._stackGroup = eb;
        X.append(ec)
      }
      return ec
    },
    updateRange: function(d9, X, eb) {
      var Y = this,
        ed = d9.value,
        ea = Y.options.isStacked,
        ec;
      if (aW(ed)) {
        if (ea) {
          ec = Y.groupTotals(eb.stack);
          bw(ed > 0 ? ec.positive : ec.negative, X, ed)
        } else {
          ad.fn.updateRange.apply(Y, arguments)
        }
      }
    },
    computeAxisRanges: function() {
      var d9 = this,
        ea = d9.options.isStacked,
        X, Y;
      if (ea) {
        X = d9.options.series[0].axis;
        Y = d9.categoryTotals();
        if (d9.errorTotals) {
          Y.negative = Y.negative.concat(d9.errorTotals.negative);
          Y.positive = Y.positive.concat(d9.errorTotals.positive)
        }
        d9.valueAxisRanges[X] = {
          min: db(Y.negative.concat(0)),
          max: da(Y.positive.concat(0))
        }
      }
    },
    stackedErrorRange: function(ec, X) {
      var Y = this,
        ed = Y.groupTotals(true),
        ee = ec.value,
        eb = (ee > 0 ? ed.positive[X] : ed.negative[X]) - ee,
        ea = ec.low + eb,
        d9 = ec.high + eb;
      Y.errorTotals = Y.errorTotals || {
        positive: [],
        negative: []
      };
      if (ea < 0) {
        Y.errorTotals.negative[X] = bZ.min(Y.errorTotals.negative[X] || 0, ea)
      }
      if (d9 > 0) {
        Y.errorTotals.positive[X] = bZ.max(Y.errorTotals.positive[X] || 0, d9)
      }
      return {
        low: ea,
        high: d9
      }
    },
    seriesValueAxis: function(d9) {
      var X = this,
        Y = X.options;
      return ad.fn.seriesValueAxis.call(X, Y.isStacked ? X.options.series[0] : d9)
    },
    valueSlot: function(d9, Y, X) {
      return d9.getSlot(Y, this.options.isStacked ? 0 : X)
    },
    categorySlot: function(X, Y, ed) {
      var ea = this,
        eb = ea.options,
        d9 = X.getSlot(Y),
        ec, ee;
      if (eb.isStacked) {
        ee = ed.getSlot(0, 0);
        ec = eb.invertAxes ? dW : d0;
        d9[ec + 1] = d9[ec + 2] = ee[ec + 1]
      }
      return d9
    },
    reflow: function(Y) {
      var X = this;
      X.setStacksDirection();
      ad.fn.reflow.call(X, Y)
    },
    setStacksDirection: function() {
      var Y = this,
        ee = Y.options,
        eg = ee.series,
        eb = ag(eg),
        ea = Y.children,
        X, ei, ec, el, eh = eg.length;
      for (ei = 0; ei < eh; ei++) {
        ec = eg[ei];
        el = Y.seriesValueAxis(ec);
        for (X = 0; X < eb; X++) {
          var d9 = ea[X],
            ek = Y.getStackWrap(ec, d9),
            ej = ek.children,
            ef = ej[0],
            ed = ej[1];
          if (ef && ed) {
            ef.options.isReversed = el.options.reverse;
            ed.options.isReversed = !el.options.reverse
          }
        }
      }
    },
    reflowCategories: function(X) {
      var Y = this,
        d9 = Y.children,
        ea = d9.length,
        eb;
      for (eb = 0; eb < ea; eb++) {
        d9[eb].reflow(X[eb])
      }
    },
    groupTotals: function(d9) {
      var X = this,
        Y, ea;
      if (typeof d9 === dm) {
        Y = d9
      } else {
        Y = X._groups[0] || "default"
      }
      ea = X._groupTotals[Y];
      if (!ea) {
        ea = X._groupTotals[Y] = {
          positive: [],
          negative: []
        };
        X._groups.push(Y)
      }
      return ea
    },
    categoryTotals: function() {
      var Y = this,
        d9 = Y._groups,
        ea = Y._groupTotals,
        ed, ee, X = {
          positive: [],
          negative: []
        }, eb, ec = d9.length;
      for (eb = 0; eb < ec; eb++) {
        ed = d9[eb];
        ee = ea[ed];
        g(X.positive, ee.positive);
        g(X.negative, ee.negative)
      }
      return X
    }
  });
  var Z = ad.extend({
    init: function(d9, Y) {
      var X = this;
      X.wrapData(Y);
      ad.fn.init.call(X, d9, Y)
    },
    wrapData: function(d9) {
      var ea = d9.series,
        Y, X, eb;
      for (Y = 0; Y < ea.length; Y++) {
        eb = ea[Y];
        X = eb.data;
        if (X && !bE(X[0]) && typeof(X[0]) != cl) {
          eb.data = [X]
        }
      }
    },
    reflowCategories: function(X) {
      var Y = this,
        d9 = Y.children,
        ea = d9.length,
        eb;
      for (eb = 0; eb < ea; eb++) {
        d9[eb].reflow(X[eb])
      }
    },
    createPoint: function(ee, d9, ea, eg, eh) {
      var eb = this,
        ei = ee.valueFields,
        ef = eb.options,
        ec = eb.children,
        X, Y, ed;
      Y = aP({
        vertical: !ef.invertAxes,
        overlay: eg.overlay,
        categoryIx: ea,
        invertAxes: ef.invertAxes
      }, eg);
      eb.evalPointOptions(Y, ei, d9, ea, eg, eh);
      X = new V(ei, Y);
      ed = ec[ea];
      if (!ed) {
        ed = new at({
          vertical: ef.invertAxes,
          gap: ef.gap,
          spacing: ef.spacing
        });
        eb.append(ed)
      }
      ed.append(X);
      return X
    },
    updateRange: function(ee, d9, ec) {
      var ea = this,
        X = ec.axis,
        eb = ee.current,
        ed = ee.target,
        Y = ea.valueAxisRanges[X];
      if (aW(eb) && !isNaN(eb) && aW(ed && !isNaN(ed))) {
        Y = ea.valueAxisRanges[X] = Y || {
          min: b1,
          max: b2
        };
        Y.min = bZ.min.apply(bZ, [Y.min, eb, ed]);
        Y.max = bZ.max.apply(bZ, [Y.max, eb, ed])
      }
    },
    formatPointValue: function(Y, X) {
      return r(X, Y.value.current, Y.value.target)
    },
    pointValue: function(X) {
      return X.valueFields.current
    }
  });
  var V = an.extend({
    init: function(d9, Y) {
      var X = this;
      an.fn.init.call(X, Y);
      X.value = d9;
      X.id = dN();
      X.enableDiscovery()
    },
    options: {
      color: dU,
      border: {
        width: 1
      },
      vertical: false,
      animation: {
        type: z
      },
      opacity: 1,
      target: {
        shape: "",
        border: {
          width: 0,
          color: "green"
        },
        line: {
          width: 2
        }
      },
      tooltip: {
        format: "Current: {0}</br>Target: {1}"
      }
    },
    render: function() {
      var X = this,
        Y = X.options;
      if (!X._rendered) {
        X._rendered = true;
        if (aW(X.value.target)) {
          X.target = new dn({
            type: Y.target.shape,
            background: Y.target.color || Y.color,
            opacity: Y.opacity,
            zIndex: Y.zIndex,
            border: Y.target.border,
            vAlign: dI,
            align: cJ
          });
          X.target.id = X.id;
          X.append(X.target)
        }
        X.createNote()
      }
    },
    reflow: function(X) {
      this.render();
      var Y = this,
        ec = Y.options,
        ea = Y.owner,
        ed = Y.target,
        eb = ec.invertAxes,
        ei = ea.seriesValueAxis(Y.options),
        d9 = ea.categorySlot(ea.categoryAxis, ec.categoryIx, ei),
        eh = ea.valueSlot(ei, Y.value.target, Y.value.target),
        ef = eb ? eh : d9,
        eg = eb ? d9 : eh,
        ee = new M(ef.x1, eg.y1, ef.x2, eg.y2);
      if (ed) {
        ed.options.height = eb ? ee.height() : ec.target.line.width;
        ed.options.width = eb ? ec.target.line.width : ee.width();
        ed.reflow(ee)
      }
      if (Y.note) {
        Y.note.reflow(X)
      }
      Y.box = X
    },
    getViewElements: function(ee) {
      var d9 = this,
        eb = d9.options,
        ed = eb.vertical,
        X = eb.border.width > 0 ? {
          stroke: eb.border.color || eb.color,
          strokeWidth: eb.border.width,
          dashType: eb.border.dashType
        } : {}, Y = d9.box,
        ec = aP({
          id: d9.id,
          fill: eb.color,
          fillOpacity: eb.opacity,
          strokeOpacity: eb.opacity,
          vertical: eb.vertical,
          aboveAxis: eb.aboveAxis,
          animation: eb.animation,
          data: {
            modelId: d9.modelId
          }
        }, X),
        ea = [];
      if (Y.width() > 0 && Y.height() > 0) {
        if (eb.overlay) {
          ec.overlay = aP({
            rotation: ed ? 0 : 90
          }, eb.overlay)
        }
        ea.push(ee.createRect(Y, ec))
      }
      g(ea, an.fn.getViewElements.call(d9, ee));
      return ea
    },
    tooltipAnchor: function(ec, eb) {
      var Y = this,
        ea = Y.options,
        d9 = Y.box,
        ed = ea.vertical,
        X = ea.aboveAxis,
        ee, ef;
      if (ed) {
        ee = d9.x2 + dG;
        ef = X ? d9.y1 : d9.y2 - eb
      } else {
        if (ea.isStacked) {
          ee = X ? d9.x2 - ec : d9.x1;
          ef = d9.y1 - eb - dG
        } else {
          ee = X ? d9.x2 + dG : d9.x1 - ec - dG;
          ef = d9.y1
        }
      }
      return new cD(ee, ef)
    },
    highlightOverlay: function(ea, d9) {
      var Y = this,
        X = Y.box;
      d9 = aP({
        data: {
          modelId: Y.modelId
        }
      }, d9);
      return ea.createRect(X, d9)
    },
    formatValue: function(Y) {
      var X = this;
      return X.owner.formatPointValue(X, Y)
    }
  });
  aP(V.fn, cF);
  aP(V.fn, ci);
  var dn = c4.extend();
  aP(dn.fn, cF);
  var bd = an.extend({
    init: function(eb, d9, ea, X, ed, ec) {
      var Y = this;
      Y.low = eb;
      Y.high = d9;
      Y.isVertical = ea;
      Y.chart = X;
      Y.series = ed;
      an.fn.init.call(Y, ec)
    },
    getAxis: function() {},
    reflow: function(eh) {
      var eg, ee = this,
        ed = ee.options.endCaps,
        ef = ee.isVertical,
        X = ee.getAxis(),
        ei = X.getSlot(ee.low, ee.high),
        ec = eh.center(),
        ea = ee.getCapsWidth(eh, ef),
        eb = ef ? ec.x : ec.y,
        d9 = eb - ea,
        Y = eb + ea;
      if (ef) {
        eg = [cD(ec.x, ei.y1), cD(ec.x, ei.y2)];
        if (ed) {
          eg.push(cD(d9, ei.y1), cD(Y, ei.y1), cD(d9, ei.y2), cD(Y, ei.y2))
        }
      } else {
        eg = [cD(ei.x1, ec.y), cD(ei.x2, ec.y)];
        if (ed) {
          eg.push(cD(ei.x1, d9), cD(ei.x1, Y), cD(ei.x2, d9), cD(ei.x2, Y))
        }
      }
      ee.linePoints = eg
    },
    getCapsWidth: function(X, ea) {
      var Y = ea ? X.width() : X.height(),
        d9 = bZ.min(bZ.floor(Y / 2), aQ) || aQ;
      return d9
    },
    getViewElements: function(ef) {
      var Y = this,
        ed = Y.options,
        ee = Y.parent,
        ea = ed.line,
        eb = {
          stroke: ed.color,
          strokeWidth: ea.width,
          zIndex: ea.zIndex,
          align: false,
          dashType: ea.dashType
        }, ec = Y.linePoints,
        X = [],
        d9;
      for (d9 = 0; d9 < ec.length; d9 += 2) {
        X.push(ef.createLine(ec[d9].x, ec[d9].y, ec[d9 + 1].x, ec[d9 + 1].y, eb))
      }
      return X
    },
    options: {
      animation: {
        type: bh,
        delay: by
      },
      endCaps: true,
      line: {
        width: 1,
        zIndex: 1
      }
    }
  });
  var ae = bd.extend({
    getAxis: function() {
      var d9 = this,
        Y = d9.chart,
        ea = d9.series,
        X = Y.seriesValueAxis(ea);
      return X
    }
  });
  var cS = bd.extend({
    getAxis: function() {
      var ea = this,
        d9 = ea.chart,
        eb = ea.series,
        X = d9.seriesAxes(eb),
        Y = ea.isVertical ? X.y : X.x;
      return Y
    }
  });
  var bV = an.extend({
    init: function(d9, X) {
      var Y = this;
      an.fn.init.call(Y);
      Y.value = d9;
      Y.options = X;
      Y.color = X.color;
      Y.id = dN();
      Y.enableDiscovery()
    },
    defaults: {
      aboveAxis: true,
      vertical: true,
      markers: {
        visible: true,
        background: dU,
        size: bS,
        type: ao,
        border: {
          width: 2
        },
        opacity: 1
      },
      labels: {
        visible: false,
        position: b,
        margin: bp(3),
        padding: bp(4),
        animation: {
          type: bh,
          delay: by
        }
      },
      notes: {
        label: {}
      },
      highlight: {
        markers: {
          border: {}
        }
      }
    },
    render: function() {
      var ec = this,
        eb = ec.options,
        ea = eb.markers,
        X = eb.labels,
        d9 = ec.value;
      if (ec._rendered) {
        return
      } else {
        ec._rendered = true
      }
      if (ea.visible && ea.size) {
        ec.marker = ec.createMarker();
        ec.marker.id = ec.id;
        ec.append(ec.marker)
      }
      if (X.visible) {
        if (X.template) {
          var Y = dp(X.template);
          d9 = Y({
            dataItem: ec.dataItem,
            category: ec.category,
            value: ec.value,
            series: ec.series
          })
        } else {
          if (X.format) {
            d9 = ec.formatValue(X.format)
          }
        }
        ec.label = new dr(d9, aP({
          id: dN(),
          align: ak,
          vAlign: ak,
          margin: {
            left: 5,
            right: 5
          }
        }, X));
        ec.append(ec.label)
      }
      ec.createNote();
      if (ec.errorBar) {
        ec.append(ec.errorBar)
      }
    },
    markerBorder: function() {
      var d9 = this.options.markers;
      var X = d9.background;
      var Y = aP({
        color: this.color
      }, d9.border);
      if (!aW(Y.color)) {
        Y.color = new au(X).brightness(A).toHex()
      }
      return Y
    },
    createMarker: function() {
      var Y = this.options.markers;
      var X = new c4({
        type: Y.type,
        width: Y.size,
        height: Y.size,
        rotation: Y.rotation,
        background: Y.background,
        border: this.markerBorder(),
        opacity: Y.opacity,
        zIndex: Y.zIndex,
        animation: Y.animation
      });
      return X
    },
    markerBox: function() {
      if (!this.marker) {
        this.marker = this.createMarker();
        this.marker.reflow(this._childBox)
      }
      return this.marker.box
    },
    reflow: function(ee) {
      var ed = this,
        ec = ed.options,
        ef = ec.vertical,
        X = ec.aboveAxis,
        d9, Y;
      ed.render();
      ed.box = ee;
      d9 = ee.clone();
      if (ef) {
        if (X) {
          d9.y1 -= d9.height()
        } else {
          d9.y2 += d9.height()
        }
      } else {
        if (X) {
          d9.x1 += d9.width()
        } else {
          d9.x2 -= d9.width()
        }
      }
      ed._childBox = d9;
      if (ed.marker) {
        ed.marker.reflow(d9)
      }
      ed.reflowLabel(d9);
      if (ed.errorBars) {
        for (var ea = 0; ea < ed.errorBars.length; ea++) {
          ed.errorBars[ea].reflow(d9)
        }
      }
      if (ed.note) {
        var eb = ed.markerBox();
        if (!ed.marker) {
          Y = eb.center();
          eb = M(Y.x, Y.y, Y.x, Y.y)
        }
        ed.note.reflow(eb)
      }
    },
    reflowLabel: function(Y) {
      var eb = this,
        ea = eb.options,
        d9 = eb.label,
        X = ea.labels.position;
      if (d9) {
        X = X === b ? dI : X;
        X = X === H ? K : X;
        d9.reflow(Y);
        d9.box.alignTo(eb.markerBox(), X);
        d9.reflow(d9.box)
      }
    },
    highlightOverlay: function(ed, ec) {
      var Y = this,
        d9 = Y.options.highlight,
        eb = d9.markers,
        X = Y.markerBorder().color;
      ec = aP({
        data: {
          modelId: Y.modelId
        }
      }, ec, {
        fill: eb.color || X,
        stroke: eb.border.color,
        strokeWidth: eb.border.width,
        strokeOpacity: eb.border.opacity || 0,
        fillOpacity: eb.opacity || 1,
        visible: eb.visible
      });
      var ea = this.marker || this.createMarker();
      return ea.getViewElements(ed, ec)[0]
    },
    tooltipAnchor: function(eb, ea) {
      var d9 = this,
        Y = d9.markerBox(),
        X = d9.options.aboveAxis;
      return cD(Y.x2 + dG, X ? Y.y1 - ea : Y.y2)
    },
    formatValue: function(X) {
      var Y = this;
      return Y.owner.formatPointValue(Y, X)
    }
  });
  aP(bV.fn, cF);
  aP(bV.fn, ci);
  var Q = bV.extend({
    init: function(d9, X) {
      var Y = this;
      bV.fn.init.call(Y, d9, aP({}, this.defaults, X));
      Y.category = d9.category
    },
    defaults: {
      labels: {
        position: ak
      },
      highlight: {
        opacity: 1,
        border: {
          width: 1,
          opacity: 1
        }
      }
    },
    highlightOverlay: function(ef) {
      var ea = this,
        ed = ea.options,
        eb = ed.highlight,
        Y = eb.border.width,
        ec = ed.markers,
        d9 = ea.box.center(),
        ee = ec.size / 2 - Y / 2,
        X = eb.border.color || new au(ec.background).brightness(A).toHex();
      return ef.createCircle(d9, ee, {
        id: null,
        data: {
          modelId: ea.modelId
        },
        stroke: X,
        strokeWidth: Y,
        strokeOpacity: eb.border.opacity
      })
    },
    toggleHighlight: function(ea) {
      var X = this,
        d9 = X.options.highlight.opacity;
      X.highlighted = !X.highlighted;
      var Y = X.marker.getViewElements(ea, {
        fillOpacity: X.highlighted ? d9 : dL
      })[0];
      Y.refresh(bn(this.id))
    }
  });
  var bW = an.extend({
    init: function(X, d9, ea) {
      var Y = this;
      an.fn.init.call(Y);
      Y.linePoints = X;
      Y.series = d9;
      Y.seriesIx = ea;
      Y.id = dN();
      Y.enableDiscovery()
    },
    options: {
      closed: false
    },
    points: function(ed) {
      var ec = this,
        d9 = ec.linePoints.concat(ed || []),
        eb = [],
        X, Y = d9.length,
        ea;
      for (X = 0; X < Y; X++) {
        ea = d9[X].markerBox().center();
        eb.push(cD(ea.x, ea.y))
      }
      return eb
    },
    getViewElements: function(ec) {
      var ea = this,
        d9 = ea.options,
        eb = ea.series,
        Y = eb._defaults,
        X = eb.color;
      an.fn.getViewElements.call(ea, ec);
      if (bG(X) && Y) {
        X = Y.color
      }
      return [ec.createPolyline(ea.points(), d9.closed, {
        id: ea.id,
        stroke: X,
        strokeWidth: eb.width,
        strokeOpacity: eb.opacity,
        fill: "",
        dashType: eb.dashType,
        data: {
          modelId: ea.modelId
        },
        zIndex: -1
      })]
    },
    aliasFor: function(Y, X) {
      var d9 = this,
        ea = d9.seriesIx;
      return d9.parent.getNearestPoint(X.x, X.y, ea)
    }
  });
  var bU = {
    renderSegments: function() {
      var X = this,
        ea = X.options,
        ef = ea.series,
        ei = X.seriesPoints,
        Y, eh, eg = ei.length,
        ej, d9, eb, ed, ec, ee = [];
      for (eh = 0; eh < eg; eh++) {
        Y = ef[eh];
        ej = X.sortPoints(ei[eh]);
        ec = ej.length;
        d9 = [];
        for (ed = 0; ed < ec; ed++) {
          eb = ej[ed];
          if (eb) {
            d9.push(eb)
          } else {
            if (X.seriesMissingValues(Y) !== bB) {
              if (d9.length > 1) {
                ee.push(X.createSegment(d9, Y, eh, bJ(ee)))
              }
              d9 = []
            }
          }
        }
        if (d9.length > 1) {
          ee.push(X.createSegment(d9, Y, eh, bJ(ee)))
        }
      }
      X._segments = ee;
      X.append.apply(X, ee)
    },
    sortPoints: function(X) {
      return X
    },
    seriesMissingValues: function(d9) {
      var Y = d9.missingValues,
        X = !Y && this.options.isStacked;
      return X ? d4 : Y || bB
    },
    getNearestPoint: function(ek, el, ej) {
      var Y = this,
        eb = Y.options.invertAxes,
        X = eb ? d0 : dW,
        ei = eb ? el : ek,
        eg = Y.seriesPoints[ej],
        ed = b1,
        eh = eg.length,
        d9, ee, ef, ec, ea;
      for (ea = 0; ea < eh; ea++) {
        d9 = eg[ea];
        if (d9 && aW(d9.value) && d9.value !== null) {
          ee = d9.box;
          ef = bZ.abs(ee.center()[X] - ei);
          if (ef < ed) {
            ec = d9;
            ed = ef
          }
        }
      }
      return ec
    }
  };
  var bT = ad.extend({
    init: function(d9, Y) {
      var X = this;
      X._stackAxisRange = {
        min: b1,
        max: b2
      };
      X._categoryTotals = [];
      X.enableDiscovery();
      ad.fn.init.call(X, d9, Y)
    },
    render: function() {
      var X = this;
      ad.fn.render.apply(X);
      X.computeAxisRanges();
      X.renderSegments()
    },
    pointType: function() {
      return bV
    },
    createPoint: function(ec, X, Y, ek, el) {
      var ea = this,
        en = ec.valueFields.value,
        eg = ea.options,
        ee = eg.isStacked,
        d9 = ea.categoryPoints[Y],
        ef = ea.seriesMissingValues(ek),
        em, eh = 0,
        ed = ec.fields,
        ei, ej;
      if (!aW(en) || en === null) {
        if (ef === d4) {
          en = 0
        } else {
          return null
        }
      }
      ej = this.pointOptions(ek, el);
      ej = ea.evalPointOptions(ej, en, X, Y, ek, el);
      var eb = ec.fields.color || ek.color;
      if (bI.isFunction(ek.color)) {
        eb = ej.color
      }
      ei = new bV(en, ej);
      ei.color = eb;
      if (ee) {
        em = bK(d9);
        if (em) {
          eh = em.plotValue
        }
        ei.plotValue = en + eh
      }
      ea.append(ei);
      return ei
    },
    updateRange: function(d9, X) {
      var Y = this,
        ea = Y.options.isStacked,
        ee = d9.value,
        eb = Y._stackAxisRange,
        ec = Y._categoryTotals,
        ed;
      if (aW(ee)) {
        if (ea) {
          bw(ec, X, ee);
          ed = c9(ec);
          eb.min = bZ.min(eb.min, ed.min);
          eb.max = bZ.max(eb.max, ed.max)
        } else {
          ad.fn.updateRange.apply(Y, arguments)
        }
      }
    },
    computeAxisRanges: function() {
      var Y = this,
        d9 = Y.options.isStacked,
        X;
      if (d9) {
        X = Y.options.series[0].axis;
        Y.valueAxisRanges[X] = Y._stackAxisRange
      }
    },
    createSegment: function(Y, X, ea) {
      var d9, eb = X.style;
      if (eb === dj) {
        d9 = dl
      } else {
        if (eb === c7) {
          d9 = dd
        } else {
          d9 = bW
        }
      }
      return new d9(Y, X, ea)
    },
    stackedErrorRange: function(eb) {
      var X = this,
        ec = X._stackAxisRange,
        ea = eb.plotValue - eb.value,
        d9 = eb.low + ea,
        Y = eb.high + ea;
      ec.min = bZ.min(ec.min, d9);
      ec.max = bZ.max(ec.max, Y);
      return {
        low: d9,
        high: Y
      }
    },
    getViewElements: function(ea) {
      var X = this,
        Y = ad.fn.getViewElements.call(X, ea),
        d9 = ea.createGroup({
          animation: {
            type: ar
          }
        });
      d9.children = Y;
      return [d9]
    }
  });
  aP(bT.fn, bU);
  var dl = bW.extend({
    points: function(d9) {
      var Y = this,
        X;
      X = Y.calculateStepPoints(Y.linePoints);
      if (d9 && d9.length) {
        X = X.concat(Y.calculateStepPoints(d9).reverse())
      }
      return X
    },
    calculateStepPoints: function(eg) {
      var em = this,
        Y = em.parent,
        ee = Y.plotArea,
        X = ee.seriesCategoryAxis(em.series),
        eb = Y.seriesMissingValues(em.series) === bB,
        ec = eg.length,
        el = X.options.reverse,
        en = X.options.vertical,
        d9 = el ? 2 : 1,
        ek = el ? 1 : 2,
        ei, ef, ea, eh, ed, ej = [];
      for (ea = 1; ea < ec; ea++) {
        ei = eg[ea - 1];
        ef = eg[ea];
        eh = ei.markerBox().center();
        ed = ef.markerBox().center();
        if (X.options.justified) {
          ej.push(cD(eh.x, eh.y));
          if (en) {
            ej.push(cD(eh.x, ed.y))
          } else {
            ej.push(cD(ed.x, eh.y))
          }
          ej.push(cD(ed.x, ed.y))
        } else {
          if (en) {
            ej.push(cD(eh.x, ei.box[d0 + d9]));
            ej.push(cD(eh.x, ei.box[d0 + ek]));
            if (eb) {
              ej.push(cD(eh.x, ef.box[d0 + d9]))
            }
            ej.push(cD(ed.x, ef.box[d0 + d9]));
            ej.push(cD(ed.x, ef.box[d0 + ek]))
          } else {
            ej.push(cD(ei.box[dW + d9], eh.y));
            ej.push(cD(ei.box[dW + ek], eh.y));
            if (eb) {
              ej.push(cD(ef.box[dW + d9], eh.y))
            }
            ej.push(cD(ef.box[dW + d9], ed.y));
            ej.push(cD(ef.box[dW + ek], ed.y))
          }
        }
      }
      return ej || []
    }
  });
  var dd = bW.extend({
    points: function() {
      var d9 = this,
        X = new aD(d9.options.closed),
        Y = bW.fn.points.call(this);
      return X.process(Y)
    },
    getViewElements: function(eb) {
      var d9 = this,
        ea = d9.series,
        Y = ea._defaults,
        X = ea.color;
      an.fn.getViewElements.call(d9, eb);
      if (bG(X) && Y) {
        X = Y.color
      }
      return [eb.createCubicCurve(d9.points(), {
        id: d9.id,
        stroke: X,
        strokeWidth: ea.width,
        strokeOpacity: ea.opacity,
        fill: "",
        dashType: ea.dashType,
        data: {
          modelId: d9.modelId
        },
        zIndex: -1
      })]
    }
  });
  var o = {
    points: function() {
      var eh = this,
        d9 = eh.parent,
        ee = d9.plotArea,
        ec = d9.options.invertAxes,
        ej = d9.seriesValueAxis(eh.series),
        ek = ej.lineBox(),
        X = ee.seriesCategoryAxis(eh.series),
        Y = X.lineBox(),
        ea = ec ? Y.x1 : Y.y1,
        ei = eh.stackPoints,
        ef = eh._linePoints(ei),
        eg = ec ? dW : d0,
        eb, ed;
      ea = bQ(ea, ek[eg + 1], ek[eg + 2]);
      if (!eh.stackPoints && ef.length > 1) {
        eb = ef[0];
        ed = bJ(ef);
        if (ec) {
          ef.unshift(cD(ea, eb.y));
          ef.push(cD(ea, ed.y))
        } else {
          ef.unshift(cD(eb.x, ea));
          ef.push(cD(ed.x, ea))
        }
      }
      return ef
    },
    getViewElements: function(ee) {
      var ec = this,
        ed = ec.series,
        d9 = ed._defaults,
        Y = ed.color,
        ea, eb = ec._linePoints(),
        X = ec.points();
      an.fn.getViewElements.call(ec, ee);
      if (bG(Y) && d9) {
        Y = d9.color
      }
      ea = aP({
        color: Y,
        opacity: ed.opacity
      }, ed.line);
      return [ee.createPolyline(X, false, {
        id: ec.id,
        fillOpacity: ed.opacity,
        fill: Y,
        stack: ed.stack,
        data: {
          modelId: ec.modelId
        },
        zIndex: -1
      }), ee.createPolyline(eb, false, {
        stroke: ea.color,
        strokeWidth: ea.width,
        strokeOpacity: ea.opacity,
        dashType: ea.dashType,
        data: {
          modelId: ec.modelId
        },
        strokeLineCap: "butt",
        zIndex: -1,
        align: false
      })]
    }
  };
  var n = bW.extend({
    init: function(Y, eb, X, ea) {
      var d9 = this;
      d9.stackPoints = eb;
      bW.fn.init.call(d9, Y, X, ea)
    },
    _linePoints: bW.fn.points
  });
  aP(n.fn, o);
  var m = bT.extend({
    createSegment: function(ea, Y, ee, ed) {
      var X = this,
        eb = X.options,
        d9 = eb.isStacked,
        ef, ec, eg = (Y.line || {}).style;
      if (d9 && ee > 0 && ed) {
        ef = ed.linePoints;
        if (eg !== dj) {
          ef = ef.slice(0).reverse()
        }
      }
      if (eg === c7) {
        return new dc(ea, ed, d9, Y, ee)
      }
      if (eg === dj) {
        ec = dk
      } else {
        ec = n
      }
      return new ec(ea, ef, Y, ee)
    },
    seriesMissingValues: function(X) {
      return X.missingValues || d4
    }
  });
  var dc = n.extend({
    init: function(d9, ea, Y, X, ec) {
      var eb = this;
      eb.prevSegment = ea;
      eb.isStacked = Y;
      bW.fn.init.call(eb, d9, X, ec)
    },
    points: function() {
      var ed = this,
        ec = ed.prevSegment,
        Y = new aD(ed.options.closed),
        d9 = bW.fn.points.call(this),
        X = Y.process(d9),
        eb, ea;
      ed.curvePoints = X;
      if (ed.isStacked && ec) {
        ea = X.slice(0);
        ea.push(bJ(X));
        eb = ec.curvePoints.slice(0).reverse();
        eb.unshift(eb[0]);
        ea = ea.concat(eb);
        ea.push(bJ(eb), ea[0], ea[0])
      } else {
        ea = ed.curvePoints
      }
      return ea
    },
    areaPoints: function(eg) {
      var ej = this,
        ea = ej.parent,
        ei = ej.prevSegment,
        ef = ea.plotArea,
        ed = ea.options.invertAxes,
        ek = ea.seriesValueAxis(ej.series),
        el = ek.lineBox(),
        Y = ef.seriesCategoryAxis(ej.series),
        d9 = Y.lineBox(),
        eb = ed ? d9.x1 : d9.y1,
        eh = ed ? dW : d0,
        ec = eg[0],
        ee = bJ(eg),
        X = [];
      eb = bQ(eb, el[eh + 1], el[eh + 2]);
      if (!(ea.options.isStacked && ei) && eg.length > 1) {
        if (ed) {
          X.push(cD(eb, ec.y));
          X.unshift(cD(eb, ee.y))
        } else {
          X.push(cD(ec.x, eb));
          X.unshift(cD(ee.x, eb))
        }
      }
      return X
    },
    getViewElements: function(ee) {
      var ec = this,
        ed = ec.series,
        ea = ed._defaults,
        Y = ed.color,
        eb, d9 = ec.points(),
        X = ec.areaPoints(d9),
        ef = [];
      an.fn.getViewElements.call(ec, ee);
      if (bG(Y) && ea) {
        Y = ea.color
      }
      eb = aP({
        color: Y,
        opacity: ed.opacity
      }, ed.line);
      ef.push(ee.createCubicCurve(d9, {
        id: ec.id,
        fillOpacity: ed.opacity,
        fill: Y,
        stack: ed.stack,
        data: {
          modelId: ec.modelId
        },
        zIndex: -1
      }, X));
      if (eb.width > 0) {
        ef.push(ee.createCubicCurve(ec.curvePoints, {
          stroke: eb.color,
          strokeWidth: eb.width,
          strokeOpacity: eb.opacity,
          dashType: eb.dashType,
          data: {
            modelId: ec.modelId
          },
          strokeLineCap: "butt",
          zIndex: -1
        }))
      }
      return ef
    }
  });
  var dk = dl.extend({
    init: function(Y, eb, X, ea) {
      var d9 = this;
      d9.stackPoints = eb;
      dl.fn.init.call(d9, Y, X, ea)
    },
    _linePoints: dl.fn.points
  });
  aP(dk.fn, o);
  var cR = an.extend({
    init: function(d9, Y) {
      var X = this;
      an.fn.init.call(X, Y);
      X.plotArea = d9;
      X.xAxisRanges = {};
      X.yAxisRanges = {};
      X.points = [];
      X.seriesPoints = [];
      X.render()
    },
    options: {
      series: [],
      tooltip: {
        format: "{0}, {1}"
      },
      labels: {
        format: "{0}, {1}"
      }
    },
    render: function() {
      var X = this;
      X.traverseDataPoints(cG(X.addValue, X))
    },
    addErrorBar: function(eg, ea, eb) {
      var d9, X = this,
        ej = eg.value[ea],
        ek = ea + "Value",
        ee = ea + "ErrorLow",
        ec = ea + "ErrorHigh",
        ei = eb.seriesIx,
        eh = eb.series,
        Y = eg.options.errorBars,
        ef = eb[ee],
        ed = eb[ec];
      if (bH(ej)) {
        if (bH(ef) && bH(ed)) {
          d9 = {
            low: ef,
            high: ed
          }
        }
        if (Y && aW(Y[ek])) {
          X.seriesErrorRanges = X.seriesErrorRanges || {
            x: [],
            y: []
          };
          X.seriesErrorRanges[ea][ei] = X.seriesErrorRanges[ea][ei] || new be(Y[ek], eh, ea);
          d9 = X.seriesErrorRanges[ea][ei].getErrorRange(ej)
        }
        if (d9) {
          X.addPointErrorBar(d9, eg, ea)
        }
      }
    },
    addPointErrorBar: function(d9, eg, ea) {
      var X = this,
        ee = d9.low,
        eb = d9.high,
        eh = eg.series,
        ec = ea === d0,
        ef = eg.options.errorBars,
        ed = {}, Y;
      eg[ea + "Low"] = ee;
      eg[ea + "High"] = eb;
      eg.errorBars = eg.errorBars || [];
      Y = new cS(ee, eb, ec, X, eh, ef);
      eg.errorBars.push(Y);
      eg.append(Y);
      ed[ea] = ee;
      X.updateRange(ed, eh);
      ed[ea] = eb;
      X.updateRange(ed, eh)
    },
    addValue: function(ec, Y) {
      var X = this,
        d9, ed = ec.x,
        ee = ec.y,
        ea = Y.seriesIx,
        eb = X.seriesPoints[ea];
      X.updateRange(ec, Y.series);
      if (aW(ed) && ed !== null && aW(ee) && ee !== null) {
        d9 = X.createPoint(ec, Y);
        if (d9) {
          bg(d9, Y);
          X.addErrorBar(d9, dW, Y);
          X.addErrorBar(d9, d0, Y)
        }
      }
      X.points.push(d9);
      eb.push(d9)
    },
    updateRange: function(d9, Y) {
      var X = this,
        ea = d9.x,
        ed = d9.y,
        eb = Y.xAxis,
        ee = Y.yAxis,
        ec = X.xAxisRanges[eb],
        ef = X.yAxisRanges[ee];
      if (aW(ea) && ea !== null) {
        ec = X.xAxisRanges[eb] = ec || {
          min: b1,
          max: b2
        };
        if (typeof(ea) === dm) {
          ea = dB(ea)
        }
        ec.min = bZ.min(ec.min, ea);
        ec.max = bZ.max(ec.max, ea)
      }
      if (aW(ed) && ed !== null) {
        ef = X.yAxisRanges[ee] = ef || {
          min: b1,
          max: b2
        };
        if (typeof(ed) === dm) {
          ed = dB(ed)
        }
        ef.min = bZ.min(ef.min, ed);
        ef.max = bZ.max(ef.max, ed)
      }
    },
    evalPointOptions: function(Y, ea, X) {
      var d9 = X.series;
      bf(Y, {
        value: ea,
        series: d9,
        dataItem: X.dataItem
      }, {
        defaults: d9._defaults,
        excluded: ["data"]
      })
    },
    createPoint: function(ec, Y) {
      var X = this,
        eb = Y.series,
        d9, ea;
      ea = aP({}, bV.fn.defaults, {
        markers: {
          opacity: eb.opacity
        },
        tooltip: {
          format: X.options.tooltip.format
        },
        labels: {
          format: X.options.labels.format
        }
      }, eb, {
        color: Y.color
      });
      X.evalPointOptions(ea, ec, Y);
      d9 = new bV(ec, ea);
      X.append(d9);
      return d9
    },
    seriesAxes: function(Y) {
      var X = this.plotArea,
        ea = Y.xAxis,
        d9 = ea ? X.namedXAxes[ea] : X.axisX,
        ec = Y.yAxis,
        eb = ec ? X.namedYAxes[ec] : X.axisY;
      if (!d9) {
        throw new Error("Unable to locate X axis with name " + ea)
      }
      if (!eb) {
        throw new Error("Unable to locate Y axis with name " + ec)
      }
      return {
        x: d9,
        y: eb
      }
    },
    reflow: function(ec) {
      var X = this,
        Y = X.points,
        ea = 0,
        d9, eb;
      X.traverseDataPoints(function(eh, ed) {
        d9 = Y[ea++];
        eb = X.seriesAxes(ed.series);
        var ef = eb.x.getSlot(eh.x, eh.x),
          eg = eb.y.getSlot(eh.y, eh.y),
          ee = X.pointSlot(ef, eg);
        if (d9) {
          d9.reflow(ee)
        }
      });
      X.box = ec
    },
    pointSlot: function(X, Y) {
      return new M(X.x1, Y.y1, X.x2, Y.y2)
    },
    getViewElements: function(ea) {
      var X = this,
        Y = an.fn.getViewElements.call(X, ea),
        d9 = ea.createGroup({
          animation: {
            type: ar
          }
        });
      d9.children = Y;
      return [d9]
    },
    traverseDataPoints: function(X) {
      var Y = this,
        ec = Y.options,
        ef = ec.series,
        eh = Y.seriesPoints,
        ee, eg, d9, ea, ed, ei, eb;
      for (eg = 0; eg < ef.length; eg++) {
        d9 = ef[eg];
        ea = eh[eg];
        if (!ea) {
          eh[eg] = []
        }
        for (ee = 0; ee < d9.data.length; ee++) {
          ed = c2.current.bindPoint(d9, ee);
          ei = ed.valueFields;
          eb = ed.fields;
          X(ei, aP({
            pointIx: ee,
            series: d9,
            seriesIx: eg,
            dataItem: d9.data[ee],
            owner: Y
          }, eb))
        }
      }
    },
    formatPointValue: function(Y, X) {
      var d9 = Y.value;
      return r(X, d9.x, d9.y)
    }
  });
  var cT = cR.extend({
    render: function() {
      var X = this;
      cR.fn.render.call(X);
      X.renderSegments()
    },
    createSegment: function(Y, X, ea) {
      var d9, eb = X.style;
      if (eb === c7) {
        d9 = dd
      } else {
        d9 = bW
      }
      return new d9(Y, X, ea)
    }
  });
  aP(cT.fn, bU);
  var U = cR.extend({
    options: {
      tooltip: {
        format: "{3}"
      },
      labels: {
        format: "{3}"
      }
    },
    addValue: function(ed, d9) {
      var X = this,
        Y, eb = d9.series,
        ea = eb.negativeValues,
        ec = X.plotArea.options.seriesColors || [],
        ee = true;
      Y = d9.color || eb.color || ec[d9.pointIx % ec.length];
      if (ed.size < 0) {
        Y = ea.color || Y;
        ee = ea.visible
      }
      d9.color = Y;
      if (ee) {
        cR.fn.addValue.call(this, ed, d9)
      }
    },
    reflow: function(X) {
      var Y = this;
      Y.updateBubblesSize(X);
      cR.fn.reflow.call(Y, X)
    },
    createPoint: function(ef, ea) {
      var Y = this,
        eb, ec, ee = ea.series,
        ed = ee.data.length,
        d9 = ea.pointIx * (by / ed),
        X = {
          delay: d9,
          duration: by - d9,
          type: R
        };
      ec = aP({
        tooltip: {
          format: Y.options.tooltip.format
        },
        labels: {
          format: Y.options.labels.format,
          animation: X
        }
      }, ee, {
        color: ea.color,
        markers: {
          type: ao,
          background: ea.color,
          border: ee.border,
          opacity: ee.opacity,
          animation: X
        }
      });
      Y.evalPointOptions(ec, ef, ea);
      eb = new Q(ef, ec);
      Y.append(eb);
      return eb
    },
    updateBubblesSize: function(ea) {
      var ec = this,
        ek = ec.options,
        eo = ek.series,
        eb = bZ.min(ea.width(), ea.height()),
        ep, em;
      for (ep = 0; ep < eo.length; ep++) {
        var ed = eo[ep],
          er = ec.seriesPoints[ep],
          eq = ec.maxSize(er),
          ej = ed.minSize || bZ.max(eb * 0.02, 10),
          eg = ed.maxSize || eb * 0.2,
          ei = ej / 2,
          ef = eg / 2,
          eh = bZ.PI * ei * ei,
          ee = bZ.PI * ef * ef,
          Y = ee - eh,
          d9 = Y / eq;
        for (em = 0; em < er.length; em++) {
          var el = er[em],
            X = bZ.abs(el.value.size) * d9,
            en = bZ.sqrt((eh + X) / bZ.PI);
          aP(el.options, {
            markers: {
              size: en * 2,
              zIndex: ef - en
            },
            labels: {
              zIndex: ef - en + 1
            }
          })
        }
      }
    },
    maxSize: function(ea) {
      var Y = ea.length,
        d9 = 0,
        X, eb;
      for (X = 0; X < Y; X++) {
        eb = ea[X].value.size;
        d9 = bZ.max(d9, bZ.abs(eb))
      }
      return d9
    },
    getViewElements: function(ea) {
      var X = this,
        Y = an.fn.getViewElements.call(X, ea),
        d9 = ea.createGroup();
      d9.children = Y;
      return [d9]
    },
    formatPointValue: function(Y, X) {
      var d9 = Y.value;
      return r(X, d9.x, d9.y, d9.size, Y.category)
    }
  });
  var aa = an.extend({
    init: function(d9, X) {
      var Y = this;
      an.fn.init.call(Y, X);
      Y.value = d9;
      Y.id = dN();
      Y.enableDiscovery()
    },
    options: {
      border: {
        _brightness: 0.8
      },
      line: {
        width: 2
      },
      overlay: {
        gradient: br
      },
      tooltip: {
        format: "<table style='text-align: left;'><th colspan='2'>{4:d}</th><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"
      },
      highlight: {
        opacity: 1,
        border: {
          width: 1,
          opacity: 1
        },
        line: {
          width: 1,
          opacity: 1
        }
      },
      notes: {
        visible: true,
        label: {}
      }
    },
    reflow: function(X) {
      var ed = this,
        ec = ed.options,
        Y = ed.owner,
        ef = ed.value,
        eg = Y.seriesValueAxis(ec),
        ee = [],
        ea, eb, d9;
      eb = eg.getSlot(ef.open, ef.close);
      d9 = eg.getSlot(ef.low, ef.high);
      eb.x1 = d9.x1 = X.x1;
      eb.x2 = d9.x2 = X.x2;
      ed.realBody = eb;
      ea = d9.center().x;
      ee.push([cD(ea, d9.y1), cD(ea, eb.y1)]);
      ee.push([cD(ea, eb.y2), cD(ea, d9.y2)]);
      ed.lowHighLinePoints = ee;
      ed.box = d9.clone().wrap(eb);
      if (!ed._rendered) {
        ed._rendered = true;
        ed.createNote()
      }
      ed.reflowNote()
    },
    reflowNote: function() {
      var X = this;
      if (X.note) {
        X.note.reflow(X.box)
      }
    },
    getViewElements: function(ee) {
      var ec = this,
        eb = ec.options,
        Y = [],
        X = eb.border.width > 0 ? {
          stroke: ec.getBorderColor(),
          strokeWidth: eb.border.width,
          dashType: eb.border.dashType,
          strokeOpacity: dP(eb.border.opacity, eb.opacity)
        } : {}, ed = aP({
          fill: eb.color,
          fillOpacity: eb.opacity
        }, X),
        ea = {
          strokeOpacity: dP(eb.line.opacity, eb.opacity),
          strokeWidth: eb.line.width,
          stroke: eb.line.color || eb.color,
          dashType: eb.line.dashType,
          strokeLineCap: "butt"
        }, d9 = ee.createGroup({
          animation: {
            type: ar
          }
        });
      if (eb.overlay) {
        ed.overlay = aP({
          rotation: 0
        }, eb.overlay)
      }
      Y.push(ee.createRect(ec.realBody, ed));
      Y.push(ee.createPolyline(ec.lowHighLinePoints[0], false, ea));
      Y.push(ee.createPolyline(ec.lowHighLinePoints[1], false, ea));
      Y.push(ec.createOverlayRect(ee, eb));
      g(Y, an.fn.getViewElements.call(ec, ee));
      d9.children = Y;
      return [d9]
    },
    getBorderColor: function() {
      var ea = this,
        d9 = ea.options,
        X = d9.border,
        Y = X.color;
      if (!aW(Y)) {
        Y = new au(d9.color).brightness(X._brightness).toHex()
      }
      return Y
    },
    createOverlayRect: function(X) {
      return X.createRect(this.box, {
        data: {
          modelId: this.modelId
        },
        fill: "#fff",
        fillOpacity: 0
      })
    },
    highlightOverlay: function(ei, ee) {
      var ef = this,
        eg = ef.options,
        eb = eg.highlight,
        X = eb.border,
        Y = ef.getBorderColor(),
        ec = eb.line,
        d9 = {
          data: {
            modelId: eg.modelId
          }
        }, eh = aP({}, d9, ee, {
          stroke: Y,
          strokeOpacity: X.opacity,
          strokeWidth: X.width
        }),
        ed = aP({}, d9, {
          stroke: ec.color || Y,
          strokeWidth: ec.width,
          strokeOpacity: ec.opacity,
          strokeLineCap: "butt"
        }),
        ea = ei.createGroup();
      ea.children.push(ei.createRect(ef.realBody, eh));
      ea.children.push(ei.createPolyline(ef.lowHighLinePoints[0], false, ed));
      ea.children.push(ei.createPolyline(ef.lowHighLinePoints[1], false, ed));
      return ea
    },
    tooltipAnchor: function() {
      var Y = this,
        X = Y.box;
      return new cD(X.x2 + dG, X.y1 + dG)
    },
    formatValue: function(X) {
      var Y = this;
      return Y.owner.formatPointValue(Y, X)
    }
  });
  aP(aa.fn, cF);
  aP(aa.fn, ci);
  var ac = ad.extend({
    options: {},
    reflowCategories: function(X) {
      var Y = this,
        d9 = Y.children,
        ea = d9.length,
        eb;
      for (eb = 0; eb < ea; eb++) {
        d9[eb].reflow(X[eb])
      }
    },
    addValue: function(ed, X, Y, ej, ek) {
      var ea = this,
        eg = ea.options,
        el = ed.valueFields,
        eb = ea.children,
        ei = ed.fields.color || ej.color,
        em = this.splitValue(el),
        ef = p(em),
        d9 = ea.categoryPoints[Y],
        ee = ej.data[Y],
        eh, ec;
      if (!d9) {
        ea.categoryPoints[Y] = d9 = []
      }
      if (ef) {
        if (ej.type == ab) {
          if (el.open > el.close) {
            ei = ed.fields.downColor || ej.downColor || ej.color
          }
        }
        eh = ea.createPoint(ed, X, Y, aP({}, ej, {
          color: ei
        }))
      }
      ec = eb[Y];
      if (!ec) {
        ec = new at({
          vertical: eg.invertAxes,
          gap: eg.gap,
          spacing: eg.spacing
        });
        ea.append(ec)
      }
      if (eh) {
        ea.updateRange(el, Y, ej);
        ec.append(eh);
        eh.categoryIx = Y;
        eh.category = X;
        eh.series = ej;
        eh.seriesIx = ek;
        eh.owner = ea;
        eh.dataItem = ee;
        eh.noteText = ed.fields.noteText
      }
      ea.points.push(eh);
      d9.push(eh)
    },
    pointType: function() {
      return aa
    },
    createPoint: function(ea, X, Y, ed, ee) {
      var d9 = this,
        ef = ea.valueFields,
        eb = aP({}, ed),
        ec = d9.pointType();
      d9.evalPointOptions(eb, ef, X, Y, ed, ee);
      return new ec(ef, eb)
    },
    splitValue: function(X) {
      return [X.low, X.open, X.close, X.high]
    },
    updateRange: function(ed, d9, ec) {
      var ea = this,
        X = ec.axis,
        Y = ea.valueAxisRanges[X],
        eb = ea.splitValue(ed);
      Y = ea.valueAxisRanges[X] = Y || {
        min: b1,
        max: b2
      };
      Y = ea.valueAxisRanges[X] = {
        min: bZ.min.apply(bZ, eb.concat([Y.min])),
        max: bZ.max.apply(bZ, eb.concat([Y.max]))
      }
    },
    formatPointValue: function(Y, X) {
      var d9 = Y.value;
      return r(X, d9.open, d9.high, d9.low, d9.close, Y.category)
    }
  });
  var cp = aa.extend({
    reflow: function(X) {
      var eh = this,
        ef = eh.options,
        Y = eh.owner,
        ei = eh.value,
        ej = Y.seriesValueAxis(ef),
        ee = [],
        d9 = [],
        eb = [],
        ed, eg, ea, ec;
      ec = ej.getSlot(ei.low, ei.high);
      eg = ej.getSlot(ei.open, ei.open);
      ea = ej.getSlot(ei.close, ei.close);
      eg.x1 = ea.x1 = ec.x1 = X.x1;
      eg.x2 = ea.x2 = ec.x2 = X.x2;
      ed = ec.center().x;
      ee.push(cD(eg.x1, eg.y1));
      ee.push(cD(ed, eg.y1));
      d9.push(cD(ed, ea.y1));
      d9.push(cD(ea.x2, ea.y1));
      eb.push(cD(ed, ec.y1));
      eb.push(cD(ed, ec.y2));
      eh.oPoints = ee;
      eh.cPoints = d9;
      eh.lhPoints = eb;
      eh.box = ec.clone().wrap(eg.clone().wrap(ea));
      eh.reflowNote()
    },
    getViewElements: function(ec) {
      var eb = this,
        ea = eb.options,
        X = [],
        d9 = {
          strokeOpacity: ea.opacity,
          zIndex: -1,
          strokeWidth: ea.width,
          stroke: ea.color,
          dashType: ea.dashType
        }, Y = ec.createGroup({
          animation: {
            type: ar
          }
        });
      X.push(eb.createOverlayRect(ec, ea));
      X.push(ec.createPolyline(eb.oPoints, true, d9));
      X.push(ec.createPolyline(eb.cPoints, true, d9));
      X.push(ec.createPolyline(eb.lhPoints, true, d9));
      g(X, an.fn.getViewElements.call(eb, ec));
      Y.children = X;
      return [Y]
    },
    highlightOverlay: function(ed) {
      var eb = this,
        ec = eb.options,
        d9 = ec.highlight,
        X = {
          data: {
            modelId: ec.modelId
          }
        }, ea = aP(X, {
          strokeWidth: d9.line.width,
          strokeOpacity: d9.line.opacity,
          stroke: d9.line.color || eb.color
        }),
        Y = ed.createGroup();
      Y.children.push(ed.createPolyline(eb.oPoints, true, ea));
      Y.children.push(ed.createPolyline(eb.cPoints, true, ea));
      Y.children.push(ed.createPolyline(eb.lhPoints, true, ea));
      return Y
    }
  });
  var co = ac.extend({
    pointType: function() {
      return cp
    }
  });
  var P = ac.extend({
    addValue: function(ed, X, Y, ej, ek) {
      var ea = this,
        eg = ea.options,
        eb = ea.children,
        ei = ed.fields.color || ej.color,
        el = ed.valueFields,
        em = ea.splitValue(el),
        ef = p(em),
        d9 = ea.categoryPoints[Y],
        ee = ej.data[Y],
        eh, ec;
      if (!d9) {
        ea.categoryPoints[Y] = d9 = []
      }
      if (ef) {
        eh = ea.createPoint(ed, X, Y, aP({}, ej, {
          color: ei
        }))
      }
      ec = eb[Y];
      if (!ec) {
        ec = new at({
          vertical: eg.invertAxes,
          gap: eg.gap,
          spacing: eg.spacing
        });
        ea.append(ec)
      }
      if (eh) {
        ea.updateRange(el, Y, ej);
        ec.append(eh);
        eh.categoryIx = Y;
        eh.category = X;
        eh.series = ej;
        eh.seriesIx = ek;
        eh.owner = ea;
        eh.dataItem = ee
      }
      ea.points.push(eh);
      d9.push(eh)
    },
    pointType: function() {
      return O
    },
    splitValue: function(X) {
      return [X.lower, X.q1, X.median, X.q3, X.upper]
    },
    updateRange: function(ed, d9, ec) {
      var ea = this,
        X = ec.axis,
        Y = ea.valueAxisRanges[X],
        eb = ea.splitValue(ed).concat(ea.filterOutliers(ed.outliers));
      if (aW(ed.mean)) {
        eb = eb.concat(ed.mean)
      }
      Y = ea.valueAxisRanges[X] = Y || {
        min: b1,
        max: b2
      };
      Y = ea.valueAxisRanges[X] = {
        min: bZ.min.apply(bZ, eb.concat([Y.min])),
        max: bZ.max.apply(bZ, eb.concat([Y.max]))
      }
    },
    formatPointValue: function(Y, X) {
      var d9 = Y.value;
      return r(X, d9.lower, d9.q1, d9.median, d9.q3, d9.upper, d9.mean, Y.category)
    },
    filterOutliers: function(d9) {
      var ea = (d9 || []).length,
        eb = [],
        X, Y;
      for (X = 0; X < ea; X++) {
        Y = d9[X];
        if (aW(Y)) {
          h(eb, Y)
        }
      }
      return eb
    }
  });
  var O = aa.extend({
    init: function(d9, X) {
      var Y = this;
      an.fn.init.call(Y, X);
      Y.value = d9;
      Y.id = dN();
      Y.enableDiscovery();
      Y.createNote()
    },
    options: {
      border: {
        _brightness: 0.8
      },
      line: {
        width: 2
      },
      mean: {
        width: 2,
        dashType: "dash"
      },
      overlay: {
        gradient: br
      },
      tooltip: {
        format: "<table style='text-align: left;'><th colspan='2'>{6:d}</th><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"
      },
      highlight: {
        opacity: 1,
        border: {
          width: 1,
          opacity: 1
        },
        line: {
          width: 1,
          opacity: 1
        }
      },
      notes: {
        visible: true,
        label: {}
      },
      outliers: {
        visible: true,
        size: bS,
        type: az,
        background: dU,
        border: {
          width: 2,
          opacity: 1
        },
        opacity: 0
      },
      extremes: {
        visible: true,
        size: bS,
        type: ao,
        background: dU,
        border: {
          width: 2,
          opacity: 1
        },
        opacity: 0
      }
    },
    reflow: function(X) {
      var ee = this,
        ed = ee.options,
        d9 = ee.owner,
        eg = ee.value,
        eh = d9.seriesValueAxis(ed),
        ef = [],
        ec, ei, Y, eb, ea;
      Y = eh.getSlot(eg.q1, eg.q3);
      ee.boxSlot = Y;
      ei = eh.getSlot(eg.lower, eg.upper);
      eb = eh.getSlot(eg.median);
      Y.x1 = ei.x1 = X.x1;
      Y.x2 = ei.x2 = X.x2;
      if (eg.mean) {
        ea = eh.getSlot(eg.mean);
        ee.meanPoints = [cD(X.x1, ea.y1), cD(X.x2, ea.y1)]
      }
      ec = ei.center().x;
      ef.push([
        [cD(ec - 5, ei.y1), cD(ec + 5, ei.y1)],
        [cD(ec, ei.y1), cD(ec, Y.y1)]
      ]);
      ef.push([
        [cD(ec - 5, ei.y2), cD(ec + 5, ei.y2)],
        [cD(ec, Y.y2), cD(ec, ei.y2)]
      ]);
      ee.whiskerPoints = ef;
      ee.medianPoints = [cD(X.x1, eb.y1), cD(X.x2, eb.y1)];
      ee.box = ei.clone().wrap(Y);
      ee.createOutliers();
      ee.reflowNote()
    },
    createOutliers: function() {
      var eg = this,
        ec = eg.options,
        ea = ec.markers || {}, eh = eg.value,
        ee = eh.outliers || [],
        ei = eg.owner.seriesValueAxis(ec),
        ed = bZ.abs(eh.q3 - eh.q1) * 3,
        eb, d9, X, ef, Y;
      eg.outliers = [];
      for (Y = 0; Y < ee.length; Y++) {
        ef = ee[Y];
        if (ef < eh.q3 + ed && ef > eh.q1 - ed) {
          ea = ec.outliers
        } else {
          ea = ec.extremes
        }
        eb = aP({}, ea.border);
        if (!aW(eb.color)) {
          if (aW(eg.options.color)) {
            eb.color = eg.options.color
          } else {
            eb.color = new au(ea.background).brightness(A).toHex()
          }
        }
        X = new c4({
          id: eg.id,
          type: ea.type,
          width: ea.size,
          height: ea.size,
          rotation: ea.rotation,
          background: ea.background,
          border: eb,
          opacity: ea.opacity
        });
        d9 = ei.getSlot(ef).move(eg.box.center().x);
        eg.box = eg.box.wrap(d9);
        X.reflow(d9);
        eg.outliers.push(X)
      }
    },
    getViewElements: function(ea) {
      var d9 = this,
        Y = ea.createGroup({
          animation: {
            type: ar
          }
        }),
        X = d9.render(ea, d9.options);
      g(X, an.fn.getViewElements.call(d9, ea));
      Y.children = X;
      return [Y]
    },
    render: function(ec, eb) {
      var ea = this,
        Y = [],
        d9, X;
      Y.push(ea.createBody(ec, eb));
      Y.push(ea.createWhisker(ec, ea.whiskerPoints[0], eb));
      Y.push(ea.createWhisker(ec, ea.whiskerPoints[1], eb));
      Y.push(ea.createMedian(ec, eb));
      if (ea.meanPoints) {
        Y.push(ea.createMean(ec, eb))
      }
      Y.push(ea.createOverlayRect(ec, eb));
      if (ea.outliers.length) {
        for (d9 = 0; d9 < ea.outliers.length; d9++) {
          X = ea.outliers[d9];
          Y.push(X.getViewElements(ec)[0])
        }
      }
      return Y
    },
    createWhisker: function(d9, Y, X) {
      return d9.createMultiLine(Y, {
        strokeOpacity: dP(X.line.opacity, X.opacity),
        strokeWidth: X.line.width,
        stroke: X.line.color || X.color,
        dashType: X.line.dashType,
        strokeLineCap: "butt",
        data: {
          data: {
            modelId: this.modelId
          }
        }
      })
    },
    createMedian: function(d9) {
      var Y = this,
        X = Y.options;
      return d9.createPolyline(Y.medianPoints, false, {
        strokeOpacity: dP(X.median.opacity, X.opacity),
        strokeWidth: X.median.width,
        stroke: X.median.color || X.color,
        dashType: X.median.dashType,
        strokeLineCap: "butt",
        data: {
          data: {
            modelId: this.modelId
          }
        }
      })
    },
    createBody: function(eb, d9) {
      var ea = this,
        Y = d9.border.width > 0 ? {
          stroke: d9.color || ea.getBorderColor(),
          strokeWidth: d9.border.width,
          dashType: d9.border.dashType,
          strokeOpacity: dP(d9.border.opacity, d9.opacity)
        } : {}, X = aP({
          fill: d9.color,
          fillOpacity: d9.opacity,
          data: {
            data: {
              modelId: this.modelId
            }
          }
        }, Y);
      if (d9.overlay) {
        X.overlay = aP({
          rotation: 0
        }, d9.overlay)
      }
      return eb.createRect(ea.boxSlot, X)
    },
    createMean: function(d9) {
      var Y = this,
        X = Y.options;
      return d9.createPolyline(Y.meanPoints, false, {
        strokeOpacity: dP(X.mean.opacity, X.opacity),
        strokeWidth: X.mean.width,
        stroke: X.mean.color || X.color,
        dashType: X.mean.dashType,
        strokeLineCap: "butt",
        data: {
          data: {
            modelId: this.modelId
          }
        }
      })
    },
    highlightOverlay: function(d9) {
      var Y = this,
        X = d9.createGroup();
      X.children = Y.render(d9, aP({}, Y.options.highlight, {
        border: {
          color: Y.getBorderColor()
        }
      }));
      return X
    }
  });
  aP(O.fn, cF);
  var cz = an.extend({
    init: function(ea, Y, X) {
      var d9 = this;
      d9.value = ea;
      d9.sector = Y;
      an.fn.init.call(d9, X);
      d9.id = dN();
      d9.enableDiscovery()
    },
    options: {
      color: dU,
      overlay: {
        gradient: cN
      },
      border: {
        width: 0.5
      },
      labels: {
        visible: false,
        distance: 35,
        font: aR,
        margin: bp(0.5),
        align: ao,
        zIndex: 1,
        position: cr
      },
      animation: {
        type: ct
      },
      highlight: {
        visible: true,
        border: {
          width: 1
        }
      },
      visible: true
    },
    render: function() {
      var eb = this,
        ea = eb.options,
        X = ea.labels,
        d9 = eb.value,
        Y;
      if (eb._rendered || eb.visible === false) {
        return
      } else {
        eb._rendered = true
      }
      if (X.template) {
        Y = dp(X.template);
        d9 = Y({
          dataItem: eb.dataItem,
          category: eb.category,
          value: eb.value,
          series: eb.series,
          percentage: eb.percentage
        })
      } else {
        if (X.format) {
          d9 = r(X.format, d9)
        }
      }
      if (X.visible && d9) {
        eb.label = new dr(d9, aP({}, X, {
          id: dN(),
          align: ak,
          vAlign: "",
          animation: {
            type: bh,
            delay: eb.animationDelay
          }
        }));
        eb.append(eb.label)
      }
    },
    reflow: function(Y) {
      var X = this;
      X.render();
      X.box = Y;
      X.reflowLabel()
    },
    reflowLabel: function() {
      var eg = this,
        ef = eg.sector.clone(),
        ee = eg.options,
        Y = eg.label,
        eb = ee.labels,
        ea = eb.distance,
        X = ef.middle(),
        ed, eh, ec, d9;
      if (Y) {
        d9 = Y.box.height();
        ec = Y.box.width();
        if (eb.position == ak) {
          ef.r = bZ.abs((ef.r - d9) / 2) + d9;
          ed = ef.point(X);
          Y.reflow(M(ed.x, ed.y - d9 / 2, ed.x, ed.y))
        } else {
          if (eb.position == bA) {
            ef.r = ef.r - d9 / 2;
            ed = ef.point(X);
            Y.reflow(M(ed.x, ed.y - d9 / 2, ed.x, ed.y))
          } else {
            ed = ef.clone().expand(ea).point(X);
            if (ed.x >= ef.c.x) {
              eh = ed.x + ec;
              Y.orientation = cJ
            } else {
              eh = ed.x - ec;
              Y.orientation = bL
            }
            Y.reflow(M(eh, ed.y - d9, ed.x, ed.y))
          }
        }
      }
    },
    getViewElements: function(ee) {
      var ed = this,
        ec = ed.sector,
        ea = ed.options,
        Y = ea.border || {}, X = Y.width > 0 ? {
          stroke: Y.color,
          strokeWidth: Y.width,
          strokeOpacity: Y.opacity,
          dashType: Y.dashType
        } : {}, d9 = [],
        eb = ea.overlay;
      if (eb) {
        eb = aP({}, ea.overlay, {
          r: ec.r,
          ir: ec.ir,
          cx: ec.c.x,
          cy: ec.c.y,
          bbox: ec.getBBox()
        })
      }
      if (ed.value) {
        d9.push(ed.createSegment(ee, ec, aP({
          id: ed.id,
          fill: ea.color,
          overlay: eb,
          fillOpacity: ea.opacity,
          strokeOpacity: ea.opacity,
          animation: aP(ea.animation, {
            delay: ed.animationDelay
          }),
          data: {
            modelId: ed.modelId
          },
          zIndex: ea.zIndex,
          singleSegment: (ed.options.data || []).length === 1
        }, X)))
      }
      g(d9, an.fn.getViewElements.call(ed, ee));
      return d9
    },
    createSegment: function(d9, Y, X) {
      if (X.singleSegment) {
        return d9.createCircle(Y.c, Y.r, X)
      } else {
        return d9.createSector(Y, X)
      }
    },
    highlightOverlay: function(ed, ea) {
      var ec = this,
        d9 = ec.options.highlight || {}, X = d9.border || {}, eb = ec.id + cq,
        Y;
      ea = aP({}, ea, {
        id: eb
      });
      if (ec.value !== 0) {
        Y = ec.createSegment(ed, ec.sector, aP({}, ea, {
          fill: d9.color,
          fillOpacity: d9.opacity,
          strokeOpacity: X.opacity,
          strokeWidth: X.width,
          stroke: X.color,
          id: null,
          data: {
            modelId: ec.modelId
          }
        }))
      }
      return Y
    },
    tooltipAnchor: function(ea, Y) {
      var d9 = this,
        X = d9.sector.adjacentBox(dG, ea, Y);
      return new cD(X.x1, X.y1)
    },
    formatValue: function(X) {
      var Y = this;
      return Y.owner.formatPointValue(Y, X)
    }
  });
  aP(cz.fn, cF);
  var cx = an.extend({
    init: function(d9, Y) {
      var X = this;
      an.fn.init.call(X, Y);
      X.plotArea = d9;
      X.points = [];
      X.legendItems = [];
      X.render()
    },
    options: {
      startAngle: 90,
      connectors: {
        width: 1,
        color: "#939393",
        padding: 4
      },
      inactiveItems: {
        markers: {},
        labels: {}
      }
    },
    render: function() {
      var X = this;
      X.traverseDataPoints(cG(X.addValue, X))
    },
    traverseDataPoints: function(d9) {
      var ea = this,
        ej = ea.options,
        eb = ea.plotArea.options.seriesColors || [],
        ec = eb.length,
        en = ej.series,
        eo = en.length,
        ek = dN(),
        ee, el, eh, ep, X, ef, Y, er, eg, eq, ed, ei, em = 0;
      for (ep = 0; ep < eo; ep++) {
        ee = en[ep];
        ef = ee.data;
        eq = ea.pointsTotal(ee);
        Y = 360 / eq;
        if (aW(ee.startAngle)) {
          ed = ee.startAngle
        } else {
          ed = ej.startAngle
        }
        if (ep != eo - 1) {
          if (ee.labels.position == cr) {
            ee.labels.position = ak
          }
        }
        for (ei = 0; ei < ef.length; ei++) {
          el = c2.current.bindPoint(ee, ei);
          er = el.valueFields.value;
          eh = el.fields;
          X = cM(er * Y, aT);
          eg = ef.length != 1 && !! eh.explode;
          if (!bG(ee.color)) {
            ee.color = eh.color || eb[ei % ec]
          }
          d9(er, new cK(null, 0, 0, ed, X), {
            owner: ea,
            category: eh.category || "",
            index: em,
            series: ee,
            seriesIx: ep,
            dataItem: ef[ei],
            percentage: er / eq,
            explode: eg,
            visibleInLegend: eh.visibleInLegend,
            visible: eh.visible,
            overlay: {
              id: ek + ep
            },
            zIndex: eo - ep,
            animationDelay: ea.animationDelay(ei, ep, eo)
          });
          if (el.fields.visible !== false) {
            ed += X
          }
          em++
        }
        em = 0
      }
    },
    evalSegmentOptions: function(Y, ea, X) {
      var d9 = X.series;
      bf(Y, {
        value: ea,
        series: d9,
        dataItem: X.dataItem,
        category: X.category,
        percentage: X.percentage
      }, {
        defaults: d9._defaults,
        excluded: ["data"]
      })
    },
    addValue: function(ec, d9, Y) {
      var X = this,
        ea;
      X.createLegendItem(ec, Y);
      if (Y.visible === false) {
        return
      }
      var eb = aP({}, Y.series, {
        index: Y.index
      });
      X.evalSegmentOptions(eb, ec, Y);
      ea = new cz(ec, d9, eb);
      bg(ea, Y);
      X.append(ea);
      X.points.push(ea)
    },
    createLegendItem: function(ef, ed) {
      var X = this,
        ea = (X.options.legend || {}).labels || {}, Y = (X.options.legend || {}).inactiveItems || {}, ee, eb, ec, d9;
      if (ed && ed.visibleInLegend !== false) {
        ee = ed.category || "";
        if ((ea || {}).template) {
          eb = dp(ea.template);
          ee = eb({
            text: ee,
            series: ed.series,
            dataItem: ed.dataItem,
            percentage: ed.percentage,
            value: ef
          })
        }
        if (ed.visible === false) {
          ec = (Y.markers || {}).color;
          d9 = (Y.labels || {}).color
        } else {
          ec = (ed.series || {}).color;
          d9 = ea.color
        }
        if (ee) {
          X.legendItems.push({
            pointIndex: ed.index,
            text: ee,
            series: ed.series,
            markerColor: ec,
            labelColor: d9
          })
        }
      }
    },
    pointsTotal: function(eb) {
      var X = eb.data,
        d9 = X.length,
        ec = 0,
        ed, Y, ea;
      for (Y = 0; Y < d9; Y++) {
        ea = c2.current.bindPoint(eb, Y);
        ed = ea.valueFields.value;
        if (typeof ed === "string") {
          ed = parseFloat(ed)
        }
        if (ed && ea.fields.visible !== false) {
          ec += ed
        }
      }
      return ec
    },
    reflow: function(ew) {
      var ea = this,
        ek = ea.options,
        X = ew.clone(),
        ev = 5,
        eh = bZ.min(X.width(), X.height()),
        ed = eh / 2,
        ec = eh - eh * 0.85,
        el = dP(ek.padding, ec),
        ei = M(X.x1, X.y1, X.x1 + eh, X.y1 + eh),
        ej = ei.center(),
        es = ea.seriesConfigs || [],
        Y = X.center(),
        em = ea.points,
        eb = em.length,
        et = ek.series.length,
        eg = [],
        eo = [],
        er, eu, ef, eq, ep, en, ee, d9;
      el = el > ed - ev ? ed - ev : el;
      ei.translate(Y.x - ej.x, Y.y - ej.y);
      en = ed - el;
      d9 = cD(en + ei.x1 + el, en + ei.y1 + el);
      for (ee = 0; ee < eb; ee++) {
        eq = em[ee];
        ep = eq.sector;
        ep.r = en;
        ep.c = d9;
        eu = eq.seriesIx;
        if (es.length) {
          er = es[eu];
          ep.ir = er.ir;
          ep.r = er.r
        }
        if (eu == et - 1 && eq.explode) {
          ep.c = ep.clone().radius(ep.r * 0.15).point(ep.middle())
        }
        eq.reflow(ei);
        ef = eq.label;
        if (ef) {
          if (ef.options.position === cr) {
            if (eu == et - 1) {
              if (ef.orientation === cJ) {
                eo.push(ef)
              } else {
                eg.push(ef)
              }
            }
          }
        }
      }
      if (eg.length > 0) {
        eg.sort(ea.labelComparator(true));
        ea.leftLabelsReflow(eg)
      }
      if (eo.length > 0) {
        eo.sort(ea.labelComparator(false));
        ea.rightLabelsReflow(eo)
      }
      ea.box = ei
    },
    leftLabelsReflow: function(d9) {
      var X = this,
        Y = X.distanceBetweenLabels(d9);
      X.distributeLabels(Y, d9)
    },
    rightLabelsReflow: function(d9) {
      var X = this,
        Y = X.distanceBetweenLabels(d9);
      X.distributeLabels(Y, d9)
    },
    distanceBetweenLabels: function(ed) {
      var X = this,
        ef = X.points,
        ei = ef[ef.length - 1],
        eh = ei.sector,
        eb = ed[0].box,
        Y = ed.length - 1,
        ee = eh.r + ei.options.labels.distance,
        ea = [],
        eg, d9, ec;
      d9 = cM(eb.y1 - (eh.c.y - ee - eb.height() - eb.height() / 2));
      ea.push(d9);
      for (ec = 0; ec < Y; ec++) {
        eb = ed[ec].box;
        eg = ed[ec + 1].box;
        d9 = cM(eg.y1 - eb.y2);
        ea.push(d9)
      }
      d9 = cM(eh.c.y + ee - ed[Y].box.y2 - ed[Y].box.height() / 2);
      ea.push(d9);
      return ea
    },
    distributeLabels: function(d9, eb) {
      var X = this,
        Y = d9.length,
        ed, ec, ee, ea;
      for (ea = 0; ea < Y; ea++) {
        ec = ee = ea;
        ed = -d9[ea];
        while (ed > 0 && (ec >= 0 || ee < Y)) {
          ed = X._takeDistance(d9, ea, --ec, ed);
          ed = X._takeDistance(d9, ea, ++ee, ed)
        }
      }
      X.reflowLabels(d9, eb)
    },
    _takeDistance: function(ea, Y, eb, X) {
      if (ea[eb] > 0) {
        var d9 = bZ.min(ea[eb], X);
        X -= d9;
        ea[eb] -= d9;
        ea[Y] += d9
      }
      return X
    },
    reflowLabels: function(eb, eg) {
      var ea = this,
        ei = ea.points,
        ek = ei[ei.length - 1],
        ej = ek.sector,
        eh = eg.length,
        ef = ek.options.labels,
        ee = ef.distance,
        d9 = ej.c.y - (ej.r + ee) - eg[0].box.height(),
        ed, Y, X, ec;
      eb[0] += 2;
      for (ec = 0; ec < eh; ec++) {
        ed = eg[ec];
        d9 += eb[ec];
        X = ed.box;
        Y = ea.hAlignLabel(X.x2, ej.clone().expand(ee), d9, d9 + X.height(), ed.orientation == cJ);
        if (ed.orientation == cJ) {
          if (ef.align !== ao) {
            Y = ej.r + ej.c.x + ee
          }
          ed.reflow(M(Y + X.width(), d9, Y, d9))
        } else {
          if (ef.align !== ao) {
            Y = ej.c.x - ej.r - ee
          }
          ed.reflow(M(Y - X.width(), d9, Y, d9))
        }
        d9 += X.height()
      }
    },
    getViewElements: function(et) {
      var ea = this,
        el = ea.options,
        ed = el.connectors,
        em = ea.points,
        eb, ej = [],
        ee = em.length,
        eq = 4,
        en, X, ec, eo, ep, ei, eh;
      for (eh = 0; eh < ee; eh++) {
        eo = em[eh];
        en = eo.sector;
        X = en.middle();
        ei = eo.label;
        ep = {
          seriesId: eo.seriesIx
        };
        if (ei) {
          ec = [];
          if (ei.options.position === cr && eo.value !== 0) {
            var Y = ei.box,
              d9 = en.c,
              es = en.point(X),
              ek = cD(Y.x1, Y.center().y),
              er, eg, ef;
            es = en.clone().expand(ed.padding).point(X);
            ec.push(es);
            if (ei.orientation == cJ) {
              eg = cD(Y.x1 - ed.padding, Y.center().y);
              ef = bD(d9, es, ek, eg);
              ek = cD(eg.x - eq, eg.y);
              ef = ef || ek;
              ef.x = bZ.min(ef.x, ek.x);
              if (ea.pointInCircle(ef, en.c, en.r + eq) || ef.x < en.c.x) {
                er = en.c.x + en.r + eq;
                if (eo.options.labels.align !== aw) {
                  if (er < ek.x) {
                    ec.push(cD(er, es.y))
                  } else {
                    ec.push(cD(es.x + eq * 2, es.y))
                  }
                } else {
                  ec.push(cD(er, es.y))
                }
                ec.push(cD(ek.x, eg.y))
              } else {
                ef.y = eg.y;
                ec.push(ef)
              }
            } else {
              eg = cD(Y.x2 + ed.padding, Y.center().y);
              ef = bD(d9, es, ek, eg);
              ek = cD(eg.x + eq, eg.y);
              ef = ef || ek;
              ef.x = bZ.max(ef.x, ek.x);
              if (ea.pointInCircle(ef, en.c, en.r + eq) || ef.x > en.c.x) {
                er = en.c.x - en.r - eq;
                if (eo.options.labels.align !== aw) {
                  if (er > ek.x) {
                    ec.push(cD(er, es.y))
                  } else {
                    ec.push(cD(es.x - eq * 2, es.y))
                  }
                } else {
                  ec.push(cD(er, es.y))
                }
                ec.push(cD(ek.x, eg.y))
              } else {
                ef.y = eg.y;
                ec.push(ef)
              }
            }
            ec.push(eg);
            eb = et.createPolyline(ec, false, {
              id: dN(),
              stroke: ed.color,
              strokeWidth: ed.width,
              animation: {
                type: bh,
                delay: eo.animationDelay
              },
              data: {
                modelId: eo.modelId
              }
            });
            ej.push(eb)
          }
        }
      }
      g(ej, an.fn.getViewElements.call(ea, et));
      return ej
    },
    labelComparator: function(X) {
      X = (X) ? -1 : 1;
      return function(Y, d9) {
        Y = (cM(Y.parent.sector.middle()) + 270) % 360;
        d9 = (cM(d9.parent.sector.middle()) + 270) % 360;
        return (Y - d9) * X
      }
    },
    hAlignLabel: function(ea, ec, ee, ef, d9) {
      var X = ec.c.x,
        Y = ec.c.y,
        eb = ec.r,
        ed = bZ.min(bZ.abs(Y - ee), bZ.abs(Y - ef));
      if (ed > eb) {
        return ea
      } else {
        return X + bZ.sqrt((eb * eb) - (ed * ed)) * (d9 ? 1 : -1)
      }
    },
    pointInCircle: function(Y, X, d9) {
      return de(X.x - Y.x) + de(X.y - Y.y) < de(d9)
    },
    formatPointValue: function(Y, X) {
      return r(X, Y.value)
    },
    animationDelay: function(X) {
      return X * cu
    }
  });
  var a1 = cz.extend({
    options: {
      overlay: {
        gradient: cO
      },
      labels: {
        position: ak
      },
      animation: {
        type: ct
      }
    },
    reflowLabel: function() {
      var ee = this,
        ed = ee.sector.clone(),
        ec = ee.options,
        Y = ee.label,
        ea = ec.labels,
        eb, X = ed.middle(),
        d9;
      if (Y) {
        d9 = Y.box.height();
        if (ea.position == ak) {
          ed.r -= (ed.r - ed.ir) / 2;
          eb = ed.point(X);
          Y.reflow(new M(eb.x, eb.y - d9 / 2, eb.x, eb.y))
        } else {
          cz.fn.reflowLabel.call(ee)
        }
      }
    },
    createSegment: function(d9, Y, X) {
      return d9.createRing(Y, X)
    }
  });
  aP(a1.fn, cF);
  var aZ = cx.extend({
    options: {
      startAngle: 90,
      connectors: {
        width: 1,
        color: "#939393",
        padding: 4
      }
    },
    addValue: function(ec, d9, Y) {
      var X = this,
        ea;
      X.createLegendItem(ec, Y);
      if (!ec || Y.visible === false) {
        return
      }
      var eb = aP({}, Y.series);
      X.evalSegmentOptions(eb, ec, Y);
      ea = new a1(ec, d9, eb);
      bg(ea, Y);
      X.append(ea);
      X.points.push(ea)
    },
    reflow: function(eq) {
      var Y = this,
        ei = Y.options,
        X = eq.clone(),
        ep = 5,
        eh = bZ.min(X.width(), X.height()),
        ec = eh / 2,
        eb = eh - eh * 0.85,
        ej = dP(ei.padding, eb),
        el = ei.series,
        d9, em = el.length,
        en = 0,
        ed, er, eo, eg = 0,
        ee, ek, ef = 0,
        ea = 0;
      Y.seriesConfigs = [];
      ej = ej > ec - ep ? ec - ep : ej;
      er = ec - ej;
      for (ee = 0; ee < em; ee++) {
        d9 = el[ee];
        if (ee === 0) {
          if (aW(d9.holeSize)) {
            ed = d9.holeSize;
            er -= d9.holeSize
          }
        }
        if (aW(d9.size)) {
          er -= d9.size
        } else {
          en++
        }
        if (aW(d9.margin) && ee != em - 1) {
          er -= d9.margin
        }
      }
      if (!aW(ed)) {
        ea = (ec - ej) / (em + 0.75);
        ed = ea * 0.75;
        er -= ed
      }
      ef = ed;
      for (ee = 0; ee < em; ee++) {
        d9 = el[ee];
        eo = dP(d9.size, er / en);
        ef += eg;
        ek = ef + eo;
        Y.seriesConfigs.push({
          ir: ef,
          r: ek
        });
        eg = d9.margin || 0;
        ef = ek
      }
      cx.fn.reflow.call(Y, eq)
    },
    animationDelay: function(X, d9, Y) {
      return X * aY + (by * (d9 + 1) / (Y + 1))
    }
  });
  var cs = N.extend({
    init: function(X) {
      var Y = this;
      N.fn.init.call(Y, X);
      X = Y.options;
      Y.id = dN();
      Y.title = dA.buildTitle(X.title, Y, cs.fn.options.title);
      Y.content = new an();
      Y.append(Y.content);
      Y.axes = [];
      Y.charts = []
    },
    options: {
      zIndex: -1,
      shrinkToFit: true,
      title: {
        align: bL
      },
      visible: true
    },
    appendAxis: function(X) {
      var Y = this;
      Y.content.append(X);
      Y.axes.push(X);
      X.pane = Y
    },
    appendChart: function(X) {
      var Y = this;
      Y.charts.push(X);
      Y.content.append(X);
      X.pane = Y
    },
    empty: function() {
      var Y = this,
        d9 = Y.parent,
        X;
      if (d9) {
        for (X = 0; X < Y.axes.length; X++) {
          d9.removeAxis(Y.axes[X])
        }
        for (X = 0; X < Y.charts.length; X++) {
          d9.removeChart(Y.charts[X])
        }
      }
      Y.axes = [];
      Y.charts = [];
      Y.content.destroy();
      Y.content.children = []
    },
    reflow: function(Y) {
      var X = this;
      if (bJ(X.children) === X.content) {
        X.children.pop()
      }
      N.fn.reflow.call(X, Y);
      if (X.title) {
        X.contentBox.y1 += X.title.box.height()
      }
    },
    getViewElements: function(eb) {
      var d9 = this,
        X = N.fn.getViewElements.call(d9, eb),
        Y = eb.createGroup({
          id: d9.id
        }),
        ea = [];
      Y.children = X.concat(d9.renderGridLines(eb), d9.content.getViewElements(eb));
      d9.view = eb;
      if (d9.options.visible) {
        ea = [Y]
      }
      return ea
    },
    renderGridLines: function(ei) {
      var ef = this,
        d9 = ef.axes,
        X = d9.concat(ef.parent.axes),
        eh = [],
        ec = [],
        eb, ed, ee, ea, eg, Y;
      for (ed = 0; ed < d9.length; ed++) {
        ea = d9[ed];
        eg = ea.options.vertical;
        eb = eg ? eh : ec;
        for (ee = 0; ee < X.length; ee++) {
          if (eb.length === 0) {
            Y = X[ee];
            if (eg !== Y.options.vertical) {
              g(eb, ea.renderGridLines(ei, Y, ea))
            }
          }
        }
      }
      return eh.concat(ec)
    },
    refresh: function() {
      var X = this,
        Y = X.view;
      if (Y) {
        Y.replace(X)
      }
    }
  });
  var cB = an.extend({
    init: function(d9, X) {
      var Y = this;
      an.fn.init.call(Y, X);
      Y.series = d9;
      Y.setSeriesIndexes();
      Y.charts = [];
      Y.options.legend.items = [];
      Y.axes = [];
      Y.crosshairs = [];
      Y.id = dN();
      Y.enableDiscovery();
      Y.createPanes();
      Y.render();
      Y.createCrosshairs()
    },
    options: {
      series: [],
      plotArea: {
        margin: {}
      },
      background: "",
      border: {
        color: I,
        width: 0
      },
      legend: {
        inactiveItems: {
          labels: {
            color: "#919191"
          },
          markers: {
            color: "#919191"
          }
        }
      }
    },
    setSeriesIndexes: function() {
      var d9 = this.series,
        Y, X;
      for (Y = 0; Y < d9.length; Y++) {
        X = d9[Y];
        X.index = Y
      }
    },
    createPanes: function() {
      var ec = this,
        ea = [],
        d9 = ec.options.panes || [],
        Y, eb = bZ.max(d9.length, 1),
        X;
      for (Y = 0; Y < eb; Y++) {
        X = new cs(d9[Y]);
        X.paneIndex = Y;
        ea.push(X);
        ec.append(X)
      }
      ec.panes = ea
    },
    destroy: function() {
      var ea = this,
        Y = ea.charts,
        X = ea.axes,
        d9;
      for (d9 = 0; d9 < Y.length; d9++) {
        Y[d9].destroy()
      }
      for (d9 = 0; d9 < X.length; d9++) {
        X[d9].destroy()
      }
      an.fn.destroy.call(ea)
    },
    createCrosshairs: function() {
      var ed = this,
        ec = ed.panes,
        d9, ea, eb, X, Y;
      for (d9 = 0; d9 < ec.length; d9++) {
        eb = ec[d9];
        for (ea = 0; ea < eb.axes.length; ea++) {
          X = eb.axes[ea];
          if (X.options.crosshair && X.options.crosshair.visible) {
            Y = new aA(X, X.options.crosshair);
            ed.crosshairs.push(Y);
            eb.content.append(Y)
          }
        }
      }
    },
    findPane: function(d9) {
      var eb = this,
        ea = eb.panes,
        X, Y;
      for (X = 0; X < ea.length; X++) {
        if (ea[X].options.name === d9) {
          Y = ea[X];
          break
        }
      }
      return Y || ea[0]
    },
    findPointPane: function(eb) {
      var ea = this,
        d9 = ea.panes,
        X, Y;
      for (X = 0; X < d9.length; X++) {
        if (d9[X].box.containsPoint(eb)) {
          Y = d9[X];
          break
        }
      }
      return Y
    },
    appendAxis: function(X) {
      var d9 = this,
        Y = d9.findPane(X.options.pane);
      Y.appendAxis(X);
      d9.axes.push(X);
      X.plotArea = d9
    },
    removeAxis: function(Y) {
      var eb = this,
        ea, X, d9 = [];
      for (ea = 0; ea < eb.axes.length; ea++) {
        X = eb.axes[ea];
        if (Y !== X) {
          d9.push(X)
        } else {
          X.destroy()
        }
      }
      eb.axes = d9
    },
    appendChart: function(X, Y) {
      var d9 = this;
      d9.charts.push(X);
      if (Y) {
        Y.appendChart(X)
      } else {
        d9.append(X)
      }
    },
    removeChart: function(Y) {
      var eb = this,
        ea, X, d9 = [];
      for (ea = 0; ea < eb.charts.length; ea++) {
        X = eb.charts[ea];
        if (X !== Y) {
          d9.push(X)
        } else {
          X.destroy()
        }
      }
      eb.charts = d9
    },
    addToLegend: function(ei) {
      var Y = ei.length,
        ea = [],
        ec, d9, ej, eg = this.options.legend,
        ef = eg.labels || {}, ed = eg.inactiveItems || {}, X, ee, eh, eb;
      for (ec = 0; ec < Y; ec++) {
        d9 = ei[ec];
        if (d9.visibleInLegend === false) {
          continue
        }
        ej = d9.name || "";
        if (ef.template) {
          ej = dp(ef.template)({
            text: ej,
            series: d9
          })
        }
        X = d9.color;
        eb = d9._defaults;
        if (bG(X) && eb) {
          X = eb.color
        }
        if (d9.visible === false) {
          ee = ed.labels.color;
          eh = ed.markers.color
        } else {
          ee = ef.color;
          eh = X
        }
        if (ej) {
          ea.push({
            text: ej,
            labelColor: ee,
            markerColor: eh,
            series: d9,
            active: d9.visible
          })
        }
      }
      g(eg.items, ea)
    },
    groupAxes: function(eb) {
      var ec = [],
        ed = [],
        d9, X, ea, Y;
      for (ea = 0; ea < eb.length; ea++) {
        d9 = eb[ea].axes;
        for (Y = 0; Y < d9.length; Y++) {
          X = d9[Y];
          if (X.options.vertical) {
            ed.push(X)
          } else {
            ec.push(X)
          }
        }
      }
      return {
        x: ec,
        y: ed,
        any: ec.concat(ed)
      }
    },
    groupSeriesByPane: function() {
      var ea = this,
        eb = ea.series,
        ec = {}, Y, d9, X;
      for (Y = 0; Y < eb.length; Y++) {
        X = eb[Y];
        d9 = ea.seriesPaneName(X);
        if (ec[d9]) {
          ec[d9].push(X)
        } else {
          ec[d9] = [X]
        }
      }
      return ec
    },
    filterVisibleSeries: function(ea) {
      var Y, X, d9 = [];
      for (Y = 0; Y < ea.length; Y++) {
        X = ea[Y];
        if (X.visible !== false) {
          d9.push(X)
        }
      }
      return d9
    },
    reflow: function(eb) {
      var ea = this,
        Y = ea.options.plotArea,
        d9 = ea.panes,
        X = bp(Y.margin);
      ea.box = eb.clone().unpad(X);
      ea.reflowPanes();
      ea.reflowAxes(d9);
      ea.reflowCharts(d9)
    },
    redraw: function(Y) {
      var d9 = this,
        X;
      Y = [].concat(Y);
      for (X = 0; X < Y.length; X++) {
        Y[X].empty()
      }
      d9.render(Y);
      d9.reflowAxes(d9.panes);
      d9.reflowCharts(Y);
      for (X = 0; X < Y.length; X++) {
        Y[X].refresh()
      }
    },
    axisCrossingValues: function(X, Y) {
      var ec = X.options,
        d9 = [].concat(ec.axisCrossingValues || ec.axisCrossingValue),
        ed = Y.length - d9.length,
        ea = d9[0] || 0,
        eb;
      for (eb = 0; eb < ed; eb++) {
        d9.push(ea)
      }
      return d9
    },
    alignAxisTo: function(X, ec, d9, ed) {
      var ea = X.getSlot(d9, d9),
        eb = X.options.reverse ? 2 : 1,
        ef = ec.getSlot(ed, ed),
        ee = ec.options.reverse ? 2 : 1,
        Y = X.box.translate(ef[dW + ee] - ea[dW + eb], ef[d0 + ee] - ea[d0 + eb]);
      if (X.pane !== ec.pane) {
        Y.translate(0, X.pane.box.y1 - ec.pane.box.y1)
      }
      X.reflow(Y)
    },
    alignAxes: function(ei, el) {
      var ed = this,
        eg = ei[0],
        ej = el[0],
        eh = ed.axisCrossingValues(eg, el),
        ek = ed.axisCrossingValues(ej, ei),
        ea = {}, ee = {}, ef = {}, Y = {}, eb, ec, X, d9;
      for (d9 = 0; d9 < el.length; d9++) {
        X = el[d9];
        eb = X.pane;
        ec = eb.id;
        ed.alignAxisTo(X, eg, ek[d9], eh[d9]);
        if (X.options._overlap) {
          continue
        }
        if (cM(X.lineBox().x1) === cM(eg.lineBox().x1)) {
          if (ea[ec]) {
            X.reflow(X.box.alignTo(ea[ec].box, bL).translate(-X.options.margin, 0))
          }
          ea[ec] = X
        }
        if (cM(X.lineBox().x2) === cM(eg.lineBox().x2)) {
          if (!X._mirrored) {
            X.options.labels.mirror = !X.options.labels.mirror;
            X._mirrored = true
          }
          ed.alignAxisTo(X, eg, ek[d9], eh[d9]);
          if (ee[ec]) {
            X.reflow(X.box.alignTo(ee[ec].box, cJ).translate(X.options.margin, 0))
          }
          ee[ec] = X
        }
        if (d9 !== 0 && ej.pane === X.pane) {
          X.alignTo(ej)
        }
      }
      for (d9 = 0; d9 < ei.length; d9++) {
        X = ei[d9];
        eb = X.pane;
        ec = eb.id;
        ed.alignAxisTo(X, ej, eh[d9], ek[d9]);
        if (X.options._overlap) {
          continue
        }
        if (cM(X.lineBox().y1) === cM(ej.lineBox().y1)) {
          if (!X._mirrored) {
            X.options.labels.mirror = !X.options.labels.mirror;
            X._mirrored = true
          }
          ed.alignAxisTo(X, ej, eh[d9], ek[d9]);
          if (ef[ec]) {
            X.reflow(X.box.alignTo(ef[ec].box, dI).translate(0, -X.options.margin))
          }
          ef[ec] = X
        }
        if (cM(X.lineBox().y2, ax) === cM(ej.lineBox().y2, ax)) {
          if (Y[ec]) {
            X.reflow(X.box.alignTo(Y[ec].box, K).translate(0, X.options.margin))
          }
          Y[ec] = X
        }
        if (d9 !== 0) {
          X.alignTo(eg)
        }
      }
    },
    shrinkAxisWidth: function(ed) {
      var ee = this,
        X = ee.groupAxes(ed).any,
        Y = u(X),
        ec = 0,
        eb, ea, d9;
      for (eb = 0; eb < ed.length; eb++) {
        ea = ed[eb];
        if (ea.axes.length > 0) {
          ec = bZ.max(ec, Y.width() - ea.contentBox.width())
        }
      }
      for (eb = 0; eb < X.length; eb++) {
        d9 = X[eb];
        if (!d9.options.vertical) {
          d9.reflow(d9.box.shrink(ec, 0))
        }
      }
    },
    shrinkAxisHeight: function(ed) {
      var ea, d9, X, ec, eb, Y;
      for (ea = 0; ea < ed.length; ea++) {
        d9 = ed[ea];
        X = d9.axes;
        ec = bZ.max(0, u(X).height() - d9.contentBox.height());
        for (eb = 0; eb < X.length; eb++) {
          Y = X[eb];
          if (Y.options.vertical) {
            Y.reflow(Y.box.shrink(0, ec))
          }
        }
      }
    },
    fitAxes: function(eh) {
      var ei = this,
        X = ei.groupAxes(eh).any,
        ed = 0,
        ef, eg, Y, ee, ea, d9, eb, ec;
      for (eb = 0; eb < eh.length; eb++) {
        ea = eh[eb];
        ef = ea.axes;
        eg = ea.contentBox;
        if (ef.length > 0) {
          Y = u(ef);
          ed = bZ.max(ed, eg.x1 - Y.x1);
          ee = bZ.max(eg.y1 - Y.y1, eg.y2 - Y.y2);
          for (ec = 0; ec < ef.length; ec++) {
            d9 = ef[ec];
            d9.reflow(d9.box.translate(0, ee))
          }
        }
      }
      for (eb = 0; eb < X.length; eb++) {
        d9 = X[eb];
        d9.reflow(d9.box.translate(ed, 0))
      }
    },
    reflowAxes: function(d9) {
      var ea = this,
        Y, X = ea.groupAxes(d9);
      for (Y = 0; Y < d9.length; Y++) {
        ea.reflowPaneAxes(d9[Y])
      }
      if (X.x.length > 0 && X.y.length > 0) {
        ea.alignAxes(X.x, X.y);
        ea.shrinkAxisWidth(d9);
        ea.alignAxes(X.x, X.y);
        ea.shrinkAxisHeight(d9);
        ea.alignAxes(X.x, X.y);
        ea.fitAxes(d9)
      }
    },
    reflowPaneAxes: function(ea) {
      var X = ea.axes,
        Y, d9 = X.length;
      if (d9 > 0) {
        for (Y = 0; Y < d9; Y++) {
          X[Y].reflow(ea.contentBox)
        }
      }
    },
    reflowCharts: function(ec) {
      var ed = this,
        d9 = ed.charts,
        ea = d9.length,
        X = ed.box,
        Y, eb;
      for (eb = 0; eb < ea; eb++) {
        Y = d9[eb].pane;
        if (!Y || bv(Y, ec)) {
          d9[eb].reflow(X)
        }
      }
    },
    reflowPanes: function() {
      var eg = this,
        Y = eg.box,
        ed = eg.panes,
        ee = ed.length,
        eb, d9, ec, eh = Y.height(),
        ei = ee,
        X = 0,
        ej = Y.y1,
        ea, ef;
      for (eb = 0; eb < ee; eb++) {
        d9 = ed[eb];
        ea = d9.options.height;
        d9.options.width = Y.width();
        if (!d9.options.height) {
          X++
        } else {
          if (ea.indexOf && ea.indexOf("%")) {
            ef = parseInt(ea, 10) / 100;
            d9.options.height = ef * Y.height()
          }
          d9.reflow(Y.clone());
          eh -= d9.options.height
        }
      }
      for (eb = 0; eb < ee; eb++) {
        d9 = ed[eb];
        if (!d9.options.height) {
          d9.options.height = eh / X
        }
      }
      for (eb = 0; eb < ee; eb++) {
        d9 = ed[eb];
        ec = Y.clone().move(Y.x1, ej);
        d9.reflow(ec);
        ei--;
        ej += d9.options.height
      }
    },
    backgroundBox: function() {
      var ef = this,
        X = ef.axes,
        Y = X.length,
        ee, eb, ec, ed, d9, ea;
      for (ec = 0; ec < Y; ec++) {
        d9 = X[ec];
        for (ed = 0; ed < Y; ed++) {
          ea = X[ed];
          if (d9.options.vertical !== ea.options.vertical) {
            ee = d9.lineBox().clone().wrap(ea.lineBox());
            if (!eb) {
              eb = ee
            } else {
              eb = eb.wrap(ee)
            }
          }
        }
      }
      return eb || ef.box
    },
    getViewElements: function(ed) {
      var eb = this,
        X = eb.backgroundBox(),
        ea = eb.options,
        ec = ea.plotArea,
        Y = ec.border || {}, d9 = an.fn.getViewElements.call(eb, ed);
      g(d9, [ed.createRect(X, {
        fill: ec.background,
        fillOpacity: ec.opacity,
        zIndex: -2,
        strokeWidth: 0.1
      }), ed.createRect(X, {
        id: eb.id,
        data: {
          modelId: eb.modelId
        },
        stroke: Y.width ? Y.color : "",
        strokeWidth: Y.width,
        fill: dU,
        fillOpacity: 0,
        zIndex: -1,
        dashType: Y.dashType
      })]);
      return d9
    },
    pointsByCategoryIndex: function(X) {
      var d9 = this.charts,
        ee = [],
        ea, eb, ed, ec, Y;
      if (X !== null) {
        for (ea = 0; ea < d9.length; ea++) {
          Y = d9[ea];
          if (Y.pane.options.name === "_navigator") {
            continue
          }
          ed = d9[ea].categoryPoints[X];
          if (ed && ed.length) {
            for (eb = 0; eb < ed.length; eb++) {
              ec = ed[eb];
              if (ec && aW(ec.value) && ec.value !== null) {
                ee.push(ec)
              }
            }
          }
        }
      }
      return ee
    },
    pointsBySeriesIndex: function(ee) {
      var Y = this.charts,
        ed = [],
        ec, eb, d9, ea, X;
      for (d9 = 0; d9 < Y.length; d9++) {
        X = Y[d9];
        ec = X.points;
        for (ea = 0; ea < ec.length; ea++) {
          eb = ec[ea];
          if (eb && eb.options.index === ee) {
            ed.push(eb)
          }
        }
      }
      return ed
    },
    paneByPoint: function(eb) {
      var ea = this,
        d9 = ea.panes,
        Y, X;
      for (X = 0; X < d9.length; X++) {
        Y = d9[X];
        if (Y.box.containsPoint(eb)) {
          return Y
        }
      }
    }
  });
  var af = cB.extend({
    init: function(d9, X) {
      var Y = this;
      Y.namedCategoryAxes = {};
      Y.namedValueAxes = {};
      Y.valueAxisRangeTracker = new v();
      if (d9.length > 0) {
        Y.invertAxes = bv(d9[0].type, [z, W, dS, dQ])
      }
      cB.fn.init.call(Y, d9, X)
    },
    options: {
      categoryAxis: {
        categories: []
      },
      valueAxis: {}
    },
    render: function(X) {
      var Y = this;
      X = X || Y.panes;
      Y.createCategoryAxes(X);
      Y.aggregateCategories(X);
      Y.createCharts(X);
      Y.createValueAxes(X)
    },
    removeAxis: function(X) {
      var d9 = this,
        Y = X.options.name;
      cB.fn.removeAxis.call(d9, X);
      if (X instanceof ai) {
        delete d9.namedCategoryAxes[Y]
      } else {
        d9.valueAxisRangeTracker.reset(Y);
        delete d9.namedValueAxes[Y]
      }
      if (X === d9.categoryAxis) {
        delete d9.categoryAxis
      }
      if (X === d9.valueAxis) {
        delete d9.valueAxis
      }
    },
    createCharts: function(ea) {
      var ec = this,
        ed = ec.groupSeriesByPane(),
        Y, d9, eb, X;
      for (Y = 0; Y < ea.length; Y++) {
        d9 = ea[Y];
        eb = ed[d9.options.name || "default"] || [];
        ec.addToLegend(eb);
        X = ec.filterVisibleSeries(eb);
        if (!X) {
          continue
        }
        ec.createAreaChart(bi(X, [l, dQ]), d9);
        ec.createBarChart(bi(X, [aw, z]), d9);
        ec.createLineChart(bi(X, [bR, dS]), d9);
        ec.createCandlestickChart(bi(X, ab), d9);
        ec.createBoxPlotChart(bi(X, L), d9);
        ec.createOHLCChart(bi(X, cn), d9);
        ec.createBulletChart(bi(X, [W, dR]), d9)
      }
    },
    aggregateCategories: function(ec) {
      var ed = this,
        ef = ed.srcSeries || ed.series,
        ee = [],
        eb, d9, Y, X, ea;
      for (eb = 0; eb < ef.length; eb++) {
        d9 = ef[eb];
        Y = ed.seriesCategoryAxis(d9);
        X = ed.findPane(Y.options.pane);
        ea = ba(Y.options.type, aH);
        if ((ea || d9.categoryField) && bv(X, ec)) {
          d9 = ed.aggregateSeries(d9, Y)
        }
        ee.push(d9)
      }
      ed.srcSeries = ef;
      ed.series = ee
    },
    aggregateSeries: function(ek, ec) {
      var d9 = ec.options,
        ef = ba(ec.options.type, aH),
        ea = d9.categories,
        el = d9.srcCategories || ea,
        em = ek.data,
        en = [],
        ei = ec.range(),
        ej = aP({}, ek),
        Y = aP({}, ek),
        eh, eb, ed, ee, X, eg = bo;
      ej.data = ee = [];
      if (ef) {
        eg = bm
      }
      for (eh = 0; eh < em.length; eh++) {
        if (ek.categoryField) {
          eb = eg(ek.categoryField, em[eh])
        } else {
          eb = el[eh]
        }
        ed = ec.categoryIndex(eb, ei);
        if (ed > -1) {
          en[ed] = en[ed] || [];
          en[ed].push(eh)
        }
      }
      X = new c1(Y, c2.current, aV.current);
      for (eh = 0; eh < ea.length; eh++) {
        ee[eh] = X.aggregatePoints(en[eh], ea[eh])
      }
      return ej
    },
    appendChart: function(ea, eb) {
      var ec = this,
        ed = ea.options.series,
        d9 = ec.seriesCategoryAxis(ed[0]),
        X = d9.options.categories,
        Y = bZ.max(0, ag(ed) - X.length);
      while (Y--) {
        X.push("")
      }
      ec.valueAxisRangeTracker.update(ea.valueAxisRanges);
      cB.fn.appendChart.call(ec, ea, eb)
    },
    seriesPaneName: function(ef) {
      var ee = this,
        eb = ee.options,
        Y = ef.axis,
        d9 = [].concat(eb.valueAxis),
        X = a.grep(d9, function(eg) {
          return eg.name === Y
        })[0],
        ed = eb.panes || [{}],
        ea = (ed[0] || {}).name || "default",
        ec = (X || {}).pane || ea;
      return ec
    },
    seriesCategoryAxis: function(ea) {
      var d9 = this,
        Y = ea.categoryAxis,
        X = Y ? d9.namedCategoryAxes[Y] : d9.categoryAxis;
      if (!X) {
        throw new Error("Unable to locate category axis with name " + Y)
      }
      return X
    },
    createBarChart: function(eb, d9) {
      if (eb.length === 0) {
        return
      }
      var ea = this,
        Y = eb[0],
        X = new D(ea, {
          series: eb,
          invertAxes: ea.invertAxes,
          isStacked: Y.stack && eb.length > 1,
          gap: Y.gap,
          spacing: Y.spacing
        });
      ea.appendChart(X, d9)
    },
    createBulletChart: function(eb, d9) {
      if (eb.length === 0) {
        return
      }
      var ea = this,
        Y = eb[0],
        X = new Z(ea, {
          series: eb,
          invertAxes: ea.invertAxes,
          gap: Y.gap,
          spacing: Y.spacing
        });
      ea.appendChart(X, d9)
    },
    createLineChart: function(eb, d9) {
      if (eb.length === 0) {
        return
      }
      var ea = this,
        X = eb[0],
        Y = new bT(ea, {
          invertAxes: ea.invertAxes,
          isStacked: X.stack && eb.length > 1,
          series: eb
        });
      ea.appendChart(Y, d9)
    },
    createAreaChart: function(eb, d9) {
      if (eb.length === 0) {
        return
      }
      var ea = this,
        Y = eb[0],
        X = new m(ea, {
          invertAxes: ea.invertAxes,
          isStacked: Y.stack && eb.length > 1,
          series: eb
        });
      ea.appendChart(X, d9)
    },
    createOHLCChart: function(eb, d9) {
      if (eb.length === 0) {
        return
      }
      var ea = this,
        Y = eb[0],
        X = new co(ea, {
          invertAxes: ea.invertAxes,
          gap: Y.gap,
          series: eb,
          spacing: Y.spacing
        });
      ea.appendChart(X, d9)
    },
    createCandlestickChart: function(eb, d9) {
      if (eb.length === 0) {
        return
      }
      var ea = this,
        Y = eb[0],
        X = new ac(ea, {
          invertAxes: ea.invertAxes,
          gap: Y.gap,
          series: eb,
          spacing: Y.spacing
        });
      ea.appendChart(X, d9)
    },
    createBoxPlotChart: function(eb, d9) {
      if (eb.length === 0) {
        return
      }
      var ea = this,
        Y = eb[0],
        X = new P(ea, {
          invertAxes: ea.invertAxes,
          gap: Y.gap,
          series: eb,
          spacing: Y.spacing
        });
      ea.appendChart(X, d9)
    },
    axisRequiresRounding: function(Y, X) {
      var ea = this,
        d9 = bi(ea.series, a9),
        ec, eb;
      for (ec = 0; ec < d9.length; ec++) {
        eb = d9[ec].categoryAxis || "";
        if (eb === Y || (!eb && X === 0)) {
          return true
        }
      }
    },
    createCategoryAxes: function(eg) {
      var eh = this,
        ee = eh.invertAxes,
        ec = [].concat(eh.options.categoryAxis),
        ed, Y, d9, ea, ej, ef, eb, X = [],
        ei;
      for (ed = 0; ed < ec.length; ed++) {
        Y = ec[ed];
        d9 = eh.findPane(Y.pane);
        if (bv(d9, eg)) {
          ef = Y.name;
          ea = Y.categories || [];
          ej = Y.type || "";
          Y = aP({
            vertical: ee,
            axisCrossingValue: ee ? b1 : 0
          }, Y);
          if (!aW(Y.justified)) {
            Y.justified = eh.isJustified()
          }
          if (eh.axisRequiresRounding(ef, ed)) {
            Y.justified = false;
            Y.roundToBaseUnit = true
          }
          if (bF(Y, ea[0])) {
            eb = new aI(Y)
          } else {
            eb = new ai(Y)
          }
          if (ef) {
            if (eh.namedCategoryAxes[ef]) {
              throw new Error("Category axis with name " + ef + " is already defined")
            }
            eh.namedCategoryAxes[ef] = eb
          }
          eb.axisIndex = ed;
          X.push(eb);
          eh.appendAxis(eb)
        }
      }
      ei = eh.categoryAxis || X[0];
      eh.categoryAxis = ei;
      if (ee) {
        eh.axisY = ei
      } else {
        eh.axisX = ei
      }
    },
    isJustified: function() {
      var d9 = this,
        ea = d9.series,
        Y, X;
      for (Y = 0; Y < ea.length; Y++) {
        X = ea[Y];
        if (!bv(X.type, [l, dQ])) {
          return false
        }
      }
      return true
    },
    createValueAxes: function(eg) {
      var eh = this,
        ek = eh.valueAxisRangeTracker,
        eb = ek.query(),
        ec = [].concat(eh.options.valueAxis),
        ee = eh.invertAxes,
        ea = {
          vertical: !ee
        }, Y, d9, el, ei, X = [],
        ej, ef, ed;
      for (ed = 0; ed < ec.length; ed++) {
        Y = ec[ed];
        d9 = eh.findPane(Y.pane);
        if (bv(d9, eg)) {
          ef = Y.name;
          ej = ek.query(ef) || eb || {
            min: 0,
            max: 1
          };
          if (ed === 0 && ej && eb) {
            ej.min = bZ.min(ej.min, eb.min);
            ej.max = bZ.max(ej.max, eb.max)
          }
          el = new ck(ej.min, ej.max, aP({}, ea, Y));
          if (ef) {
            if (eh.namedValueAxes[ef]) {
              throw new Error("Value axis with name " + ef + " is already defined")
            }
            eh.namedValueAxes[ef] = el
          }
          el.axisIndex = ed;
          X.push(el);
          eh.appendAxis(el)
        }
      }
      ei = eh.valueAxis || X[0];
      eh.valueAxis = ei;
      if (ee) {
        eh.axisX = ei
      } else {
        eh.axisY = ei
      }
    },
    click: function(ea, ec) {
      var ef = this,
        eb = ea._eventCoordinates(ec),
        eg = new cD(eb.x, eb.y),
        ee = ef.pointPane(eg),
        X, ed, Y, d9 = [],
        eh = [];
      if (!ee) {
        return
      }
      X = ee.axes;
      for (ed = 0; ed < X.length; ed++) {
        Y = X[ed];
        if (Y.getValue) {
          h(eh, Y.getValue(eg))
        } else {
          h(d9, Y.getCategory(eg))
        }
      }
      if (d9.length === 0) {
        h(d9, ef.categoryAxis.getCategory(eg))
      }
      if (d9.length > 0 && eh.length > 0) {
        ea.trigger(cA, {
          element: a(ec.target),
          category: c6(d9),
          value: c6(eh)
        })
      }
    },
    pointPane: function(eb) {
      var ea = this,
        d9 = ea.panes,
        X, Y;
      for (Y = 0; Y < d9.length; Y++) {
        X = d9[Y];
        if (X.contentBox.containsPoint(eb)) {
          return X
        }
      }
    }
  });
  var v = ap.extend({
    init: function() {
      var X = this;
      X.axisRanges = {}
    },
    update: function(d9) {
      var ec = this,
        Y = ec.axisRanges,
        eb, ea, X;
      for (X in d9) {
        eb = Y[X];
        ea = d9[X];
        Y[X] = eb = eb || {
          min: b1,
          max: b2
        };
        eb.min = bZ.min(eb.min, ea.min);
        eb.max = bZ.max(eb.max, ea.max)
      }
    },
    reset: function(X) {
      this.axisRanges[X] = dL
    },
    query: function(X) {
      return this.axisRanges[X]
    }
  });
  var dZ = cB.extend({
    init: function(d9, X) {
      var Y = this;
      Y.namedXAxes = {};
      Y.namedYAxes = {};
      Y.xAxisRangeTracker = new v();
      Y.yAxisRangeTracker = new v();
      cB.fn.init.call(Y, d9, X)
    },
    options: {
      xAxis: {},
      yAxis: {}
    },
    render: function(ea) {
      var ec = this,
        ed = ec.groupSeriesByPane(),
        Y, d9, eb, X;
      ea = ea || ec.panes;
      for (Y = 0; Y < ea.length; Y++) {
        d9 = ea[Y];
        eb = ed[d9.options.name || "default"] || [];
        ec.addToLegend(eb);
        X = ec.filterVisibleSeries(eb);
        if (!X) {
          continue
        }
        ec.createScatterChart(bi(X, cP), d9);
        ec.createScatterLineChart(bi(X, cQ), d9);
        ec.createBubbleChart(bi(X, R), d9)
      }
      ec.createAxes(ea)
    },
    appendChart: function(X, Y) {
      var d9 = this;
      d9.xAxisRangeTracker.update(X.xAxisRanges);
      d9.yAxisRangeTracker.update(X.yAxisRanges);
      cB.fn.appendChart.call(d9, X, Y)
    },
    removeAxis: function(X) {
      var d9 = this,
        Y = X.options.name;
      cB.fn.removeAxis.call(d9, X);
      if (X.options.vertical) {
        d9.yAxisRangeTracker.reset(Y);
        delete d9.namedYAxes[Y]
      } else {
        d9.xAxisRangeTracker.reset(Y);
        delete d9.namedXAxes[Y]
      }
      if (X === d9.axisX) {
        delete d9.axisX
      }
      if (X === d9.axisY) {
        delete d9.axisY
      }
    },
    seriesPaneName: function(ec) {
      var eb = this,
        Y = eb.options,
        ee = ec.xAxis,
        ef = [].concat(Y.xAxis),
        ed = a.grep(ef, function(ej) {
          return ej.name === ee
        })[0],
        eh = ec.yAxis,
        ei = [].concat(Y.yAxis),
        eg = a.grep(ei, function(ej) {
          return ej.name === eh
        })[0],
        ea = Y.panes || [{}],
        X = ea[0].name || "default",
        d9 = (ed || {}).pane || (eg || {}).pane || X;
      return d9
    },
    createScatterChart: function(d9, X) {
      var Y = this;
      if (d9.length > 0) {
        Y.appendChart(new cR(Y, {
          series: d9
        }), X)
      }
    },
    createScatterLineChart: function(d9, X) {
      var Y = this;
      if (d9.length > 0) {
        Y.appendChart(new cT(Y, {
          series: d9
        }), X)
      }
    },
    createBubbleChart: function(d9, X) {
      var Y = this;
      if (d9.length > 0) {
        Y.appendChart(new U(Y, {
          series: d9
        }), X)
      }
    },
    createXYAxis: function(eh, ep, Y) {
      var ei = this,
        d9 = eh.name,
        eg = ep ? ei.namedYAxes : ei.namedXAxes,
        en = ep ? ei.yAxisRangeTracker : ei.xAxisRangeTracker,
        ec = en.query(),
        ej = en.query(d9) || ec || {
          min: 0,
          max: 1
        }, ea = aP({}, eh, {
          vertical: ep
        }),
        X, em, ek = ei.series,
        eb, el, ed, eo = [ea.min, ea.max],
        ef, ee;
      for (em = 0; em < ek.length; em++) {
        eb = ek[em];
        el = eb[ep ? "yAxis" : "xAxis"];
        if ((el == ea.name) || (Y === 0 && !el)) {
          ed = c2.current.bindPoint(eb, 0).valueFields;
          eo.push(ed[ep ? "y" : "x"]);
          break
        }
      }
      if (Y === 0 && ec) {
        ej.min = bZ.min(ej.min, ec.min);
        ej.max = bZ.max(ej.max, ec.max)
      }
      for (ee = 0; ee < eo.length; ee++) {
        if (eo[ee] instanceof Date) {
          ef = true;
          break
        }
      }
      if (ba(ea.type, aH) || (!ea.type && ef)) {
        X = new aN(ej.min, ej.max, ea)
      } else {
        X = new ck(ej.min, ej.max, ea)
      }
      if (d9) {
        if (eg[d9]) {
          throw new Error((ep ? "Y" : "X") + " axis with name " + d9 + " is already defined")
        }
        eg[d9] = X
      }
      ei.appendAxis(X);
      return X
    },
    createAxes: function(d9) {
      var ea = this,
        Y = ea.options,
        X, ec = [].concat(Y.xAxis),
        eb = [],
        ee = [].concat(Y.yAxis),
        ed = [];
      a6(ec, function(ef) {
        X = ea.findPane(this.pane);
        if (bv(X, d9)) {
          eb.push(ea.createXYAxis(this, false, ef))
        }
      });
      a6(ee, function(ef) {
        X = ea.findPane(this.pane);
        if (bv(X, d9)) {
          ed.push(ea.createXYAxis(this, true, ef))
        }
      });
      ea.axisX = ea.axisX || eb[0];
      ea.axisY = ea.axisY || ed[0]
    },
    click: function(d9, ec) {
      var ef = this,
        ea = d9._eventCoordinates(ec),
        eg = new cD(ea.x, ea.y),
        X = ef.axes,
        ed, ee = X.length,
        Y, ei = [],
        ej = [],
        eb, eh;
      for (ed = 0; ed < ee; ed++) {
        Y = X[ed];
        eh = Y.options.vertical ? ej : ei;
        eb = Y.getValue(eg);
        if (eb !== null) {
          eh.push(eb)
        }
      }
      if (ei.length > 0 && ej.length > 0) {
        d9.trigger(cA, {
          element: a(ec.target),
          x: c6(ei),
          y: c6(ej)
        })
      }
    }
  });
  var cy = cB.extend({
    render: function() {
      var X = this,
        Y = X.series;
      X.createPieChart(Y)
    },
    createPieChart: function(ea) {
      var d9 = this,
        X = ea[0],
        Y = new cx(d9, {
          series: ea,
          padding: X.padding,
          startAngle: X.startAngle,
          connectors: X.connectors,
          legend: d9.options.legend
        });
      d9.appendChart(Y)
    },
    appendChart: function(X, Y) {
      cB.fn.appendChart.call(this, X, Y);
      g(this.options.legend.items, X.legendItems)
    }
  });
  var a0 = cy.extend({
    render: function() {
      var X = this,
        Y = X.series;
      X.createDonutChart(Y)
    },
    createDonutChart: function(ea) {
      var d9 = this,
        Y = ea[0],
        X = new aZ(d9, {
          series: ea,
          padding: Y.padding,
          connectors: Y.connectors,
          legend: d9.options.legend
        });
      d9.appendChart(X)
    }
  });
  var cv = a7.extend({
    options: {
      easing: "easeOutElastic",
      duration: by
    },
    setup: function() {
      var X = this.element,
        Y = X.config,
        d9;
      if (X.options.singleSegment) {
        Y = X
      }
      this.endRadius = Y.r;
      d9 = this.startRadius = Y.ir || 0;
      Y.r = d9
    },
    step: function(ea) {
      var X = this,
        Y = X.element,
        d9 = X.endRadius,
        eb = Y.config,
        ec = X.startRadius;
      if (Y.options.singleSegment) {
        eb = Y
      }
      eb.r = bC(ec, d9, ea)
    }
  });
  var S = a7.extend({
    options: {
      easing: "easeOutElastic",
      duration: by
    },
    setup: function() {
      var X = this.element;
      X.endRadius = X.radius;
      X.radius = 0
    },
    step: function(d9) {
      var X = this.element,
        Y = X.endRadius;
      X.radius = bC(0, Y, d9)
    }
  });
  var C = f(z, B),
    cw = f(ct, cv),
    T = f(R, S);
  var bt = ap.extend({
    init: function(d9, ea, Y) {
      var X = this;
      X.options = aP({}, X.options, Y);
      X.view = d9;
      X.viewElement = ea;
      X._overlays = []
    },
    options: {
      fill: dU,
      fillOpacity: 0.2,
      stroke: dU,
      strokeWidth: 1,
      strokeOpacity: 0.2
    },
    show: function(ee) {
      var X = this,
        ef = X.view,
        eg = X.viewElement,
        d9, eb = X._overlays,
        ea, Y, ec, ed;
      X.hide();
      X._points = ee = [].concat(ee);
      for (Y = 0; Y < ee.length; Y++) {
        ec = ee[Y];
        if (ec) {
          ed = ec.options;
          if (!ed || (ed.highlight || {}).visible) {
            if (ec.highlightOverlay) {
              d9 = ec.highlightOverlay(ef, X.options);
              if (d9) {
                ea = ef.renderElement(d9);
                eg.appendChild(ea);
                eb.push(ea)
              }
            }
            if (ec.toggleHighlight) {
              ec.toggleHighlight(ef)
            }
          }
        }
      }
    },
    hide: function() {
      var X = this,
        ed = X._points,
        ea = X._overlays,
        d9, Y, eb, ec;
      while (ea.length) {
        d9 = X._overlays.pop();
        d9.parentNode.removeChild(d9)
      }
      if (ed) {
        for (Y = 0; Y < ed.length; Y++) {
          eb = ed[Y];
          if (eb) {
            ec = eb.options;
            if (!ec || (ec.highlight || {}).visible) {
              if (eb.toggleHighlight) {
                eb.toggleHighlight(X.view)
              }
            }
          }
        }
      }
      X._points = []
    }
  });
  var G = ap.extend({
    init: function(X, Y) {
      var d9 = this;
      d9.options = aP({}, d9.options, Y);
      d9.chartElement = X;
      d9.template = G.template;
      if (!d9.template) {
        d9.template = G.template = cH("<div class='" + aC + "tooltip' style='display:none; position: absolute; font: #= d.font #;border: #= d.border.width #px solid;opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'></div>")
      }
      MSApp.execUnsafeLocalFunction(function() {
        d9.element = a(d9.template(d9.options)).appendTo(X);
        d9._moveProxy = cG(d9.move, d9)
      })
    },
    options: {
      border: {
        width: 1
      },
      opacity: 1,
      animation: {
        duration: dD
      }
    },
    move: function() {
      var ea = this,
        d9 = ea.options,
        X = ea.element,
        Y = ea._offset();
      if (!ea.visible) {
        X.css({
          top: Y.top,
          left: Y.left
        })
      }
      X.stop(true, true).show().animate({
        left: Y.left,
        top: Y.top
      }, d9.animation.duration);
      ea.visible = true
    },
    _padding: function() {
      if (!this._chartPadding) {
        var X = this.chartElement;
        this._chartPadding = {
          top: parseInt(X.css("paddingTop"), 10),
          left: parseInt(X.css("paddingLeft"), 10)
        }
      }
      return this._chartPadding
    },
    _offset: function() {
      var ed = this,
        d9 = ed.element,
        X = ed.anchor,
        Y = ed._padding(),
        ee = cM(X.y + Y.top),
        ea = cM(X.x + Y.left),
        eg = bI.support.zoomLevel(),
        ef = a(window),
        ec = window.pageYOffset || document.documentElement.scrollTop || 0,
        eb = window.pageXOffset || document.documentElement.scrollLeft || 0;
      ec = ed.chartElement.offset().top - ec;
      eb = ed.chartElement.offset().left - eb;
      ee += ed._currentPosition(ee + ec, d9.outerHeight(), ef.outerHeight() / eg);
      ea += ed._currentPosition(ea + eb, d9.outerWidth(), ef.outerWidth() / eg);
      return {
        top: ee,
        left: ea
      }
    },
    setStyle: function(X) {
      this.element.css({
        backgroundColor: X.background,
        borderColor: X.border.color || X.background,
        font: X.font,
        color: X.color,
        opacity: X.opacity,
        borderWidth: X.border.width
      })
    },
    show: function() {
      var X = this;
      X.showTimeout = setTimeout(X._moveProxy, dH)
    },
    hide: function() {
      var X = this;
      clearTimeout(X.showTimeout);
      if (X.visible) {
        X._hideElement();
        X.point = null;
        X.visible = false;
        X.index = null
      }
    },
    _hideElement: function() {
      this.element.fadeOut()
    },
    _pointContent: function(d9) {
      var ea = this,
        Y = aP({}, ea.options, d9.options.tooltip),
        X, eb;
      if (aW(d9.value)) {
        X = d9.value.toString()
      }
      if (Y.template) {
        eb = dp(Y.template);
        X = eb({
          value: d9.value,
          category: d9.category,
          series: d9.series,
          dataItem: d9.dataItem,
          percentage: d9.percentage,
          low: d9.low,
          high: d9.high,
          xLow: d9.xLow,
          xHigh: d9.xHigh,
          yLow: d9.yLow,
          yHigh: d9.yHigh
        })
      } else {
        if (Y.format) {
          X = d9.formatValue(Y.format)
        }
      }
      return X
    },
    _pointAnchor: function(Y) {
      var d9 = this,
        X = d9.element;
      return Y.tooltipAnchor(X.outerWidth(), X.outerHeight())
    },
    _currentPosition: function(X, d9, ea) {
      var Y = 0;
      if (X + d9 > ea) {
        Y = ea - (X + d9)
      }
      if (X < 0) {
        Y = -X
      }
      return Y
    },
    _updateStyle: function(d9, ea) {
      if (!aW(d9.background)) {
        d9.background = ea.color
      }
      if (!aW(d9.color)) {
        var eb = this,
          Y = eb.element,
          X = new au(d9.background).percBrightness();
        if (X > 180) {
          Y.addClass(aC + dF)
        } else {
          Y.removeClass(aC + dF)
        }
      }
    }
  });
  var dC = G.extend({
    show: function(Y) {
      var d9 = this,
        X = aP({}, d9.options, Y.options.tooltip);
      if (!Y) {
        return
      }
      d9.element.html(d9._pointContent(Y));
      d9.anchor = d9._pointAnchor(Y);
      d9._updateStyle(X, Y.options);
      d9.setStyle(X);
      G.fn.show.call(d9, Y)
    }
  });
  var c5 = G.extend({
    init: function(X, d9, Y) {
      var ea = this;
      G.fn.init.call(ea, X, Y);
      ea.plotArea = d9
    },
    options: {
      sharedTemplate: "<table><th colspan='2'>#= categoryText #</th># for(var i = 0; i < points.length; i++) { ## var point = points[i]; #<tr># if(point.series.name) { # <td> #= point.series.name #:</td># } #<td>#= content(point) #</td></tr># } #</table>",
      categoryFormat: "{0:d}"
    },
    showAt: function(ee, ea) {
      var eg = this,
        ec = eg.options,
        ed = eg.plotArea,
        X = ed.categoryAxis,
        eb = X.pointCategoryIndex(ea),
        Y = X.getCategory(ea),
        ef = X.getSlot(eb),
        d9;
      ee = a.grep(ee, function(ei) {
        var ej = ei.series.tooltip,
          eh = ej && ej.visible === false;
        return !eh
      });
      if (ee.length > 0) {
        d9 = eg._content(ee, Y);
        eg.element.html(d9);
        eg.anchor = eg._slotAnchor(ea, ef);
        eg._updateStyle(ec, ee[0].options);
        eg.setStyle(ec);
        G.fn.show.call(eg)
      }
    },
    _slotAnchor: function(eb, ec) {
      var ed = this,
        ea = ed.plotArea,
        Y = ea.categoryAxis,
        X, d9 = eb.y - ed.element.height() / 2;
      if (Y.options.vertical) {
        X = cD(eb.x, d9)
      } else {
        X = cD(ec.center().x, d9)
      }
      return X
    },
    _content: function(d9, X) {
      var eb = this,
        ea, Y;
      ea = bI.template(eb.options.sharedTemplate);
      Y = ea({
        points: d9,
        category: X,
        categoryText: r(eb.options.categoryFormat, X),
        content: eb._pointContent
      });
      return Y
    }
  });
  var aA = an.extend({
    init: function(X, d9) {
      var Y = this;
      an.fn.init.call(Y, d9);
      Y.axis = X;
      if (!Y.id) {
        Y.id = dN()
      }
      Y._visible = false;
      Y.stickyMode = X instanceof ai
    },
    options: {
      color: I,
      width: 1,
      zIndex: -1,
      tooltip: {
        visible: false
      }
    },
    repaint: function() {
      var X = this,
        Y = X.element;
      X.getViewElements(X._view);
      Y = X.element;
      Y.refresh(bn(X.id))
    },
    showAt: function(Y) {
      var X = this;
      X.updateAxisReference();
      X._visible = true;
      X.point = Y;
      X.repaint();
      if (X.options.tooltip.visible) {
        if (!X.tooltip) {
          X.tooltip = new aB(X, aP({}, X.options.tooltip, {
            stickyMode: X.stickyMode
          }))
        }
        X.tooltip.showAt(Y)
      }
    },
    hide: function() {
      var X = this;
      if (X._visible) {
        X._visible = false;
        X.repaint();
        if (X.tooltip) {
          X.tooltip.hide()
        }
      }
    },
    linePoints: function() {
      var d9 = this,
        X = d9.axis,
        ef = X.options.vertical,
        Y = d9.getBox(),
        ed = d9.point,
        ea = ef ? d0 : dW,
        ee, ec, eb;
      ec = cD(Y.x1, Y.y1);
      if (ef) {
        eb = cD(Y.x2, Y.y1)
      } else {
        eb = cD(Y.x1, Y.y2)
      }
      if (ed) {
        if (d9.stickyMode) {
          ee = X.getSlot(X.pointCategoryIndex(ed));
          ec[ea] = eb[ea] = ee.center()[ea]
        } else {
          ec[ea] = eb[ea] = ed[ea]
        }
      }
      d9.box = Y;
      return [ec, eb]
    },
    getBox: function() {
      var eb = this,
        Y = eb.axis,
        X = Y.pane.axes,
        ef = X.length,
        eg = Y.options.vertical,
        ea = Y.lineBox().clone(),
        ed = eg ? dW : d0,
        d9, ec, ee;
      for (ee = 0; ee < ef; ee++) {
        ec = X[ee];
        if (ec.options.vertical != eg) {
          if (!d9) {
            d9 = ec.lineBox().clone()
          } else {
            d9.wrap(ec.lineBox())
          }
        }
      }
      ea[ed + 1] = d9[ed + 1];
      ea[ed + 2] = d9[ed + 2];
      return ea
    },
    getViewElements: function(ea) {
      var X = this,
        d9 = X.options,
        Y = [];
      X.points = X.linePoints();
      X.element = ea.createPolyline(X.points, false, {
        id: X.id,
        stroke: d9.color,
        strokeWidth: d9.width,
        strokeOpacity: d9.opacity,
        dashType: d9.dashType,
        zIndex: d9.zIndex,
        visible: X._visible
      });
      Y.push(X.element);
      X._view = ea;
      g(Y, an.fn.getViewElements.call(X, ea));
      return Y
    },
    updateAxisReference: function() {
      var d9 = this,
        Y = d9.axis,
        ec = Y.plotArea,
        X = ec.axes,
        ea, eb;
      for (eb = 0; eb < X.length; eb++) {
        ea = X[eb];
        if (aW(Y.axisIndex) && Y instanceof ck != ea instanceof ai && Y.axisIndex === ea.axisIndex) {
          d9.axis = ea;
          break
        }
      }
    }
  });
  var aB = G.extend({
    init: function(Y, d9) {
      var ea = this,
        X = Y.axis.getRoot().parent.element;
      ea.crosshair = Y;
      G.fn.init.call(ea, X, aP({}, ea.options, {
        background: Y.axis.plotArea.options.seriesColors[0]
      }, d9));
      ea._updateStyle(ea.options, {});
      ea.setStyle(ea.options)
    },
    options: {
      padding: 10
    },
    showAt: function(Y) {
      var d9 = this,
        X = d9.element;
      d9.point = Y;
      d9.element.html(d9.content(Y));
      d9.anchor = d9.getAnchor(X.outerWidth(), X.outerHeight());
      d9.move()
    },
    move: function() {
      var d9 = this,
        X = d9.element,
        Y = d9._offset();
      X.css({
        top: Y.top,
        left: Y.left
      }).show()
    },
    content: function(eb) {
      var ec = this,
        ea = ec.options,
        X = ec.crosshair.axis,
        Y = X.options,
        d9, ee, ed;
      ee = d9 = X[ea.stickyMode ? "getCategory" : "getValue"](eb);
      if (ea.template) {
        ed = dp(ea.template);
        d9 = ed({
          value: ee
        })
      } else {
        if (ea.format) {
          d9 = r(ea.format, ee)
        } else {
          if (Y.type === aH) {
            d9 = r(Y.labels.dateFormats[Y.baseUnit], ee)
          }
        }
      }
      return d9
    },
    getAnchor: function(ei, ea) {
      var eg = this,
        eb = eg.options,
        ee = eb.position,
        eh = eg.crosshair.axis.options.vertical,
        ed = eg.crosshair.points,
        X = ed[0],
        ef = ed[1],
        d9 = ei / 2,
        Y = ea / 2,
        ec = eb.padding,
        ej, ek;
      if (eh) {
        if (ee === bL) {
          ej = X.x - ei - ec;
          ek = X.y - Y
        } else {
          ej = ef.x + ec;
          ek = ef.y - Y
        }
      } else {
        if (ee === K) {
          ej = ef.x - d9;
          ek = ef.y + ec
        } else {
          ej = X.x - d9;
          ek = X.y - ea - ec
        }
      }
      return cD(ej, ek)
    },
    hide: function() {
      this.element.hide();
      this.point = null
    }
  });
  var e = {
    min: function(eb) {
      var d9 = b1,
        X, Y = eb.length,
        ea;
      for (X = 0; X < Y; X++) {
        ea = eb[X];
        if (bH(ea)) {
          d9 = bZ.min(d9, ea)
        }
      }
      return d9 === b1 ? eb[0] : d9
    },
    max: function(eb) {
      var d9 = b2,
        X, Y = eb.length,
        ea;
      for (X = 0; X < Y; X++) {
        ea = eb[X];
        if (bH(ea)) {
          d9 = bZ.max(d9, ea)
        }
      }
      return d9 === b2 ? eb[0] : d9
    },
    sum: function(eb) {
      var Y = eb.length,
        ea = 0,
        X, d9;
      for (X = 0; X < Y; X++) {
        d9 = eb[X];
        if (bH(d9)) {
          ea += d9
        }
      }
      return ea
    },
    count: function(eb) {
      var d9 = eb.length,
        X = 0,
        Y, ea;
      for (Y = 0; Y < d9; Y++) {
        ea = eb[Y];
        if (ea !== null && aW(ea)) {
          X++
        }
      }
      return X
    },
    avg: function(d9) {
      var Y = d9[0],
        X = ay(d9);
      if (X > 0) {
        Y = e.sum(d9) / X
      }
      return Y
    },
    first: function(ea) {
      var Y = ea.length,
        X, d9;
      for (X = 0; X < Y; X++) {
        d9 = ea[X];
        if (d9 !== null && aW(d9)) {
          return d9
        }
      }
      return ea[0]
    }
  };

  function aV() {
    this._defaults = {}
  }
  aV.prototype = {
    register: function(d9, X) {
      for (var Y = 0; Y < d9.length; Y++) {
        this._defaults[d9[Y]] = X
      }
    },
    query: function(X) {
      return this._defaults[X]
    }
  };
  aV.current = new aV();
  var cY = cm.extend({
    init: function(d9, X, eb) {
      var ee = this,
        ea = d9.element,
        Y = X.lineBox(),
        ef = ee.getValueAxis(X),
        eg = ef.lineBox(),
        ed = "." + aC,
        eh, ec;
      cm.fn.init.call(ee);
      ee.options = aP({}, ee.options, eb);
      eb = ee.options;
      ee.chart = d9;
      ee.chartElement = ea;
      ee.categoryAxis = X;
      ee._dateAxis = ee.categoryAxis instanceof aI;
      ee.valueAxis = ef;
      if (ee._dateAxis) {
        aP(eb, {
          min: dB(eb.min),
          max: dB(eb.max),
          from: dB(eb.from),
          to: dB(eb.to)
        })
      }
      ee.template = cY.template;
      if (!ee.template) {
        ee.template = cY.template = cH("<div class='" + aC + "selector' style='width: #= d.width #px; height: #= d.height #px; top: #= d.offset.top #px; left: #= d.offset.left #px;'><div class='" + aC + "mask'></div><div class='" + aC + "mask'></div><div class='" + aC + "selection'><div class='" + aC + "selection-bg'></div><div class='" + aC + "handle " + aC + "leftHandle'><div></div></div><div class='" + aC + "handle " + aC + "rightHandle'><div></div></div></div></div>")
      }
      ec = {
        left: parseInt(ea.css("paddingLeft"), 10),
        right: parseInt(ea.css("paddingTop"), 10)
      };
      ee.options = aP({}, {
        width: Y.width(),
        height: eg.height(),
        padding: ec,
        offset: {
          left: eg.x2 + ec.left,
          top: eg.y1 + ec.right
        },
        from: eb.min,
        to: eb.max
      }, eb);
      if (ee.options.visible) {
        ee.wrapper = eh = a(ee.template(ee.options)).appendTo(ea);
        ee.selection = eh.find(ed + "selection");
        ee.leftMask = eh.find(ed + "mask").first();
        ee.rightMask = eh.find(ed + "mask").last();
        ee.leftHandle = eh.find(ed + "leftHandle");
        ee.rightHandle = eh.find(ed + "rightHandle");
        ee.options.selection = {
          border: {
            left: parseFloat(ee.selection.css("border-left-width"), 10),
            right: parseFloat(ee.selection.css("border-right-width"), 10)
          }
        };
        ee.leftHandle.css("top", (ee.selection.height() - ee.leftHandle.height()) / 2);
        ee.rightHandle.css("top", (ee.selection.height() - ee.rightHandle.height()) / 2);
        ee.set(ee._index(eb.from), ee._index(eb.to));
        ee.bind(ee.events, ee.options);
        ee.wrapper[0].style.cssText = ee.wrapper[0].style.cssText;
        ee.wrapper.on(cc, cG(ee._mousewheel, ee));
        if (bI.UserEvents) {
          ee.userEvents = new bI.UserEvents(ee.wrapper, {
            global: true,
            stopPropagation: true,
            multiTouch: true,
            start: cG(ee._start, ee),
            move: cG(ee._move, ee),
            end: cG(ee._end, ee),
            tap: cG(ee._tap, ee),
            gesturestart: cG(ee._gesturechange, ee),
            gesturechange: cG(ee._gesturechange, ee)
          })
        } else {
          ee.leftHandle.add(ee.rightHandle).removeClass(aC + "handle")
        }
      }
    },
    events: [cX, cV, cW],
    options: {
      visible: true,
      mousewheel: {
        zoom: J
      },
      min: b2,
      max: b1
    },
    destroy: function() {
      var X = this,
        Y = X.userEvents;
      if (Y) {
        Y.destroy()
      }
    },
    _rangeEventArgs: function(X) {
      var Y = this;
      return {
        axis: Y.categoryAxis.options,
        from: Y._value(X.from),
        to: Y._value(X.to)
      }
    },
    _start: function(Y) {
      var eb = this,
        d9 = eb.options,
        ea = a(Y.event.target),
        X;
      if (eb._state || !ea) {
        return
      }
      eb.chart._unsetActivePoint();
      eb._state = {
        moveTarget: ea.parents(".k-handle").add(ea).first(),
        startLocation: Y.x ? Y.x.location : 0,
        range: {
          from: eb._index(d9.from),
          to: eb._index(d9.to)
        }
      };
      X = eb._rangeEventArgs({
        from: eb._index(d9.from),
        to: eb._index(d9.to)
      });
      if (eb.trigger(cX, X)) {
        eb.userEvents.cancel();
        eb._state = null
      }
    },
    _move: function(d9) {
      if (!this._state) {
        return
      }
      var el = this,
        ej = el._state,
        ef = el.options,
        X = el.categoryAxis.options.categories,
        ea = el._index(ef.from),
        em = el._index(ef.to),
        ec = el._index(ef.min),
        eb = el._index(ef.max),
        Y = ej.startLocation - d9.x.location,
        eg = ej.range,
        ee = {
          from: eg.from,
          to: eg.to
        }, ei = eg.to - eg.from,
        ek = ej.moveTarget,
        eh = el.wrapper.width() / (X.length - 1),
        ed = bZ.round(Y / eh);
      if (!ek) {
        return
      }
      d9.preventDefault();
      if (ek.is(".k-selection, .k-selection-bg")) {
        eg.from = bZ.min(bZ.max(ec, ea - ed), eb - ei);
        eg.to = bZ.min(eg.from + ei, eb)
      } else {
        if (ek.is(".k-leftHandle")) {
          eg.from = bZ.min(bZ.max(ec, ea - ed), eb - 1);
          eg.to = bZ.max(eg.from + 1, eg.to)
        } else {
          if (ek.is(".k-rightHandle")) {
            eg.to = bZ.min(bZ.max(ec + 1, em - ed), eb);
            eg.from = bZ.min(eg.to - 1, eg.from)
          }
        }
      }
      if (eg.from !== ee.from || eg.to !== ee.to) {
        el.move(eg.from, eg.to);
        el.trigger(cV, el._rangeEventArgs(eg))
      }
    },
    _end: function() {
      var Y = this,
        X = Y._state.range;
      delete Y._state;
      Y.set(X.from, X.to);
      Y.trigger(cW, Y._rangeEventArgs(X))
    },
    _gesturechange: function(d9) {
      if (!this._state) {
        return
      }
      var eh = this,
        Y = eh.chart,
        eg = eh._state,
        eb = eh.options,
        X = eh.categoryAxis,
        ee = eg.range,
        ec = Y._toModelCoordinates(d9.touches[0].x.location).x,
        ed = Y._toModelCoordinates(d9.touches[1].x.location).x,
        ea = bZ.min(ec, ed),
        ef = bZ.max(ec, ed);
      d9.preventDefault();
      eg.moveTarget = null;
      ee.from = X.pointCategoryIndex(new aG.Point2D(ea)) || eb.min;
      ee.to = X.pointCategoryIndex(new aG.Point2D(ef)) || eb.max;
      eh.move(ee.from, ee.to)
    },
    _tap: function(ea) {
      var ek = this,
        eg = ek.options,
        d9 = ek.chart._eventCoordinates(ea),
        X = ek.categoryAxis,
        Y = X.pointCategoryIndex(new aG.Point2D(d9.x, X.box.y1)),
        eb = ek._index(eg.from),
        el = ek._index(eg.to),
        ee = ek._index(eg.min),
        ec = ek._index(eg.max),
        ej = el - eb,
        ed = eb + ej / 2,
        ef = bZ.round(ed - Y),
        eh = {}, ei = ea.event.which === 3;
      if (ek._state || ei) {
        return
      }
      ea.preventDefault();
      ek.chart._unsetActivePoint();
      if (!X.options.justified) {
        ef--
      }
      eh.from = bZ.min(bZ.max(ee, eb - ef), ec - ej);
      eh.to = bZ.min(eh.from + ej, ec);
      ek._start(ea);
      if (ek._state) {
        ek._state.range = eh;
        ek.trigger(cV, ek._rangeEventArgs(eh));
        ek._end()
      }
    },
    _mousewheel: function(Y) {
      var eb = this,
        d9 = eb.options,
        X = cd(Y);
      eb._start({
        event: {
          target: eb.selection
        }
      });
      if (eb._state) {
        var ea = eb._state.range;
        Y.preventDefault();
        Y.stopPropagation();
        if (bZ.abs(X) > 1) {
          X *= d6
        }
        if (d9.mousewheel.reverse) {
          X *= -1
        }
        if (eb.expand(X)) {
          eb.trigger(cV, {
            axis: eb.categoryAxis.options,
            delta: X,
            originalEvent: Y,
            from: eb._value(ea.from),
            to: eb._value(ea.to)
          })
        }
        if (eb._mwTimeout) {
          clearTimeout(eb._mwTimeout)
        }
        eb._mwTimeout = setTimeout(function() {
          eb._end()
        }, cb)
      }
    },
    _index: function(eb) {
      var ea = this,
        Y = ea.categoryAxis,
        X = Y.options.categories,
        d9 = eb;
      if (eb instanceof Date) {
        d9 = bX(eb, X);
        if (!Y.options.justified && eb > bJ(X)) {
          d9 += 1
        }
      }
      return d9
    },
    _value: function(d9) {
      var ea = this,
        Y = this.categoryAxis,
        X = Y.options.categories,
        eb = d9;
      if (ea._dateAxis) {
        if (d9 > X.length - 1) {
          eb = ea.options.max
        } else {
          eb = X[d9]
        }
      }
      return eb
    },
    _slot: function(d9) {
      var Y = this,
        X = this.categoryAxis;
      return X.getSlot(Y._index(d9))
    },
    move: function(ea, eh) {
      var eg = this,
        ed = eg.options,
        ec = ed.offset,
        ee = ed.padding,
        X = ed.selection.border,
        eb, ef, Y, d9;
      Y = eg._slot(ea);
      eb = cM(Y.x1 - ec.left + ee.left);
      eg.leftMask.width(eb);
      eg.selection.css("left", eb);
      Y = eg._slot(eh);
      ef = cM(ed.width - (Y.x1 - ec.left + ee.left));
      eg.rightMask.width(ef);
      d9 = ed.width - ef;
      if (d9 != ed.width) {
        d9 += X.right
      }
      eg.rightMask.css("left", d9);
      eg.selection.width(bZ.max(ed.width - (eb + ef) - X.right, 0))
    },
    set: function(X, ec) {
      var eb = this,
        ea = eb.options,
        d9 = eb._index(ea.min),
        Y = eb._index(ea.max);
      X = bQ(eb._index(X), d9, Y);
      ec = bQ(eb._index(ec), X + 1, Y);
      if (ea.visible) {
        eb.move(X, ec)
      }
      ea.from = eb._value(X);
      ea.to = eb._value(ec)
    },
    expand: function(X) {
      var ee = this,
        ec = ee.options,
        ea = ee._index(ec.min),
        d9 = ee._index(ec.max),
        eg = ec.mousewheel.zoom,
        Y = ee._index(ec.from),
        ef = ee._index(ec.to),
        ed = {
          from: Y,
          to: ef
        }, eb = aP({}, ed);
      if (ee._state) {
        ed = ee._state.range
      }
      if (eg !== cJ) {
        ed.from = bQ(bQ(Y - X, 0, ef - 1), ea, d9)
      }
      if (eg !== bL) {
        ed.to = bQ(bQ(ef + X, ed.from + 1, d9), ea, d9)
      }
      if (ed.from !== eb.from || ed.to !== eb.to) {
        ee.set(ed.from, ed.to);
        return true
      }
    },
    getValueAxis: function(ea) {
      var X = ea.pane.axes,
        Y = X.length,
        eb, d9;
      for (eb = 0; eb < Y; eb++) {
        d9 = X[eb];
        if (d9.options.vertical !== ea.options.vertical) {
          return d9
        }
      }
    }
  });
  var c1 = function(eg, X, d9) {
    var ef = this,
      Y = X.canonicalFields(eg),
      ej = X.valueFields(eg),
      ei = X.sourceFields(eg, Y),
      eh = ef._seriesFields = [],
      ea = d9.query(eg.type),
      ee = eg.aggregate || ea,
      ed;
    ef._series = eg;
    ef._binder = X;
    for (ed = 0; ed < Y.length; ed++) {
      var eb = Y[ed],
        ec;
      if (typeof ee === cl) {
        ec = ee[eb]
      } else {
        if (ed === 0 || bv(eb, ej)) {
          ec = ee
        } else {
          break
        }
      }
      if (ec) {
        eh.push({
          canonicalName: eb,
          name: ei[ed],
          transform: bG(ec) ? ec : e[ec]
        })
      }
    }
  };
  c1.prototype = {
    aggregatePoints: function(eg, ea) {
      var ed = this,
        X = ed._bindPoints(eg || []),
        ee = ed._series,
        ef = ed._seriesFields,
        eb, Y, eh, ei, d9 = X.dataItems[0],
        ec = {};
      if (!bH(d9) && !bE(d9)) {
        if (X.dataItems.length > 1) {
          ec = c3(d9)
        } else {
          ec = d9 || {}
        }
      }
      for (eb = 0; eb < ef.length; eb++) {
        Y = ef[eb];
        eh = ed._bindField(X.values, Y.canonicalName);
        ei = Y.transform(eh, ee, X.dataItems, ea);
        if (ei !== null && typeof ei === cl && !aW(ei.length)) {
          ec = ei;
          break
        } else {
          if (aW(ei)) {
            a8(Y.name, ec);
            bI.setter(Y.name)(ec, ei)
          }
        }
      }
      return ec
    },
    _bindPoints: function(eb) {
      var ec = this,
        X = ec._binder,
        ed = ec._series,
        ee = [],
        Y = [],
        d9, ea;
      for (d9 = 0; d9 < eb.length; d9++) {
        ea = eb[d9];
        ee.push(X.bindPoint(ed, ea));
        Y.push(ed.data[ea])
      }
      return {
        values: ee,
        dataItems: Y
      }
    },
    _bindField: function(Y, d9) {
      var ee = [],
        X = Y.length,
        ea, eb, ec, ed;
      for (ea = 0; ea < X; ea++) {
        eb = Y[ea];
        ed = eb.valueFields;
        if (aW(ed[d9])) {
          ec = ed[d9]
        } else {
          ec = eb.fields[d9]
        }
        ee.push(ec)
      }
      return ee
    }
  };

  function db(X) {
    return c9(X).min
  }
  function da(X) {
    return c9(X).max
  }
  function c9(X) {
    var eb = b1,
      ea = b2,
      Y, d9 = X.length,
      ec;
    for (Y = 0; Y < d9; Y++) {
      ec = X[Y];
      if (ec !== null && isFinite(ec)) {
        eb = bZ.min(eb, ec);
        ea = bZ.max(ea, ec)
      }
    }
    return {
      min: eb === b1 ? dL : eb,
      max: ea === b2 ? dL : ea
    }
  }
  function bD(X, Y, d9, ea) {
    var eb, ee = (ea.x - d9.x) * (X.y - d9.y) - (ea.y - d9.y) * (X.x - d9.x),
      ec = (ea.y - d9.y) * (Y.x - X.x) - (ea.x - d9.x) * (Y.y - X.y),
      ed;
    if (ec !== 0) {
      ed = (ee / ec);
      eb = new cD(X.x + ed * (Y.x - X.x), X.y + ed * (Y.y - X.y))
    }
    return eb
  }
  function k(eb, eg) {
    var ec = eb.series,
      ea, ee = ec.length,
      ef, ed = eb.seriesDefaults,
      Y = aP({}, eb.seriesDefaults),
      eh = eg ? aP({}, eg.seriesDefaults) : {}, d9 = aP({}, eh);
    aq(Y);
    aq(d9);
    for (ea = 0; ea < ee; ea++) {
      ef = ec[ea].type || eb.seriesDefaults.type;
      var X = aP({}, d9, eh[ef], {
        tooltip: eb.tooltip
      }, Y, ed[ef]);
      ec[ea]._defaults = X;
      ec[ea] = aP({}, X, ec[ea])
    }
  }
  function aq(X) {
    delete X.bar;
    delete X.column;
    delete X.line;
    delete X.verticalLine;
    delete X.pie;
    delete X.donut;
    delete X.area;
    delete X.verticalArea;
    delete X.scatter;
    delete X.scatterLine;
    delete X.bubble;
    delete X.candlestick;
    delete X.ohlc;
    delete X.boxPlot;
    delete X.bullet;
    delete X.verticalBullet;
    delete X.polarArea;
    delete X.polarLine;
    delete X.radarArea;
    delete X.radarLine
  }
  function j(eb) {
    var ec = eb.series,
      X = eb.seriesColors || [],
      ea, Y, ed, d9;
    for (ea = 0; ea < ec.length; ea++) {
      Y = ec[ea];
      ed = X[ea % X.length];
      Y.color = Y.color || ed;
      d9 = Y._defaults;
      if (d9) {
        d9.color = d9.color || ed
      }
    }
  }
  function cI(Y) {
    var X;
    a6([ah, dO, dW, d0], function() {
      X = this + "Axes";
      if (Y[X]) {
        Y[this + "Axis"] = Y[X];
        delete Y[X]
      }
    })
  }
  function i(X, d9) {
    var Y = ((d9 || {}).axisDefaults) || {};
    a6([ah, dO, dW, d0], function() {
      var ec = this + "Axis",
        ea = [].concat(X[ec]),
        eb = X.axisDefaults || {};
      ea = a.map(ea, function(ee) {
        var ed = (ee || {}).color;
        var ef = aP({}, Y, Y[ec], eb, eb[ec], {
          line: {
            color: ed
          },
          labels: {
            color: ed
          },
          title: {
            color: ed
          }
        }, ee);
        delete ef[ec];
        return ef
      });
      X[ec] = ea.length > 1 ? ea : ea[0]
    })
  }
  function bw(Y, X, d9) {
    Y[X] = (Y[X] || 0) + d9
  }
  function ag(d9) {
    var ea = d9.length,
      X = 0,
      Y;
    for (Y = 0; Y < ea; Y++) {
      X = bZ.max(X, d9[Y].data.length)
    }
    return X
  }
  function de(X) {
    return X * X
  }
  bg(a.easing, {
    easeOutElastic: function(eb, Y, ea, d9) {
      var ed = 1.70158,
        ec = 0,
        X = d9;
      if (eb === 0) {
        return ea
      }
      if (eb === 1) {
        return ea + d9
      }
      if (!ec) {
        ec = 0.5
      }
      if (X < bZ.abs(d9)) {
        X = d9;
        ed = ec / 4
      } else {
        ed = ec / (2 * bZ.PI) * bZ.asin(d9 / X)
      }
      return X * bZ.pow(2, -10 * eb) * bZ.sin((eb * 1 - ed) * (1.1 * bZ.PI) / ec) + d9 + ea
    }
  });

  function bo(X, d9) {
    if (d9 === null) {
      return d9
    }
    var Y = bq(X, true);
    return Y(d9)
  }
  function bm(X, d9) {
    if (d9 === null) {
      return d9
    }
    var Y = "_date_" + X,
      ea = d9[Y];
    if (!ea) {
      ea = dB(bq(X, true)(d9));
      d9[Y] = ea
    }
    return ea
  }
  function dB(d9) {
    var Y, X;
    if (d9 instanceof Date) {
      Y = d9
    } else {
      if (typeof d9 === dm) {
        Y = bI.parseDate(d9) || new Date(d9)
      } else {
        if (d9) {
          if (bE(d9)) {
            Y = [];
            for (X = 0; X < d9.length; X++) {
              Y.push(dB(d9[X]))
            }
          } else {
            Y = new Date(d9)
          }
        }
      }
    }
    return Y
  }
  function dJ(X) {
    if (bE(X)) {
      return bY(X, dJ)
    } else {
      if (X) {
        return dB(X).getTime()
      }
    }
  }
  function c(X, eb, ea, ec) {
    var d9 = X,
      Y;
    if (X) {
      X = dB(X);
      Y = X.getHours();
      if (ea === d3) {
        d9 = new Date(X.getFullYear() + eb, 0, 1)
      } else {
        if (ea === b4) {
          d9 = new Date(X.getFullYear(), X.getMonth() + eb, 1)
        } else {
          if (ea === dT) {
            d9 = c(dg(X, ec), eb * 7, aO);
            bI.date.adjustDST(d9, Y)
          } else {
            if (ea === aO) {
              d9 = new Date(X.getFullYear(), X.getMonth(), X.getDate() + eb);
              bI.date.adjustDST(d9, Y)
            } else {
              if (ea === bu) {
                d9 = new Date(X.getFullYear(), X.getMonth(), X.getDate(), X.getHours() + eb);
                if (eb > 0 && aL(X, d9)) {
                  d9 = c(X, eb + 1, ea, ec)
                }
              } else {
                if (ea === b3) {
                  d9 = new Date(X.getTime() + eb * du);
                  d9.setSeconds(0)
                } else {
                  if (ea === cU) {
                    d9 = new Date(X.getTime() + eb * dw)
                  }
                }
              }
            }
          }
        }
      }
      if (d9.getMilliseconds() > 0) {
        d9.setMilliseconds(0)
      }
    }
    return d9
  }
  function dg(X, ea) {
    var Y = X.getDay(),
      d9 = 0;
    if (!isNaN(Y)) {
      ea = ea || 0;
      while (Y !== ea) {
        if (Y === 0) {
          Y = 6
        } else {
          Y--
        }
        d9++
      }
    }
    return d(X, -d9 * ds)
  }
  function bk(X, Y, d9) {
    X = dB(X);
    return c(X, 0, Y, d9)
  }
  function aj(X, Y, d9) {
    X = dB(X);
    if (X && bk(X, Y, d9).getTime() === X.getTime()) {
      return X
    }
    return c(X, 1, Y, d9)
  }
  function aK(X, Y) {
    var d9 = X.getTime() - Y,
      ea = X.getTimezoneOffset() - Y.getTimezoneOffset();
    return d9 - (ea * du)
  }
  function d(X, d9) {
    var ea = X.getTimezoneOffset(),
      Y = new Date(X.getTime() + d9),
      eb = Y.getTimezoneOffset() - ea;
    return new Date(Y.getTime() + eb * du)
  }
  function a5(X, Y, ea) {
    var d9;
    if (ea === d3) {
      d9 = Y.getFullYear() - X.getFullYear()
    } else {
      if (ea === b4) {
        d9 = a5(X, Y, d3) * 12 + Y.getMonth() - X.getMonth()
      } else {
        if (ea === aO) {
          d9 = bZ.floor(aK(Y, X) / ds)
        } else {
          d9 = bZ.floor((Y - X) / dx[ea])
        }
      }
    }
    return d9
  }
  function c6(X) {
    return X.length === 1 ? X[0] : X
  }
  function u(X) {
    var eb = X.length,
      d9, ea, Y;
    if (eb > 0) {
      for (ea = 0; ea < eb; ea++) {
        Y = X[ea].box;
        if (!d9) {
          d9 = Y.clone()
        } else {
          d9.wrap(Y)
        }
      }
    }
    return d9 || M()
  }
  function ba(X, Y) {
    if (X && Y) {
      return X.toLowerCase() === Y.toLowerCase()
    }
    return X === Y
  }
  function aL(X, Y) {
    if (X && Y) {
      return dJ(X) === dJ(Y)
    }
    return X === Y
  }
  function bK(X) {
    var Y = X.length,
      d9;
    while (Y--) {
      d9 = X[Y];
      if (aW(d9) && d9 !== null) {
        return d9
      }
    }
  }
  function h(X, Y) {
    if (Y !== null) {
      X.push(Y)
    }
  }
  function bX(Y, ec) {
    var eb = 0,
      d9 = ec.length - 1,
      ea, X;
    while (eb <= d9) {
      ea = bZ.floor((eb + d9) / 2);
      X = ec[ea];
      if (X < Y) {
        eb = ea + 1;
        continue
      }
      if (X > Y) {
        d9 = ea - 1;
        continue
      }
      while (aL(ec[ea - 1], Y)) {
        ea--
      }
      return ea
    }
    if (ec[ea] <= Y) {
      return ea
    } else {
      return ea - 1
    }
  }
  function bH(X) {
    return typeof X === "number" && !isNaN(X)
  }
  function ay(eb) {
    var d9 = eb.length,
      X = 0,
      Y, ea;
    for (Y = 0; Y < d9; Y++) {
      ea = eb[Y];
      if (bH(ea)) {
        X++
      }
    }
    return X
  }
  function p(X) {
    return ay(X) === X.length
  }
  function x(X) {
    var ea, Y, d9, eb = {};
    for (ea = 0; ea < X.length; ea++) {
      Y = X[ea];
      d9 = Y.options.name;
      if (d9) {
        eb[d9] = Y.range()
      }
    }
    return eb
  }
  function bf(ed, X, eg, ea) {
    var ee, ef, eb, Y, d9, ec = false;
    eg = eg || {};
    eb = eg.excluded = eg.excluded || [];
    Y = eg.defaults = eg.defaults || {};
    d9 = eg.depth = eg.depth || 0;
    if (d9 > b0) {
      return
    }
    for (ee in ed) {
      if (!bv(ee, eg.excluded) && ed.hasOwnProperty(ee)) {
        ef = ed[ee];
        if (bG(ef)) {
          ec = true;
          if (!ea) {
            ed[ee] = dP(ef(X), Y[ee])
          }
        } else {
          if (typeof ef === cl) {
            eg.defaults = Y[ee];
            eg.depth++;
            ec = bf(ef, X, eg, ea) || ec;
            eg.depth--
          }
        }
      }
    }
    return ec
  }
  function bs(ed, X) {
    var ec = [],
      eb, ea = ed.groupNameTemplate,
      d9, Y = X.length,
      ee;
    if (aW(ea)) {
      bI.logToConsole("'groupNameTemplate' is obsolete and will be removed in future versions. Specify the group name template as 'series.name'");
      if (ea) {
        eb = dp(ea)
      }
    } else {
      eb = dp(ed.name || "");
      if (eb._slotCount === 0) {
        eb = dp(aW(ed.name) ? "#= group.value #: #= series.name #" : "#= group.value #")
      }
    }
    for (d9 = 0; d9 < Y; d9++) {
      ee = aP({}, ed);
      ee.color = dL;
      ee._groupIx = d9;
      ec.push(ee);
      if (eb) {
        ee.name = eb({
          series: ee,
          group: X[d9]
        })
      }
    }
    return ec
  }
  function bi(ea, eb) {
    var Y, X, d9 = [];
    eb = [].concat(eb);
    for (Y = 0; Y < ea.length; Y++) {
      X = ea[Y];
      if (bv(X.type, eb)) {
        d9.push(X)
      }
    }
    return d9
  }
  function bx(d9, X) {
    if (d9 instanceof Date) {
      for (var Y = 0, ea = X.length; Y < ea; Y++) {
        if (aL(X[Y], d9)) {
          return Y
        }
      }
      return -1
    } else {
      return a.inArray(d9, X)
    }
  }
  function c8(Y, X) {
    X = X || aJ;
    for (var d9 = 1, ea = Y.length; d9 < ea; d9++) {
      if (X(Y[d9], Y[d9 - 1]) < 0) {
        Y.sort(X);
        break
      }
    }
    return Y
  }
  function dM(ec, X) {
    var d9, Y = c8(ec, X),
      ea = Y.length,
      eb = ea > 0 ? [Y[0]] : [];
    X = X || aJ;
    for (d9 = 1; d9 < ea; d9++) {
      if (X(Y[d9], bJ(eb)) !== 0) {
        eb.push(Y[d9])
      }
    }
    return eb
  }
  function bF(X, d9) {
    var ea = X.type,
      Y = d9 instanceof Date;
    return (!ea && Y) || ba(ea, aH)
  }
  function dK(ed) {
    var d9 = [],
      eb = ed.length,
      ec, ea, Y, X;
    for (ec = 0; ec < eb; ec++) {
      ea = ed[ec];
      X = ea.length;
      for (Y = 0; Y < X; Y++) {
        d9[Y] = d9[Y] || [];
        d9[Y].push(ea[Y])
      }
    }
    return d9
  }
  function a8(X, ea) {
    if (X.indexOf(".") > -1) {
      var Y = X.split("."),
        d9 = "",
        eb;
      while (Y.length > 1) {
        d9 += Y.shift();
        eb = bI.getter(d9)(ea) || {};
        bI.setter(d9)(ea, eb);
        d9 += "."
      }
    }
  }
  function c3(d9) {
    var X = {};
    for (var Y in d9) {
      if (d9.hasOwnProperty(Y)) {
        X[Y] = d9[Y]
      }
    }
    return X
  }
  aG.ui.plugin(am);
  cC.current.register(af, [z, aw, bR, dS, l, dQ, ab, cn, W, dR, L]);
  cC.current.register(dZ, [cP, cQ, R]);
  cC.current.register(cy, [ct]);
  cC.current.register(a0, [aX]);
  c2.current.register([z, aw, bR, dS, l, dQ], [dO], [ah, av, ch, bc, bb]);
  aV.current.register([z, aw, bR, dS, l, dQ], {
    value: "max",
    color: "first",
    noteText: "first",
    errorLow: "min",
    errorHigh: "max"
  });
  c2.current.register([cP, cQ, R], [dW, d0], [av, ch, dY, dX, d2, d1]);
  c2.current.register([R], [dW, d0, "size"], [av, ah, ch]);
  c2.current.register([ab, cn], ["open", "high", "low", "close"], [ah, av, "downColor", ch]);
  aV.current.register([ab, cn], {
    open: "max",
    high: "max",
    low: "min",
    close: "max",
    color: "first",
    downColor: "first",
    noteText: "first"
  });
  c2.current.register([L], ["lower", "q1", "median", "q3", "upper", "mean", "outliers"], [ah, av, ch]);
  aV.current.register([L], {
    lower: "max",
    q1: "max",
    median: "max",
    q3: "max",
    upper: "max",
    mean: "max",
    outliers: "first",
    color: "first",
    noteText: "first"
  });
  c2.current.register([W, dR], ["current", "target"], [ah, av, "visibleInLegend", ch]);
  aV.current.register([W, dR], {
    current: "max",
    target: "max",
    color: "first",
    noteText: "first"
  });
  c2.current.register([ct, aX], [dO], [ah, av, "explode", "visibleInLegend", "visible"]);
  aP(aG, {
    EQUALLY_SPACED_SERIES: a9,
    Aggregates: e,
    AreaChart: m,
    AreaSegment: n,
    AxisGroupRangeTracker: v,
    Bar: y,
    BarAnimationDecorator: C,
    BarChart: D,
    BarLabel: E,
    BubbleAnimationDecorator: T,
    BubbleChart: U,
    BulletChart: Z,
    CandlestickChart: ac,
    Candlestick: aa,
    CategoricalChart: ad,
    CategoricalErrorBar: ae,
    CategoricalPlotArea: af,
    CategoryAxis: ai,
    ClusterLayout: at,
    Crosshair: aA,
    CrosshairTooltip: aB,
    DateCategoryAxis: aI,
    DateValueAxis: aN,
    DefaultAggregates: aV,
    DonutChart: aZ,
    DonutPlotArea: a0,
    DonutSegment: a1,
    ErrorBarBase: bd,
    ErrorRangeCalculator: be,
    Highlight: bt,
    SharedTooltip: c5,
    Legend: bM,
    LineChart: bT,
    LinePoint: bV,
    LineSegment: bW,
    Pane: cs,
    PieAnimation: cv,
    PieAnimationDecorator: cw,
    PieChart: cx,
    PiePlotArea: cy,
    PieSegment: cz,
    PlotAreaBase: cB,
    PlotAreaFactory: cC,
    PointEventsMixin: cF,
    ScatterChart: cR,
    ScatterErrorBar: cS,
    ScatterLineChart: cT,
    Selection: cY,
    SeriesAggregator: c1,
    SeriesBinder: c2,
    ShapeElement: c4,
    SplineSegment: dd,
    SplineAreaSegment: dc,
    StackLayout: df,
    Tooltip: dC,
    OHLCChart: co,
    OHLCPoint: cp,
    XYPlotArea: dZ,
    addDuration: c,
    areNumbers: p,
    axisGroupBox: u,
    categoriesCount: ag,
    ceilDate: aj,
    countNumbers: ay,
    duration: a5,
    ensureTree: a8,
    indexOf: bx,
    isNumber: bH,
    floorDate: bk,
    filterSeriesByType: bi,
    lteDateIndex: bX,
    evalOptions: bf,
    singleItemOrArray: c6,
    sortDates: c8,
    sparseArrayLimits: c9,
    startOfWeek: dg,
    transpose: dK,
    toDate: dB,
    toTime: dJ,
    uniqueDates: dM
  })
})(window.kendo.jQuery);
kendo_module({
  id: "dataviz.chart.polar",
  name: "Polar Charts",
  category: "dataviz",
  depends: ["dataviz.chart"],
  hidden: true
});
(function(a, au) {
  var C = Math,
    y = window.kendo,
    r = y.deepExtend,
    q = y.dataviz,
    e = q.AreaSegment,
    f = q.Axis,
    g = q.AxisGroupRangeTracker,
    h = q.BarChart,
    j = q.Box2D,
    m = q.CategoryAxis,
    k = q.CategoricalChart,
    l = q.CategoricalPlotArea,
    n = q.ChartElement,
    p = q.CurveProcessor,
    u = q.DonutSegment,
    A = q.LineChart,
    B = q.LineSegment,
    D = q.NumericAxis,
    F = q.PlotAreaBase,
    G = q.PlotAreaFactory,
    H = q.Point2D,
    aj = q.Ring,
    al = q.ScatterChart,
    am = q.ScatterLineChart,
    an = q.SeriesBinder,
    at = q.SplineSegment,
    ap = q.SplineAreaSegment,
    c = q.append,
    w = q.getSpacing,
    v = q.filterSeriesByType,
    z = q.limitValue,
    ak = q.round;
  var d = "arc",
    i = "#000",
    o = q.COORD_PRECISION,
    s = 0.15,
    t = C.PI / 180,
    E = "plotAreaClick",
    I = "polarArea",
    K = "polarLine",
    L = "polarScatter",
    T = "radarArea",
    V = "radarColumn",
    W = "radarLine",
    ao = "smooth",
    av = "x",
    ax = "y",
    ay = "zero",
    J = [I, K, L],
    U = [T, V, W];
  var x = {
    renderGridLines: function(aF, X) {
      var Y = this,
        aC = Y.options,
        aD = C.abs(Y.box.center().y - X.lineBox().y1),
        aA, aB, aE = false,
        az = [];
      if (aC.majorGridLines.visible) {
        aA = Y.majorGridLineAngles(X);
        aE = true;
        az = Y.gridLineElements(aF, aA, aD, aC.majorGridLines)
      }
      if (aC.minorGridLines.visible) {
        aB = Y.minorGridLineAngles(X, aE);
        c(az, Y.gridLineElements(aF, aB, aD, aC.minorGridLines))
      }
      return az
    },
    gridLineElements: function(aH, X, aG, aE) {
      var Y = this,
        az = Y.box.center(),
        aD = Y.plotArea.modelId,
        aB, aF, aA = [],
        aC;
      aC = {
        data: {
          modelId: aD
        },
        zIndex: -1,
        strokeWidth: aE.width,
        stroke: aE.color,
        dashType: aE.dashType
      };
      for (aB = 0; aB < X.length; aB++) {
        aF = H.onCircle(az, X[aB], aG);
        aA.push(aH.createLine(az.x, az.y, aF.x, aF.y, aC))
      }
      return aA
    },
    gridLineAngles: function(X, aB, aA) {
      var Y = this,
        az = Y.intervals(aB, aA);
      return a.map(az, function(aD) {
        var aC = Y.intervalAngle(aD);
        if (!X.options.visible || aC !== 90) {
          return aC
        }
      })
    }
  };
  var ac = m.extend({
    options: {
      startAngle: 90,
      labels: {
        margin: w(10)
      },
      majorGridLines: {
        visible: true
      },
      justified: true
    },
    range: function() {
      return {
        min: 0,
        max: this.options.categories.length
      }
    },
    reflow: function(X) {
      this.box = X;
      this.reflowLabels()
    },
    lineBox: function() {
      return this.box
    },
    reflowLabels: function() {
      var X = this,
        aB = new j(),
        aA = X.labels,
        az, Y;
      for (Y = 0; Y < aA.length; Y++) {
        aA[Y].reflow(aB);
        az = aA[Y].box;
        aA[Y].reflow(X.getSlot(Y).adjacentBox(0, az.width(), az.height()))
      }
    },
    intervals: function(aH, aG) {
      var Y = this,
        aE = Y.options,
        az = aE.categories.length,
        X = 0,
        aF = 0,
        aB = az / aH || 1,
        aA = 360 / aB,
        aC = [],
        aD;
      if (aG) {
        aF = 360 / (az / aG)
      }
      for (aD = 0; aD < aB; aD++) {
        X = ak(X, o);
        if (X % aF !== 0) {
          aC.push(X % 360)
        }
        if (aE.reverse) {
          X = 360 + X - aA
        } else {
          X += aA
        }
      }
      return aC
    },
    majorIntervals: function() {
      return this.intervals(1)
    },
    minorIntervals: function() {
      return this.intervals(0.5)
    },
    intervalAngle: function(X) {
      return (360 + X + this.options.startAngle) % 360
    },
    majorAngles: function() {
      return a.map(this.majorIntervals(), a.proxy(this.intervalAngle, this))
    },
    renderLine: function() {
      return []
    },
    majorGridLineAngles: function(X) {
      return this.gridLineAngles(X, 1)
    },
    minorGridLineAngles: function(X, Y) {
      return this.gridLineAngles(X, 0.5, Y ? 1 : 0)
    },
    renderPlotBands: function(aH) {
      var X = this,
        aC = X.options,
        aD = aC.plotBands || [],
        az = [],
        aB, Y, aF, aE, aA, aG;
      for (aB = 0; aB < aD.length; aB++) {
        Y = aD[aB];
        aF = X.plotBandSlot(Y);
        aE = X.getSlot(Y.from);
        aA = Y.from - C.floor(Y.from);
        aF.startAngle += aA * aE.angle;
        aG = C.ceil(Y.to) - Y.to;
        aF.angle -= (aG + aA) * aE.angle;
        az.push(aH.createSector(aF, {
          fill: Y.color,
          fillOpacity: Y.opacity,
          strokeOpacity: Y.opacity,
          zIndex: -1
        }))
      }
      return az
    },
    plotBandSlot: function(X) {
      return this.getSlot(X.from, X.to - 1)
    },
    getSlot: function(aB, aH) {
      var Y = this,
        aD = Y.options,
        aC = aD.justified,
        az = Y.box,
        aA = Y.majorAngles(),
        aI = aA.length,
        aF, aE = 360 / aI,
        aG, X;
      if (aD.reverse && !aC) {
        aB = (aB + 1) % aI
      }
      aB = z(C.floor(aB), 0, aI - 1);
      aG = aA[aB];
      if (aC) {
        aG = aG - aE / 2;
        if (aG < 0) {
          aG += 360
        }
      }
      aH = z(C.ceil(aH || aB), aB, aI - 1);
      aF = aH - aB + 1;
      X = aE * aF;
      return new aj(az.center(), 0, az.height() / 2, aG, X)
    },
    pointCategoryIndex: function(aB) {
      var X = this,
        az = null,
        Y, aA = X.options.categories.length,
        aC;
      for (Y = 0; Y < aA; Y++) {
        aC = X.getSlot(Y);
        if (aC.containsPoint(aB)) {
          az = Y;
          break
        }
      }
      return az
    }
  });
  r(ac.fn, x);
  var af = D.extend({
    options: {
      majorGridLines: {
        visible: true
      }
    },
    renderPlotBands: function(aK) {
      var Y = this,
        aF = Y.options,
        aG = aF.plotBands || [],
        aC = [],
        aJ = aF.majorGridLines.type,
        X = Y.plotArea.polarAxis,
        aE = X.majorAngles(),
        aB = X.box.center(),
        aD, az, aA, aI, aH;
      for (aD = 0; aD < aG.length; aD++) {
        az = aG[aD];
        aA = {
          fill: az.color,
          fillOpacity: az.opacity,
          strokeOpacity: az.opacity,
          zIndex: -1
        };
        aI = Y.getSlot(az.from, az.to);
        aH = new aj(aB, aB.y - aI.y2, aB.y - aI.y1, 0, 360);
        aC.push(aJ === d ? aK.createRing(aH, aA) : aK.createPolyline(Y.plotBandPoints(aH, aE), true, aA))
      }
      return aC
    },
    plotBandPoints: function(aB, X) {
      var az = [],
        aA = [],
        Y;
      for (Y = 0; Y < X.length; Y++) {
        az.push(H.onCircle(aB.c, X[Y], aB.ir));
        aA.push(H.onCircle(aB.c, X[Y], aB.r))
      }
      az.reverse();
      az.push(az[0]);
      aA.push(aA[0]);
      return aA.concat(az)
    },
    renderGridLines: function(aG, X) {
      var Y = this,
        aF = Y.options,
        aC = Y.getTickPositions(aF.majorUnit),
        aB = X.majorAngles(),
        aE, aD = 0,
        az = X.box.center(),
        aA = [];
      if (aF.majorGridLines.visible) {
        aD = aF.majorUnit;
        aA = Y.gridLineElements(aG, az, aC, aB, aF.majorGridLines)
      }
      if (aF.minorGridLines.visible) {
        aE = Y.getTickPositions(aF.minorUnit, aD);
        c(aA, Y.gridLineElements(aG, az, aE, aB, aF.minorGridLines))
      }
      return aA
    },
    gridLineElements: function(aJ, aA, aI, Y, aE) {
      var az = this,
        aD = az.plotArea.modelId,
        aC = [],
        aB, aF, aH, aG, X;
      aB = {
        data: {
          modelId: aD
        },
        zIndex: -1,
        strokeWidth: aE.width,
        stroke: aE.color,
        dashType: aE.dashType
      };
      for (aG = 0; aG < aI.length; aG++) {
        aH = aA.y - aI[aG];
        if (aH > 0) {
          if (aE.type === d) {
            aC.push(aJ.createCircle(aA, aH, aB))
          } else {
            aF = [];
            for (X = 0; X < Y.length; X++) {
              aF.push(H.onCircle(aA, Y[X], aH))
            }
            aC.push(aJ.createPolyline(aF, true, aB))
          }
        }
      }
      return aC
    },
    getValue: function(aK) {
      var az = this,
        aJ = az.options,
        aG = az.lineBox(),
        Y = az.plotArea.polarAxis,
        aH = Y.majorAngles(),
        aB = Y.box.center(),
        aL = aK.distanceTo(aB),
        aC = aL;
      if (aJ.majorGridLines.type !== d && aH.length > 1) {
        var aD = aK.x - aB.x,
          aE = aK.y - aB.y,
          aM = (C.atan2(aE, aD) / t + 540) % 360;
        aH.sort(function(aN, aO) {
          return b(aN, aM) - b(aO, aM)
        });
        var aI = b(aH[0], aH[1]) / 2,
          X = b(aM, aH[0]),
          aF = 90 - aI,
          aA = 180 - X - aF;
        aC = aL * (C.sin(aA * t) / C.sin(aF * t))
      }
      return D.fn.getValue.call(az, new H(aG.x1, aG.y2 - aC))
    }
  });
  var O = f.extend({
    init: function(Y) {
      var X = this;
      f.fn.init.call(X, Y);
      Y = X.options;
      Y.minorUnit = Y.minorUnit || X.options.majorUnit / 2
    },
    options: {
      type: "polar",
      startAngle: 0,
      reverse: false,
      majorUnit: 60,
      min: 0,
      max: 360,
      labels: {
        margin: w(10)
      },
      majorGridLines: {
        color: i,
        visible: true
      },
      minorGridLines: {
        color: "#aaa"
      }
    },
    getDivisions: function(X) {
      return D.fn.getDivisions.call(this, X) - 1
    },
    reflow: function(X) {
      this.box = X;
      this.reflowLabels()
    },
    reflowLabels: function() {
      var X = this,
        aC = new j(),
        Y = X.majorIntervals(),
        aB = X.labels,
        aA, az;
      for (az = 0; az < aB.length; az++) {
        aB[az].reflow(aC);
        aA = aB[az].box;
        aB[az].reflow(X.getSlot(Y[az]).adjacentBox(0, aA.width(), aA.height()))
      }
    },
    lineBox: function() {
      return this.box
    },
    intervals: function(aE, aD) {
      var Y = this,
        aC = Y.options,
        az = Y.getDivisions(aE),
        X = aC.min,
        aA = [],
        aB;
      if (aD) {
        aD = aD / aE
      }
      for (aB = 0; aB < az; aB++) {
        if (aB % aD !== 0) {
          aA.push((360 + X) % 360)
        }
        X += aE
      }
      return aA
    },
    majorIntervals: function() {
      return this.intervals(this.options.majorUnit)
    },
    minorIntervals: function() {
      return this.intervals(this.options.minorUnit)
    },
    intervalAngle: function(X) {
      return (360 + X - this.options.startAngle) % 360
    },
    majorAngles: ac.fn.majorAngles,
    renderLine: function() {
      return []
    },
    majorGridLineAngles: function(X) {
      return this.gridLineAngles(X, this.options.majorUnit)
    },
    minorGridLineAngles: function(X, Y) {
      return this.gridLineAngles(X, this.options.minorUnit, Y ? this.options.majorUnit : 0)
    },
    renderPlotBands: ac.fn.renderPlotBands,
    plotBandSlot: function(X) {
      return this.getSlot(X.from, X.to)
    },
    getSlot: function(X, az) {
      var Y = this,
        aB = Y.options,
        aC = aB.startAngle,
        aA = Y.box,
        aD;
      X = z(X, aB.min, aB.max);
      az = z(az || X, X, aB.max);
      if (aB.reverse) {
        X *= -1;
        az *= -1
      }
      X = (540 - X - aC) % 360;
      az = (540 - az - aC) % 360;
      if (az < X) {
        aD = X;
        X = az;
        az = aD
      }
      return new aj(aA.center(), 0, aA.height() / 2, X, az - X)
    },
    getValue: function(aC) {
      var X = this,
        aB = X.options,
        Y = X.box.center(),
        az = aC.x - Y.x,
        aA = aC.y - Y.y,
        aE = C.round(C.atan2(aA, az) / t),
        aD = aB.startAngle;
      if (!aB.reverse) {
        aE *= -1;
        aD *= -1
      }
      return (aE + aD + 360) % 360
    },
    labelsCount: D.fn.labelsCount,
    createAxisLabel: D.fn.createAxisLabel
  });
  r(O.fn, x);
  var ad = n.extend({
    options: {
      gap: 1,
      spacing: 0
    },
    reflow: function(aE) {
      var az = this,
        aD = az.options,
        Y = az.children,
        aB = aD.gap,
        aI = aD.spacing,
        aA = Y.length,
        aG = aA + aB + (aI * (aA - 1)),
        aF = aE.angle / aG,
        aH, X = aE.startAngle + aF * (aB / 2),
        aC;
      for (aC = 0; aC < aA; aC++) {
        aH = aE.clone();
        aH.startAngle = X;
        aH.angle = aF;
        if (Y[aC].sector) {
          aH.r = Y[aC].sector.r
        }
        Y[aC].reflow(aH);
        Y[aC].sector = aH;
        X += aF + (aF * aI)
      }
    }
  });
  var ai = n.extend({
    reflow: function(aE) {
      var aF = this,
        aD = aF.options.isReversed,
        X = aF.children,
        Y = X.length,
        az, aC, aB, aA = aD ? Y - 1 : 0,
        aG = aD ? -1 : 1;
      aF.box = new j();
      for (aB = aA; aB >= 0 && aB < Y; aB += aG) {
        az = X[aB].sector;
        az.startAngle = aE.startAngle;
        az.angle = aE.angle;
        if (aB !== aA) {
          aC = X[aD ? aB + 1 : aB - 1].sector;
          az.ir = aC.r;
          az.r += az.ir
        }
      }
    }
  });
  var ah = u.extend({
    init: function(Y, X) {
      u.fn.init.call(this, Y, null, X)
    },
    options: {
      overlay: {
        gradient: null
      },
      labels: {
        distance: 10
      }
    }
  });
  var ab = h.extend({
    pointType: function() {
      return ah
    },
    clusterType: function() {
      return ad
    },
    stackType: function() {
      return ai
    },
    valueSlot: function(Y, X) {
      return Y.getSlot(X)
    },
    categorySlot: function(X, Y) {
      return X.getSlot(Y)
    },
    pointSlot: function(X, aA) {
      var Y = X.clone(),
        az = X.c.y - aA.y1;
      Y.r = az;
      return Y
    },
    reflow: k.fn.reflow,
    reflowPoint: function(X, Y) {
      X.sector = Y;
      X.reflow()
    }
  });
  var ae = A.extend({
    pointSlot: function(X, aA) {
      var az = X.c.y - aA.y1,
        Y = H.onCircle(X.c, X.middle(), az);
      return new j(Y.x, Y.y, Y.x, Y.y)
    },
    createSegment: function(Y, X, aB) {
      var aA, az, aC = X.style;
      if (aC == ao) {
        az = at
      } else {
        az = B
      }
      aA = new az(Y, X, aB);
      if (Y.length === X.data.length) {
        aA.options.closed = true
      }
      return aA
    }
  });
  var aa = e.extend({
    points: function() {
      return B.fn.points.call(this, this.stackPoints)
    }
  });
  var ar = ap.extend({
    areaPoints: function() {
      return []
    }
  });
  var Z = ae.extend({
    createSegment: function(aA, Y, aE, aC) {
      var X = this,
        aB = X.options,
        az = aB.isStacked,
        aF, aD, aG = (Y.line || {}).style;
      if (aG === ao) {
        aD = new ar(aA, aC, az, Y, aE);
        aD.options.closed = true
      } else {
        if (az && aE > 0 && aC) {
          aF = aC.linePoints.slice(0).reverse()
        }
        aA.push(aA[0]);
        aD = new aa(aA, aF, Y, aE)
      }
      return aD
    },
    seriesMissingValues: function(X) {
      return X.missingValues || ay
    }
  });
  var S = al.extend({
    pointSlot: function(Y, az) {
      var aA = Y.c.y - az.y1,
        X = H.onCircle(Y.c, Y.startAngle, aA);
      return new j(X.x, X.y, X.x, X.y)
    }
  });
  var P = am.extend({
    pointSlot: S.fn.pointSlot
  });
  var N = e.extend({
    points: function() {
      var aC = this,
        Y = aC.parent,
        az = Y.plotArea,
        aB = az.polarAxis,
        X = aB.box.center(),
        aD = aC.stackPoints,
        aA = B.fn.points.call(aC, aD);
      aA.unshift(X);
      aA.push(X);
      return aA
    }
  });
  var aq = ap.extend({
    areaPoints: function() {
      var aB = this,
        Y = aB.parent,
        az = Y.plotArea,
        aA = az.polarAxis,
        X = aA.box.center();
      return [X]
    },
    points: function() {
      var aE = this,
        Y = aE.parent,
        aC = Y.plotArea,
        aD = aC.polarAxis,
        X = aD.box.center(),
        az, aA = new p(false),
        aB = B.fn.points.call(this);
      aB.push(X);
      az = aA.process(aB);
      az.splice(az.length - 3, az.length - 1);
      aE.curvePoints = az;
      return az
    }
  });
  var M = P.extend({
    createSegment: function(Y, X, aA) {
      var az, aB = (X.line || {}).style;
      if (aB == ao) {
        az = new aq(Y, null, false, X, aA)
      } else {
        az = new N(Y, [], X, aA)
      }
      return az
    },
    seriesMissingValues: function(X) {
      return X.missingValues || ay
    },
    sortPoints: function(X) {
      return X.sort(aw)
    }
  });
  var R = F.extend({
    init: function(az, X) {
      var Y = this;
      Y.valueAxisRangeTracker = new g();
      F.fn.init.call(Y, az, X)
    },
    render: function() {
      var X = this;
      X.addToLegend(X.series);
      X.createPolarAxis();
      X.createCharts();
      X.createValueAxis()
    },
    createValueAxis: function() {
      var Y = this,
        aA = Y.valueAxisRangeTracker,
        X = aA.query(),
        az, aB;
      az = aA.query(name) || X || {
        min: 0,
        max: 1
      };
      if (az && X) {
        az.min = C.min(az.min, X.min);
        az.max = C.max(az.max, X.max)
      }
      aB = new af(az.min, az.max, Y.valueAxisOptions({
        roundToMajorUnit: false
      }));
      Y.valueAxis = aB;
      Y.appendAxis(aB)
    },
    reflowAxes: function() {
      var aD = this,
        aB = aD.options.plotArea,
        aF = aD.valueAxis,
        aE = aD.polarAxis,
        Y = aD.box,
        az = C.min(Y.width(), Y.height()) * s,
        aC = w(aB.padding || {}, az),
        X = Y.clone().unpad(aC),
        aG = X.clone().shrink(0, X.height() / 2);
      aE.reflow(X);
      aF.reflow(aG);
      var aA = aF.lineBox().height() - aF.box.height();
      aF.reflow(aF.box.unpad({
        top: aA
      }));
      aD.axisBox = X;
      aD.alignAxes(X)
    },
    alignAxes: function() {
      var az = this,
        aC = az.valueAxis,
        aA = aC.getSlot(aC.options.min),
        aB = aC.options.reverse ? 2 : 1,
        Y = az.polarAxis.getSlot(0).c,
        X = aC.box.translate(Y.x - aA[av + aB], Y.y - aA[ax + aB]);
      aC.reflow(X)
    },
    backgroundBox: function() {
      return this.box
    }
  });
  var ag = R.extend({
    options: {
      categoryAxis: {
        categories: []
      },
      valueAxis: {}
    },
    createPolarAxis: function() {
      var Y = this,
        X;
      X = new ac(Y.options.categoryAxis);
      Y.polarAxis = X;
      Y.categoryAxis = X;
      Y.appendAxis(X)
    },
    valueAxisOptions: function(X) {
      var Y = this;
      if (Y._hasBarCharts) {
        r(X, {
          majorGridLines: {
            type: d
          },
          minorGridLines: {
            type: d
          }
        })
      }
      return r(X, Y.options.valueAxis)
    },
    appendChart: l.fn.appendChart,
    createCharts: function() {
      var Y = this,
        az = Y.filterVisibleSeries(Y.series),
        X = Y.panes[0];
      Y.createAreaChart(v(az, [T]), X);
      Y.createLineChart(v(az, [W]), X);
      Y.createBarChart(v(az, [V]), X)
    },
    createAreaChart: function(aC, aA) {
      if (aC.length === 0) {
        return
      }
      var aB = this,
        az = aC[0],
        Y = aB.filterVisibleSeries(aC),
        X = new Z(aB, {
          isStacked: az.stack && Y.length > 1,
          series: aC
        });
      aB.appendChart(X, aA)
    },
    createLineChart: function(aC, aA) {
      if (aC.length === 0) {
        return
      }
      var aB = this,
        Y = aC[0],
        X = aB.filterVisibleSeries(aC),
        az = new ae(aB, {
          isStacked: Y.stack && X.length > 1,
          series: aC
        });
      aB.appendChart(az, aA)
    },
    createBarChart: function(aC, aA) {
      if (aC.length === 0) {
        return
      }
      var aB = this,
        Y = aC[0],
        X = aB.filterVisibleSeries(aC),
        az = new ab(aB, {
          isStacked: Y.stack && X.length > 1,
          series: aC,
          gap: Y.gap,
          spacing: Y.spacing
        });
      aB._hasBarCharts = true;
      aB.appendChart(az, aA)
    },
    seriesCategoryAxis: function() {
      return this.categoryAxis
    },
    click: function(Y, aA) {
      var aB = this,
        az = Y._eventCoordinates(aA),
        aC = new H(az.x, az.y),
        X, aD;
      X = aB.categoryAxis.getCategory(aC);
      aD = aB.valueAxis.getValue(aC);
      if (X !== null && aD !== null) {
        Y.trigger(E, {
          element: a(aA.target),
          category: X,
          value: aD
        })
      }
    }
  });
  var Q = R.extend({
    options: {
      xAxis: {},
      yAxis: {}
    },
    createPolarAxis: function() {
      var X = this,
        Y;
      Y = new O(X.options.xAxis);
      X.polarAxis = Y;
      X.axisX = Y;
      X.appendAxis(Y)
    },
    valueAxisOptions: function(X) {
      var Y = this;
      return r(X, {
        majorGridLines: {
          type: d
        },
        minorGridLines: {
          type: d
        }
      }, Y.options.yAxis)
    },
    createValueAxis: function() {
      var X = this;
      R.fn.createValueAxis.call(X);
      X.axisY = X.valueAxis
    },
    appendChart: function(X, Y) {
      var az = this;
      az.valueAxisRangeTracker.update(X.yAxisRanges);
      F.fn.appendChart.call(az, X, Y)
    },
    createCharts: function() {
      var Y = this,
        az = Y.filterVisibleSeries(Y.series),
        X = Y.panes[0];
      Y.createLineChart(v(az, [K]), X);
      Y.createScatterChart(v(az, [L]), X);
      Y.createAreaChart(v(az, [I]), X)
    },
    createLineChart: function(aA, Y) {
      if (aA.length === 0) {
        return
      }
      var az = this,
        X = new P(az, {
          series: aA
        });
      az.appendChart(X, Y)
    },
    createScatterChart: function(aA, X) {
      if (aA.length === 0) {
        return
      }
      var Y = this,
        az = new S(Y, {
          series: aA
        });
      Y.appendChart(az, X)
    },
    createAreaChart: function(aA, Y) {
      if (aA.length === 0) {
        return
      }
      var az = this,
        X = new M(az, {
          series: aA
        });
      az.appendChart(X, Y)
    },
    click: function(X, az) {
      var aA = this,
        Y = X._eventCoordinates(az),
        aB = new H(Y.x, Y.y),
        aC, aD;
      aC = aA.axisX.getValue(aB);
      aD = aA.axisY.getValue(aB);
      if (aC !== null && aD !== null) {
        X.trigger(E, {
          element: a(az.target),
          x: aC,
          y: aD
        })
      }
    }
  });

  function aw(X, Y) {
    return X.value.x - Y.value.x
  }
  function b(X, Y) {
    return 180 - C.abs(C.abs(X - Y) - 180)
  }
  G.current.register(Q, J);
  G.current.register(ag, U);
  an.current.register(J, [av, ax], ["color"]);
  an.current.register(U, ["value"], ["color"]);
  q.DefaultAggregates.current.register(U, {
    value: "max",
    color: "first"
  });
  r(q, {
    PolarAreaChart: M,
    PolarAxis: O,
    PolarLineChart: P,
    PolarPlotArea: Q,
    RadarAreaChart: Z,
    RadarBarChart: ab,
    RadarCategoryAxis: ac,
    RadarClusterLayout: ad,
    RadarLineChart: ae,
    RadarNumericAxis: af,
    RadarPlotArea: ag,
    SplinePolarAreaSegment: aq,
    SplineRadarAreaSegment: ar,
    RadarStackLayout: ai
  })
})(window.kendo.jQuery);
kendo_module({
  id: "dataviz.chart.funnel",
  name: "Funnel Chart",
  category: "dataviz",
  depends: ["dataviz.chart"],
  hidden: true
});
(function(a, A) {
  var s = window.kendo,
    k = s.deepExtend,
    m = a.extend,
    r = s.isFunction,
    y = s.template,
    j = s.dataviz,
    h = j.Color,
    g = j.ChartElement,
    u = j.PlotAreaBase,
    v = j.PlotAreaFactory,
    w = j.Point2D,
    e = j.Box2D,
    x = j.SeriesBinder,
    z = j.TextBox,
    b = j.append,
    c = j.autoFormat,
    l = j.evalOptions,
    t = j.limitValue,
    B = j.uniqueId;
  var f = "category",
    i = "color",
    n = "funnel",
    C = "value",
    d = "black",
    D = "white";
  var p = u.extend({
    render: function() {
      var E = this,
        F = E.series;
      E.createFunnelChart(F)
    },
    createFunnelChart: function(H) {
      var G = this,
        E = H[0],
        F = new o(G, {
          series: H,
          legend: G.options.legend,
          neckRatio: E.neckRatio,
          dynamicHeight: E.dynamicHeight,
          dynamicSlope: E.dynamicSlope,
          segmentSpacing: E.segmentSpacing,
          highlight: E.highlight
        });
      G.appendChart(F)
    },
    appendChart: function(E, F) {
      u.fn.appendChart.call(this, E, F);
      b(this.options.legend.items, E.legendItems)
    }
  });
  var o = g.extend({
    init: function(G, F) {
      var E = this;
      g.fn.init.call(E, F);
      E.plotArea = G;
      E.points = [];
      E.labels = [];
      E.legendItems = [];
      E.render()
    },
    options: {
      neckRatio: 0.3,
      width: 300,
      dynamicSlope: false,
      dynamicHeight: true,
      segmentSpacing: 0,
      labels: {
        visible: false,
        align: "center",
        position: "center"
      }
    },
    formatPointValue: function(F, E) {
      return c(E, F.value)
    },
    render: function() {
      var E = this,
        L = E.options,
        F = E.plotArea.options.seriesColors || [],
        G = F.length,
        O = L.series[0],
        M, I, H = O.data;
      if (!H) {
        return
      }
      var P = E.pointsTotal(O),
        Q, J;
      for (J = 0; J < H.length; J++) {
        M = x.current.bindPoint(O, J);
        Q = M.valueFields.value;
        I = M.fields;
        if (!r(O.color)) {
          O.color = I.color || F[J % G]
        }
        I = k({
          index: J,
          owner: E,
          series: O,
          category: I.category,
          dataItem: H[J],
          percentage: Q / P,
          visibleInLegend: I.visibleInLegend,
          visible: I.visible
        }, I);
        var N = E.createSegment(Q, I);
        var K = E.createLabel(Q, I);
        if (N && K) {
          N.append(K)
        }
      }
    },
    evalSegmentOptions: function(F, H, E) {
      var G = E.series;
      l(F, {
        value: H,
        series: G,
        dataItem: E.dataItem,
        index: E.index
      }, {
        defaults: G._defaults,
        excluded: ["data"]
      })
    },
    createSegment: function(I, F) {
      var E = this,
        G;
      E.createLegendItem(I, F);
      if (F.visible !== false) {
        var H = k({}, F.series);
        E.evalSegmentOptions(H, I, F);
        G = new q(I, H, F);
        m(G, F);
        E.append(G);
        E.points.push(G);
        return G
      }
    },
    createLabel: function(N, H) {
      var F = this,
        K = H.series,
        G = H.dataItem,
        I = k({}, F.options.labels, K.labels),
        L = N,
        M;
      if (I.visible && N) {
        if (I.template) {
          var J = y(I.template);
          L = J({
            dataItem: G,
            value: N,
            percentage: H.percentage,
            category: H.category,
            series: K
          })
        } else {
          if (I.format) {
            L = c(I.format, L)
          }
        }
        if (!I.color && I.align === "center") {
          var E = new h(K.color).percBrightness();
          if (E > 180) {
            I.color = d
          } else {
            I.color = D
          }
        }
        F.evalSegmentOptions(I, N, H);
        M = new z(L, k({
          vAlign: I.position,
          id: B()
        }, I));
        F.labels.push(M);
        return M
      }
    },
    createLegendItem: function(M, K) {
      var E = this,
        H = (E.options.legend || {}).labels || {}, F = (E.options.legend || {}).inactiveItems || {}, L, I, J, G;
      if (K && K.visibleInLegend !== false) {
        L = K.category || "";
        if ((H || {}).template) {
          I = y(H.template);
          L = I({
            text: L,
            series: K.series,
            dataItem: K.dataItem,
            percentage: K.percentage,
            value: M
          })
        }
        if (K.visible === false) {
          J = (F.markers || {}).color;
          G = (F.labels || {}).color
        } else {
          J = (K.series || {}).color;
          G = H.color
        }
        if (L) {
          E.legendItems.push({
            pointIndex: K.index,
            text: L,
            series: K.series,
            markerColor: J,
            labelColor: G
          })
        }
      }
    },
    pointsTotal: function(I) {
      var E = I.data,
        G = E.length,
        J = 0,
        K, F, H;
      for (F = 0; F < G; F++) {
        H = x.current.bindPoint(I, F);
        K = H.valueFields.value;
        if (typeof K === "string") {
          K = parseFloat(K)
        }
        if (K && H.fields.visible !== false) {
          J += K
        }
      }
      return J
    },
    labelPadding: function() {
      var H = this.labels,
        G, E, J, I = {
          left: 0,
          right: 0
        }, F;
      for (F = 0; F < H.length; F++) {
        G = H[F];
        E = G.options.align;
        if (E !== "center") {
          J = H[F].box.width();
          if (E === "left") {
            I.left = Math.max(I.left, J)
          } else {
            I.right = Math.max(I.right, J)
          }
        }
      }
      return I
    },
    reflow: function(G) {
      var F = this,
        U = F.options,
        Z = F.points,
        H = Z.length,
        I = U.neckRatio <= 1,
        N, M, O, W, V, T, E = G.clone().unpad(F.labelPadding()),
        ad = E.width(),
        X = 0,
        Y = I ? 0 : (ad - ad / U.neckRatio) / 2,
        aa = U.segmentSpacing,
        J = U.dynamicSlope,
        ac = E.height() - aa * (H - 1),
        Q = I ? U.neckRatio * ad : ad;
      if (!H) {
        return
      }
      if (J) {
        var L = Z[0],
          P = L;
        a.each(Z, function(ae, af) {
          if (af.percentage > P.percentage) {
            P = af
          }
        });
        O = (L.percentage / P.percentage) * ad;
        Y = (ad - O) / 2;
        for (N = 0; N < H; N++) {
          V = Z[N].percentage;
          var S = Z[N + 1],
            R = (S ? S.percentage : V);
          W = Z[N].points = [];
          M = (U.dynamicHeight) ? (ac * V) : (ac / H);
          T = (ad - O * (R / V)) / 2;
          T = t(T, 0, ad);
          W.push(w(E.x1 + Y, E.y1 + X));
          W.push(w(E.x1 + ad - Y, E.y1 + X));
          W.push(w(E.x1 + ad - T, E.y1 + M + X));
          W.push(w(E.x1 + T, E.y1 + M + X));
          Y = T;
          X += M + aa;
          O *= R / V;
          O = t(O, 0, ad)
        }
      } else {
        var ab = I ? ad : ad - Y * 2,
          K = (ab - Q) / 2;
        for (N = 0; N < H; N++) {
          W = Z[N].points = [];
          V = Z[N].percentage;
          T = (U.dynamicHeight) ? (K * V) : (K / H);
          M = (U.dynamicHeight) ? (ac * V) : (ac / H);
          W.push(w(E.x1 + Y, E.y1 + X));
          W.push(w(E.x1 + ad - Y, E.y1 + X));
          W.push(w(E.x1 + ad - Y - T, E.y1 + M + X));
          W.push(w(E.x1 + Y + T, E.y1 + M + X));
          Y += T;
          X += M + aa
        }
      }
      for (N = 0; N < H; N++) {
        Z[N].reflow(G)
      }
    }
  });
  var q = g.extend({
    init: function(H, E, G) {
      var F = this;
      g.fn.init.call(F, E);
      F.value = H;
      F.id = B();
      F.options.index = G.index;
      F.enableDiscovery()
    },
    options: {
      color: D,
      border: {
        width: 1
      }
    },
    reflow: function(E) {
      var H = this,
        G = H.points,
        F = H.children[0];
      H.box = new e(G[0].x, G[0].y, G[1].x, G[2].y);
      if (F) {
        F.reflow(new e(E.x1, G[0].y, E.x2, G[2].y))
      }
    },
    getViewElements: function(I) {
      var H = this,
        G = H.options,
        E = G.border,
        F = [];
      F.push(I.createPolyline(H.points, true, {
        id: H.id,
        fill: G.color,
        fillOpacity: G.opacity,
        stroke: E.color,
        strokeOpacity: E.opacity,
        strokeWidth: E.width,
        data: {
          modelId: H.modelId
        }
      }));
      b(F, g.fn.getViewElements.call(H, I));
      return F
    },
    highlightOverlay: function(K, I) {
      var J = this.options,
        H = J.highlight || {};
      if (H.visible === false) {
        return
      }
      var E = H.border || {};
      var F = m({}, I, {
        fill: H.color,
        stroke: E.color,
        strokeOpacity: E.opacity,
        strokeWidth: E.width,
        fillOpacity: H.opacity,
        data: {
          modelId: this.modelId
        }
      });
      var G = K.createPolyline(this.points, true, F);
      return G
    },
    tooltipAnchor: function(F) {
      var E = this.box;
      return new w(E.center().x - (F / 2), E.y1)
    },
    formatValue: function(E) {
      var F = this;
      return F.owner.formatPointValue(F, E)
    }
  });
  k(q.fn, j.PointEventsMixin);
  v.current.register(p, [n]);
  x.current.register([n], [C], [f, i, "visibleInLegend", "visible"]);
  k(j, {
    FunnelChart: o
  })
})(window.kendo.jQuery);
kendo_module({
  id: "dataviz.gauge",
  name: "Gauge",
  category: "dataviz",
  description: "Radial gauge.",
  depends: ["dataviz.core", "dataviz.svg", "dataviz.themes"]
});
(function(a, ag) {
  var L = Math,
    G = window.kendo,
    ai = G.ui.Widget,
    t = G.deepExtend,
    s = G.dataviz,
    j = s.Axis,
    o = s.Box2D,
    q = s.ChartElement,
    P = s.NumericAxis,
    R = s.Pin,
    aa = s.Ring,
    ab = s.RootElement,
    ae = s.RotationAnimation,
    l = s.BarIndicatorAnimatin,
    g = s.ArrowAnimation,
    d = s.append,
    c = s.animationDecorator,
    i = s.autoMajorUnit,
    C = s.getElement,
    E = s.getSpacing,
    z = s.defined,
    ac = s.rotatePoint,
    S = s.Point2D,
    af = s.round,
    ah = s.uniqueId;
  var b = 150,
    e = "arrow",
    f = "arrowPointer",
    k = "barIndicator",
    n = "#000",
    p = 0.05,
    r = s.COORD_PRECISION,
    M = Number.MAX_VALUE,
    N = -Number.MAX_VALUE,
    u = 200,
    v = 0.5,
    y = 200,
    x = 60,
    w = 60,
    A = L.PI / 180,
    F = "inside",
    O = "needle",
    Q = "outside",
    U = "radialPointer",
    ad = 90;
  var T = q.extend({
    init: function(al, aj) {
      var ak = this,
        am = al.options;
      q.fn.init.call(ak, aj);
      aj = ak.options;
      if (!aj.id) {
        aj.id = ah()
      }
      aj.fill = aj.color;
      ak.scale = al;
      if (z(aj.value)) {
        aj.value = L.min(L.max(aj.value, am.min), am.max)
      } else {
        aj.value = am.min
      }
    },
    options: {
      color: n
    },
    value: function(aj) {
      var al = this,
        ak = al.options,
        an = ak.value,
        am = al.scale.options;
      if (arguments.length === 0) {
        return an
      }
      ak._oldValue = ak.value;
      ak.value = L.min(L.max(aj, am.min), am.max);
      al.repaint()
    }
  });
  var X = T.extend({
    options: {
      shape: O,
      cap: {
        size: p
      },
      arrow: {
        width: 16,
        height: 14
      },
      animation: {
        type: U,
        speed: b
      }
    },
    reflow: function() {
      var am = this,
        al = am.options,
        ao = am.scale,
        an = ao.ring,
        aj = an.c,
        ak = an.r * al.cap.size;
      am.box = new o(aj.x - ak, aj.y - ak, aj.x + ak, aj.y + ak)
    },
    repaint: function() {
      var ap = this,
        aq = ap.scale,
        ao = ap.options,
        am = ap.elements[0],
        ak = ao.animation,
        al = aq.slotAngle(aq.options.min),
        an = aq.slotAngle(ao._oldValue) - al,
        aj = am._animation;
      am.options.rotation[0] = aq.slotAngle(ao.value) - al;
      if (aj) {
        aj.abort()
      }
      if (ak.transitions === false) {
        am.refresh(C(ao.id))
      } else {
        aj = am._animation = new ae(am, t(ak, {
          startAngle: an,
          reverse: aq.options.reverse
        }));
        aj.setup();
        aj.play()
      }
    },
    _renderNeedle: function(aq, aj, al, ao) {
      var an = this,
        am = an.options,
        ap = an.scale,
        ak = ap.ring.r * am.cap.size;
      return [aq.createPolyline([ac((aj.x1 + aj.x2) / 2, aj.y1 + ap.options.minorTicks.size, al.x, al.y, ao), ac(al.x - ak / 2, al.y, al.x, al.y, ao), ac(al.x + ak / 2, al.y, al.x, al.y, ao)], true, am), aq.createCircle(al, ak, {
        fill: am.cap.color || am.color
      })]
    },
    _renderArrow: function(au, ak, al, ap) {
      var ao = this,
        an = ao.options,
        ar = ao.scale,
        aq = ar.ring.clone(),
        at = 5,
        aj = an.arrow,
        am = aj.height;
      aq.ir = aq.r - at;
      return [au.createPin(new R({
        origin: ac((ak.x1 + ak.x2) / 2, ak.y1 + am, al.x, al.y, ap),
        height: aj.height,
        radius: at,
        rotation: ap,
        arcAngle: 180
      }), an), au.createRing(aq, {
        fill: an.color
      })]
    },
    renderPointer: function(av) {
      var ao = this,
        at = ao.scale,
        ar = at.ring,
        ak = ar.c,
        aq = ar.r,
        au, an = ao.options,
        aj = new o(ak.x - aq, ak.y - aq, ak.x + aq, ak.y + aq),
        al = aj.center(),
        am = at.slotAngle(at.options.min),
        ap = ad - am;
      if (an.animation !== false) {
        t(an.animation, {
          startAngle: 0,
          center: al,
          reverse: at.options.reverse
        })
      }
      t(an, {
        rotation: [at.slotAngle(an.value) - am, al.x, al.y]
      });
      if (an.shape == e) {
        au = ao._renderArrow(av, aj, al, ap)
      } else {
        au = ao._renderNeedle(av, aj, al, ap)
      }
      return au
    },
    getViewElements: function(al) {
      var ak = this,
        aj = ak.renderPointer(al);
      ak.elements = aj;
      return aj
    }
  });
  var Z = P.extend({
    init: function(aj) {
      var ak = this;
      ak.options = t({}, ak.options, aj);
      ak.options.majorUnit = ak.options.majorUnit || i(ak.options.min, ak.options.max);
      j.fn.init.call(ak, ak.options);
      ak.options.minorUnit = ak.options.minorUnit || ak.options.majorUnit / 10
    },
    options: {
      min: 0,
      max: 100,
      majorTicks: {
        size: 15,
        align: F,
        color: n,
        width: v,
        visible: true
      },
      minorTicks: {
        size: 10,
        align: F,
        color: n,
        width: v,
        visible: true
      },
      startAngle: -30,
      endAngle: 210,
      labels: {
        position: F,
        padding: 2
      }
    },
    reflow: function(aj) {
      var ao = this,
        al = ao.options,
        ak = aj.center(),
        am = L.min(aj.height(), aj.width()) / 2,
        an = ao.ring || new s.Ring(ak, am - al.majorTicks.size, am, al.startAngle, al.endAngle - al.startAngle);
      ao.ring = an;
      ao.box = an.getBBox();
      ao.arrangeLabels()
    },
    slotAngle: function(aq) {
      var am = this.options,
        ap = am.startAngle,
        ao = am.reverse,
        aj = am.endAngle - ap,
        al = am.min,
        ak = am.max,
        an;
      if (ao) {
        an = am.endAngle - (aq - al) / (ak - al) * aj
      } else {
        an = ((aq - al) / (ak - al) * aj) + ap
      }
      return an
    },
    renderTicks: function(aq) {
      var ao = this,
        ap = [],
        aj = ao.ring,
        ak = aj.clone(),
        am = ao.options,
        al = am.minorTicks.size;

      function an(aw, aB, aA, aC, ay) {
        var az = ao.tickAngles(aw, aB),
          at, au, av, ax = ay / aB,
          ar = az.length;
        if (aC) {
          for (at = 0; at < ar; at++) {
            if (at % ax === 0) {
              continue
            }
            av = aw.point(az[at]);
            au = aw.point(az[at], true);
            ap.push(aq.createLine(au.x, au.y, av.x, av.y, {
              align: false,
              stroke: aA.color,
              strokeWidth: aA.width
            }))
          }
        }
      }
      an(aj, am.majorUnit, am.majorTicks, am.majorTicks.visible);
      if (am.labels.position == F) {
        ak.radius(ak.r - al, true)
      } else {
        ak.radius(ak.ir + al)
      }
      an(ak, am.minorUnit, am.minorTicks, am.minorTicks.visible, am.majorUnit);
      return ap
    },
    arrangeLabels: function() {
      var aD = this,
        ax = aD.options,
        aC = aD.ring.clone(),
        aE = aD.tickAngles(aC, ax.majorUnit),
        au = aD.labels,
        ak = au.length,
        av = ax.labels,
        ay = av.padding,
        az = aC.r * 0.05,
        aB = ax.rangeSize = ax.rangeSize || aC.r * 0.1,
        aA = ax.ranges || [],
        ao, an, at, aj, ar, aw, ap, al, am, aq;
      if (typeof aD.options.rangeDistance != "undefined") {
        az = aD.options.rangeDistance
      } else {
        aD.options.rangeDistance = az
      }
      if (av.position === F && aA.length) {
        aC.r -= aB + az;
        aC.ir -= aB + az
      }
      for (ap = 0; ap < ak; ap++) {
        ar = au[ap];
        ao = ar.box.width() / 2;
        an = ar.box.height() / 2;
        aj = aE[ap];
        at = aj * A;
        aq = av.position === F;
        aw = aC.point(aj, aq);
        al = aw.x + (L.cos(at) * (ao + ay) * (aq ? 1 : -1));
        am = aw.y + (L.sin(at) * (an + ay) * (aq ? 1 : -1));
        ar.reflow(new o(al - ao, am - an, al + ao, am + an));
        aD.box.wrap(ar.box)
      }
    },
    tickAngles: function(aq, au) {
      var ar = this,
        al = ar.options,
        ap = al.reverse,
        ao = al.max - al.min,
        aj = aq.angle,
        am = aq.startAngle,
        av = ao / au,
        at = aj / av,
        an = [],
        ak;
      if (ap) {
        am += aj;
        at = -at
      }
      for (ak = 0; ak < av; ak++) {
        an.push(af(am, r));
        am += at
      }
      if (af(am) <= al.endAngle) {
        an.push(am)
      }
      return an
    },
    renderRanges: function(au) {
      var ao = this,
        al = [],
        aj, at, aq = ao.rangeSegments(),
        ar = aq.length,
        am = ao.options.reverse,
        ap, an, ak;
      if (ar) {
        an = ao.getRadius();
        for (ak = 0; ak < ar; ak++) {
          ap = aq[ak];
          aj = ao.slotAngle(ap[am ? "to" : "from"]);
          at = ao.slotAngle(ap[!am ? "to" : "from"]);
          if (at - aj !== 0) {
            al.push(au.createRing(new aa(ao.ring.c, an.inner, an.outer, aj, at - aj), {
              fill: ap.color,
              fillOpacity: ap.opacity,
              zIndex: -1
            }))
          }
        }
      }
      return al
    },
    rangeSegments: function() {
      var al = this,
        aq = al.options,
        at = aq.ranges || [],
        aj = at.length,
        ar, ax, ak = aq.rangePlaceholderColor,
        aw = [],
        av, ap = aq.min,
        ao = aq.max,
        am, an;

      function au(az, aB, ay, aA) {
        return {
          from: az,
          to: aB,
          color: ay,
          opacity: aA
        }
      }
      if (aj) {
        aw.push(au(ap, ao, ak));
        for (am = 0; am < aj; am++) {
          ar = D(at[am], ap, ao);
          ax = aw.length;
          for (an = 0; an < ax; an++) {
            av = aw[an];
            if (av.from <= ar.from && ar.from <= av.to) {
              aw.push(au(ar.from, ar.to, ar.color, ar.opacity));
              if (av.from <= ar.to && ar.to <= av.to) {
                aw.push(au(ar.to, av.to, ak, ar.opacity))
              }
              av.to = ar.from;
              break
            }
          }
        }
      }
      return aw
    },
    getRadius: function() {
      var ap = this,
        ak = ap.options,
        an = ak.rangeSize,
        am = ak.rangeDistance,
        ao = ap.ring,
        aj, al;
      if (ak.labels.position === Q) {
        al = ao.ir - am;
        aj = al - an
      } else {
        al = ao.r;
        aj = al - an;
        ao.r -= an + am;
        ao.ir -= an + am
      }
      return {
        inner: aj,
        outer: al
      }
    },
    getViewElements: function(al) {
      var ak = this,
        aj = q.fn.getViewElements.call(ak, al);
      d(aj, ak.renderRanges(al));
      d(aj, ak.renderTicks(al));
      return aj
    }
  });
  var W = q.extend({
    init: function(aj) {
      q.fn.init.call(this, aj);
      this.render()
    },
    options: {
      margin: {},
      background: "",
      border: {
        color: n,
        width: 0
      },
      minorTicks: {
        align: F
      }
    },
    reflow: function(aj) {
      var ak = this,
        an = ak.scale,
        am = ak.pointer,
        al;
      an.reflow(aj);
      al = an.box.clone();
      am.scale = an;
      am.reflow();
      al.wrap(am.box);
      ak.box = al;
      ak.fitScale(aj);
      ak.alignScale(aj)
    },
    alignScale: function(aj) {
      var an = this,
        ao = an.box.center(),
        ak = aj.center(),
        al = ao.x - ak.x,
        am = ao.y - ak.y,
        aq = an.scale,
        ap = an.pointer;
      aq.ring.c.x -= al;
      aq.ring.c.y -= am;
      aq.reflow(aj);
      ap.reflow();
      an.box = aq.box.clone().wrap(ap.box)
    },
    fitScale: function(aj) {
      var ar = this,
        av = ar.scale,
        au = av.ring,
        at = ar.box,
        aw = L.abs(ar.getDiff(at, aj)),
        ap = af(aw, r),
        al = af(-aw, r),
        aq, ao, am, an, ak = 0;
      while (ak < 100) {
        ak++;
        if (ap != an) {
          aq = ar.getPlotBox(ap, aj, au);
          if (0 <= aq && aq <= 2) {
            break
          }
        }
        if (al != an) {
          am = ar.getPlotBox(al, aj, au);
          if (0 <= am && am <= 2) {
            break
          }
        }
        if (aq > 0 && am > 0) {
          an = ap * 2
        } else {
          if (aq < 0 && am < 0) {
            an = al * 2
          } else {
            an = af(((ap + al) / 2) || 1, r)
          }
        }
        ao = ar.getPlotBox(an, aj, au);
        if (0 <= ao && ao <= 2) {
          break
        }
        if (ao > 0) {
          al = an;
          am = ao
        } else {
          ap = an;
          aq = ao
        }
      }
    },
    getPlotBox: function(ao, aj, am) {
      var ak = this,
        an = ak.scale,
        al = ak.pointer;
      am = am.clone();
      am.r += ao;
      am.ir += ao;
      an.ring = am;
      an.reflow(aj);
      al.scale = an;
      al.reflow();
      ak.box = an.box.clone().wrap(al.box);
      return ak.getDiff(ak.box, aj)
    },
    getDiff: function(ak, aj) {
      return L.min(aj.width() - ak.width(), aj.height() - ak.height())
    },
    render: function() {
      var ak = this,
        aj = ak.options,
        al;
      al = ak.scale = new Z(aj.scale);
      ak.append(ak.scale);
      ak.pointer = new X(al, t({}, aj.pointer, {
        animation: {
          transitions: aj.transitions
        }
      }));
      ak.append(ak.pointer)
    }
  });
  var K = P.extend({
    init: function(aj) {
      var ak = this;
      ak.options = t({}, ak.options, aj);
      ak.options = t({}, ak.options, {
        labels: {
          mirror: ak.options.mirror
        }
      });
      ak.options.majorUnit = ak.options.majorUnit || i(ak.options.min, ak.options.max);
      j.fn.init.call(ak, ak.options);
      ak.options.minorUnit = ak.options.minorUnit || ak.options.majorUnit / 10
    },
    options: {
      min: 0,
      max: 50,
      majorTicks: {
        size: 15,
        align: F,
        color: n,
        width: v,
        visible: true
      },
      minorTicks: {
        size: 10,
        align: F,
        color: n,
        width: v,
        visible: true
      },
      line: {
        width: v
      },
      labels: {
        position: F,
        padding: 2
      },
      mirror: false,
      _alignLines: false
    },
    renderRanges: function(az) {
      var au = this,
        ao = au.options,
        am = ao.min,
        al = ao.max,
        aq = ao.ranges || [],
        ay = ao.vertical,
        an = ao.labels.mirror,
        at = [],
        aj = aq.length,
        ap, aw, ax, ak, ar = ao.rangeSize || ao.minorTicks.size / 2,
        av;
      if (aj) {
        for (ak = 0; ak < aj; ak++) {
          ap = D(aq[ak], am, al);
          av = au.getSlot(ap.from, ap.to);
          aw = ay ? au.lineBox() : av;
          ax = ay ? av : au.lineBox();
          if (ay) {
            aw.x1 -= ar * (an ? -1 : 1)
          } else {
            ax.y2 += ar * (an ? -1 : 1)
          }
          at.push(az.createRect(new o(aw.x1, ax.y1, aw.x2, ax.y2), {
            fill: ap.color,
            fillOpacity: ap.opacity
          }))
        }
      }
      return at
    },
    getViewElements: function(al) {
      var ak = this,
        aj = P.fn.getViewElements.call(ak, al);
      d(aj, ak.renderRanges(al));
      return aj
    }
  });
  var J = T.extend({
    init: function(al, aj) {
      var ak = this;
      T.fn.init.call(ak, al, aj);
      ak.options = t({
        size: ak.pointerSize(),
        track: {
          visible: z(aj.track)
        }
      }, ak.options)
    },
    options: {
      shape: k,
      track: {
        border: {
          width: 1
        }
      },
      color: n,
      border: {
        width: 1
      },
      opacity: 1,
      margin: E(3),
      animation: {
        type: k
      },
      visible: true
    },
    repaint: function() {
      var am = this,
        an = am.scale,
        al = am.options,
        ak = am.element,
        aj = ak._animation;
      if (aj) {
        aj.abort()
      }
      if (al.animation.transitions === false) {
        am.getViewElements(am._view);
        ak.points = am.element.points;
        ak.refresh(C(al.id))
      } else {
        al.animation = t({}, al.animation, {
          endPosition: an.getSlot(an.options.min, al.value),
          reverse: an.options.reverse
        });
        if (al.shape === e) {
          aj = ak._animation = new g(ak, al.animation)
        } else {
          aj = ak._animation = new l(ak, al.animation)
        }
        aj.setup();
        aj.play()
      }
    },
    reflow: function() {
      var am = this,
        al = am.options,
        aq = am.scale,
        ar = aq.lineBox(),
        av = al.track.size || al.size,
        ao = al.size / 2,
        ak = aq.options.mirror,
        aj = E(al.margin),
        aw = aq.options.vertical,
        at = aw ? aj[ak ? "left" : "right"] : aj[ak ? "bottom" : "top"],
        an, ap, au;
      at = ak ? -at : at;
      if (aw) {
        au = new o(ar.x1 + at, ar.y1, ar.x1 + at, ar.y2);
        if (ak) {
          au.x1 -= av
        } else {
          au.x2 += av
        }
        if (al.shape !== k) {
          ap = new o(ar.x2 + at, ar.y1 - ao, ar.x2 + at, ar.y2 + ao);
          an = ap
        }
      } else {
        au = new o(ar.x1, ar.y1 - at, ar.x2, ar.y1 - at);
        if (ak) {
          au.y2 += av
        } else {
          au.y1 -= av
        }
        if (al.shape !== k) {
          ap = new o(ar.x1 - ao, ar.y1 - at, ar.x2 + ao, ar.y1 - at);
          an = ap
        }
      }
      am.trackBox = au;
      am.pointerRangeBox = ap;
      am.box = an || au.clone().pad(al.border.width)
    },
    renderPointer: function(aq) {
      var an = this,
        ao = an.scale,
        am = an.options,
        aj = z(am.border) ? {
          stroke: am.border.width ? am.border.color || am.color : "",
          strokeWidth: am.border.width,
          dashType: am.border.dashType
        } : {}, ak, al = t({
          fill: am.color,
          fillOpacity: am.opacity,
          animation: t(am.animation, {
            startPosition: ao.getSlot(ao.options.min, am.value),
            size: am.size,
            vertical: ao.options.vertical,
            reverse: ao.options.reverse
          }),
          id: am.id,
          zIndex: 2,
          align: false
        }, aj),
        ap = an.pointerShape(am.value);
      if (am.shape === e) {
        al.animation.type = f;
        ak = aq.createPolyline(ap, true, al)
      } else {
        ak = aq.createRect(ap, al)
      }
      return ak
    },
    pointerShape: function(aw) {
      var al = this,
        ak = al.options,
        ap = al.scale,
        au = ap.getSlot(aw, ap.options.min),
        at = ak.size,
        am = al.pointerRangeBox,
        ax = ap.options.vertical,
        aj = at / 2,
        aq, ar = (ap.options.mirror ? -1 : 1),
        ao = ap.options.reverse,
        an, av;
      if (ak.shape == e) {
        if (ax) {
          an = ao ? "y2" : "y1";
          aq = [new S(am.x1, au[an] - aj), new S(am.x1 - ar * at, au[an]), new S(am.x1, au[an] + aj)]
        } else {
          an = ao ? "x1" : "x2";
          aq = [new S(au[an] - aj, am.y2), new S(au[an], am.y2 + ar * at), new S(au[an] + aj, am.y2)]
        }
      } else {
        av = al.trackBox;
        if (ax) {
          aq = new o(av.x1, au.y1, av.x1 + at, au.y2)
        } else {
          aq = new o(au.x1, av.y1, au.x2, av.y1 + at)
        }
      }
      return aq
    },
    pointerSize: function() {
      var ak = this,
        aj = ak.options,
        al = ak.scale,
        an = al.options.majorTicks.size,
        am;
      if (aj.shape === e) {
        am = an * 0.6
      } else {
        am = an * 0.3
      }
      return af(am)
    },
    renderTrack: function(ao) {
      var al = this,
        ak = al.options,
        an = ak.track,
        aj = an.border || {}, am = al.trackBox.clone().pad(aj.width || 0);
      return ao.createRect(am, {
        fill: an.color,
        fillOpacity: an.opacity,
        stroke: aj.width ? aj.color || an.color : "",
        strokeWidth: aj.width,
        dashType: aj.dashType,
        align: false
      })
    },
    getViewElements: function(am) {
      var al = this,
        ak = al.options,
        aj = [];
      al.element = al.renderPointer(am);
      aj.push(al.element);
      if (ak.track.visible && (ak.shape === k || ak.shape === "")) {
        aj.push(al.renderTrack(am))
      }
      al._view = am;
      d(aj, T.fn.getViewElements.call(al, am));
      return aj
    }
  });
  var I = q.extend({
    init: function(aj) {
      q.fn.init.call(this, aj);
      this.render()
    },
    options: {
      plotArea: {
        margin: {},
        background: "",
        border: {
          color: n,
          width: 0
        }
      },
      pointer: {},
      scale: {}
    },
    reflow: function(aj) {
      var ak = this,
        am = ak.scale,
        al = ak.pointer;
      am.reflow(aj);
      al.reflow(aj);
      ak.box = ak.getBox(aj);
      ak.alignElements();
      ak.shrinkElements()
    },
    shrinkElements: function() {
      var aj = this,
        an = aj.scale,
        ak = aj.pointer,
        ao = an.box.clone(),
        al = ak.box,
        am = an.options.vertical ? "y" : "x";
      ao[am + 1] += L.max(ao[am + 1] - al[am + 1], 0);
      ao[am + 2] -= L.max(al[am + 2] - ao[am + 2], 0);
      an.reflow(ao);
      ak.reflow(aj.box)
    },
    getBox: function(aj) {
      var al = this,
        ao = al.scale,
        an = al.pointer,
        ak = aj.center(),
        am = an.box.clone().wrap(ao.box),
        ap;
      if (ao.options.vertical) {
        ap = am.width() / 2;
        am = new o(ak.x - ap, aj.y1, ak.x + ap, aj.y2)
      } else {
        ap = am.height() / 2;
        am = new o(aj.x1, ak.y - ap, aj.x2, ak.y + ap)
      }
      return am
    },
    alignElements: function() {
      var al = this,
        ao = al.scale,
        an = al.pointer,
        ap = ao.box,
        aj = an.box.clone().wrap(ao.box),
        am = al.box,
        ak;
      if (ao.options.vertical) {
        ak = am.center().x - aj.center().x;
        ao.reflow(new o(ap.x1 + ak, am.y1, ap.x2 + ak, am.y2))
      } else {
        ak = am.center().y - aj.center().y;
        ao.reflow(new o(am.x1, ap.y1 + ak, am.x2, ap.y2 + ak))
      }
      an.reflow(al.box)
    },
    render: function() {
      var ak = this,
        aj = ak.options,
        al;
      al = ak.scale = new K(aj.scale);
      ak.append(ak.scale);
      ak.pointer = new J(al, t({}, aj.pointer, {
        animation: {
          transitions: aj.transitions
        }
      }));
      ak.append(ak.pointer)
    },
    getViewElements: function(ao) {
      var an = this,
        am = an.options.plotArea,
        ak = q.fn.getViewElements.call(an, ao),
        aj = am.border || {}, al = [ao.createRect(an.box, {
          fill: am.background,
          stroke: aj.width ? aj.color : "",
          strokeWidth: aj.width,
          dashType: aj.dashType
        })];
      d(al, ak);
      return al
    }
  });
  var B = ai.extend({
    init: function(aj, aq) {
      var ak = this,
        al, ao, an, ap = s.ui.themes || {}, am;
      ai.fn.init.call(ak, aj);
      ak.wrapper = ak.element;
      ak._originalOptions = t({}, aq);
      al = t({}, ak.options, aq);
      an = al.theme;
      am = ap[an] || ap[an.toLowerCase()];
      ao = an && am ? am.gauge : {};
      ak.options = t({}, ao, al);
      ak.element.addClass("k-gauge");
      ak.redraw()
    },
    options: {
      plotArea: {},
      theme: "default",
      renderAs: "",
      pointer: {},
      scale: {},
      gaugeArea: {}
    },
    value: function(al) {
      var aj = this,
        ak = aj._pointers[0];
      if (arguments.length === 0) {
        return ak.value()
      }
      aj.options.pointer.value = al;
      if (aj._view.renderElement) {
        ak.value(al)
      } else {
        aj.redraw()
      }
    },
    redraw: function() {
      var ak = this,
        aj = ak.element,
        al = ak._model = ak._getModel(),
        am;
      ak._plotArea = al._plotArea;
      am = ak._view = s.ViewFactory.current.create(al.options, ak.options.renderAs);
      if (am) {
        am.load(al);
        ak._viewElement = am.renderTo(aj[0])
      }
    },
    getSize: function() {
      return this._getSize()
    },
    _resize: function() {
      var aj = this.options.transitions;
      this.options.transitions = false;
      this.redraw();
      this.options.transitions = aj
    },
    _createModel: function() {
      var aj = this,
        ak = aj.options,
        al = aj._getSize();
      return new ab(t({
        width: al.width,
        height: al.height,
        transitions: ak.transitions
      }, ak.gaugeArea))
    },
    _getSize: function() {
      var ak = this,
        aj = ak.element,
        am = aj.width(),
        al = aj.height();
      if (!am) {
        am = y
      }
      if (!al) {
        al = u
      }
      return {
        width: am,
        height: al
      }
    }
  });
  t(B.fn, s.ExportMixin);
  var V = B.extend({
    init: function(aj, ak) {
      var al = this;
      B.fn.init.call(al, aj, ak);
      G.notify(al, s.ui)
    },
    options: {
      name: "RadialGauge",
      transitions: true,
      gaugeArea: {
        background: ""
      }
    },
    _getModel: function() {
      var aj = this,
        al = aj.options,
        ak = aj._createModel(),
        am;
      am = ak._plotArea = new W(al);
      aj._pointers = [am.pointer];
      ak.append(am);
      ak.reflow();
      return ak
    }
  });
  var H = B.extend({
    init: function(aj, al) {
      var ak = this;
      B.fn.init.call(ak, aj, al);
      G.notify(ak, s.ui)
    },
    options: {
      name: "LinearGauge",
      transitions: true,
      gaugeArea: {
        background: ""
      },
      scale: {
        vertical: true
      }
    },
    _getModel: function() {
      var aj = this,
        al = aj.options,
        ak = aj._createModel(),
        am;
      am = ak._plotArea = new I(al);
      aj._pointers = [am.pointer];
      ak.append(am);
      ak.reflow();
      return ak
    },
    _getSize: function() {
      var ak = this,
        aj = ak.element,
        an = aj.width(),
        al = aj.height(),
        am = ak.options.scale.vertical;
      if (!an) {
        an = am ? x : y
      }
      if (!al) {
        al = am ? u : w
      }
      return {
        width: an,
        height: al
      }
    }
  });

  function D(am, al, ak) {
    var aj = z(am.from) ? am.from : N,
      an = z(am.to) ? am.to : M;
    am.from = L.max(L.min(an, aj), al);
    am.to = L.min(L.max(an, aj), ak);
    return am
  }
  var Y = c(U, ae);
  var h = c(f, g);
  var m = c(k, l);
  s.ui.plugin(V);
  s.ui.plugin(H);
  t(s, {
    Gauge: B,
    RadialGaugePlotArea: W,
    LinearGaugePlotArea: I,
    RadialPointer: X,
    LinearPointer: J,
    LinearScale: K,
    RadialScale: Z,
    RadialPointerAnimationDecorator: Y,
    ArrowPointerAnimationDecorator: h,
    BarIndicatorAnimationDecorator: m
  })
})(window.kendo.jQuery);
kendo_module({
  id: "dataviz.barcode",
  name: "Barcode",
  category: "dataviz",
  description: "Barcode widget",
  depends: ["dataviz.core", "dataviz.svg", "dataviz.canvas"]
});
(function(a, A) {
  var t = window.kendo,
    o = a.extend,
    i = t.deepExtend,
    q = a.inArray,
    s = a.isPlainObject,
    h = t.dataviz,
    B = t.ui.Widget,
    d = h.Box2D,
    z = h.Text,
    l = 300,
    j = 100,
    k = 10,
    v = /^\d+$/,
    b = /^[a-z0-9]+$/i,
    r = "Character '{0}'  is not valid for symbology {1}";

  function p(E, D, C) {
    return E.substring(D, D + C)
  }
  var m = t.Class.extend({
    init: function(C) {
      this.setOptions(C)
    },
    setOptions: function(C) {
      var D = this;
      D.options = o({}, D.options, C);
      D.quietZoneLength = D.options.addQuietZone ? 2 * D.options.quietZoneLength : 0
    },
    encode: function(E, F, C) {
      var D = this;
      if (E !== A) {
        E += ""
      }
      D.initValue(E, F, C);
      if (D.options.addQuietZone) {
        D.addQuietZone()
      }
      D.addData();
      if (D.options.addQuietZone) {
        D.addQuietZone()
      }
      return {
        baseUnit: D.baseUnit,
        pattern: D.pattern
      }
    },
    options: {
      quietZoneLength: k,
      addQuietZone: true,
      addCheckSum: true
    },
    initValue: function() {},
    addQuietZone: function() {
      this.pattern.push(this.options.quietZoneLength || k)
    },
    addData: function() {},
    invalidCharacterError: function(C) {
      throw new Error(t.format(r, C, this.name))
    }
  });
  var n = {};
  var f = m.extend({
    minBaseUnitLength: 0.7,
    addData: function() {
      var D = this,
        E = D.value;
      D.addStart();
      for (var C = 0; C < E.length; C++) {
        D.addCharacter(E.charAt(C))
      }
      if (D.options.addCheckSum) {
        D.pushCheckSum()
      }
      D.addStop();
      D.prepareValues()
    },
    addCharacter: function(C) {
      var E = this,
        D = E.characterMap[C];
      if (!D) {
        E.invalidCharacterError(C)
      }
      E.addBase(D)
    },
    addBase: function() {}
  });
  var g = {
    addCharacter: function(C) {
      var D = this;
      if (D.characterMap[C]) {
        D.addBase(D.characterMap[C])
      } else {
        if (C.charCodeAt(0) > 127) {
          D.invalidCharacterError(C)
        } else {
          D.addExtended(C.charCodeAt(0))
        }
      }
    },
    addExtended: function(C) {
      var G = this,
        F;
      for (var D = 0; D < G.extendedMappings.length; D++) {
        if ((F = G.extendedMappings[D].call(G, C))) {
          for (var E = 0; E < F.length; E++) {
            G.addBase(F[E])
          }
          G.dataLength += F.length - 1;
          return
        }
      }
    },
    extendedMappings: [function(C) {
      if (97 <= C && C <= 122) {
        var D = this;
        return [D.characterMap[D.shiftCharacters[0]], D.characterMap[String.fromCharCode(C - 32)]]
      }
    }, function(C) {
      if (33 <= C && C <= 58) {
        var D = this;
        return [D.characterMap[D.shiftCharacters[1]], D.characterMap[String.fromCharCode(C + 32)]]
      }
    }, function(C) {
      if (1 <= C && C <= 26) {
        var D = this;
        return [D.characterMap[D.shiftCharacters[2]], D.characterMap[String.fromCharCode(C + 64)]]
      }
    }, function(C) {
      var G = this,
        F, D;
      if (!G.specialAsciiCodes[C]) {
        D = Math.floor(C / 32) * 6 + (C - 27) % 32 + 64;
        F = [G.characterMap[G.shiftCharacters[3]], G.characterMap[String.fromCharCode(D)]]
      } else {
        F = [];
        for (var E = 0; E < G.specialAsciiCodes[C].length; E++) {
          F.push(G.characterMap[G.shiftCharacters[3]]);
          F.push(G.characterMap[G.specialAsciiCodes[C][E]])
        }
      }
      return F
    }],
    specialAsciiCodes: {
      "0": ["U"],
      "64": ["V"],
      "96": ["W"],
      "127": ["T", "X", "Y", "Z"]
    },
    shiftValuesAsciiCodes: {
      "39": 36,
      "40": 47,
      "41": 43,
      "42": 37
    },
    characterMap: {
      "+": false,
      "/": false,
      "$": false,
      "%": false
    },
    shiftCharacters: ["SHIFT0", "SHIFT1", "SHIFT2", "SHIFT3"]
  };
  n.code39 = f.extend({
    name: "Code 39",
    checkSumMod: 43,
    minRatio: 2.5,
    maxRatio: 3,
    gapWidth: 1,
    splitCharacter: "|",
    initValue: function(E, F, C) {
      var D = this;
      D.width = F;
      D.height = C;
      D.value = E;
      D.dataLength = E.length;
      D.pattern = [];
      D.patternString = ""
    },
    prepareValues: function() {
      var I = this,
        C, D = I.minBaseUnitLength,
        H = I.maxRatio,
        F = I.minRatio,
        E = Math.max(0.15 * I.width, 24);
      if (I.height < E) {
        throw new Error("Insufficient Height. The minimum height for value: " + I.value + " is: " + E)
      }
      while ((C = I.getBaseUnit(H)) < D && H > F) {
        H = parseFloat((H - 0.1).toFixed(1))
      }
      if (C < D) {
        var G = Math.ceil(I.getBaseWidth(F) * D);
        throw new Error("Insufficient width. The minimum width for value: " + I.value + " is: " + G)
      }
      I.ratio = H;
      I.baseUnit = C;
      I.patternString = I.patternString.substring(0, I.patternString.length - 1);
      I.pattern = I.pattern.concat(I.patternString.replace(/ratio/g, H).split(I.splitCharacter))
    },
    getBaseUnit: function(C) {
      return this.width / this.getBaseWidth(C)
    },
    getBaseWidth: function(D) {
      var E = this,
        C = 3 * (D + 2);
      return E.quietZoneLength + C * (E.dataLength + 2) + E.gapWidth * (E.dataLength + 1)
    },
    addStart: function() {
      var C = this;
      C.addPattern(C.characterMap.START.pattern);
      C.addCharacterGap()
    },
    addBase: function(C) {
      this.addPattern(C.pattern);
      this.addCharacterGap()
    },
    addStop: function() {
      this.addPattern(this.characterMap.START.pattern)
    },
    addPattern: function(D) {
      for (var C = 0; C < D.length; C++) {
        this.patternString += this.patternMappings[D.charAt(C)]
      }
    },
    addCharacterGap: function() {
      var C = this;
      C.patternString += C.gapWidth + C.splitCharacter
    },
    patternMappings: {
      b: "1|",
      w: "1|",
      B: "ratio|",
      W: "ratio|"
    },
    characterMap: {
      "0": {
        pattern: "bwbWBwBwb",
        value: 0
      },
      "1": {
        pattern: "BwbWbwbwB",
        value: 1
      },
      "2": {
        pattern: "bwBWbwbwB",
        value: 2
      },
      "3": {
        pattern: "BwBWbwbwb",
        value: 3
      },
      "4": {
        pattern: "bwbWBwbwB",
        value: 4
      },
      "5": {
        pattern: "BwbWBwbwb",
        value: 5
      },
      "6": {
        pattern: "bwBWBwbwb",
        value: 6
      },
      "7": {
        pattern: "bwbWbwBwB",
        value: 7
      },
      "8": {
        pattern: "BwbWbwBwb",
        value: 8
      },
      "9": {
        pattern: "bwBWbwBwb",
        value: 9
      },
      A: {
        pattern: "BwbwbWbwB",
        value: 10
      },
      B: {
        pattern: "bwBwbWbwB",
        value: 11
      },
      C: {
        pattern: "BwBwbWbwb",
        value: 12
      },
      D: {
        pattern: "bwbwBWbwB",
        value: 13
      },
      E: {
        pattern: "BwbwBWbwb",
        value: 14
      },
      F: {
        pattern: "bwBwBWbwb",
        value: 15
      },
      G: {
        pattern: "bwbwbWBwB",
        value: 16
      },
      H: {
        pattern: "BwbwbWBwb",
        value: 17
      },
      I: {
        pattern: "bwBwbWBwb",
        value: 18
      },
      J: {
        pattern: "bwbwBWBwb",
        value: 19
      },
      K: {
        pattern: "BwbwbwbWB",
        value: 20
      },
      L: {
        pattern: "bwBwbwbWB",
        value: 21
      },
      M: {
        pattern: "BwBwbwbWb",
        value: 22
      },
      N: {
        pattern: "bwbwBwbWB",
        value: 23
      },
      O: {
        pattern: "BwbwBwbWb",
        value: 24
      },
      P: {
        pattern: "bwBwBwbWb",
        value: 25
      },
      Q: {
        pattern: "bwbwbwBWB",
        value: 26
      },
      R: {
        pattern: "BwbwbwBWb",
        value: 27
      },
      S: {
        pattern: "bwBwbwBWb",
        value: 28
      },
      T: {
        pattern: "bwbwBwBWb",
        value: 29
      },
      U: {
        pattern: "BWbwbwbwB",
        value: 30
      },
      V: {
        pattern: "bWBwbwbwB",
        value: 31
      },
      W: {
        pattern: "BWBwbwbwb",
        value: 32
      },
      X: {
        pattern: "bWbwBwbwB",
        value: 33
      },
      Y: {
        pattern: "BWbwBwbwb",
        value: 34
      },
      Z: {
        pattern: "bWBwBwbwb",
        value: 35
      },
      "-": {
        pattern: "bWbwbwBwB",
        value: 36
      },
      ".": {
        pattern: "BWbwbwBwb",
        value: 37
      },
      " ": {
        pattern: "bWBwbwBwb",
        value: 38
      },
      "$": {
        pattern: "bWbWbWbwb",
        value: 39
      },
      "/": {
        pattern: "bWbWbwbWb",
        value: 40
      },
      "+": {
        pattern: "bWbwbWbWb",
        value: 41
      },
      "%": {
        pattern: "bwbWbWbWb",
        value: 42
      },
      START: {
        pattern: "bWbwBwBwb"
      }
    },
    options: {
      addCheckSum: false
    }
  });
  n.code39extended = n.code39.extend(i({}, g, {
    name: "Code 39 extended",
    characterMap: {
      SHIFT0: {
        pattern: "bWbwbWbWb",
        value: 41
      },
      SHIFT1: {
        pattern: "bWbWbwbWb",
        value: 40
      },
      SHIFT2: {
        pattern: "bWbWbWbwb",
        value: 39
      },
      SHIFT3: {
        pattern: "bwbWbWbWb",
        value: 42
      }
    }
  }));
  n.code93 = f.extend({
    name: "Code 93",
    cCheckSumTotal: 20,
    kCheckSumTotal: 15,
    checkSumMod: 47,
    initValue: function(E, F, C) {
      var D = this;
      D.value = E;
      D.width = F;
      D.height = C;
      D.pattern = [];
      D.values = [];
      D.dataLength = E.length
    },
    prepareValues: function() {
      var D = this,
        C = Math.max(0.15 * D.width, 24);
      if (D.height < C) {
        throw new Error("Insufficient Height")
      }
      D.setBaseUnit();
      if (D.baseUnit < D.minBaseUnitLength) {
        throw new Error("Insufficient Width")
      }
    },
    setBaseUnit: function() {
      var D = this,
        C = 2;
      D.baseUnit = D.width / (9 * (D.dataLength + 2 + C) + D.quietZoneLength + 1)
    },
    addStart: function() {
      var C = this.characterMap.START.pattern;
      this.addPattern(C)
    },
    addStop: function() {
      var C = this;
      C.addStart();
      C.pattern.push(C.characterMap.TERMINATION_BAR)
    },
    addBase: function(C) {
      this.addPattern(C.pattern);
      this.values.push(C.value)
    },
    pushCheckSum: function() {
      var F = this,
        D = F._getCheckValues(),
        C;
      F.checksum = D.join("");
      for (var E = 0; E < D.length; E++) {
        C = F.characterMap[F._findCharacterByValue(D[E])];
        F.addPattern(C.pattern)
      }
    },
    _getCheckValues: function() {
      var G = this,
        H = G.values,
        F = H.length,
        I = 0,
        C, E, D;
      for (D = F - 1; D >= 0; D--) {
        I += G.weightedValue(H[D], F - D, G.cCheckSumTotal)
      }
      C = I % G.checkSumMod;
      I = G.weightedValue(C, 1, G.kCheckSumTotal);
      for (D = F - 1; D >= 0; D--) {
        I += G.weightedValue(H[D], F - D + 1, G.kCheckSumTotal)
      }
      E = I % G.checkSumMod;
      return [C, E]
    },
    _findCharacterByValue: function(D) {
      for (var C in this.characterMap) {
        if (this.characterMap[C].value === D) {
          return C
        }
      }
    },
    weightedValue: function(E, C, D) {
      return (C % D || D) * E
    },
    addPattern: function(D) {
      var E;
      for (var C = 0; C < D.length; C++) {
        E = parseInt(D.charAt(C), 10);
        this.pattern.push(E)
      }
    },
    characterMap: {
      "0": {
        pattern: "131112",
        value: 0
      },
      "1": {
        pattern: "111213",
        value: 1
      },
      "2": {
        pattern: "111312",
        value: 2
      },
      "3": {
        pattern: "111411",
        value: 3
      },
      "4": {
        pattern: "121113",
        value: 4
      },
      "5": {
        pattern: "121212",
        value: 5
      },
      "6": {
        pattern: "121311",
        value: 6
      },
      "7": {
        pattern: "111114",
        value: 7
      },
      "8": {
        pattern: "131211",
        value: 8
      },
      "9": {
        pattern: "141111",
        value: 9
      },
      A: {
        pattern: "211113",
        value: 10
      },
      B: {
        pattern: "211212",
        value: 11
      },
      C: {
        pattern: "211311",
        value: 12
      },
      D: {
        pattern: "221112",
        value: 13
      },
      E: {
        pattern: "221211",
        value: 14
      },
      F: {
        pattern: "231111",
        value: 15
      },
      G: {
        pattern: "112113",
        value: 16
      },
      H: {
        pattern: "112212",
        value: 17
      },
      I: {
        pattern: "112311",
        value: 18
      },
      J: {
        pattern: "122112",
        value: 19
      },
      K: {
        pattern: "132111",
        value: 20
      },
      L: {
        pattern: "111123",
        value: 21
      },
      M: {
        pattern: "111222",
        value: 22
      },
      N: {
        pattern: "111321",
        value: 23
      },
      O: {
        pattern: "121122",
        value: 24
      },
      P: {
        pattern: "131121",
        value: 25
      },
      Q: {
        pattern: "212112",
        value: 26
      },
      R: {
        pattern: "212211",
        value: 27
      },
      S: {
        pattern: "211122",
        value: 28
      },
      T: {
        pattern: "211221",
        value: 29
      },
      U: {
        pattern: "221121",
        value: 30
      },
      V: {
        pattern: "222111",
        value: 31
      },
      W: {
        pattern: "112122",
        value: 32
      },
      X: {
        pattern: "112221",
        value: 33
      },
      Y: {
        pattern: "122121",
        value: 34
      },
      Z: {
        pattern: "123111",
        value: 35
      },
      "-": {
        pattern: "121131",
        value: 36
      },
      ".": {
        pattern: "311112",
        value: 37
      },
      " ": {
        pattern: "311211",
        value: 38
      },
      "$": {
        pattern: "321111",
        value: 39
      },
      "/": {
        pattern: "112131",
        value: 40
      },
      "+": {
        pattern: "113121",
        value: 41
      },
      "%": {
        pattern: "211131",
        value: 42
      },
      SHIFT0: {
        pattern: "122211",
        value: 46
      },
      SHIFT1: {
        pattern: "311121",
        value: 45
      },
      SHIFT2: {
        pattern: "121221",
        value: 43
      },
      SHIFT3: {
        pattern: "312111",
        value: 44
      },
      START: {
        pattern: "111141"
      },
      TERMINATION_BAR: "1"
    }
  });
  n.code93extended = n.code93.extend(i({}, g, {
    name: "Code 93 extended",
    pushCheckSum: function() {
      var E = this,
        C = E._getCheckValues(),
        F;
      E.checksum = C.join("");
      for (var D = 0; D < C.length; D++) {
        F = C[D];
        if (E.shiftValuesAsciiCodes[F]) {
          E.addExtended(E.shiftValuesAsciiCodes[F])
        } else {
          E.addPattern(E.characterMap[E._findCharacterByValue(F)].pattern)
        }
      }
    }
  }));
  var w = t.Class.extend({
    init: function(C) {
      this.encoding = C
    },
    addStart: function() {},
    is: function() {},
    move: function() {},
    pushState: function() {}
  });
  var x = w.extend({
    FNC4: "FNC4",
    init: function(C, D) {
      var E = this;
      E.encoding = C;
      E.states = D;
      E._initMoves(D)
    },
    addStart: function() {
      this.encoding.addPattern(this.START)
    },
    is: function(E, D) {
      var C = E.charCodeAt(D);
      return this.isCode(C)
    },
    move: function(C) {
      var E = this,
        D = 0;
      while (!E._moves[D].call(E, C) && D < E._moves.length) {
        D++
      }
    },
    pushState: function(D) {
      var H = this,
        G = H.states,
        I = D.value,
        E = I.length,
        C;
      if (q("C", G) >= 0) {
        var F = I.substr(D.index).match(/\d{4,}/g);
        if (F) {
          E = I.indexOf(F[0], D.index)
        }
      }
      while ((C = D.value.charCodeAt(D.index)) >= 0 && H.isCode(C) && D.index < E) {
        H.encoding.addPattern(H.getValue(C));
        D.index++
      }
    },
    _initMoves: function(C) {
      var D = this;
      D._moves = [];
      if (q(D.FNC4, C) >= 0) {
        D._moves.push(D._moveFNC)
      }
      if (q(D.shiftKey, C) >= 0) {
        D._moves.push(D._shiftState)
      }
      D._moves.push(D._moveState)
    },
    _moveFNC: function(C) {
      if (C.fnc) {
        C.fnc = false;
        return C.previousState == this.key
      }
    },
    _shiftState: function(C) {
      var D = this;
      if (C.previousState == D.shiftKey && (C.index + 1 >= C.value.length || D.encoding[D.shiftKey].is(C.value, C.index + 1))) {
        D.encoding.addPattern(D.SHIFT);
        C.shifted = true;
        return true
      }
    },
    _moveState: function() {
      this.encoding.addPattern(this.MOVE);
      return true
    },
    SHIFT: 98
  });
  var y = {};
  y.A = x.extend({
    key: "A",
    shiftKey: "B",
    isCode: function(C) {
      return 0 <= C && C < 96
    },
    getValue: function(C) {
      if (C < 32) {
        return C + 64
      }
      return C - 32
    },
    MOVE: 101,
    START: 103
  });
  y.B = x.extend({
    key: "B",
    shiftKey: "A",
    isCode: function(C) {
      return 32 <= C && C < 128
    },
    getValue: function(C) {
      return C - 32
    },
    MOVE: 100,
    START: 104
  });
  y.C = w.extend({
    key: "C",
    addStart: function() {
      this.encoding.addPattern(this.START)
    },
    is: function(E, C) {
      var D = p(E, C, 4);
      return (C + 4 <= E.length || E.length == 2) && v.test(D)
    },
    move: function() {
      this.encoding.addPattern(this.MOVE)
    },
    pushState: function(D) {
      var C;
      while ((C = p(D.value, D.index, 2)) && v.test(C) && C.length == 2) {
        this.encoding.addPattern(parseInt(C, 10));
        D.index += 2
      }
    },
    getValue: function(C) {
      return C
    },
    MOVE: 99,
    START: 105
  });
  y.FNC4 = w.extend({
    key: "FNC4",
    dependentStates: ["A", "B"],
    init: function(C, D) {
      this.encoding = C;
      this._initSubStates(D)
    },
    addStart: function(D) {
      var C = D.value.charCodeAt(0) - 128,
        E = this._getSubState(C);
      this.encoding[E].addStart()
    },
    is: function(E, D) {
      var C = E.charCodeAt(D);
      return this.isCode(C)
    },
    isCode: function(C) {
      return 128 <= C && C < 256
    },
    pushState: function(E) {
      var H = this,
        G = H._initSubState(E),
        D = H.encoding,
        F = G.value.length;
      E.index += F;
      if (F < 3) {
        var C;
        for (; G.index < F; G.index++) {
          C = G.value.charCodeAt(G.index);
          G.state = H._getSubState(C);
          if (G.previousState != G.state) {
            G.previousState = G.state;
            D[G.state].move(G)
          }
          D.addPattern(D[G.state].MOVE);
          D.addPattern(D[G.state].getValue(C))
        }
      } else {
        if (G.state != G.previousState) {
          D[G.state].move(G)
        }
        H._pushStart(G);
        D.pushData(G, H.subStates);
        if (E.index < E.value.length) {
          H._pushStart(G)
        }
      }
      E.fnc = true;
      E.state = G.state
    },
    _pushStart: function(C) {
      var D = this;
      D.encoding.addPattern(D.encoding[C.state].MOVE);
      D.encoding.addPattern(D.encoding[C.state].MOVE)
    },
    _initSubState: function(C) {
      var E = this,
        D = {
          value: E._getAll(C.value, C.index),
          index: 0
        };
      D.state = E._getSubState(D.value.charCodeAt(0));
      D.previousState = C.previousState == E.key ? D.state : C.previousState;
      return D
    },
    _initSubStates: function(D) {
      var E = this;
      E.subStates = [];
      for (var C = 0; C < D.length; C++) {
        if (q(D[C], E.dependentStates) >= 0) {
          E.subStates.push(D[C])
        }
      }
    },
    _getSubState: function(C) {
      var E = this;
      for (var D = 0; D < E.subStates.length; D++) {
        if (E.encoding[E.subStates[D]].isCode(C)) {
          return E.subStates[D]
        }
      }
    },
    _getAll: function(F, D) {
      var C, E = "";
      while ((C = F.charCodeAt(D++)) && this.isCode(C)) {
        E += String.fromCharCode(C - 128)
      }
      return E
    }
  });
  y.FNC1 = w.extend({
    key: "FNC1",
    startState: "C",
    dependentStates: ["C", "B"],
    startAI: "(",
    endAI: ")",
    init: function(C, D) {
      this.encoding = C;
      this.states = D
    },
    addStart: function() {
      this.encoding[this.startState].addStart()
    },
    is: function() {
      return q(this.key, this.states) >= 0
    },
    pushState: function(E) {
      var K = this,
        D = K.encoding,
        L = E.value.replace(/\s/g, ""),
        H = new RegExp("[" + K.startAI + K.endAI + "]", "g"),
        F = E.index,
        J = {
          state: K.startState
        }, C, G, I;
      D.addPattern(K.START);
      while (true) {
        J.index = 0;
        I = L.charAt(F) === K.startAI ? 2 : 0;
        C = I > 0 ? K.getBySeparator(L, F) : K.getByLength(L, F);
        if (C.ai.length) {
          G = F + I + C.id.length + C.ai.length
        } else {
          G = L.indexOf(K.startAI, F + 1);
          if (G < 0) {
            if (F + C.ai.max + C.id.length + I < L.length) {
              throw new Error("Separators are required after variable length identifiers")
            }
            G = L.length
          }
        }
        J.value = L.substring(F, G).replace(H, "");
        K.validate(C, J.value);
        D.pushData(J, K.dependentStates);
        if (G >= L.length) {
          break
        }
        F = G;
        if (J.state != K.startState) {
          D[K.startState].move(J);
          J.state = K.startState
        }
        if (!C.ai.length) {
          D.addPattern(K.START)
        }
      }
      E.index = E.value.length
    },
    validate: function(E, F) {
      var D = F.substr(E.id.length),
        C = E.ai;
      if (!C.type && !v.test(D)) {
        throw new Error("Application identifier " + E.id + " is numeric only but contains non numeric character(s).")
      }
      if (C.type == "alphanumeric" && !b.test(D)) {
        throw new Error("Application identifier " + E.id + " is alphanumeric only but contains non alphanumeric character(s).")
      }
      if (C.length && C.length !== D.length) {
        throw new Error("Application identifier " + E.id + " must be " + C.length + " characters long.")
      }
      if (C.min && C.min > D.length) {
        throw new Error("Application identifier " + E.id + " must be at least " + C.min + " characters long.")
      }
      if (C.max && C.max < D.length) {
        throw new Error("Application identifier " + E.id + " must be at most " + C.max + " characters long.")
      }
    },
    getByLength: function(H, F) {
      var G = this,
        E, C;
      for (var D = 2; D <= 4; D++) {
        E = p(H, F, D);
        C = G.getAI(E) || G.getAI(E.substring(0, E.length - 1));
        if (C) {
          return {
            id: E,
            ai: C
          }
        }
      }
      G.unsupportedAIError(E)
    },
    unsupportedAIError: function(C) {
      throw new Error(t.format("'{0}' is not a supported Application Identifier"), C)
    },
    getBySeparator: function(I, F) {
      var H = this,
        G = I.indexOf(H.startAI, F),
        D = I.indexOf(H.endAI, G),
        E = I.substring(G + 1, D),
        C = H.getAI(E) || H.getAI(E.substr(E.length - 1));
      if (!C) {
        H.unsupportedAIError(E)
      }
      return {
        ai: C,
        id: E
      }
    },
    getAI: function(E) {
      var C = this.applicationIdentifiers,
        G = C.multiKey;
      if (C[E]) {
        return C[E]
      }
      for (var D = 0; D < G.length; D++) {
        if (G[D].ids && q(E, G[D].ids) >= 0) {
          return G[D].type
        } else {
          if (G[D].ranges) {
            var H = G[D].ranges;
            for (var F = 0; F < H.length; F++) {
              if (H[F][0] <= E && E <= H[F][1]) {
                return G[D].type
              }
            }
          }
        }
      }
    },
    applicationIdentifiers: {
      "22": {
        max: 29,
        type: "alphanumeric"
      },
      "402": {
        length: 17
      },
      "7004": {
        max: 4,
        type: "alphanumeric"
      },
      "242": {
        max: 6,
        type: "alphanumeric"
      },
      "8020": {
        max: 25,
        type: "alphanumeric"
      },
      "703": {
        min: 3,
        max: 30,
        type: "alphanumeric"
      },
      "8008": {
        min: 8,
        max: 12,
        type: "alphanumeric"
      },
      "253": {
        min: 13,
        max: 17,
        type: "alphanumeric"
      },
      "8003": {
        min: 14,
        max: 30,
        type: "alphanumeric"
      },
      multiKey: [{
        ids: ["15", "17", "8005", "8100"],
        ranges: [
          [11, 13],
          [310, 316],
          [320, 336],
          [340, 369]
        ],
        type: {
          length: 6
        }
      }, {
        ids: ["240", "241", "250", "251", "400", "401", "403", "7002", "8004", "8007", "8110"],
        ranges: [
          [90 - 99]
        ],
        type: {
          max: 30,
          type: "alphanumeric"
        }
      }, {
        ids: ["7001"],
        ranges: [
          [410, 414]
        ],
        type: {
          length: 13
        }
      }, {
        ids: ["10", "21", "254", "420", "8002"],
        type: {
          max: 20,
          type: "alphanumeric"
        }
      }, {
        ids: ["00", "8006", "8017", "8018"],
        type: {
          length: 18
        }
      }, {
        ids: ["01", "02", "8001"],
        type: {
          length: 14
        }
      }, {
        ids: ["422"],
        ranges: [
          [424, 426]
        ],
        type: {
          length: 3
        }
      }, {
        ids: ["20", "8102"],
        type: {
          length: 2
        }
      }, {
        ids: ["30", "37"],
        type: {
          max: 8,
          type: "alphanumeric"
        }
      }, {
        ids: ["390", "392"],
        type: {
          max: 15,
          type: "alphanumeric"
        }
      }, {
        ids: ["421", "423"],
        type: {
          min: 3,
          max: 15,
          type: "alphanumeric"
        }
      }, {
        ids: ["391", "393"],
        type: {
          min: 3,
          max: 18,
          type: "alphanumeric"
        }
      }, {
        ids: ["7003", "8101"],
        type: {
          length: 10
        }
      }]
    },
    START: 102
  });
  var e = m.extend({
    init: function(C) {
      m.fn.init.call(this, C);
      this._initStates()
    },
    _initStates: function() {
      var D = this;
      for (var C = 0; C < D.states.length; C++) {
        D[D.states[C]] = new y[D.states[C]](D, D.states)
      }
    },
    initValue: function(E, F, C) {
      var D = this;
      D.pattern = [];
      D.value = E;
      D.width = F;
      D.height = C;
      D.checkSum = 0;
      D.totalUnits = 0;
      D.index = 0;
      D.position = 1
    },
    addData: function() {
      var D = this,
        C = {
          value: D.value,
          index: 0,
          state: ""
        };
      if (D.value.length === 0) {
        return
      }
      C.state = C.previousState = D.getNextState(C, D.states);
      D.addStart(C);
      D.pushData(C, D.states);
      D.addCheckSum();
      D.addStop();
      D.setBaseUnit()
    },
    pushData: function(C, D) {
      var F = this;
      while (true) {
        F[C.state].pushState(C);
        if (C.index >= C.value.length) {
          break
        }
        if (!C.shifted) {
          C.previousState = C.state;
          C.state = F.getNextState(C, D);
          F[C.state].move(C)
        } else {
          var E = C.state;
          C.state = C.previousState;
          C.previousState = E;
          C.shifted = false
        }
      }
    },
    addStart: function(C) {
      this[C.state].addStart(C);
      this.position = 1
    },
    addCheckSum: function() {
      var C = this;
      C.checksum = C.checkSum % 103;
      C.addPattern(C.checksum)
    },
    addStop: function() {
      this.addPattern(this.STOP)
    },
    setBaseUnit: function() {
      var C = this;
      C.baseUnit = C.width / (C.totalUnits + C.quietZoneLength)
    },
    addPattern: function(C) {
      var F = this,
        E = F.characterMap[C].toString(),
        G;
      for (var D = 0; D < E.length; D++) {
        G = parseInt(E.charAt(D), 10);
        F.pattern.push(G);
        F.totalUnits += G
      }
      F.checkSum += C * F.position++
    },
    getNextState: function(C, E) {
      for (var D = 0; D < E.length; D++) {
        if (this[E[D]].is(C.value, C.index)) {
          return E[D]
        }
      }
      this.invalidCharacterError(C.value.charAt(C.index))
    },
    characterMap: [212222, 222122, 222221, 121223, 121322, 131222, 122213, 122312, 132212, 221213, 221312, 231212, 112232, 122132, 122231, 113222, 123122, 123221, 223211, 221132, 221231, 213212, 223112, 312131, 311222, 321122, 321221, 312212, 322112, 322211, 212123, 212321, 232121, 111323, 131123, 131321, 112313, 132113, 132311, 211313, 231113, 231311, 112133, 112331, 132131, 113123, 113321, 133121, 313121, 211331, 231131, 213113, 213311, 213131, 311123, 311321, 331121, 312113, 312311, 332111, 314111, 221411, 431111, 111224, 111422, 121124, 121421, 141122, 141221, 112214, 112412, 122114, 122411, 142112, 142211, 241211, 221114, 413111, 241112, 134111, 111242, 121142, 121241, 114212, 124112, 124211, 411212, 421112, 421211, 212141, 214121, 412121, 111143, 111341, 131141, 114113, 114311, 411113, 411311, 113141, 114131, 311141, 411131, 211412, 211214, 211232, 2331112],
    STOP: 106
  });
  n.code128a = e.extend({
    name: "Code 128 A",
    states: ["A"]
  });
  n.code128b = e.extend({
    name: "Code 128 B",
    states: ["B"]
  });
  n.code128c = e.extend({
    name: "Code 128 C",
    states: ["C"]
  });
  n.code128 = e.extend({
    name: "Code 128",
    states: ["C", "B", "A", "FNC4"]
  });
  n["gs1-128"] = e.extend({
    name: "Code GS1-128",
    states: ["FNC1", "C", "B"]
  });
  var u = m.extend({
    initValue: function(D, E) {
      var C = this;
      C.pattern = [];
      C.value = D;
      C.checkSumLength = 0;
      C.width = E
    },
    setBaseUnit: function() {
      var D = this,
        C = 7;
      D.baseUnit = D.width / (12 * (D.value.length + D.checkSumLength) + D.quietZoneLength + C)
    },
    addData: function() {
      var D = this,
        E = D.value;
      D.addPattern(D.START);
      for (var C = 0; C < E.length; C++) {
        D.addCharacter(E.charAt(C))
      }
      if (D.options.addCheckSum) {
        D.addCheckSum()
      }
      D.addPattern(D.STOP);
      D.setBaseUnit()
    },
    addCharacter: function(C) {
      var E = this,
        D = E.characterMap[C];
      if (!D) {
        E.invalidCharacterError(C)
      }
      E.addPattern(D)
    },
    addPattern: function(D) {
      for (var C = 0; C < D.length; C++) {
        this.pattern.push(parseInt(D.charAt(C), 10))
      }
    },
    addCheckSum: function() {
      var F = this,
        C = F.checkSums[F.checkSumType],
        D;
      D = C.call(F.checkSums, F.value);
      F.checksum = D.join("");
      for (var E = 0; E < D.length; E++) {
        F.checkSumLength++;
        F.addPattern(F.characterMap[D[E]])
      }
    },
    checkSums: {
      Modulo10: function(H) {
        var C = [0, ""],
          F = H.length % 2,
          E, D, G;
        for (E = 0; E < H.length; E++) {
          C[(E + F) % 2] += parseInt(H.charAt(E), 10)
        }
        G = C[0];
        D = (C[1] * 2).toString();
        for (E = 0; E < D.length; E++) {
          G += parseInt(D.charAt(E), 10)
        }
        return [(10 - (G % 10)) % 10]
      },
      Modulo11: function(G) {
        var I = 0,
          F = 11,
          E = G.length,
          H, C;
        for (var D = 0; D < E; D++) {
          H = ((E - D) % 6 || 6) + 1;
          I += H * G.charAt(D)
        }
        C = (F - I % F) % F;
        if (C != 10) {
          return [C]
        }
        return [1, 0]
      },
      Modulo11Modulo10: function(E) {
        var C = this.Modulo11(E),
          D;
        D = E + C[0];
        return C.concat(this.Modulo10(D))
      },
      Modulo10Modulo10: function(E) {
        var C = this.Modulo10(E),
          D;
        D = E + C[0];
        return C.concat(this.Modulo10(D))
      }
    },
    characterMap: ["12121212", "12121221", "12122112", "12122121", "12211212", "12211221", "12212112", "12212121", "21121212", "21121221"],
    START: "21",
    STOP: "121",
    checkSumType: ""
  });
  n.msimod10 = u.extend({
    name: "MSI Modulo10",
    checkSumType: "Modulo10"
  });
  n.msimod11 = u.extend({
    name: "MSI Modulo11",
    checkSumType: "Modulo11"
  });
  n.msimod1110 = u.extend({
    name: "MSI Modulo11 Modulo10",
    checkSumType: "Modulo11Modulo10"
  });
  n.msimod1010 = u.extend({
    name: "MSI Modulo10 Modulo10",
    checkSumType: "Modulo10Modulo10"
  });
  n.code11 = m.extend({
    name: "Code 11",
    cCheckSumTotal: 10,
    kCheckSumTotal: 9,
    kCheckSumMinLength: 10,
    checkSumMod: 11,
    DASH_VALUE: 10,
    DASH: "-",
    START: "112211",
    STOP: "11221",
    initValue: function(D, E) {
      var C = this;
      C.pattern = [];
      C.value = D;
      C.width = E;
      C.totalUnits = 0
    },
    addData: function() {
      var D = this;
      var E = D.value;
      D.addPattern(D.START);
      for (var C = 0; C < E.length; C++) {
        D.addCharacter(E.charAt(C))
      }
      if (D.options.addCheckSum) {
        D.addCheckSum()
      }
      D.addPattern(D.STOP);
      D.setBaseUnit()
    },
    setBaseUnit: function() {
      var C = this;
      C.baseUnit = C.width / (C.totalUnits + C.quietZoneLength)
    },
    addCheckSum: function() {
      var F = this,
        G = F.value,
        E = G.length,
        C;
      C = F.getWeightedSum(G, E, F.cCheckSumTotal) % F.checkSumMod;
      F.checksum = C + "";
      F.addPattern(F.characterMap[C]);
      E++;
      if (E >= F.kCheckSumMinLength) {
        var D = (C + F.getWeightedSum(G, E, F.kCheckSumTotal)) % F.checkSumMod;
        F.checksum += D;
        F.addPattern(F.characterMap[D])
      }
    },
    getWeightedSum: function(F, D, E) {
      var G = 0;
      for (var C = 0; C < F.length; C++) {
        G += this.weightedValue(this.getValue(F.charAt(C)), D, C, E)
      }
      return G
    },
    weightedValue: function(F, D, C, E) {
      var G = (D - C) % E || E;
      return G * F
    },
    getValue: function(C) {
      var D = this;
      if (!isNaN(C)) {
        return parseInt(C, 10)
      } else {
        if (C !== D.DASH) {
          D.invalidCharacterError(C)
        }
      }
      return D.DASH_VALUE
    },
    addCharacter: function(C) {
      var E = this,
        F = E.getValue(C),
        D = E.characterMap[F];
      E.addPattern(D)
    },
    addPattern: function(D) {
      var E;
      for (var C = 0; C < D.length; C++) {
        E = parseInt(D.charAt(C), 10);
        this.pattern.push(E);
        this.totalUnits += E
      }
    },
    characterMap: ["111121", "211121", "121121", "221111", "112121", "212111", "122111", "111221", "211211", "211111", "112111"],
    options: {
      addCheckSum: true
    }
  });
  n.postnet = m.extend({
    name: "Postnet",
    START: "2",
    VALID_CODE_LENGTHS: [5, 9, 11],
    DIGIT_SEPARATOR: "-",
    initValue: function(E, F, C) {
      var D = this;
      D.height = C;
      D.width = F;
      D.baseHeight = C / 2;
      D.value = E.replace(new RegExp(D.DIGIT_SEPARATOR, "g"), "");
      D.pattern = [];
      D.validate(D.value);
      D.checkSum = 0;
      D.setBaseUnit()
    },
    addData: function() {
      var D = this,
        E = D.value;
      D.addPattern(D.START);
      for (var C = 0; C < E.length; C++) {
        D.addCharacter(E.charAt(C))
      }
      if (D.options.addCheckSum) {
        D.addCheckSum()
      }
      D.addPattern(D.START);
      D.pattern.pop()
    },
    addCharacter: function(C) {
      var E = this,
        D = E.characterMap[C];
      E.checkSum += parseInt(C, 10);
      E.addPattern(D)
    },
    addCheckSum: function() {
      var C = this;
      C.checksum = (10 - (C.checkSum % 10)) % 10;
      C.addCharacter(C.checksum)
    },
    setBaseUnit: function() {
      var D = this,
        C = 3;
      D.baseUnit = D.width / ((D.value.length + 1) * 10 + C + D.quietZoneLength)
    },
    validate: function(D) {
      var C = this;
      if (!v.test(D)) {
        C.invalidCharacterError(D.match(/[^0-9]/)[0])
      }
      if (q(D.length, C.VALID_CODE_LENGTHS) < 0) {
        throw new Error("Invalid value length. Valid lengths for the Postnet symbology are " + C.VALID_CODE_LENGTHS.join(","))
      }
    },
    addPattern: function(D) {
      var E = this,
        F;
      for (var C = 0; C < D.length; C++) {
        F = E.height - E.baseHeight * D.charAt(C);
        E.pattern.push({
          width: 1,
          y1: F,
          y2: E.height
        });
        E.pattern.push(1)
      }
    },
    characterMap: ["22111", "11122", "11212", "11221", "12112", "12121", "12211", "21112", "21121", "21211"]
  });
  n.ean13 = m.extend({
    initValue: function(E, F, C) {
      E += "";
      if (E.length != 12 || /\D/.test(E)) {
        throw new Error('The value of the "EAN13" encoding should be 12 symbols')
      }
      var D = this;
      D.pattern = [];
      D.options.height = C;
      D.baseUnit = F / (95 + D.quietZoneLength);
      D.value = E;
      D.checksum = D.calculateChecksum();
      D.leftKey = E[0];
      D.leftPart = E.substr(1, 6);
      D.rightPart = E.substr(7) + D.checksum
    },
    addData: function() {
      var C = this;
      C.addPieces(C.characterMap.start);
      C.addSide(C.leftPart, C.leftKey);
      C.addPieces(C.characterMap.middle);
      C.addSide(C.rightPart);
      C.addPieces(C.characterMap.start)
    },
    addSide: function(E, D) {
      var F = this;
      for (var C = 0; C < E.length; C++) {
        if (D && parseInt(F.keyTable[D].charAt(C), 10)) {
          F.addPieces(Array.prototype.slice.call(F.characterMap.digits[E.charAt(C)]).reverse(), true)
        } else {
          F.addPieces(F.characterMap.digits[E.charAt(C)], true)
        }
      }
    },
    addPieces: function(C, E) {
      var F = this;
      for (var D = 0; D < C.length; D++) {
        if (E) {
          F.pattern.push({
            y1: 0,
            y2: F.options.height * 0.95,
            width: C[D]
          })
        } else {
          F.pattern.push(C[D])
        }
      }
    },
    calculateChecksum: function() {
      var F = 0,
        D = 0,
        G = this.value.split("").reverse().join("");
      for (var E = 0; E < G.length; E++) {
        if (E % 2) {
          D += parseInt(G.charAt(E), 10)
        } else {
          F += parseInt(G.charAt(E), 10)
        }
      }
      var C = (10 - ((3 * F + D) % 10)) % 10;
      return C
    },
    keyTable: ["000000", "001011", "001101", "001110", "010011", "011001", "011100", "010101", "010110", "011010"],
    characterMap: {
      digits: [
        [3, 2, 1, 1],
        [2, 2, 2, 1],
        [2, 1, 2, 2],
        [1, 4, 1, 1],
        [1, 1, 3, 2],
        [1, 2, 3, 1],
        [1, 1, 1, 4],
        [1, 3, 1, 2],
        [1, 2, 1, 3],
        [3, 1, 1, 2]
      ],
      start: [1, 1, 1],
      middle: [1, 1, 1, 1, 1]
    }
  });
  n.ean8 = n.ean13.extend({
    initValue: function(E, F, C) {
      var D = this;
      if (E.length != 7 || /\D/.test(E)) {
        throw new Error("Invalid value provided")
      }
      D.value = E;
      D.options.height = C;
      D.checksum = D.calculateChecksum(D.value);
      D.leftPart = D.value.substr(0, 4);
      D.rightPart = D.value.substr(4) + D.checksum;
      D.pattern = [];
      D.baseUnit = F / (67 + D.quietZoneLength)
    }
  });
  var c = B.extend({
    init: function(C, D) {
      var E = this;
      B.fn.init.call(E, C, D);
      E.element = a(C);
      E.wrapper = E.element;
      E.element.addClass("k-barcode");
      E.view = h.ViewFactory.current.create({}, E.options.renderAs);
      E.setOptions(D)
    },
    setOptions: function(C) {
      var D = this;
      D.type = (C.type || D.options.type).toLowerCase();
      if (D.type == "upca") {
        D.type = "ean13";
        C.value = "0" + C.value
      }
      if (D.type == "upce") {
        D.type = "ean8";
        C.value = "0" + C.value
      }
      if (!n[D.type]) {
        throw new Error("Encoding " + D.type + "is not supported.")
      }
      D.encoding = new n[D.type]();
      D.options = a.extend(true, D.options, C);
      if (C.value === A) {
        return
      }
      D.redraw()
    },
    redraw: function() {
      var C = this,
        D = C.view;
      C._redraw(D);
      D.renderTo(C.element[0])
    },
    svg: function() {
      if (h.SVGView) {
        var C = new h.SVGView();
        this._redraw(C);
        return C.render()
      } else {
        throw new Error("Unable to create SVGView. Check that kendo.dataviz.svg.js is loaded.")
      }
    },
    imageDataURL: function() {
      if (h.CanvasView) {
        if (h.supportsCanvas()) {
          var C = document.createElement("div"),
            D = new h.CanvasView();
          this._redraw(D);
          return D.renderTo(C).toDataURL()
        } else {
          t.logToConsole("Warning: Unable to generate image. The browser does not support Canvas.\nUser agent: " + navigator.userAgent);
          return null
        }
      } else {
        throw new Error("Unable to create CanvasView. Check that kendo.dataviz.canvas.js is loaded.")
      }
    },
    getSize: function() {
      return t.dimensions(this.element)
    },
    _resize: function() {
      this.redraw()
    },
    _redraw: function(N) {
      var M = this,
        G = M.options,
        K = G.text,
        I = M._getSize(),
        D = G.border || {}, F = M.encoding,
        E = d(0, 0, I.width, I.height).unpad(D.width).unpad(G.padding),
        C = E.height(),
        H, L;
      M.contentBox = E;
      N.children = [];
      M._renderBackground(N, I);
      var J = h.measureText(E, {
        font: G.text.font
      }).height;
      if (K.visible) {
        C -= J
      }
      H = F.encode(G.value, I.width - (G.padding.left + G.padding.right), C);
      if (K.visible) {
        L = G.value;
        if (G.checksum && F.checksum !== A) {
          L += " " + F.checksum
        }
        M._renderTextElement(N, L)
      }
      M.barHeight = C;
      N.options.width = I.width;
      N.options.height = I.height;
      M._renderElements(N, H.pattern, H.baseUnit)
    },
    _getSize: function() {
      var E = this,
        C = E.element,
        D = {
          width: l,
          height: j
        };
      if (C.width() > 0) {
        D.width = C.width()
      }
      if (C.height() > 0) {
        D.height = C.height()
      }
      if (E.options.width) {
        D.width = E.options.width
      }
      if (E.options.height) {
        D.height = E.options.height
      }
      return D
    },
    value: function(D) {
      var C = this;
      if (D === A) {
        return C.options.value
      }
      C.options.value = D + "";
      C.redraw()
    },
    _renderElements: function(J, F, C) {
      var I = this,
        G = 0 + I.options.padding.left,
        H, E;
      for (var D = 0; D < F.length; D++) {
        E = s(F[D]) ? F[D] : {
          width: F[D],
          y1: 0,
          y2: I.barHeight
        };
        H = E.width * C;
        if (D % 2) {
          J.children.push(J.createRect(new d(G, E.y1 + I.contentBox.y1, G + H, E.y2 + I.contentBox.y1), {
            fill: I.options.color
          }))
        }
        G += H
      }
    },
    _renderBackground: function(I, G) {
      var H = this,
        E = H.options,
        C = E.border || {}, D = d(0, 0, G.width, G.height).unpad(C.width / 2),
        F = I.createRect(D, {
          fill: E.background,
          stroke: C.width ? C.color : "",
          strokeWidth: C.width,
          dashType: C.dashType
        });
      I.children.push(F)
    },
    _renderTextElement: function(G, F) {
      var E = this,
        D = E.options.text,
        C = new z(F, {
          font: D.font,
          color: D.color,
          align: "center",
          vAlign: "bottom"
        });
      E.text = C;
      C.reflow(E.contentBox);
      C.box.unpad(D.margin);
      G.children.push(G.createText(F, {
        baseline: C.baseline,
        x: C.box.x1,
        y: C.box.y1,
        color: D.color,
        font: D.font
      }))
    },
    options: {
      name: "Barcode",
      renderAs: "canvas",
      value: "",
      type: "code39",
      checksum: false,
      width: 0,
      height: 0,
      color: "black",
      background: "white",
      text: {
        visible: true,
        font: "16px Consolas, Monaco, Sans Mono, monospace, sans-serif",
        color: "black",
        margin: {
          top: 0,
          bottom: 0,
          left: 0,
          right: 0
        }
      },
      border: {
        width: 0,
        dashType: "solid",
        color: "black"
      },
      padding: {
        top: 0,
        bottom: 0,
        left: 0,
        right: 0
      }
    }
  });
  h.ui.plugin(c);
  t.deepExtend(h, {
    encodings: n,
    Encoding: m
  })
})(window.kendo.jQuery);
kendo_module({
  id: "dataviz.stockchart",
  name: "StockChart",
  category: "dataviz",
  description: "StockChart widget and associated financial series.",
  depends: ["dataviz.chart"]
});
(function(a, H) {
  var q = window.kendo,
    f = q.Class,
    z = q.Observable,
    k = q.deepExtend,
    u = Math,
    A = a.proxy,
    j = q.dataviz,
    l = j.defined,
    p = j.filterSeriesByType,
    E = q.template,
    e = j.ui.Chart,
    C = j.Selection,
    b = j.addDuration,
    r = j.last,
    s = j.limitValue,
    t = j.lteDateIndex,
    B = j.renderTemplate,
    F = j.toDate,
    G = j.toTime;
  var c = 28,
    d = "change",
    i = "k-",
    m = "drag",
    n = "dragEnd",
    x = "_navigator",
    w = x,
    o = j.EQUALLY_SPACED_SERIES,
    J = 3,
    I = "zoom",
    K = "zoomEnd";
  var D = e.extend({
    init: function(L, M) {
      a(L).addClass(i + "chart");
      e.fn.init.call(this, L, M)
    },
    _applyDefaults: function(M, O) {
      var L = this,
        P = L.element.width() || j.DEFAULT_WIDTH;
      var N = {
        seriesDefaults: {
          categoryField: M.dateField
        },
        axisDefaults: {
          categoryAxis: {
            name: "default",
            majorGridLines: {
              visible: false
            },
            labels: {
              step: 2
            },
            majorTicks: {
              visible: false
            },
            maxDateGroups: u.floor(P / c)
          }
        }
      };
      if (O) {
        O = k({}, O, N)
      }
      if (!L._navigator) {
        v.setup(M, O)
      }
      e.fn._applyDefaults.call(L, M, O)
    },
    _initDataSource: function(U) {
      var S = U || {}, L = S.dataSource,
        P = L && L.serverFiltering,
        Q = [].concat(S.categoryAxis)[0],
        R = S.navigator || {}, T = R.select,
        O = T && T.from && T.to,
        N, M;
      if (P && O) {
        N = [].concat(L.filter || []);
        M = new j.DateCategoryAxis(k({
          baseUnit: "fit"
        }, Q, {
          categories: [T.from, T.to]
        }));
        L.filter = v.buildFilter(M.range().min, T.to).concat(N)
      }
      e.fn._initDataSource.call(this, U)
    },
    options: {
      name: "StockChart",
      dateField: "date",
      axisDefaults: {
        categoryAxis: {
          type: "date",
          baseUnit: "fit",
          justified: true
        },
        valueAxis: {
          narrowRange: true,
          labels: {
            format: "C"
          }
        }
      },
      navigator: {
        select: {},
        seriesDefaults: {
          markers: {
            visible: false
          },
          tooltip: {
            visible: true,
            template: "#= kendo.toString(category, 'd') #"
          },
          line: {
            width: 2
          }
        },
        hint: {},
        visible: true
      },
      tooltip: {
        visible: true
      },
      legend: {
        visible: false
      }
    },
    _resize: function() {
      var L = this.options.transitions;
      this.options.transitions = false;
      this._fullRedraw();
      this.options.transitions = L
    },
    _redraw: function() {
      var L = this,
        M = L._navigator;
      if (M && M.dataSource) {
        M.redrawSlaves()
      } else {
        L._fullRedraw()
      }
    },
    _fullRedraw: function() {
      var L = this,
        M = L._navigator;
      if (!M) {
        M = L._navigator = new v(L)
      }
      M.filterAxes();
      e.fn._redraw.call(L);
      M.redraw()
    },
    _onDataChanged: function() {
      var L = this;
      e.fn._onDataChanged.call(L);
      L._dataBound = true
    },
    _bindCategoryAxis: function(M, R, N) {
      var P = this,
        O = P.options.categoryAxis,
        L = O.length,
        Q;
      e.fn._bindCategoryAxis.apply(this, arguments);
      if (M.name === w) {
        while (N < L) {
          Q = O[N++];
          if (Q.pane == x) {
            Q.categories = M.categories
          }
        }
      }
    },
    _trackSharedTooltip: function(M) {
      var L = this,
        O = L._plotArea,
        N = O.paneByPoint(M);
      if (N && N.options.name === x) {
        L._unsetActivePoint()
      } else {
        e.fn._trackSharedTooltip.call(L, M)
      }
    },
    destroy: function() {
      var L = this;
      L._navigator.destroy();
      e.fn.destroy.call(L)
    }
  });
  var v = z.extend({
    init: function(L) {
      var M = this;
      M.chart = L;
      M.options = k({}, M.options, L.options.navigator);
      M._initDataSource();
      if (!l(M.options.hint.visible)) {
        M.options.hint.visible = M.options.visible
      }
      L.bind(m, A(M._drag, M));
      L.bind(n, A(M._dragEnd, M));
      L.bind(I, A(M._zoom, M));
      L.bind(K, A(M._zoomEnd, M))
    },
    options: {},
    _initDataSource: function() {
      var N = this,
        O = N.options,
        L = O.autoBind,
        M = O.dataSource;
      if (!l(L)) {
        L = N.chart.options.autoBind
      }
      N._dataChangedHandler = A(N._onDataChanged, N);
      if (M) {
        N.dataSource = q.data.DataSource.create(M).bind(d, N._dataChangedHandler);
        if (L) {
          N.dataSource.fetch()
        }
      }
    },
    _onDataChanged: function() {
      var S = this,
        O = S.chart,
        U = O.options.series,
        V, W = U.length,
        N = O.options.categoryAxis,
        M, L = N.length,
        R = S.dataSource.view(),
        Q, P, T;
      for (V = 0; V < W; V++) {
        Q = U[V];
        if (Q.axis == w && O._isBindable(Q)) {
          Q.data = R
        }
      }
      for (M = 0; M < L; M++) {
        P = N[M];
        if (P.pane == x) {
          if (P.name == w) {
            O._bindCategoryAxis(P, R, M);
            T = P.categories
          } else {
            P.categories = T
          }
        }
      }
      if (O._model) {
        S.redraw();
        S.filterAxes();
        if (!O.options.dataSource || (O.options.dataSource && O._dataBound)) {
          S.redrawSlaves()
        }
      }
    },
    destroy: function() {
      var M = this,
        L = M.dataSource;
      if (L) {
        L.unbind(d, M._dataChangeHandler)
      }
      if (M.selection) {
        M.selection.destroy()
      }
    },
    redraw: function() {
      this._redrawSelf();
      var S = this,
        N = S.chart,
        T = S.options,
        L = S.mainAxis(),
        M = g(L),
        P = L.options.categories,
        V = S.options.select || {}, W = S.selection,
        U = L.range(),
        R = U.min,
        Q = U.max,
        O = V.from || R,
        X = V.to || Q;
      if (P.length > 0) {
        if (W) {
          W.destroy();
          W.wrapper.remove()
        }
        M.box = L.box;
        W = S.selection = new C(N, M, {
          min: R,
          max: Q,
          from: O,
          to: X,
          selectStart: a.proxy(S._selectStart, S),
          select: a.proxy(S._select, S),
          selectEnd: a.proxy(S._selectEnd, S),
          mousewheel: {
            zoom: "left"
          }
        });
        if (T.hint.visible) {
          S.hint = new y(N.element, {
            min: R,
            max: Q,
            template: T.hint.template,
            format: T.hint.format
          })
        }
      }
    },
    _redrawSelf: function(M) {
      var L = this.chart._plotArea;
      if (L) {
        L.redraw(r(L.panes), M)
      }
    },
    redrawSlaves: function() {
      var M = this,
        L = M.chart,
        N = L._plotArea,
        O = N.panes.slice(0, -1);
      N.srcSeries = L.options.series;
      N.redraw(O)
    },
    _drag: function(P) {
      var S = this,
        M = S.chart,
        N = M._eventCoordinates(P.originalEvent),
        T = S.mainAxis(),
        U = T.range(),
        R = T.pane.box.containsPoint(N),
        L = M._plotArea.categoryAxis,
        V = P.axisRanges[L.options.name],
        W = S.options.select,
        X = S.selection,
        O, Q, Y;
      if (!V || R || !X) {
        return
      }
      if (W.from && W.to) {
        O = G(W.to) - G(W.from)
      } else {
        O = G(X.options.to) - G(X.options.from)
      }
      Q = F(s(G(V.min), U.min, G(U.max) - O));
      Y = F(s(G(Q) + O, G(U.min) + O, U.max));
      S.options.select = {
        from: Q,
        to: Y
      };
      if (S._liveDrag()) {
        S.filterAxes();
        S.redrawSlaves()
      }
      X.set(Q, Y);
      S.showHint(Q, Y)
    },
    _dragEnd: function() {
      var L = this;
      L.filterAxes();
      L.filterDataSource();
      L.redrawSlaves();
      if (L.hint) {
        L.hint.hide()
      }
    },
    _liveDrag: function() {
      var P = q.support,
        O = P.touch,
        L = P.browser,
        M = L.mozilla,
        N = L.msie && L.version < 9;
      return !O && !M && !N
    },
    readSelection: function() {
      var M = this,
        N = M.selection,
        O = N.options,
        L = M.options.select;
      L.from = O.from;
      L.to = O.to
    },
    filterAxes: function() {
      var Q = this,
        R = Q.options.select || {}, N = Q.chart,
        L = N.options.categoryAxis,
        O = R.from,
        S = R.to,
        P, M;
      for (P = 0; P < L.length; P++) {
        M = L[P];
        if (M.pane !== x) {
          M.min = F(O);
          M.max = F(S)
        }
      }
    },
    filterDataSource: function() {
      var P = this,
        Q = P.options.select || {}, M = P.chart,
        N = M.dataSource,
        O = N && N.options.serverFiltering,
        L;
      if (P.dataSource && O) {
        L = new j.DateCategoryAxis(k({
          baseUnit: "fit"
        }, M.options.categoryAxis[0], {
          categories: [Q.from, Q.to]
        })).options;
        N.filter(v.buildFilter(b(L.min, -L.baseUnitStep, L.baseUnit), b(L.max, L.baseUnitStep, L.baseUnit)))
      }
    },
    _zoom: function(P) {
      var R = this,
        N = R.chart,
        O = P.delta,
        L = N._plotArea.categoryAxis,
        S = R.options.select,
        T = R.selection,
        M = R.mainAxis().options.categories,
        Q, U;
      if (!T) {
        return
      }
      Q = t(T.options.from, M);
      U = t(T.options.to, M);
      P.originalEvent.preventDefault();
      if (u.abs(O) > 1) {
        O *= J
      }
      if (U - Q > 1) {
        T.expand(O);
        R.readSelection()
      } else {
        L.options.min = S.from;
        S.from = L.scaleRange(-P.delta).min
      }
      if (!q.support.touch) {
        R.filterAxes();
        R.redrawSlaves()
      }
      T.set(S.from, S.to);
      R.showHint(R.options.select.from, R.options.select.to)
    },
    _zoomEnd: function(L) {
      this._dragEnd(L)
    },
    showHint: function(M, P) {
      var N = this,
        L = N.chart,
        O = L._plotArea;
      if (N.hint) {
        N.hint.show(M, P, O.backgroundBox())
      }
    },
    _selectStart: function(M) {
      var L = this.chart;
      L._selectStart.call(L, M)
    },
    _select: function(M) {
      var N = this,
        L = N.chart;
      N.showHint(M.from, M.to);
      L._select.call(L, M)
    },
    _selectEnd: function(M) {
      var N = this,
        L = N.chart;
      if (N.hint) {
        N.hint.hide()
      }
      N.readSelection();
      N.filterAxes();
      N.filterDataSource();
      N.redrawSlaves();
      L._selectEnd.call(L, M)
    },
    mainAxis: function() {
      var L = this.chart._plotArea;
      if (L) {
        return L.namedCategoryAxes[w]
      }
    }
  });
  v.setup = function(M, P) {
    M = M || {};
    P = P || {};
    var L = k({}, P.navigator, M.navigator),
      O = M.panes = [].concat(M.panes),
      N = k({}, L.pane, {
        name: x
      });
    if (!L.visible) {
      N.visible = false;
      N.height = 0.1
    }
    O.push(N);
    v.attachAxes(M, L);
    v.attachSeries(M, L, P)
  };
  v.attachAxes = function(Q, P) {
    var M, S, R = P.series || [];
    M = Q.categoryAxis = [].concat(Q.categoryAxis);
    S = Q.valueAxis = [].concat(Q.valueAxis);
    var N = p(R, o);
    var O = N.length === 0;
    var L = k({
      type: "date",
      pane: x,
      roundToBaseUnit: !O,
      justified: O,
      tooltip: {
        visible: false
      },
      labels: {
        step: 1
      },
      autoBind: !P.dataSource,
      autoBaseUnitSteps: {
        minutes: [1],
        hours: [1],
        days: [1],
        weeks: [],
        months: [1],
        years: [1]
      },
      _overlap: false
    }, P.categoryAxis);
    M.push(k({}, L, {
      name: w,
      baseUnit: "fit",
      maxDateGroups: 200,
      baseUnitStep: "auto",
      labels: {
        visible: false
      },
      majorTicks: {
        visible: false
      }
    }), k({}, L, {
      name: w + "_labels",
      maxDateGroups: 20,
      baseUnitStep: "auto",
      autoBaseUnitSteps: {
        minutes: []
      },
      majorTicks: {
        visible: true
      }
    }), k({}, L, {
      name: w + "_ticks",
      maxDateGroups: 200,
      majorTicks: {
        visible: true,
        width: 0.5
      },
      labels: {
        visible: false,
        mirror: true
      }
    }));
    S.push({
      name: w,
      pane: x,
      majorGridLines: {
        visible: false
      },
      visible: false
    })
  };
  v.attachSeries = function(P, O, S) {
    var Q = P.series = P.series || [],
      N = [].concat(O.series || []),
      R = S.seriesColors,
      L = O.seriesDefaults,
      M;
    for (M = 0; M < N.length; M++) {
      Q.push(k({
        color: R[M % R.length],
        categoryField: O.dateField,
        visibleInLegend: false,
        tooltip: {
          visible: false
        }
      }, L, N[M], {
        axis: w,
        categoryAxis: w,
        autoBind: !O.dataSource
      }))
    }
  };
  v.buildFilter = function(L, M) {
    return [{
      field: "Date",
      operator: "gte",
      value: F(L)
    }, {
      field: "Date",
      operator: "lt",
      value: F(M)
    }]
  };
  var y = f.extend({
    init: function(L, N) {
      var M = this;
      M.options = k({}, M.options, N);
      M.container = L;
      M.chartPadding = {
        top: parseInt(L.css("paddingTop"), 10),
        left: parseInt(L.css("paddingLeft"), 10)
      };
      M.template = M.template;
      if (!M.template) {
        M.template = M.template = B("<div class='" + i + "navigator-hint' style='display: none; position: absolute; top: 1px; left: 1px;'><div class='" + i + "tooltip'>&nbsp;</div><div class='" + i + "scroll' /></div>")
      }
      M.element = a(M.template()).appendTo(L)
    },
    options: {
      format: "{0:d} - {1:d}",
      hideDelay: 500
    },
    show: function(M, aa, L) {
      var N = this,
        Q = F(G(M) + G(aa - M) / 2),
        T = N.options,
        Z = q.format(N.options.format, M, aa),
        ab = N.element.find("." + i + "tooltip"),
        X = N.element.find("." + i + "scroll"),
        Y = L.width() * 0.4,
        R = L.center().x - Y,
        P = L.center().x,
        U = P - R,
        V = T.max - T.min,
        W = U / V,
        S = Q - T.min,
        O;
      if (N._hideTimeout) {
        clearTimeout(N._hideTimeout)
      }
      if (!N._visible) {
        N.element.stop(false, true).css("visibility", "hidden").show();
        N._visible = true
      }
      if (T.template) {
        O = E(T.template);
        Z = O({
          from: M,
          to: aa
        })
      }
      ab.html(Z).css({
        left: L.center().x - ab.outerWidth() / 2,
        top: L.y1
      });
      X.css({
        width: Y,
        left: R + S * W,
        top: L.y1 + parseInt(ab.css("margin-top"), 10) + parseInt(ab.css("border-top-width"), 10) + ab.height() / 2
      });
      N.element.css("visibility", "visible")
    },
    hide: function() {
      var L = this;
      if (L._hideTimeout) {
        clearTimeout(L._hideTimeout)
      }
      L._hideTimeout = setTimeout(function() {
        L._visible = false;
        L.element.fadeOut("slow")
      }, L.options.hideDelay)
    }
  });

  function h() {}
  function g(L) {
    h.prototype = L;
    return new h()
  }
  j.ui.plugin(D);
  k(j, {
    Navigator: v
  })
})(window.kendo.jQuery);
kendo_module({
  id: "dataviz.sparkline",
  name: "Sparkline",
  category: "dataviz",
  description: "Sparkline widgets.",
  depends: ["dataviz.chart"]
});
(function(a, t) {
  var l = window.kendo,
    f = l.dataviz,
    d = f.ui.Chart,
    o = l.data.ObservableArray,
    q = f.SharedTooltip,
    i = l.deepExtend,
    k = a.isArray,
    j = f.inArray,
    m = Math;
  var e = "k-",
    g = 150,
    h = 150,
    b = "bar",
    c = "bullet",
    p = "pie",
    n = [b, c];
  var r = d.extend({
    init: function(w, z) {
      var v = this,
        y = v.stage = a("<span />"),
        x = z || {};
      w = a(w).addClass(e + "sparkline").empty().append(y);
      v._initialWidth = m.floor(w.width());
      x = u(x);
      if (k(x) || x instanceof o) {
        x = {
          seriesDefaults: {
            data: x
          }
        }
      }
      if (!x.series) {
        x.series = [{
          data: u(x.data)
        }]
      }
      i(x, {
        seriesDefaults: {
          type: x.type
        }
      });
      if (j(x.series[0].type, n) || j(x.seriesDefaults.type, n)) {
        x = i({}, {
          categoryAxis: {
            crosshair: {
              visible: false
            }
          }
        }, x)
      }
      d.fn.init.call(v, w, x)
    },
    options: {
      name: "Sparkline",
      chartArea: {
        margin: 2
      },
      axisDefaults: {
        visible: false,
        majorGridLines: {
          visible: false
        },
        valueAxis: {
          narrowRange: true
        }
      },
      seriesDefaults: {
        type: "line",
        area: {
          line: {
            width: 0.5
          }
        },
        bar: {
          stack: true
        },
        padding: 2,
        width: 0.5,
        overlay: {
          gradient: null
        },
        highlight: {
          visible: false
        },
        border: {
          width: 0
        },
        markers: {
          size: 2,
          visible: false
        }
      },
      tooltip: {
        visible: true,
        shared: true
      },
      categoryAxis: {
        crosshair: {
          visible: true,
          tooltip: {
            visible: false
          }
        }
      },
      legend: {
        visible: false
      },
      transitions: false,
      pointWidth: 5
    },
    _applyDefaults: function(w) {
      var v = this,
        x = f.ViewFactory.current.create({}, w.renderAs);
      if (f.CanvasView && x instanceof f.CanvasView) {
        i(w, {
          categoryAxis: {
            crosshair: {
              visible: false
            }
          }
        })
      }
      d.fn._applyDefaults.apply(v, arguments)
    },
    _modelOptions: function() {
      var v = this,
        w = v.options,
        x, z = v._initialWidth,
        y = v.stage;
      v.stage[0].innerHTML = "&nbsp;";
      x = i({
        width: z ? z : v._autoWidth(),
        height: y.height(),
        transitions: w.transitions
      }, w.chartArea, {
        inline: true,
        align: false
      });
      y.css({
        width: x.width,
        height: x.height
      });
      return x
    },
    _createTooltip: function() {
      var v = this,
        x = v.options,
        w = v.element,
        y;
      if (v._sharedTooltip()) {
        y = new s(w, v._plotArea, x.tooltip)
      } else {
        y = d.fn._createTooltip.call(v)
      }
      return y
    },
    _renderView: function() {
      var v = this;
      v.element.empty().append(v.stage);
      return v._view.renderTo(v.stage[0])
    },
    _autoWidth: function() {
      var v = this,
        A = v.options,
        z = f.getSpacing(A.chartArea.margin),
        B = A.series,
        x = v.dataSource.total(),
        C = 0,
        D, y, w;
      for (y = 0; y < B.length; y++) {
        w = B[y];
        if (w.type === b) {
          return g
        }
        if (w.type === c) {
          return h
        }
        if (w.type === p) {
          return v.stage.height()
        }
        if (w.data) {
          C = m.max(C, w.data.length)
        }
      }
      D = m.max(x, C) * A.pointWidth;
      if (D > 0) {
        D += z.left + z.right
      }
      return D
    }
  });
  var s = q.extend({
    options: {
      animation: {
        duration: 0
      }
    },
    _anchor: function(w, x) {
      var v = q.fn._anchor.call(this, w, x);
      v.y = -this.element.height() - this.options.offset;
      return v
    },
    _hideElement: function() {
      this.element.hide()
    }
  });

  function u(v) {
    return typeof v === "number" ? [v] : v
  }
  f.ui.plugin(r);
  i(f, {})
})(window.kendo.jQuery);
kendo_module({
  id: "dataviz.svg",
  name: "Output: SVG",
  description: "Support for SVG rendering",
  category: "dataviz",
  depends: ["dataviz.core"]
});
(function() {
  var a = jQuery,
    o = document,
    r = Math,
    q = window.kendo,
    e = q.Class,
    i = q.dataviz,
    c = i.Box2D,
    p = i.ExpandAnimation,
    t = i.Point2D,
    Z = i.ViewBase,
    aa = i.ViewElement,
    j = q.deepExtend,
    n = i.defined,
    z = i.round,
    x = i.renderTemplate,
    y = i.rotatePoint,
    Y = i.uniqueId;
  var d = "butt",
    f = i.CLIP,
    g = i.COORD_PRECISION,
    h = i.DASH_ARRAYS,
    m = i.DEFAULT_WIDTH,
    l = i.DEFAULT_HEIGHT,
    k = i.DEFAULT_FONT,
    s = "none",
    u = "radial",
    A = "solid",
    B = "square",
    C = "http://www.w3.org/2000/svg",
    W = "transparent",
    X = "undefined";
  var V = Z.extend({
    init: function(ab) {
      var ac = this;
      Z.fn.init.call(ac, ab);
      ac.decorators.push(new O(ac), new J(ac));
      if (i.ui.Chart) {
        ac.decorators.push(new i.BarAnimationDecorator(ac), new i.PieAnimationDecorator(ac), new i.BubbleAnimationDecorator(ac))
      }
      ac.decorators.push(new E(ac), new i.FadeAnimationDecorator(ac));
      if (i.Gauge) {
        ac.decorators.push(new i.RadialPointerAnimationDecorator(ac), new i.ArrowPointerAnimationDecorator(ac), new i.BarIndicatorAnimationDecorator(ac))
      }
      ac.defsId = Y();
      ac.template = V.template;
      ac.display = ac.options.inline ? "inline" : "block";
      if (!ac.template) {
        ac.template = V.template = x("<?xml version='1.0' ?><svg xmlns='" + C + "' version='1.1' width='#= d.options.width #px' height='#= d.options.height #px' style='position: relative; display: #= d.display #;'>#= d.renderDefinitions() ##= d.renderContent() #</svg>")
      }
    },
    options: {
      width: m,
      height: l
    },
    renderTo: function(ab) {
      var ac = this,
        ad;
      ac.setupAnimations();
      i.renderSVG(ab, ac.render());
      ad = ab.firstElementChild;
      ac.alignToScreen(ad);
      ac.playAnimations();
      ac._viewElement = ad;
      return ad
    },
    renderDefinitions: function() {
      var ad = this,
        ab = ad.defsId,
        ac = Z.fn.renderDefinitions.call(ad);
      return "<defs id='" + ab + "'>" + ac + "</defs>"
    },
    renderElement: function(af) {
      var ag = this,
        ab = o.createElement("div"),
        ac = o.getElementById(ag.defsId),
        ad, ae;
      i.renderSVG(ab, "<?xml version='1.0' ?><svg xmlns='" + C + "' version='1.1'>" + ag.renderDefinitions() + af.render() + "</svg>");
      ad = ab.firstElementChild.firstChild;
      ae = ab.firstElementChild.lastChild;
      if (ac && ac.textContent !== ad.textContent) {
        ac.parentNode.replaceChild(ad, ac)
      }
      return ae
    },
    createGroup: function(ab) {
      return this.decorate(new K(ab))
    },
    createText: function(ab, ac) {
      return this.decorate(new U(ab, ac))
    },
    createRect: function(ab, ac) {
      return this.decorate(new L(ab.points(), true, this.setDefaults(ac)))
    },
    createCubicCurve: function(ad, ac, ab) {
      return this.decorate(new G(ad, ac, ab))
    },
    createLine: function(ac, ae, ad, af, ab) {
      return this.decorate(new L([new t(ac, ae), new t(ad, af)], false, this.setDefaults(ab)))
    },
    createMultiLine: function(ab, ac) {
      return this.decorate(new N(ab, false, this.setDefaults(ac)))
    },
    createPolyline: function(ad, ab, ac) {
      return this.decorate(new L(ad, ab, this.setDefaults(ac)))
    },
    createCircle: function(ab, ad, ac) {
      return this.decorate(new D(ab, ad, ac))
    },
    createSector: function(ac, ab) {
      return this.decorate(new T(ac, ab))
    },
    createRing: function(ac, ab) {
      return this.decorate(new S(ac, ab))
    },
    createPin: function(ac, ab) {
      return this.decorate(new Q(ac, ab))
    },
    createGradient: function(ab) {
      if (ab.type === u) {
        if (n(ab.ir)) {
          return new H(ab)
        } else {
          return new R(ab)
        }
      } else {
        return new M(ab)
      }
    },
    alignToScreen: function(ad) {
      var ab;
      try {
        ab = ad.getScreenCTM ? ad.getScreenCTM() : null
      } catch (ac) {}
      if (ab) {
        var ae = -ab.e % 1,
          ag = -ab.f % 1,
          af = ad.style;
        if (ae !== 0 || ag !== 0) {
          af.left = ae + "px";
          af.top = ag + "px"
        }
      }
    }
  });
  var U = aa.extend({
    init: function(ab, ac) {
      var ad = this;
      aa.fn.init.call(ad, ac);
      ad.content = ab;
      ad.template = U.template;
      if (!ad.template) {
        ad.template = U.template = x("<text #= d.renderId() # #= d.renderDataAttributes() # x='#= Math.round(d.options.x) #' y='#= Math.round(d.options.y + d.options.baseline) #' fill-opacity='#= d.options.fillOpacity #' #= d.options.rotation ? d.renderRotation() : '' # style='font: #= d.options.font #; #= d.renderCursor() #' fill='#= d.options.color #'>#= d.content #</text>")
      }
    },
    options: {
      x: 0,
      y: 0,
      baseline: 0,
      font: k,
      size: {
        width: 0,
        height: 0
      },
      fillOpacity: 1,
      cursor: {}
    },
    refresh: function(ab) {
      var ac = this.options;
      a(ab).attr({
        "fill-opacity": ac.fillOpacity
      })
    },
    clone: function() {
      var ab = this;
      return new U(ab.content, j({}, ab.options))
    },
    renderRotation: function() {
      var aj = this,
        af = aj.options,
        ai = af.size,
        ab = z(af.x + ai.normalWidth / 2, g),
        ac = z(af.y + ai.normalHeight / 2, g),
        ag = z(af.x + ai.width / 2, g),
        ah = z(af.y + ai.height / 2, g),
        ad = z(ag - ab, g),
        ae = z(ah - ac, g);
      return "transform='translate(" + ad + "," + ae + ") rotate(" + af.rotation + "," + ab + "," + ac + ")'"
    }
  });
  var P = aa.extend({
    init: function(ab) {
      var ac = this;
      aa.fn.init.call(ac, ab);
      ac.template = P.template;
      if (!ac.template) {
        ac.template = P.template = x("<path #= d.renderId() #style='display: #= d.renderDisplay() #; #= d.renderCursor() #' #= d.renderDataAttributes() # d='#= d.renderPoints() #' #= d.renderAttr(\"stroke\", d.options.stroke) # #= d.renderAttr(\"stroke-width\", d.options.strokeWidth) ##= d.renderDashType() # stroke-linecap='#= d.renderLinecap() #' stroke-linejoin='round' fill-opacity='#= d.options.fillOpacity #' stroke-opacity='#= d.options.strokeOpacity #' fill='#= d.renderFill() #'></path>")
      }
    },
    options: {
      fill: "",
      fillOpacity: 1,
      strokeOpacity: 1,
      rotation: [0, 0, 0],
      strokeLineCap: B,
      visible: true,
      cursor: {}
    },
    refresh: function(ab) {
      var ac = this.options;
      a(ab).attr({
        d: this.renderPoints(),
        "fill-opacity": ac.fillOpacity,
        "stroke-opacity": ac.strokeOpacity
      }).css("display", this.renderDisplay())
    },
    clone: function() {
      return new P(j({}, this.options))
    },
    renderPoints: function() {},
    renderDashType: function() {
      var ac = this,
        ab = ac.options;
      return w(ab.dashType, ab.strokeWidth)
    },
    renderLinecap: function() {
      var ac = this.options,
        ab = ac.dashType,
        ad = ac.strokeLineCap;
      return (ab && ab != A) ? d : ad
    },
    renderFill: function() {
      var ab = this.options.fill;
      if (ab && ab !== W) {
        return ab
      }
      return s
    },
    renderDisplay: function() {
      return this.options.visible ? "block" : "none"
    },
    destroy: function() {}
  });
  var G = P.extend({
    init: function(ae, ad, ab) {
      var ac = this;
      P.fn.init.call(ac, ad);
      ac.areaPoints = ab;
      ac.points = ae
    },
    renderPoints: function() {
      var ac = this,
        af = ac.points,
        ad = [],
        ab = ac.areaPoints;
      for (var ae = 0; ae < af.length; ae++) {
        if (ae % 3 == 1) {
          ad.push("C")
        }
        ad.push(z(af[ae].x, g) + " " + z(af[ae].y, g))
      }
      if (ab && ab.length) {
        for (ae = 0; ae < ab.length; ae++) {
          ad.push("L " + ab[ae].x + " " + ab[ae].y)
        }
        ad.push("z")
      }
      return "M " + ad.join(" ")
    }
  });
  var L = P.extend({
    init: function(ae, ab, ad) {
      var ac = this;
      P.fn.init.call(ac, ad);
      ac.points = ae;
      ac.closed = ab
    },
    renderPoints: function() {
      var ab = this,
        ac = ab.points;
      return ab._renderPoints(ac)
    },
    _renderPoints: function(ad) {
      var ac = this,
        ah = ac.options.rotation,
        af = new t(ah[1], ah[2]),
        ae = -ah[0],
        ab, ag = [];
      for (ab = 0; ab < ad.length; ab++) {
        ag.push(ac._print(ad[ab].clone().rotate(af, ae)))
      }
      if (ac.closed) {
        ag.push("z")
      }
      return "M" + ag.join(" ")
    },
    clone: function() {
      var ab = this;
      return new L(j([], ab.points), ab.closed, j({}, ab.options))
    },
    _print: function(ae) {
      var ac = this,
        ad = ac.options,
        ag = ad.strokeWidth,
        af = ad.align !== false && ag && ag % 2 !== 0,
        ab = af ? b : z;
      return ab(ae.x, g) + " " + ab(ae.y, g)
    }
  });
  var N = L.extend({
    renderPoints: function() {
      var ad = this,
        ab = ad.points,
        ae = [],
        ac;
      for (ac = 0; ac < ab.length; ac++) {
        ae.push(ad._renderPoints(ab[ac]))
      }
      return ae.join(" ")
    }
  });
  var S = P.extend({
    init: function(ab, ac) {
      var ad = this;
      P.fn.init.call(ad, ac);
      ad.pathTemplate = S.pathTemplate;
      if (!ad.pathTemplate) {
        ad.pathTemplate = S.pathTemplate = x("M #= d.firstOuterPoint.x # #= d.firstOuterPoint.y # A#= d.r # #= d.r # 0 #= d.isReflexAngle ? '1' : '0' #,1 #= d.secondOuterPoint.x # #= d.secondOuterPoint.y # L #= d.secondInnerPoint.x # #= d.secondInnerPoint.y # A#= d.ir # #= d.ir # 0 #= d.isReflexAngle ? '1' : '0' #,0 #= d.firstInnerPoint.x # #= d.firstInnerPoint.y # z")
      }
      ad.config = ab || {}
    },
    renderPoints: function() {
      var ai = this,
        aj = ai.config,
        am = aj.startAngle,
        ac = aj.angle + am,
        ag = (ac - am) > 180,
        ah = r.max(aj.r, 0),
        af = r.max(aj.ir, 0),
        ab = aj.c,
        ae = aj.point(am),
        ad = aj.point(am, true),
        al, ak;
      if (z(am) % 360 === z(ac) % 360) {
        ac -= 0.05
      }
      al = aj.point(ac);
      ak = aj.point(ac, true);
      return ai.pathTemplate({
        firstOuterPoint: ae,
        secondOuterPoint: al,
        isReflexAngle: ag,
        r: ah,
        ir: af,
        cx: ab.x,
        cy: ab.y,
        firstInnerPoint: ad,
        secondInnerPoint: ak
      })
    },
    clone: function() {
      var ab = this;
      return new S(j({}, ab.config), j({}, ab.options))
    }
  });
  var Q = P.extend({
    init: function(ab, ac) {
      var ad = this;
      P.fn.init.call(ad, ac);
      ad.pathTemplate = Q.pathTemplate;
      if (!ad.pathTemplate) {
        ad.pathTemplate = Q.pathTemplate = x("M #= d.origin.x # #= d.origin.y # #= d.as.x # #= d.as.y # A#= d.r # #= d.r # 0 #= d.isReflexAngle ? '1' : '0' #,0 #= d.ae.x # #= d.ae.y # z")
      }
      ad.config = ab || new i.Pin()
    },
    renderPoints: function() {
      var aj = this,
        ae = aj.config,
        ak = ae.radius,
        af = r.PI / 180,
        ab = ae.arcAngle,
        ag = ak * r.sin(ab * af / 2),
        ah = ae.height - ak * (1 - r.cos(ab * af / 2)),
        ai = ae.origin,
        ad = {
          x: ai.x + ag,
          y: ai.y - ah
        }, ac = {
          x: ai.x - ag,
          y: ai.y - ah
        }, al = function(ao, an) {
          var ap = aj.options.rotation,
            am = ae.rotation;
          ao = y(ao.x, ao.y, ap[1], ap[2], -ap[0]);
          if (an) {
            ao = y(ao.x, ao.y, ai.x, ai.y, am)
          }
          return ao
        };
      ai = al(ai);
      return aj.pathTemplate({
        origin: ai,
        as: al(ad, true),
        ae: al(ac, true),
        r: ak,
        isReflexAngle: ab > 180
      })
    }
  });
  var T = S.extend({
    init: function(ab, ac) {
      var ad = this;
      S.fn.init.call(ad, ab, ac);
      ad.pathTemplate = T.pathTemplate;
      if (!ad.pathTemplate) {
        ad.pathTemplate = T.pathTemplate = x("M #= d.firstOuterPoint.x # #= d.firstOuterPoint.y # A#= d.r # #= d.r # 0 #= d.isReflexAngle ? '1' : '0' #,1 #= d.secondOuterPoint.x # #= d.secondOuterPoint.y # L #= d.cx # #= d.cy # z")
      }
    },
    options: {
      fill: "",
      fillOpacity: 1,
      strokeOpacity: 1,
      strokeLineCap: B
    },
    clone: function() {
      var ab = this;
      return new T(j({}, ab.config), j({}, ab.options))
    }
  });
  var D = aa.extend({
    init: function(ab, ae, ad) {
      var ac = this;
      aa.fn.init.call(ac, ad);
      ac.c = ab;
      ac.r = ae;
      ac.template = D.template;
      if (!ac.template) {
        ac.template = D.template = x("<circle #= d.renderId() # #= d.renderDataAttributes() #cx='#= d.c.x #' cy='#= d.c.y #' r='#= d.r #' #= d.renderAttr(\"stroke\", d.options.stroke) # #= d.renderAttr(\"stroke-width\", d.options.strokeWidth) #fill-opacity='#= d.options.fillOpacity #' stroke-opacity='#= d.options.strokeOpacity #'  fill='#= d.options.fill || \"none\" #'></circle>")
      }
    },
    options: {
      fill: "",
      fillOpacity: 1,
      strokeOpacity: 1
    },
    refresh: function(ab) {
      a(ab).attr({
        r: r.max(0, this.r),
        "fill-opacity": this.options.fillOpacity
      })
    },
    clone: function() {
      var ab = this;
      return new D(j({}, ab.c), ab.r, j({}, ab.options))
    }
  });
  var K = aa.extend({
    init: function(ac) {
      var ab = this;
      aa.fn.init.call(ab, ac);
      ab.template = K.template;
      if (!ab.template) {
        ab.template = K.template = x('<g#= d.renderId() ##= d.renderDataAttributes() ##= d.renderAttr("clip-path", d.options.clipPath) #>#= d.renderContent() #</g>')
      }
    }
  });
  var F = aa.extend({
    init: function(ac) {
      var ab = this;
      aa.fn.init.call(ab, ac);
      ab.template = F.template;
      if (!ab.template) {
        ab.template = F.template = x('<clipPath#= d.renderAttr("id", d.options.id) #>#= d.renderContent() #</clipPath>')
      }
    }
  });
  var I = aa.extend({
    init: function(ac) {
      var ab = this;
      aa.fn.init.call(ab, ac)
    },
    options: {
      id: ""
    },
    renderStops: function() {
      var ac = this,
        ag = ac.options.stops,
        ah = ac.stopTemplate,
        ad, ae = ag.length,
        ab, af = "";
      for (ad = 0; ad < ae; ad++) {
        ab = ag[ad];
        af += ah(ab)
      }
      return af
    }
  });
  var M = I.extend({
    init: function(ac) {
      var ab = this;
      I.fn.init.call(ab, ac);
      ab.template = M.template;
      ab.stopTemplate = M.stopTemplate;
      if (!ab.template) {
        ab.template = M.template = x("<linearGradient id='#= d.options.id #' gradientTransform='rotate(#= d.options.rotation #)'> #= d.renderStops() #</linearGradient>");
        ab.stopTemplate = M.stopTemplate = x("<stop offset='#= Math.round(d.offset * 100) #%' style='stop-color:#= d.color #;stop-opacity:#= d.opacity #' />")
      }
    },
    options: {
      rotation: 0
    }
  });
  var R = I.extend({
    init: function(ac) {
      var ab = this;
      I.fn.init.call(ab, ac);
      ab.template = R.template;
      ab.stopTemplate = R.stopTemplate;
      if (!ab.template) {
        ab.template = R.template = x("<radialGradient id='#= d.options.id #' cx='#= d.options.cx #' cy='#= d.options.cy #' fx='#= d.options.cx #' fy='#= d.options.cy #' r='#= d.options.r #' gradientUnits='userSpaceOnUse'>#= d.renderStops() #</radialGradient>");
        ab.stopTemplate = R.stopTemplate = x("<stop offset='#= Math.round(d.offset * 100) #%' style='stop-color:#= d.color #;stop-opacity:#= d.opacity #' />")
      }
    }
  });
  var H = aa.extend({
    init: function(ac) {
      var ab = this;
      aa.fn.init.call(ab, ac);
      ab.template = H.template;
      ab.stopTemplate = H.stopTemplate;
      if (!ab.template) {
        ab.template = H.template = x("<radialGradient id='#= d.options.id #' cx='#= d.options.cx #' cy='#= d.options.cy #' fx='#= d.options.cx #' fy='#= d.options.cy #' r='#= d.options.r #' gradientUnits='userSpaceOnUse'>#= d.renderStops() #</radialGradient>");
        ab.stopTemplate = H.stopTemplate = x("<stop offset='#= d.offset #%' style='stop-color:#= d.color #;stop-opacity:#= d.opacity #' />")
      }
    },
    options: {
      id: ""
    },
    renderStops: function() {
      var ac = this,
        af = ac.options,
        ah = af.stops,
        ai = ac.stopTemplate,
        aj = ((af.ir / af.r) * 100),
        ad, ae = ah.length,
        ab, ag = "";
      ab = j({}, ah[0]);
      ab.offset = aj;
      ag += ai(ab);
      for (ad = 1; ad < ae; ad++) {
        ab = j({}, ah[ad]);
        ab.offset = ab.offset * (100 - aj) + aj;
        ag += ai(ab)
      }
      return ag
    }
  });

  function O(ab) {
    this.view = ab
  }
  O.prototype = {
    decorate: function(ac) {
      var ab = this,
        ah = ab.view,
        af = ac.options,
        ae = af.id,
        ad, ag;
      if (af.overlay) {
        ac.options.id = Y();
        ad = ah.createGroup();
        ag = ac.clone();
        ad.children.push(ac, ag);
        ag.options.id = ae;
        ag.options.fill = af.overlay;
        return ad
      } else {
        return ac
      }
    }
  };

  function J(ab) {
    this.view = ab
  }
  J.prototype = {
    decorate: function(ac) {
      var ab = this,
        ad = ac.options;
      ad.fill = ab.getPaint(ad.fill);
      return ac
    },
    getPaint: function(ag) {
      var ab = this,
        ah = ab.view,
        ac = ah.definitions,
        ae, af, ad;
      if (ag && n(ag.gradient)) {
        ae = ah.buildGradient(ag);
        if (ae) {
          af = ae.id;
          ad = ac[af];
          if (!ad) {
            ad = ah.createGradient(ae);
            ac[af] = ad
          }
          return "url(" + ab.baseUrl() + "#" + ad.options.id + ")"
        } else {
          return s
        }
      } else {
        return ag
      }
    },
    baseUrl: function() {
      var ab = o.getElementsByTagName("base")[0],
        ac = "",
        ae = o.location.href,
        ad = ae.indexOf("#");
      if (ab && !q.support.browser.msie) {
        if (ad !== -1) {
          ae = ae.substring(0, ad)
        }
        ac = ae
      }
      return ac
    }
  };
  var E = e.extend({
    init: function(ab) {
      this.view = ab
    },
    decorate: function(ah) {
      var af = this,
        aj = af.view,
        ac = af.clipId,
        ai = aj.options,
        ab = ah.options.animation,
        ag = aj.definitions,
        ad, ae;
      if (ab && ab.type === f && ai.transitions) {
        if (!ac) {
          af.clipId = ac = Y()
        }
        ad = ag[ac];
        if (!ad) {
          ad = new F({
            id: ac
          });
          ae = aj.createRect(new c(0, 0, ai.width, ai.height), {
            id: Y()
          });
          ad.children.push(ae);
          ag[ac] = ad;
          aj.animations.push(new p(ae, {
            size: ai.width
          }))
        }
        ah.options.clipPath = "url(#" + ac + ")"
      }
      return ah
    }
  });

  function b(ab) {
    return r.round(ab) + 0.5
  }
  function w(ab, af) {
    var ae = [],
      ac, ad;
    ab = ab ? ab.toLowerCase() : null;
    if (ab && ab != A) {
      ac = h[ab];
      for (ad = 0; ad < ac.length; ad++) {
        ae.push(ac[ad] * (af || 1))
      }
      return "stroke-dasharray='" + ae.join(" ") + "' "
    }
    return ""
  }
  var v = function(ab, ac) {
    ab.innerHTML = ac
  };
  (function() {
    var ad = "<svg xmlns='" + C + "'></svg>",
      ac = o.createElement("div"),
      ab = typeof DOMParser != X;
    ac.innerHTML = ad;
    if (ab && ac.firstChild.namespaceURI != C) {
      v = function(af, ai) {
        var ah = new DOMParser(),
          ae = ah.parseFromString(ai, "text/xml"),
          ag = o.adoptNode(ae.documentElement);
        af.innerHTML = "";
        af.appendChild(ag)
      }
    }
  })();
  if (i.supportsSVG()) {
    i.ViewFactory.current.register("svg", V, 10)
  }
  j(i, {
    renderSVG: v,
    SVGCircle: D,
    SVGClipAnimationDecorator: E,
    SVGClipPath: F,
    SVGGradientDecorator: J,
    SVGGroup: K,
    SVGLine: L,
    SVGMultiLine: N,
    SVGLinearGradient: M,
    SVGOverlayDecorator: O,
    SVGPath: P,
    SVGRadialGradient: R,
    SVGDonutGradient: H,
    SVGRing: S,
    SVGSector: T,
    SVGText: U,
    SVGView: V
  })
})(window.kendo.jQuery);
kendo_module({
  id: "dataviz.canvas",
  name: "Output: Canvas",
  description: "Support for Canvas rendering and image export",
  category: "dataviz",
  depends: ["dataviz.core"]
});
(function() {
  var a = jQuery,
    B = Math,
    z = window.kendo,
    t = z.dataviz,
    d = t.Box2D,
    q = t.Color,
    C = t.Point2D,
    F = t.Ring,
    L = t.ViewBase,
    M = t.ViewElement,
    u = z.deepExtend,
    G = t.round,
    E = t.renderTemplate;
  var e = "butt",
    r = t.COORD_PRECISION,
    s = t.DASH_ARRAYS,
    x = t.DEFAULT_WIDTH,
    w = t.DEFAULT_HEIGHT,
    v = t.DEFAULT_FONT,
    y = B.PI / 180,
    K = B.PI * 2,
    A = "linear",
    D = "radial",
    H = "solid",
    I = "square";
  var f = E("<canvas width='#= d.options.width #px' height='#= d.options.height #px' style='position: relative; display: #= d.display #;'></canvas>");
  var p = L.extend({
    init: function(N) {
      var O = this;
      L.fn.init.call(O, N);
      O.display = O.options.inline ? "inline" : "block"
    },
    options: {
      width: x,
      height: w
    },
    renderTo: function(O) {
      var Q = this,
        P = Q.options,
        N;
      N = O.firstElementChild;
      if (!N || N.tagName.toLowerCase() !== "canvas") {
        O.innerHTML = f(this);
        N = O.firstElementChild
      } else {
        a(N).siblings().remove();
        N.width = P.width;
        N.height = P.height
      }
      Q._viewElement = N;
      Q.renderContent(N.getContext("2d"));
      return N
    },
    replace: function(Q) {
      var R = this,
        O = R._viewElement,
        N = Q.box,
        P;
      if (O && N) {
        P = O.getContext("2d");
        P.clearRect(N.x1, N.y1, N.width(), N.height());
        Q.getViewElements(R)[0].render(P)
      }
    },
    renderContent: function(O) {
      var P = this,
        R = P.sortChildren(),
        N = R.length,
        Q;
      for (Q = 0; Q < N; Q++) {
        R[Q].render(O)
      }
    },
    createGroup: function(N) {
      return new i(N)
    },
    createText: function(N, O) {
      return new o(N, O)
    },
    createRect: function(N, O) {
      return new j(N.points(), true, this.setDefaults(O))
    },
    createCubicCurve: function(P, O, N) {
      return new h(P, O, N)
    },
    createLine: function(O, Q, P, R, N) {
      return new j([new C(O, Q), new C(P, R)], false, this.setDefaults(N))
    },
    createMultiLine: function(N, O) {
      return this.decorate(new k(N, false, this.setDefaults(O)))
    },
    createPolyline: function(P, N, O) {
      return new j(P, N, this.setDefaults(O))
    },
    createCircle: function(N, P, O) {
      return new g(N, P, O)
    },
    createSector: function(O, N) {
      return new n(O, N)
    },
    createRing: function(O, N) {
      return new n(O, N)
    },
    createPin: function(O, N) {
      return new m(O, N)
    }
  });
  var i = M.extend({
    render: function(N) {
      this.renderContent(N)
    },
    renderContent: p.fn.renderContent
  });
  var l = M.extend({
    options: {
      fillOpacity: 1,
      strokeOpacity: 1,
      strokeLineCap: I
    },
    render: function(N) {
      var P = this,
        O = P.options;
      N.save();
      N.beginPath();
      P.renderPoints(N);
      P.setLineDash(N);
      P.setLineCap(N);
      if (O.fill && O.fill !== "transparent") {
        P.setFill(N);
        N.globalAlpha = O.fillOpacity;
        N.fill()
      }
      if (O.stroke && O.strokeWidth) {
        N.strokeStyle = O.stroke;
        N.lineWidth = O.strokeWidth;
        N.lineJoin = "round";
        N.globalAlpha = O.strokeOpacity;
        N.stroke()
      }
      P.renderOverlay(N);
      N.restore()
    },
    setLineDash: function(N) {
      var P = this.options.dashType,
        O;
      P = P ? P.toLowerCase() : null;
      if (P && P != H) {
        O = s[P];
        if (N.setLineDash) {
          N.setLineDash(O)
        } else {
          N.mozDash = O;
          N.webkitLineDash = O
        }
      }
    },
    setLineCap: function(N) {
      var P = this.options,
        O = P.dashType;
      N.lineCap = (O && O !== H) ? e : P.strokeLineCap
    },
    setFill: function(N) {
      var P = this.options,
        O = P.fill;
      N.fillStyle = O
    },
    renderOverlay: function(N) {
      var Q = this.options,
        R = Q.overlay,
        P, O;
      if (R && R.gradient) {
        O = t.Gradients[R.gradient];
        P = this.buildGradient(N, O);
        if (P) {
          N.fillStyle = P;
          N.fill()
        }
      }
    },
    renderPoints: a.noop,
    buildGradient: a.noop
  });
  var h = l.extend({
    init: function(Q, P, N) {
      var O = this;
      l.fn.init.call(O, P);
      O.points = Q;
      O.areaPoints = N
    },
    renderPoints: function(O) {
      var P = this,
        Q, N = P.areaPoints,
        R = P.points;
      O.moveTo(R[0].x, R[0].y);
      for (Q = 1; Q < R.length; Q += 3) {
        O.bezierCurveTo(G(R[Q].x, r), G(R[Q].y, r), G(R[Q + 1].x, r), G(R[Q + 1].y, r), G(R[Q + 2].x, r), G(R[Q + 2].y, r))
      }
      if (N && N.length) {
        for (Q = 0; Q < N.length; Q++) {
          O.lineTo(G(N[Q].x, r), G(N[Q].y, r))
        }
        O.closePath()
      }
    }
  });
  var j = l.extend({
    init: function(Q, N, P) {
      var O = this;
      l.fn.init.call(O, P);
      O.points = Q;
      O.closed = N
    },
    options: {
      rotation: [0, 0, 0]
    },
    renderPoints: function(N) {
      var O = this,
        P = O.points;
      O._renderPoints(N, P)
    },
    _renderPoints: function(O, T) {
      var Q = this,
        P, S, R = Q.options,
        V = R.strokeWidth,
        U = R.align !== false && V && V % 2 !== 0,
        N = U ? c : G;
      if (T.length === 0 || !(R.fill || R.stroke)) {
        return
      }
      if (R.rotation[0] !== 0) {
        Q.setRotation(O)
      }
      S = T[0];
      O.moveTo(N(S.x, r), N(S.y, r));
      for (P = 1; P < T.length; P++) {
        S = T[P];
        O.lineTo(N(S.x, r), N(S.y, r))
      }
      if (Q.closed) {
        O.closePath()
      }
    },
    buildGradient: function(O, P) {
      var N = this.bbox(),
        R = this.options.overlay.rotation,
        S = N.x2,
        T = N.y1,
        Q;
      if (R === 90) {
        S = N.x1;
        T = N.y2
      }
      if (P && P.type === A) {
        Q = O.createLinearGradient(N.x1, N.y1, S, T);
        b(Q, P.stops)
      }
      return Q
    },
    bbox: function() {
      var P = this.points,
        N = new d(),
        O;
      if (P.length > 0) {
        N.move(P[0].x, P[0].y);
        for (O = 1; O < P.length; O++) {
          N.wrapPoint(P[O])
        }
      }
      return N
    },
    setRotation: function(N) {
      var S = this,
        Q = S.options,
        R = Q.rotation,
        O = R[1],
        P = R[2];
      N.translate(O, P);
      N.rotate(R[0] * y);
      N.translate(-O, -P)
    }
  });
  var k = j.extend({
    renderPoints: function(N) {
      var Q = this,
        O = Q.points,
        P;
      for (P = 0; P < O.length; P++) {
        Q._renderPoints(N, O[P])
      }
    }
  });
  var n = l.extend({
    init: function(N, O) {
      var P = this;
      l.fn.init.call(P, O);
      P.config = N || {}
    },
    options: {
      strokeLineCap: I
    },
    renderPoints: function(P) {
      var V = this,
        O = V.config,
        X = O.startAngle,
        Q = O.angle + X,
        U = B.max(O.r, 0),
        T = B.max(O.ir, 0),
        N = O.c,
        Y = J(X),
        R = J(Q);
      if (Y === R) {
        X = 0;
        Q = 360;
        Y = 0;
        R = 2 * Math.PI
      }
      var S = O.point(X),
        W = O.point(Q, true);
      P.moveTo(S.x, S.y);
      P.arc(N.x, N.y, U, Y, R);
      if (T > 0) {
        P.lineTo(W.x, W.y);
        P.arc(N.x, N.y, T, R, Y, true)
      } else {
        P.lineTo(N.x, N.y)
      }
    },
    buildGradient: function(P, Q) {
      var O = this.config,
        N = O.c,
        R;
      if (Q && Q.type === D) {
        R = P.createRadialGradient(N.x, N.y, O.ir, N.x, N.y, O.r);
        b(R, Q.stops)
      }
      return R
    }
  });
  var g = l.extend({
    init: function(N, Q, P) {
      var O = this;
      l.fn.init.call(O, P);
      O.config = new F(N, 0, Q)
    },
    renderPoints: function(P) {
      var O = this.config,
        N = O.c;
      P.arc(N.x, N.y, O.r, 0, K, false)
    },
    buildGradient: n.fn.buildGradient
  });
  var m = l.extend({
    init: function(N, O) {
      var P = this;
      l.fn.init.call(P, O);
      P.config = N
    },
    renderPoints: function(P) {
      var T = this,
        O = T.config,
        U = O.radius,
        Q = B.PI / 180,
        N = O.arcAngle,
        R = O.height - U * (1 - B.cos(N * Q / 2)),
        S = O.origin;
      var V = T.options.rotation;
      P.translate(V[1], V[2]);
      P.rotate(J(V[0]));
      P.translate(V[1] - S.x, V[2] - S.y);
      P.rotate(J(-T.config.rotation));
      P.moveTo(0, 0);
      P.arc(0, -R, U, J(90 - N / 2), J(90 + N / 2));
      P.lineTo(0, 0);
      P.closePath()
    }
  });
  var o = M.extend({
    init: function(N, O) {
      var P = this;
      M.fn.init.call(P, O);
      P.content = N
    },
    options: {
      x: 0,
      y: 0,
      baseline: 0,
      font: v,
      size: {
        width: 0,
        height: 0
      },
      fillOpacity: 1
    },
    render: function(O) {
      var Q = this,
        P = Q.options,
        N = Q.content,
        R = P.x,
        S = P.y + P.baseline;
      O.save();
      if (P.rotation !== 0) {
        Q.setRotation(O)
      }
      O.font = P.font;
      O.fillStyle = P.color;
      O.globalAlpha = P.fillOpacity;
      O.fillText(N, R, S);
      O.restore()
    },
    setRotation: function(N) {
      var W = this,
        S = W.options,
        V = S.size,
        O = S.x + V.normalWidth / 2,
        P = S.y + V.normalHeight / 2,
        T = S.x + V.width / 2,
        U = S.y + V.height / 2,
        Q = T - O,
        R = U - P;
      N.translate(Q, R);
      N.translate(O, P);
      N.rotate(S.rotation * y);
      N.translate(-O, -P)
    }
  });

  function J(N) {
    return ((N + 540) % 360) * y
  }
  function c(N) {
    return B.round(N) + 0.5
  }
  function b(P, S) {
    var Q, R = S.length,
      O, N;
    for (Q = 0; Q < R; Q++) {
      O = S[Q];
      N = new q(O.color);
      P.addColorStop(O.offset, "rgba(" + N.r + "," + N.g + "," + N.b + "," + O.opacity + ")")
    }
  }
  if (t.supportsCanvas()) {
    t.ViewFactory.current.register("canvas", p, 30)
  }
  u(t, {
    CanvasCircle: g,
    CanvasGroup: i,
    CanvasLine: j,
    CanvasMultiLine: k,
    CanvasPath: l,
    CanvasRing: n,
    CanvasText: o,
    CanvasView: p
  })
})(window.kendo.jQuery);
(function(x, a, W) {
  if (typeof(Telerik) != "undefined" && typeof(Telerik.Utilities) != "undefined") {
    throw new Error("Telerik scripts already loaded! Check for duplicate script tags.")
  }
  var ab = WinJS,
    i = ab.Class.define,
    k = ab.Class.derive,
    D = ab.Class.mix,
    E = ab.Namespace.define,
    S = ab.Resources,
    T = "string",
    H = "number",
    f = "boolean",
    e = "array",
    I = "object",
    p = "function",
    P = "regexp",
    G = null,
    F = function() {}, n = ".",
    o = a.extend,
    w = Object.getPrototypeOf,
    z = Object.keys,
    O = Object.defineProperty,
    X = MSApp.execUnsafeLocalFunction,
    U = E("Telerik", {
      Error: k(Error, function(ad, ac) {
        var ae = this;
        ae.name = ad;
        ae.message = ac || ad
      })
    }),
    A = E("Telerik.Localization", {
      cultures: {
        "en-US": {}
      },
      _strings: {
        elementIsInvalid: "Invalid argument: the control expects a valid DOM element as the first argument.",
        pageContainerIsInvalid: "Invalid page container.",
        pageableControlIsInvalid: "Invalid argument: the function expects a valid constructor function as the first argument.",
        pageProviderIsInvalid: "Invalid argument: the function expects a valid constructor deriving from Telerik.UI.Pagination.PageProvider as the second argument.",
        endCalendarIsNotFound: "The specified end calendar was not found after 1 second since the start calendar was initialized."
      },
      _getStringFromResourceSubtree: function(ah, ad) {
        var ae = Windows.ApplicationModel.Resources.Core.ResourceManager.current.mainResourceMap,
          ag, af, ai;
        try {
          ag = ae.getSubtree(ah)
        } catch (ac) {}
        if (ag) {
          af = ag.getValue(ad)
        }
        if (af) {
          return {
            value: af.valueAsString
          }
        }
        return {
          empty: true
        }
      },
      _getString: function(ac) {
        var ae = S.getString(ac);
        if (ae.empty) {
          var ad = ac.split("/"),
            af = this["_" + ad[0]];
          ae = this._getStringFromResourceSubtree(ad[0], ad[1]);
          if (ae.empty) {
            if (!af) {
              return W
            }
            ae = af[ad[1]]
          } else {
            ae = ae.value
          }
        } else {
          ae = ae.value
        }
        return ae
      }
    }),
    Y = E("Telerik.Utilities", {
      getPropertyValue: function(ac, ae) {
        ae = ae.replace(/\[('|\")?/g, ".").replace(/('|\")?\]/g, "");
        if (ae.indexOf(n) > 0) {
          var af = ae.split(n),
            ag = ac;
          while (af.length > 1) {
            var ad = af.shift();
            if (typeof ag[ad] !== I) {
              return W
            }
            ag = ag[ad]
          }
          return ag[af.shift()]
        }
        return ac[ae]
      },
      setPropertyValue: function(ac, ae, ah) {
        ae = ae.replace(/\[('|\")?/g, ".").replace(/('|\")?\]/g, "");
        if (ae.indexOf(n) > 0) {
          var af = ae.split(n),
            ag = ac;
          while (af.length > 1) {
            var ad = af.shift();
            if (typeof ag[ad] !== I) {
              if (af.length && af[0] === +af[0] + "") {
                af[0] = +af[0];
                ag[ad] = []
              } else {
                ag[ad] = {}
              }
            }
            ag = ag[ad]
          }
          ag[af.shift()] = ah
        } else {
          ac[ae] = ah
        }
      },
      getType: function(ac) {
        return Object.prototype.toString.call(ac).split(" ")[1].split("]")[0].toLowerCase()
      },
      setPrivate: function(ad, ae, af, ag) {
        var ac = Object.getOwnPropertyDescriptor(ad, ae);
        if (ac) {
          ad[ae] = af
        } else {
          O(ad, ae, {
            value: af,
            writable: !! ag
          })
        }
        return af
      },
      merge: function(ao, ac) {
        var al = arguments[0] || {}, ap = [I, e],
          ad = this.getType;
        for (var ae = 1, ag = arguments.length; ae < ag; ae++) {
          var ai = arguments[ae];
          if (ap.indexOf(ad(ai)) < 0) {
            continue
          }
          for (var af in ai) {
            var ak = ai[af],
              an = al[af],
              aj = ad(ak),
              am = ad(an);
            if (ak === an) {
              continue
            }
            if (ap.indexOf(aj) >= 0) {
              var ah = aj === I ? {} : [];
              if (am !== aj) {
                an = al[af] = ah
              }
              this.merge(an, ak)
            } else {
              if (ak !== W) {
                al[af] = ak
              }
            }
          }
        }
        return al
      },
      clone: function(ak, ag, ae, ai) {
        var aj = this,
          af = ag || [],
          ad = ae || [],
          ac = aj.getType(ak) === e ? [] : {};
        if (!ak || typeof ak !== I) {
          return ak
        }
        if (ad.indexOf(Date) < 0) {
          ad.push(Date)
        }(function ah(al, aw, am, ao) {
          for (var aq in aw) {
            if (ao.indexOf(aq) > -1) {
              continue
            }
            var ax = aw[aq],
              at = false;
            if (ai) {
              var au = ai(aq, ax, aw);
              at = ax !== au;
              ax = au
            }
            if (ax && typeof ax === I && !at) {
              var an = false;
              for (var ap = 0, ar = am.length; ap < ar; ap++) {
                if (ax instanceof am[ap]) {
                  an = true;
                  break
                }
              }
              var av = ao.reduce(function(ay, az) {
                var aA = az.split(".");
                if (aA.indexOf(aq) > -1) {
                  var aB = aA.slice(1).join(".");
                  if (aB) {
                    ay.push(aB)
                  }
                }
                return ay
              }, []);
              ax = an ? ax : ah(aj.getType(ax) === e ? [] : {}, ax, am, av)
            }
            if (ax !== W) {
              al[aq] = ax
            }
          }
          return al
        })(ac, ak, ad, af);
        return ac
      },
      htmlToString: function(ac) {
        return a("<div></div>").append(ac).html()
      },
      getTemplate: function(af, ac) {
        var ae, ag = function(ah) {
          var aj = ah;
          if (ac && typeof ah !== T) {
            try {
              aj = Telerik.Utilities.htmlToString(a(ah))
            } catch (ai) {
              aj = document.createTextNode(ah).textContent
            }
          }
          return aj
        };
        if (af === G) {
          return G
        }
        if (!af) {
          return W
        }
        if (typeof af === p) {
          ae = function(ah) {
            return ag(af(ah))
          }
        } else {
          if (typeof af === T) {
            ae = function(ah) {
              return ag(ae._kendoTemplate(ah))
            };
            ae._kendoTemplate = kendo.template(af)
          } else {
            var ad = af.getAttribute && af.winControl ? af.winControl : af;
            if (ad instanceof WinJS.Binding.Template) {
              ae = function(ah) {
                ah = (ah instanceof kendo.data.ObservableObject || (typeof ah.bind === "function" && typeof ah.unbind === "function" && typeof ah.toJSON === "function")) ? ah.toJSON() : ah;
                var ai = document.createElement(ad.element.tagName),
                  aj = [];
                ad.render(ah, ai).then(function(al) {
                  var ak = al.firstElementChild;
                  while (ak) {
                    aj.push(ak);
                    ak = ak.nextElementSibling
                  }
                });
                return ag(aj)
              }
            }
          }
        }
        if (ae) {
          ae._originalTemplate = af
        }
        return ae || W
      },
      makeArray: function(ac) {
        return ac != null ? (Y.getType(ac) === "array" ? ac : [ac]) : []
      },
      intersection: function(ad, ag) {
        var af = [];
        for (var ac = 0, ae = ad.length; ac < ae; ac++) {
          var ah = ad[ac];
          if (af.indexOf(ah) < 0 && ag.indexOf(ah) > -1) {
            af.push(ah)
          }
        }
        return af
      },
      _validators: {
        unifiedTemplate: function(ac) {
          return Y.getTemplate(ac, true) !== W ? ac : W
        },
        stringOrUnifiedTemplate: function(ac) {
          return typeof ac === "string" ? ac : Y.getTemplate(ac, true)
        },
        notPrevious: function(ad, ac) {
          if (ad !== ac) {
            return ad
          }
        },
        floatValue: function(ad, ac) {
          ad = parseFloat(ad);
          if (!isNaN(ad) && Y._validators.notPrevious(ad, ac) !== W) {
            return ad
          }
        }
      },
      toString: function(ae, ad, ac) {
        ad = kendo._extractFormat(ad);
        if (ac) {
          Telerik.Culture._checkCulture(ac)
        }
        return kendo.toString(ae, ad, ac)
      },
      format: function() {
        return kendo.format.apply(this, arguments)
      },
      color: {
        fromRGB: function(af, ae, ad, ac) {
          return kendo.Color.fromRGB(af, ae, ad, ac)
        },
        fromBytes: function(af, ae, ad, ac) {
          return kendo.Color.fromBytes(af, ae, ad, ac)
        },
        fromHSV: function(ad, ae, af, ac) {
          return kendo.Color.fromHSV(ad, ae, af, ac)
        },
        parseColor: function(ad, ac) {
          return kendo.parseColor(ad, ac)
        }
      },
      _buildLocalizationObject: function(ad, af) {
        var ae = {}, ac = {};
        Object.defineProperties(ae, Object.keys(ad).reduce(function(ag, ah) {
          var ai = ad[ah];
          if (typeof ai === "object") {
            ac[ah] = ai
          } else {
            ag[ah] = {
              get: function() {
                var aj = this["_" + ah];
                return aj !== W ? aj : Telerik.Localization._getString(af + "/" + ai)
              },
              set: function(aj) {
                N(this, "_" + ah, aj, true)
              },
              configurable: false,
              enumerable: true
            }
          }
          return ag
        }, {}));
        Object.keys(ac).forEach(function(ag) {
          ae[ag] = Y._buildLocalizationObject(ac[ag], af)
        });
        return ae
      },
      _pointerEvent: function(ac) {
        return "onpointerdown" in document ? ("pointer" + ac) : ("MSPointer" + ac.charAt(0).toUpperCase() + ac.substr(1))
      }
    }),
    N = Y.setPrivate,
    V = E("Telerik.UI", {
      setOptions: function(ae, aj) {
        var ah, ag, ak, ac, ad, af, ai;
        if (Y.getType(aj) === I) {
          ah = Object.keys(aj);
          for (af = 0, ai = ah.length; af < ai; af++) {
            ag = ah[af];
            ak = aj[ag];
            if (ag.charAt(0) !== "_") {
              if (ag.length > 2) {
                ac = ag[0];
                ad = ag[1];
                if ((ac === "o" || ac === "O") && (ad === "n" || ad === "N")) {
                  if (typeof ak === p && typeof ae.addEventListener === p) {
                    ae.addEventListener(ag.substr(2), ak);
                    continue
                  }
                }
              }
              ae[ag] = ak
            }
          }
        }
      }
    }),
    g = E("Telerik.UI.Common", {
      EventBase: i(function(ah, af, ad) {
        var ag = this,
          ae = ag.constructor.prototype;
        ag.type = ah;
        ag.target = af;
        ag.timeStamp = Date.now();
        N(ag, "_extended", ad || {}, true);
        N(ag, "_preventDefaultCalled", false, true);
        N(ag, "_stopImmediatePropagationCalled", false, true);
        if (ad) {
          var ac = {};
          z(ad).forEach(function(ai) {
            if (!ae.hasOwnProperty(ai)) {
              ac[ai] = {
                value: ad[ai],
                writable: true,
                enumerable: true,
                configurable: false
              }
            }
          });
          if (z(ac).length) {
            Object.defineProperties(ag, ac)
          }
        }
      }, {
        target: G,
        timeStamp: G,
        type: G,
        bubbles: {
          value: false,
          writable: false
        },
        cancelable: {
          value: false,
          writable: false
        },
        trusted: {
          value: false,
          writable: false
        },
        eventPhase: {
          value: 0,
          writable: false
        },
        currentTarget: {
          get: function() {
            return this.target
          }
        },
        defaultPrevented: {
          get: function() {
            return this._preventDefaultCalled
          }
        },
        isDefaultPrevented: function() {
          return this._preventDefaultCalled
        },
        preventDefault: function() {
          var ad = this,
            ac = ad._extended;
          ad._preventDefaultCalled = true;
          if (typeof ac.preventDefault === p) {
            ac.preventDefault()
          }
        },
        stopImmediatePropagation: function() {
          this._stopImmediatePropagationCalled = true
        },
        stopPropagation: function() {
          var ac = that._extended;
          if (typeof ac.stopPropagation === p) {
            ac.stopPropagation()
          }
        }
      }),
      eventMixin: {
        addEventListener: function(aj, ag, ak) {
          var ai = this,
            ac = ai._events ? ai._events : N(ai, "_events", {}),
            ah = (ac[aj] = ac[aj] || []);
          for (var ad = 0, af = ah.length; ad < af; ad++) {
            var ae = ah[ad];
            if (ae.capture === !! ak && ae.handler === ag) {
              return
            }
          }
          ah.push({
            capture: !! ak,
            handler: ag
          })
        },
        removeEventListener: function(aj, ag, ak) {
          var ai = this,
            ac = ai._events ? ai._events : N(ai, "_events", {}),
            ah = ac[aj];
          if (ah) {
            for (var ad = 0, af = ah.length; ad < af; ad++) {
              var ae = ah[ad];
              if (ae.handler === ag && ae.capture === !! ak) {
                ah.splice(ad, 1);
                if (!ah.length) {
                  delete ac[aj]
                }
                break
              }
            }
          }
        },
        dispatchEvent: function(ak, ac) {
          var aj = this,
            ad = aj._events ? aj._events : N(aj, "_events", {}),
            ah = ad[ak];
          if (ah) {
            var ai = ah.slice(0, ah.length),
              ae = new g.EventBase(ak, aj, ac);
            for (var af = 0, ag = ai.length; af < ag && !ae._stopImmediatePropagationCalled; af++) {
              ai[af].handler(ae)
            }
            return ae.defaultPrevented
          }
          return false
        },
        _disposeEvents: function() {
          var ae = this,
            ac = ae._events || {};
          for (var ad in ac) {
            delete ac[ad]
          }
        }
      }
    });
  var q = 2000;
  var r = [];
  var u = null;

  function t() {
    u = null;
    r = r.filter(function ac(ad) {
      if (ad._gcCheck()) {
        if (typeof(ad._destroy) === "function") {
          ad._destroy()
        }
        return false
      }
      return true
    })
  }
  function s(ac) {
    r.push(ac);
    if (u != null) {
      clearTimeout(u)
    }
    u = setTimeout(t, q)
  }
  var d = i(function l(ac, ad) {
    var ae = this;
    ae._isDestroyed = false;
    if (typeof(ae._destroy) === "function") {
      s(ae)
    }
  }, {
    _gcCheck: function m() {
      var ac = this;
      return ac._isDestroyed || (ac.element.childNodes.length == 0 && !document.body.contains(ac.element))
    }
  });
  var h = k(d, function(ac, ad) {
    if (!ac) {
      throw new U.Error("Telerik.UI.Control.ElementIsInvalid", A._strings.elementIsInvalid)
    }
    var ae = this;
    d.call(ae, ac, ad);
    ae.element = ac;
    ac.winControl = ae
  }, {
    element: G,
    initialized: {
      get: function() {
        return this._initialized
      }
    },
    _initialized: false,
    _localizationKey: "",
    _getTypeName: function() {
      for (var ac in V) {
        if (V[ac] == this.constructor) {
          return ac
        }
      }
      return ""
    },
    _getLocalizationKey: function() {
      var ac = this;
      if (!ac._localizationKey) {
        ac._localizationKey = ac._getTypeName()
      }
      return ac._localizationKey.toLowerCase()
    },
    _getString: function(ac) {
      return A._getString(this._getLocalizationKey() + "/" + ac)
    },
    _destroy: function() {
      var ac = this;
      if (!ac._isDestroyed) {
        ac._isDestroyed = true;
        ac._disposeEvents()
      }
    }
  });
  D(h, g.eventMixin);

  function y(ac) {
    var ad = ac.prototype;
    while (ad) {
      if (ad === c.prototype) {
        return true
      }
      ad = w(ad)
    }
    return false
  }
  function v(ac) {
    if (ac instanceof WinJS.Binding.List) {
      return ac
    } else {
      if (ac && typeof ac.createListBinding === p && ac.list instanceof ab.Binding.List) {
        return ac.list
      }
    }
    return W
  }
  function R(ae, af) {
    if (Y.getType(af) === I) {
      var ac = v(af);
      if (ac) {
        return ac
      }
      if (af instanceof c) {
        return af._toOption()
      }
      if (af && typeof af.type === p && y(af.type)) {
        var ad = new af.type();
        delete af.type;
        ad._modified = af;
        return ad._toOption()
      }
    }
    return af
  }
  function C(ac, ad) {
    var ag = ac[ad];
    if (typeof ag === I) {
      var ae = ac.constructor.prototype;
      while (ae) {
        var af = ae[ad];
        if (af !== ag && typeof af === I && z(af).length) {
          ag = o(true, {}, af, ag)
        }
        ae = w(ae)
      }
    }
    return ag
  }
  function B(ae, ac) {
    var ad = Telerik.Data.DataSource.prototype._eventsMap;
    z(ad).forEach(function(af) {
      var ai = af.substr(2),
        ag = ac[af];
      if (typeof ag === p) {
        ac[ad[af]] = function ah(am) {
          var ao = am.sender,
            an = !(ae._dataSource instanceof Telerik.Data.DataSource),
            aj = ae.dataSource;
          if (!aj) {
            var al = (ae instanceof Telerik.UI.RadScheduler) ? Telerik.Data.SchedulerDataSource : Telerik.Data.DataSource;
            aj = new al(ao);
            N(ae, "_dataSource", aj, true)
          }
          aj.addEventListener(ai, ag);
          ao.unbind(ad[af], ah);
          if (an) {
            var ak = Array.apply(G, arguments);
            ak.unshift(ai);
            aj.dispatchEvent.apply(aj, ak)
          }
        };
        delete ac[af]
      }
    })
  }
  var Z = k(h, function(ae, af) {
    var ag = this;
    af = Y.clone(af || {}, null, [Telerik.Data.DataSource, WinJS.Binding.List, WinJS.Binding.Template, Element], R);
    h.call(ag, ae, af);
    N(ag, "_options", af, true);
    N(ag, "_optionsMap", C(ag, "_optionsMap"));
    N(ag, "_eventsMap", C(ag, "_eventsMap"));
    ag._mapEvents(af);
    var ac = af.dataSource;
    if (ac instanceof WinJS.Binding.List) {
      var ad = (ag instanceof Telerik.UI.RadScheduler) ? Telerik.Data.SchedulerDataSource : Telerik.Data.DataSource;
      ac = new ad(ac)
    }
    if (ac instanceof Telerik.Data.DataSource) {
      N(ag, "_dataSource", ac, true);
      af.dataSource = ac._ds
    } else {
      if (Y.getType(ac) === I) {
        B(ag, ac)
      }
    }
  }, {
    _widget: G,
    _optionsMap: {},
    _eventsMap: {},
    _initialize: function(ae, ad) {
      var af = this,
        ag = af._mapOptions(a.extend({}, af._options));
      N(af, "_initialized", false, true);
      return new WinJS.Promise(function ac(ah, ai) {
        if (af._requiresLayout && !ad.offsetWidth) {
          if (!af._initialized && !af._isDestroyed) {
            N(af, "_initTimeout", setImmediate(ac, ah, ai), true)
          } else {
            ai("_initTimeout_Canceled")
          }
          return
        }
        var aj = a(ad || af.element)[ae](ag).data(ae);
        N(af, "_initTimeout", G, true);
        N(af, "_widget", aj, true);
        N(af, "_initialized", true, true);
        ah()
      })
    },
    _mapOptions: function(ad) {
      var ae = this,
        ac = ae._optionsMap,
        af = function(ah, ag) {
          z(ag).forEach(function(ai) {
            var aj = ag[ai],
              ak = ah[ai];
            if (Y.getType(aj) === I && Y.getType(ak) === I) {
              af(ak, aj)
            } else {
              if (ak !== W) {
                Y.setPropertyValue(ah, aj, ak);
                delete ah[ai]
              }
            }
          })
        };
      af(ad, ac);
      return ad
    },
    _mapEvents: function(ad) {
      var ae = this,
        ac = ae._eventsMap;
      z(ac).forEach(function(af) {
        ad[ac[af]] = ae.dispatchEvent.bind(ae, af.substr(2));
        var ag = ad[af];
        if (typeof ag === p) {
          ae.addEventListener(af.substr(2), ag);
          delete ad[af]
        }
      });
      return ad
    },
    _destroy: function aa() {
      var ac = this;
      if (!ac._isDestroyed) {
        ac._widget && typeof(ac._widget.destroy) === p && ac._widget.destroy();
        ac._initTimeout && clearImmediate(ac._initTimeout) && (ac._initTimeout = G);
        ac.element.innerText = ""
      }
      h.prototype._destroy.call(ac)
    },
  });
  var c = i(function(ae, af, ac, ad) {
    var ag = this;
    N(ag, "_owner", ae, true);
    N(ag, "_parentMapping", af, true);
    N(ag, "_defaults", ac || {}, true);
    N(ag, "_onchange", ad || F, true);
    N(ag, "_modified", {}, true);
    N(ag, "_optionsMap", C(ag, "_optionsMap"));
    N(ag, "_validators", C(ag, "_validators"));
    N(ag, "_initialized", true)
  }, {
    _owner: G,
    _optionsMap: {},
    _parentMapping: "",
    _defaults: G,
    _modified: G,
    _validators: {},
    _onchange: F,
    _toOption: function() {
      var ai = this,
        af = o(true, {}, ai._modified),
        ae = ai._optionsMap;
      for (var ad in ai) {
        if (ad === "constructor") {
          continue
        }
        var ag = ai[ad];
        if (ag instanceof c) {
          var ah = ag._toOption();
          if (ah && z(ah).length) {
            af[ad] = ah
          }
        } else {
          if (ae[ad]) {
            var ac = af[ad];
            if (ac !== W) {
              Y.setPropertyValue(af, ae[ad], ac);
              delete af[ad]
            }
          }
        }
      }
      return z(af).length ? af : W
    },
    _wireUp: function(af, ad) {
      var ah = this,
        ag = ah._owner !== af,
        ae = ah._parentMapping !== ad;
      if (ag) {
        ah._owner = af
      }
      if (ae) {
        ah._parentMapping = ad
      }
      if (ag || ae) {
        for (var ac in ah) {
          var ai = ah[ac];
          if (ai instanceof c) {
            ai._wireUp(af, c.getMapping(ah, ac))
          }
        }
      }
    }
  }, {
    createGetter: function(ad, ac) {
      return function() {
        var aj = this;
        if (!aj._initialized) {
          return ac
        }
        var ai = aj instanceof Z ? aj : aj._owner,
          al = ai && ai._widget ? ai._widget : G,
          ak = aj._modified[ad],
          ae = aj._defaults[ad] !== W ? aj._defaults[ad] : ac,
          ag = (aj._optionsMap || {})[ad] || ad;
        if (ak !== W) {
          return ak
        }
        if (typeof ae === p) {
          ae = ae.call(aj, ad)
        }
        if (!al) {
          if (aj._seriesOption) {
            ak = Y.getPropertyValue(aj._seriesOption, ag);
            if (ak !== W) {
              return ak
            }
          }
          ak = ae
        } else {
          var ah = typeof aj._parentMapping === p ? aj._parentMapping() : aj._parentMapping,
            af = ah ? ah + "." + ag : ag;
          ak = Y.getPropertyValue(al.options, af);
          if (ak === W) {
            ak = ae
          }
        }
        if (ak === ac && Y.getType(ak) === e) {
          ak = aj._modified[ad] = Array.apply(G, ak)
        }
        return ak
      }
    },
    createSetter: function(ac) {
      return function(af) {
        var ae = this,
          ad = ae[ac],
          af = c.validate(ae._validators || {}, ac, af, ad);
        if (af === W || af === ad) {
          return
        }
        ae._modified[ac] = af;
        if (ae._onchange) {
          ae._onchange({
            key: ac,
            value: af,
            oldValue: ad
          })
        }
      }
    },
    defineProperty: function(ad, ac) {
      return {
        get: c.createGetter(ad, ac),
        set: c.createSetter(ad),
        enumerable: true,
        configurable: false
      }
    },
    convert: function(ae, ad) {
      var ac = Y.getType(ae);
      if (ac !== ad) {
        if (ad === T) {
          ae = ae + ""
        } else {
          if (ad === H) {
            ae = parseFloat(ae);
            if (isNaN(ae)) {
              return
            }
          } else {
            if (ad === f) {
              ae = !! ae
            } else {
              return
            }
          }
        }
      }
      return ae
    },
    validate: function(aq, ai, at, al) {
      var am = this,
        an = Y.getType(at),
        af = Y.getType(al),
        ap = Y.getPropertyValue(aq, ai),
        ah = ap && ap.hasOwnProperty("type"),
        ar = Y.getType(ap);
      if (an !== af && !ah && ar !== p) {
        at = am.convert(at, af)
      }
      if (at === W) {
        return
      }
      if (ap) {
        if (ah) {
          var ad = Y.getType(ap.type) === e ? ap.type : [ap.type],
            ao = false;
          for (var ag = 0, aj = ad.length; ag < aj; ag++) {
            var ac = ad[ag],
              ak = ac.substr(ac.length - 10) === ":noconvert",
              ac = ak ? ac.substr(0, ac.length - 10) : ac;
            if (an === ac) {
              ao = true;
              break
            }
            if (!ak) {
              var ae = am.convert(at, ac);
              if (ae !== W) {
                ao = true;
                at = ae;
                break
              }
            }
          }
          if (!ao) {
            return
          }
        } else {
          if (ar === e && ap.indexOf(at) < 0) {
            return
          } else {
            if (ar === p) {
              return ap(at)
            } else {
              if (ar === P) {
                if (!ap.test(at)) {
                  return
                }
              } else {
                if (ap.hasOwnProperty("min") || ap.hasOwnProperty("max")) {
                  if (ap.min && at < ap.min) {
                    return
                  }
                  if (ap.max && at > ap.max) {
                    return
                  }
                }
              }
            }
          }
        }
      }
      return at
    },
    getMapping: function(ac, ad) {
      var ae;
      if (ac._optionsMap) {
        ae = ac._optionsMap[ad];
        if (ae) {
          return ae
        }
      }
      ae = ac._parentMapping;
      if (ae) {
        if (typeof ae === p) {
          return function() {
            return ae() + "." + ad
          }
        }
        return ae + "." + ad
      }
      return ad
    }
  });
  var b = i(function(ac) {
    var ad = this;
    N(ad, "_modified", {}, true);
    V.setOptions(ad, ac);
    N(ad, "_initialized", true)
  }, null, {
    createGetter: function(ad, ac) {
      return function() {
        var ae = this,
          af = ae._modified[ad];
        return af !== W ? af : ac
      }
    },
    createSetter: function(ac, ae, ad) {
      return function(ai) {
        var ah = this,
          ag = ah[ac],
          af = ah._modified;
        if (typeof ae === p) {
          ai = ae(ai, ag);
          if (ai === W) {
            return
          }
        }
        af[ac] = ai;
        if (ah._initialized) {
          if (typeof ad === p) {
            ad.call(ah, ai)
          }
          if (typeof ah._onchange === p) {
            ah._onchange(ai, ac)
          }
        }
      }
    },
    defineProperty: function(ad, ac, af, ae) {
      return {
        get: b.createGetter(ad, ac),
        set: b.createSetter(ad, af, ae),
        enumerable: true,
        configurable: false
      }
    },
    defineConfigurationProperty: function(ad, af, ae) {
      var ac = {
        enumerable: true,
        configurable: false
      };
      ac.get = function() {
        var ah = this,
          ag = ah._modified,
          ai = ag[ad];
        if (!ai && typeof af === p) {
          ai = ag[ad] = af();
          if (ai && typeof ae === p) {
            ai._onchange = ae
          }
        }
        return ai
      };
      return ac
    }
  });
  E("Telerik.UI", {
    Control: h,
    WidgetWrapper: Z,
    _ControlConfiguration: c,
    _Configuration: b,
    _Disposable: d,
    progress: function(ac, ae, ad) {
      a(ac).each(function() {
        var ah = a(this),
          ai = ai || ah.hasClass("k-grid-content") || ah.hasClass("k-chart"),
          ag = "t-progress-id",
          af = ah.data(ag) || {}, aj = a("#" + af.id);
        if (ae) {
          if (!aj.length) {
            af.id = kendo.guid();
            af.position = ah[0].style.position;
            aj = a("<div class='t-progress'><div class='t-mask' /><progress /></div>").attr("id", af.id);
            ah.data(ag, af)
          }
          aj[ai ? "addClass" : "removeClass"]("t-modal");
          if (af.position !== "relative" && af.position !== "absolute") {
            ah.css("position", "relative")
          }
          ah.append(aj)
        } else {
          aj.remove();
          ah.css("position", af.position)
        }
      })
    }
  });
  kendo.ui.progress = Telerik.UI.progress;
  var j = c.defineProperty;
  E("Telerik.UI.Common", {
    _runGC: t,
    _BorderConfiguration: k(c, function(ad, ae, ac) {
      c.call(this, ad, ae, ac)
    }, {
      _validators: {
        dashType: ["solid", "dot", "dash", "longDash", "dashDot", "longDashDot", "longDashDotDot"]
      },
      color: j("color", "black"),
      dashType: j("dashType", "solid"),
      width: j("width", 0)
    }),
    _BoxConfiguration: k(c, function(ad, ae, ac) {
      c.call(this, ad, ae, ac)
    }, {
      left: j("left", 0),
      right: j("right", 0),
      top: j("top", 0),
      bottom: j("bottom", 0)
    })
  });
  var J = kendo.dataviz.renderSVG;
  kendo.dataviz.renderSVG = function(ac, ad) {
    X(function() {
      J(ac, ad)
    })
  };
  if (Windows && Windows.Devices && Windows.Devices.Input && Windows.Devices.Input.TouchCapabilities) {
    kendo.support.kineticScrollNeeded = false
  }
  o(a.easing, {
    easeInOutSine: function(ag, af, ae, ad, ac) {
      return -ad / 2 * (Math.cos(Math.PI * af / ac) - 1) + ae
    }
  });
  var M = kendo.ui.Popup.prototype.open;
  kendo.ui.Popup.prototype.open = function() {
    var ae = this,
      ac = a(ae.options.anchor),
      ad = document.documentElement;
    if (ac.length) {
      WinJS.Navigation.addEventListener("navigated", ae._navHandler = function(af) {
        setImmediate(function() {
          if (ac[0] && !ac[0].offsetWidth) {
            ae.close()
          }
        })
      })
    }
    M.apply(ae, arguments)
  };
  var Q = function(ac) {
    return function() {
      var ad = this;
      if (ad._navHandler) {
        WinJS.Navigation.removeEventListener("navigated", ad._navHandler);
        delete ad._navHandler
      }
      ac.apply(ad, arguments)
    }
  };
  var L = kendo.ui.Popup.prototype.destroy;
  kendo.ui.Popup.prototype.destroy = Q(L);
  var K = kendo.ui.Popup.prototype.close;
  kendo.ui.Popup.prototype.close = Q(K)
})(this, jQuery);
(function(f, a, m) {
  var n = WinJS,
    h = n.Namespace.define,
    g = Windows.Globalization,
    c = g.CalendarIdentifiers.gregorian,
    i = "number",
    l = "24HourClock",
    k = "12HourClock";
  h("Telerik.Culture", {
    _current: "en-US",
    setCurrent: function(o, q) {
      var p = this;
      if (o) {
        p._current = o
      }
      p.getCultureInfo(o, q);
      kendo.culture(o)
    },
    getCurrent: function() {
      return this._current
    },
    getCultureInfo: function(o, r) {
      var p = kendo.cultures;
      if (r === m) {
        r = d(r, o)
      }
      if (p[o] && p[o].twentyFourHour === r) {
        return p[o]
      }
      var q = b(o, r);
      p[o] = q;
      return p[o]
    },
    setCultureInfo: function(o, p) {
      p = p || {};
      kendo.cultures[o] = p
    },
    _checkCulture: function(o) {
      if (!kendo.cultures[o]) {
        this.getCultureInfo(o)
      }
    }
  });

  function e(o) {
    var q, p;
    q = o.split("-");
    p = q.length;
    return p > 3 ? q[3] : q[p - 1]
  }
  function j(q, o) {
    var p = new g.DateTimeFormatting.DateTimeFormatter("{period.abbreviated}", [o], e(o), c, g.ClockIdentifiers.twelveHour),
      r = p.format(new Date(2003, 1, 2, q));
    return r
  }
  function d(q, o) {
    var p = j(1, o);
    if (p.length > 0) {
      q = false
    } else {
      q = true
    }
    return q
  }
  function b(q, U) {
    var P = e(q),
      I = g.NumberFormatting,
      v = new I.DecimalFormatter([q], P),
      N = new I.PercentFormatter([q], P),
      s = new I.CurrencyFormatter(r(q), [q], P),
      p = U ? "twentyFourHour" : "twelveHour",
      o = g.ClockIdentifiers[p],
      x = v.fractionDigits,
      y = N.fractionDigits,
      w = s.fractionDigits,
      G = {}, S = {
        p: "",
        c: ""
      }, D, R, u, T, H;
    u = {
      "{day.integer(2)}": "dd",
      "{day.integer}": "d",
      "{dayofweek.abbreviated(2)}/{dayofweek.abbreviated}/{dayofweek.solo.abbreviated(2)}/{dayofweek.solo.abbreviated}": "ddd",
      "{dayofweek.full}/{dayofweek.solo.full}": "dddd",
      "{month.integer(2)}": "MM",
      "{month.integer}": "M",
      "{month.abbreviated(2)}/{month.abbreviated}/{month.solo.abbreviated(2)}/{month.solo.abbreviated}": "MMM",
      "{month.full}/{month.solo.full}": "MMMM",
      "{year.abbreviated(2)}/{year.abbreviated}": "yy",
      "{year.full}": "yyyy"
    };
    T = {
      "{hour.integer(2)}": "hh",
      "{hour.integer}": "h",
      "{minute.integer(2)}": "mm",
      "{minute.integer}": "m",
      "{second.integer(2)}": "ss",
      "{second.integer}": "s",
      "{period.abbreviated}": "tt"
    };
    H = {
      d: {
        date: "shortdate"
      },
      D: {
        date: "longdate"
      },
      F: {
        date: "longdate",
        time: "longtime"
      },
      g: {
        date: "day month.numeric year.full",
        time: "hour minute"
      },
      G: {
        date: "day month.numeric year.full",
        time: "hour minute second"
      },
      m: {
        date: "day month.full"
      },
      M: {
        date: "day month.full"
      },
      s: "yyyy'-'MM'-'dd'T'HH':'mm':'ss",
      t: {
        time: "shorttime"
      },
      T: {
        time: "longtime"
      },
      u: "yyyy'-'MM'-'dd HH':'mm':'ss'Z'",
      y: {
        date: "month.full year.full"
      },
      Y: {
        date: "month.full year.full"
      }
    };

    function C(W, V) {
      v.fractionDigits = typeof V === i ? V : x;
      return v.format(W)
    }
    function R(V, X) {
      var W, Y;
      V.fractionDigits = 1;
      W = V.format(1.1);
      Y = W.indexOf(",") > -1 ? "," : ".";
      return Y
    }
    function E(V, X) {
      var W;
      V.isGrouped = true;
      V.fractionDigits = 0;
      W = V.format(1234567);
      if (X) {
        W = W.replace(X, "").replace(" ", "")
      }
      D = W.charAt(W.length - 4);
      return D
    }
    function F(V, Y) {
      var W, X;
      V.isGrouped = true;
      V.fractionDigits = 0;
      W = V.format(1234567);
      if (Y) {
        W = W.replace(Y, "").replace(" ", "")
      }
      X = W.split(D);
      return X.length === 2 ? [3, 0] : (X[1].length === 2 ? [3, 2] : [3])
    }
    function J() {
      var W = C(2, 0),
        X = "",
        ab = "",
        Y = "-",
        V, Z, aa, ad, ac;
      Z = C(-2);
      aa = Z.indexOf(W);
      V = Z.indexOf("-");
      ac = V > aa;
      if (!ac) {
        if (Z.indexOf("(") > -1) {
          X = "(";
          ab = ")";
          Y = ""
        }
      }
      ad = Z.indexOf(" ") > -1 ? " " : "";
      if (ac) {
        return [X + "n" + ad + Y + ab]
      } else {
        return [X + Y + ad + "n" + ab]
      }
    }
    function O() {
      var V;
      V = N.format(2);
      return V.charAt(0) === S.p ? ["-%n", "%n"] : (V.indexOf(" ") > -1 ? ["-n %", "n %"] : ["-n%", "n%"])
    }
    function r(V) {
      var W = new g.GeographicRegion(e(V).toUpperCase()),
        X = W.currenciesInUse[0];
      return X
    }
    function t() {
      var W = C(2, 0),
        X = "",
        ac = "",
        Z = "-",
        aa, ab, ae, Y, af, V, ad;
      aa = s.format(-2);
      ab = aa.indexOf(W);
      af = aa.indexOf(S.c);
      V = aa.indexOf("-");
      Y = aa.indexOf(" ") > -1 ? " " : "";
      ad = V > ab;
      if (!ad) {
        if (aa.indexOf("(") > -1) {
          X = "(";
          ac = ")";
          Z = ""
        }
      }
      aa = s.format(2);
      ae = aa.indexOf(" ") > -1 ? " " : "";
      if (ad) {
        if (ab < af) {
          return V > af ? ["n" + Y + "$" + Z, "n" + ae + "$"] : ["n" + Z + Y + "$", "n" + ae + "$"]
        } else {
          return ["$" + Y + "n" + Z, "$" + ae + "n"]
        }
      } else {
        if (af < ab) {
          return V > af ? [X + "$" + Y + Z + "n" + ac, "$" + ae + "n"] : [X + Z + "$" + Y + "n" + ac, "$" + ae + "n"]
        } else {
          return [X + Z + "n" + Y + "$" + ac, "n" + ae + "$"]
        }
      }
    }
    function M(V, X, Y) {
      var W = C(X, 0);
      V.fractionDigits = 0;
      S[Y] = V.format(2).replace(W, "").replace(" ", "");
      return S[Y]
    }
    function Q() {
      for (var aa in H) {
        var W, ad, ab, af = [],
          ac = "",
          V = H[aa].date,
          ag = H[aa].time;
        if (V) {
          W = new g.DateTimeFormatting.DateTimeFormatter(V, [q], P, c, o);
          ad = W.patterns[0];
          ab = ad.match(/(?=\})[^{]+(?=\{)/g);
          ab.forEach(function(ah) {
            if (af.indexOf(ah) === -1) {
              var aj = ah.substring(1),
                ai = new RegExp(aj, "g");
              af.push(ah);
              ad = ad.replace(ai, "'" + aj + "'")
            }
          });
          for (var Y in u) {
            var Z = Y.split("/");
            for (var X = 0; X < Z.length; X++) {
              ad = ad.replace(Z[X], u[Y])
            }
          }
          var ae = new RegExp(ad[0], "g");
          ad = ad.replace(ae, "");
          ac += ad
        }
        if (ag) {
          W = new g.DateTimeFormatting.DateTimeFormatter(ag, [q], P, c, o);
          ad = W.patterns[0];
          if (V) {
            ac += " "
          }
          if (U) {
            T["{hour.integer(2)}"] = "HH";
            T["{hour.integer}"] = "H"
          }
          for (var Y in T) {
            ad = ad.replace(Y, T[Y])
          }
          var ae = new RegExp(ad[0], "g");
          ad = ad.replace(ae, "");
          ac += ad
        }
        if (!V && !ag) {
          ac = H[aa]
        }
        H[aa] = ac
      }
      return H
    }
    function L(V) {
      var W = j(V, q);
      return W.length > 1 ? [W, W.toLowerCase(), W] : V == 1 ? ["AM"] : ["PM"]
    }
    function K(V) {
      var W = new g.DateTimeFormatting.DateTimeFormatter(V, [q], P, c, o),
        X = W.patterns[0].replace("{period.abbreviated}", "").match(/\}(.*?)\{/)[1];
      return X || "."
    }
    function B() {
      var Y = {
        names: [],
        namesAbbr: []
      }, W = g.DateTimeFormatting.DateTimeFormatter("{month.full}", [q], P, c, o),
        V = g.DateTimeFormatting.DateTimeFormatter("{month.abbreviated}", [q], P, c, o),
        Z = Y.names,
        aa = Y.namesAbbr;
      for (var X = 0; X < 12; X++) {
        Z.push(W.format(new Date(2000, X, 1)));
        aa.push(V.format(new Date(2000, X, 1)))
      }
      return Y
    }
    function A() {
      var V = {
        names: [],
        namesAbbr: [],
        namesShort: []
      }, X = g.DateTimeFormatting.DateTimeFormatter("{dayofweek.full}", [q], P, c, o),
        W = g.DateTimeFormatting.DateTimeFormatter("{dayofweek.abbreviated}", [q], P, c, o),
        Y = g.DateTimeFormatting.DateTimeFormatter("{dayofweek.abbreviated(1)}", [q], P, c, o),
        aa = V.names,
        ab = V.namesAbbr,
        ac = V.namesShort;
      aa.push(X.format(new Date(2000, 1, 6)));
      ab.push(W.format(new Date(2000, 1, 6)));
      ac.push(Y.format(new Date(2000, 1, 6)));
      for (var Z = 0; Z < 6; Z++) {
        aa.push(X.format(new Date(2000, 1, Z)));
        ab.push(W.format(new Date(2000, 1, Z)));
        ac.push(Y.format(new Date(2000, 1, Z)))
      }
      return V
    }
    function z(Y) {
      var V = Windows.System.UserProfile.GlobalizationPreferences.weekStartsOn,
        X = [];
      X[0] = ["AG", "AR", "AS", "AU", "BR", "BS", "BT", "BW", "BY", "BZ", "CA", "CN", "CO", "DM", "DO", "ET", "GT", "GU", "HK", "HN", "ID", "IE", "IL", "IN", "JM", "JP", "KE", "KH", "KR", "LA", "MH", "MM", "MO", "MT", "MX", "MZ", "NI", "NP", "NZ", "PA", "PE", "PH", "PK", "PR", "PY", "SG", "SV", "TH", "TN", "TT", "TW", "UM", "US", "VE", "VI", "WS", "ZA", "ZW"];
      X[1] = ["AD", "AI", "AL", "AM", "AN", "AT", "AX", "AZ", "BA", "BE", "BG", "BM", "BN", "CH", "CL", "CM", "CR", "CY", "CZ", "DE", "DK", "EC", "EE", "ES", "FI", "FJ", "FO", "FR", "GB", "GE", "GF", "GP", "GR", "HR", "HU", "IS", "IT", "KG", "KZ", "LB", "LI", "LK", "LT", "LU", "LV", "MC", "MD", "ME", "MK", "MN", "MQ", "MY", "NL", "NO", "PL", "PT", "RE", "RO", "RS", "RU", "SE", "SI", "SK", "SM", "TJ", "TM", "TR", "UA", "UY", "UZ", "VA", "VN"];
      X[5] = ["BD", "MV"];
      X[6] = ["AE", "AF", "BH", "DJ", "DZ", "EG", "IQ", "IR", "JO", "KW", "LY", "MA", "OM", "QA", "SA", "SD", "SY", "YE"];
      for (var W = 0; W < 7; W++) {
        if (X[W]) {
          if (X[W].indexOf(Y) > -1) {
            V = W;
            break
          }
        }
      }
      return V
    }
    G = {
      name: q,
      numberFormat: {
        pattern: J(),
        decimals: x,
        ",": E(v),
        ".": R(v, 1.1),
        groupSize: F(v),
        percent: {
          decimals: y,
          symbol: M(N, 200, "p"),
          pattern: O(),
          ",": E(N, S.p),
          ".": R(N, 0.1),
          groupSize: F(N, S.p)
        },
        currency: {
          decimals: w,
          symbol: M(s, 2, "c"),
          ",": E(s, S.c),
          ".": R(s, 1.1),
          groupSize: F(s, S.c),
          pattern: t()
        }
      },
      calendars: {
        standard: {
          days: A(),
          months: B(),
          AM: L(1),
          PM: L(12),
          patterns: Q(),
          "/": K("shortdate"),
          ":": K("shorttime"),
          firstDay: z(P),
          twoDigitYearMax: 2029
        }
      },
      twentyFourHour: U
    };
    return G
  }
  kendo.cultures = {};
  Telerik.Culture.setCurrent("en-US")
})(this, jQuery);
(function(n, a, B) {
  var E = WinJS,
    i = E.Class.define,
    k = E.Class.derive,
    p = E.Class.mix,
    q = E.Namespace.define,
    D = E.Utilities,
    z = Telerik,
    A = z.UI,
    C = z.Utilities,
    d = A.Common,
    s = "Telerik.Data",
    o = Object.keys,
    y = kendo.data.ObservableObject,
    w = kendo.data.ObservableArray,
    v = "object",
    u = "number",
    b = "array",
    m = "function",
    t = null,
    c = "change",
    l = "error";
  var x = k(w, function(F) {
    var H = this,
      G = [];
    C.setPrivate(H, "_bindingList", F, false);
    F.forEach(function(I) {
      G.push(x.observe(I))
    });
    kendo.data.ObservableArray.fn.init.call(H, G);
    F.addEventListener("itemchanged", function(J) {
      var I = J.detail;
      H.splice(I.index, 1, x.observe(I.newValue))
    });
    F.addEventListener("iteminserted", function(J) {
      var I = J.detail;
      H.splice(I.index, 0, x.observe(I.value))
    });
    F.addEventListener("itemmoved", function(J) {
      var I = J.detail,
        M = I.oldIndex,
        L = I.newIndex,
        K = H[M];
      H.splice(M, 1);
      H.splice(L, 0, K)
    });
    F.addEventListener("itemremoved", function(I) {
      x.unbind(I.detail.item.data);
      H.splice(I.detail.index, 1)
    });
    F.addEventListener("itemmutated", function(I) {
      var K = x.observe(I.detail.value),
        J = H.indexOf(K);
      H.trigger("change", {
        index: J,
        items: [K],
        action: "itemchange"
      })
    });
    F.addEventListener("reload", function(J) {
      var I = F._getArray().map(function(K) {
        return x.observe(K)
      });
      H.splice.apply(H, [0, H.length].concat(I))
    })
  }, null, {
    observe: function(F) {
      var H = x.getWinJSObservable(F);
      if (H) {
        if (H.__proxy) {
          return H.__proxy
        }
        var G = new y(H._backingData);
        x.bind(G, H);
        return G
      }
      return F
    },
    getWinJSObservable: function(F) {
      if (C.getType(F) === v) {
        if (C.getType(F._backingData) === v && C.getType(F.bind) === m) {
          return F
        } else {
          if (C.getType(F._getObservable) === m) {
            return F._getObservable()
          }
        }
      }
      return t
    },
    bind: function(H, I) {
      var G = {}, F = I._backingData;
      if (I.__proxy === H) {
        return
      }
      C.setPrivate(I, "__proxy", H, true);
      C.setPrivate(I, "__proxyCallbacks", G, true);
      o(F).forEach(function(K) {
        if (K.charAt(0) != "_") {
          G[K] = (function(M, N, O) {
            return function(P) {
              M.set(N, x.observe(P))
            }
          })(H, K, I);
          I.bind(K, G[K]);
          var J = H[K],
            L = x.getWinJSObservable(F[K]);
          if (L && J instanceof y) {
            x.bind(J, L)
          }
        }
      })
    },
    unbind: function(H) {
      if (C.getType(H) === v && H.__proxy instanceof y && H.__proxyCallbacks) {
        var G = H.__proxyCallbacks,
          F = H._backingData;
        o(G).forEach(function(I) {
          H.unbind(I, G[I])
        });
        H.__proxy = B;
        H.__proxyCallbacks = B;
        o(F).forEach(function(I) {
          x.unbind(x.getWinJSObservable(F[I]))
        })
      }
    }
  });

  function j(I, F, G, H) {
    return {
      get: function() {
        var J = this._ds,
          K = G || I,
          L;
        if (typeof(J[I]) === m) {
          L = J[I]()
        }
        if (L === B) {
          L = C.getPropertyValue(J, K)
        }
        if (L === B) {
          L = F
        }
        return L
      },
      set: function(N) {
        var M = this,
          J = G || I,
          L = M[I],
          N = A._ControlConfiguration.validate(M._validators || {}, I, N, L);
        if (N !== B) {
          C.setPropertyValue(M._ds, J, N);
          if (H) {
            var K = {};
            K[I] = N;
            M._ds._mergeState(a.extend({}, {
              page: M._ds.page(),
              pageSize: M._ds.pageSize(),
              sort: M._ds.sort(),
              filter: M._ds.filter(),
              group: M._ds.group(),
              aggregate: M._ds.aggregate()
            }, K))
          }
          M._change(I, N, L)
        }
      },
      enumerable: true
    }
  }
  function r(I) {
    var H = I || {}, F = (H && H._dsType) || kendo.data.DataSource,
      G = t;
    if (H instanceof F) {
      G = H;
      H = {}
    } else {
      if (H instanceof E.Binding.List) {
        H = {
          data: new x(H)
        }
      } else {
        if (H.data instanceof E.Binding.List) {
          H.data = new x(H.data)
        } else {
          if (C.getType(H) === b) {
            H = {
              data: H
            }
          }
        }
      }
    }
    return {
      options: H,
      kendoDS: G
    }
  }
  var e = i(function(I) {
    var J = this,
      H = r(I),
      G = [],
      F = o(J._eventsMap).reduce(function(M, L) {
        var K = J._eventsMap[L];
        G.push(K);
        M[K] = J.dispatchEvent.bind(J, K.toLowerCase());
        if (typeof H.options[L] === m) {
          J.addEventListener(L.substr(2), H.options[L]);
          delete H.options[L]
        }
        return M
      }, {});
    C.setPrivate(J, "_options", H.options, true);
    C.setPrivate(J, "_ds", H.kendoDS || J._createDS(), true);
    J._ds.bind(G, F)
  }, {
    _eventsMap: {
      onchange: "change",
      onerror: "error",
      onrequeststart: "requestStart",
      onrequestend: "requestEnd",
      onsync: "sync"
    },
    _validators: {
      page: {
        type: u
      },
      pageSize: {
        type: u
      },
      filter: {
        type: [v, b, "null"]
      },
      group: {
        type: [v, b, "null"]
      },
      sort: {
        type: [v, b, "null"]
      },
      aggregate: {
        type: [v, b, "null"]
      }
    },
    _createDS: function() {
      var G = this._options,
        F = (G && G._dsType) || kendo.data.DataSource;
      if (G.schema && G.schema.model && (G.schema.model.hasChildren !== B || G.schema.model.children !== B)) {
        return new kendo.data.HierarchicalDataSource(G)
      }
      return new F(G)
    },
    _change: function(F, H, G) {
      if (F === "page") {
        delete this._ds._skip
      }
      if (F === "pageSize") {
        delete this._ds._take
      }
    },
    _one: function(G, H) {
      var I = this,
        F = function() {
          I.removeEventListener(G, F);
          H.apply(this, arguments)
        };
      I.addEventListener(G, F)
    },
    data: {
      get: function() {
        return this._ds.data()
      },
      set: function(F) {
        if (C.getType(F) === b) {
          this._ds.data(F);
          this._options.data = F
        }
      }
    },
    schema: {
      get: function() {
        return this._ds.options.schema
      }
    },
    transport: {
      get: function() {
        return this._ds.options.transport
      }
    },
    type: {
      get: function() {
        return this._ds.options.type || ""
      }
    },
    page: j("page", t, "options.page", true),
    pageSize: j("pageSize", t, "options.pageSize", true),
    filter: j("filter", t, "options.filter", true),
    group: j("group", t, "options.group", true),
    sort: j("sort", t, "options.sort", true),
    aggregate: j("aggregate", t, "options.aggregate", true),
    serverAggregates: j("serverAggregates", false, "options.serverAggregates"),
    serverFiltering: j("serverFiltering", false, "options.serverFiltering"),
    serverGrouping: j("serverGrouping", false, "options.serverGrouping"),
    serverPaging: j("serverPaging", false, "options.serverPaging"),
    serverSorting: j("serverSorting", false, "options.serverSorting"),
    autoSync: j("autoSync", false, "options.autoSync"),
    batch: j("batch", false, "options.batch"),
    totalPages: {
      get: function() {
        return this._ds.totalPages()
      }
    },
    total: {
      get: function() {
        return this._ds.total()
      }
    },
    aggregates: {
      get: function() {
        return this._ds.aggregates()
      }
    },
    view: {
      get: function() {
        return this._ds.view()
      }
    },
    at: function(F) {
      return this._ds.at(F)
    },
    indexOf: function(F) {
      return this._ds.indexOf(F)
    },
    fetch: function() {
      var G = this,
        F = G._ds;
      return new E.Promise(function(H, I) {
        G._one(c, H);
        G._one(l, I);
        F.fetch()
      })
    },
    read: function() {
      var G = this,
        F = G._ds;
      return new E.Promise(function(H, I) {
        G._one(c, H);
        G._one(l, I);
        F.read()
      })
    },
    query: function(G) {
      var H = this,
        F = H._ds;
      return new E.Promise(function(I, J) {
        H._one(c, I);
        H._one(l, J);
        F.query(G)
      })
    },
    add: function(F) {
      return this._ds.add(F)
    },
    insert: function(F, G) {
      return this._ds.insert(F, G)
    },
    remove: function(F) {
      return this._ds.remove(F)
    },
    hasChanges: function() {
      return this._ds.hasChanges()
    },
    cancelChanges: function(F) {
      return this._ds.cancelChanges(F)
    },
    getById: function(F) {
      return this._ds.get(F)
    },
    getByUid: function(F) {
      return this._ds.getByUid(F)
    },
    sync: function() {
      return this._ds.sync()
    },
    clone: function() {
      var H = this,
        G = C.clone(H._options, null, null, function(I, J) {
          if (J instanceof x) {
            return J._bindingList
          }
          return J
        });
      if (o(G).length) {
        return new Telerik.Data.DataSource(G)
      }
      var F = (G && G._dsType) || kendo.data.DataSource;
      G = C.clone(H._ds.options);
      delete G.schema.modelBase;
      return new Telerik.Data.DataSource(new F(G))
    }
  });
  p(e, d.eventMixin, D.createEventProperties("change", "error", "requeststart", "requestend", "sync"));
  e.prototype.dispatchEvent = function(G, F) {
    if (G === "requestend") {
      F.requestType = F.type
    }
    d.eventMixin.dispatchEvent.call(this, G, F)
  };
  q(s, {
    DataSource: e
  });
  var h = i(function(F) {
    var G = this;
    G._options = Telerik.Utilities.merge({}, F);
    G._schemas = []
  }, {
    _convertOperator: function(G) {
      var F = null;
      switch (G) {
        case "eq":
          F = "==";
          break;
        case "neq":
          F = "!=";
          break;
        case "lt":
          F = "<";
          break;
        case "lte":
          F = "<=";
          break;
        case "gt":
          F = ">";
          break;
        case "gte":
          F = ">=";
          break;
        case "contains":
        case "startswith":
        case "endswith":
          F = "like";
          break;
        default:
          throw "Invalid operator: " + G
      }
      return F
    },
    _convertValue: function(G, H) {
      var F;
      switch (G) {
        case "contains":
          F = "%" + H + "%";
          break;
        case "startswith":
          F = "%" + H;
          break;
        case "endswith":
          F = H + "%";
          break;
        default:
          F = H
      }
      return F
    },
    read: function(N) {
      if (N.data && N.data.group && N.data.group.length) {
        throw "Server grouping is not supported with Data Storage data."
      }
      if (!Telerik.Data.Database || !Telerik.Data.Database.open) {
        throw "Missing reference to Telerik DataStorage component!"
      }
      var T = this,
        G = T._options;
      G = G && G.read && G.read.data;
      if (!G || !G.dbName || !G.tableName) {
        throw "Invalid options"
      }
      var F = Telerik.Data.Database.open(G.dbName),
        O = F.get(G.tableName);
      if (G.joinedTables && G.joinedTables.length) {
        for (var K = 0; K < G.joinedTables.length; K++) {
          var L = G.joinedTables[K];
          O = O.join(L.destinationTableName, L.destinationColumn, L.sourceColumn)
        }
      }
      if (N.data && N.data.filter && N.data.filter.filters && N.data.filter.filters.length) {
        var J = N.data.filter.filters,
          M = T._convertOperator(J[0].operator),
          U = T._convertValue(J[0].operator, J[0].value);
        O = O.filter(J[0].field, M, U);
        for (var I = 1; I < J.length; I++) {
          var H = J[I];
          M = T._convertOperator(H.operator), U = T._convertValue(H.operator, H.value);
          O = O[N.data.filter.logic](H.field, M, U)
        }
      }
      if (N.data && N.data.sort) {
        for (var S = 0; S < N.data.sort.length; S++) {
          var R = N.data.sort[S];
          if (R.field) {
            O = O.sort(R.field, R.dir)
          }
        }
      }
      if (N.data && typeof N.data.skip === "number") {
        O = O.skip(N.data.skip)
      }
      if (N.data && typeof N.data.take === "number") {
        O = O.take(N.data.take)
      }
      O.execute().done(function Q(V) {
        F.close();
        if (V && V.length && !G.joinedTables) {
          T._schemas[G.tableName] = V[0]
        }
        N.success(V)
      }, function P(V) {
        F.close();
        N.error(V && V.message)
      })
    },
    destroy: function(J) {
      if (!Telerik.Data.Database || !Telerik.Data.Database.open) {
        throw "Missing reference to Telerik DataStorage component!"
      }
      var O = this,
        G = O._options;
      G = G && G.destroy && G.destroy.data;
      if (!G || !G.dbName || !G.tableName) {
        throw "Invalid options"
      }
      var F = Telerik.Data.Database.open(G.dbName);
      F.serializeObject = false;
      var N = F.use(G.tableName),
        M = O._schemas[G.tableName],
        H = M != null ? WinJS.Promise.wrap(M) : F.get(G.tableName).take(1).execute().then(function(P) {
          if (P && P[0] && Object.keys(P[0]).length) {
            M = O._schemas[G.tableName] = P[0]
          }
          return WinJS.Promise.as(M)
        });
      H.then(function I() {
        var P = a.extend({}, J.data);
        if (M) {
          for (var Q in P) {
            if (!M.hasOwnProperty(Q) && P.hasOwnProperty(Q) || typeof M[Q] !== typeof P[Q]) {
              delete P[Q]
            }
          }
        } else {
          if (P.id) {
            P = {
              id: P.id
            }
          }
        }
        return N.remove(P).sync()
      }).done(function L(P) {
        F.close();
        J.success(P)
      }, function K(P) {
        F.close();
        J.error(P && P.message)
      })
    },
    create: function(J) {
      if (!Telerik.Data.Database || !Telerik.Data.Database.open) {
        throw "Missing reference to Telerik DataStorage component!"
      }
      var O = this,
        G = O._options;
      G = G && G.create && G.create.data;
      if (!G || !G.dbName || !G.tableName) {
        throw "Invalid options"
      }
      var F = Telerik.Data.Database.open(G.dbName);
      F.serializeObject = false;
      var N = F.use(G.tableName),
        M = O._schemas[G.tableName],
        H = M != null ? WinJS.Promise.wrap(M) : F.get(G.tableName).take(1).execute().then(function(P) {
          if (P && P[0] && Object.keys(P[0]).length) {
            M = O._schemas[G.tableName] = P[0]
          }
          return WinJS.Promise.as(M)
        });
      H.then(function I() {
        var P = a.extend({}, J.data);
        if (M) {
          for (var Q in P) {
            if (!M.hasOwnProperty(Q) && P.hasOwnProperty(Q) || typeof M[Q] !== typeof P[Q]) {
              delete P[Q]
            }
          }
        }
        return N.insert(P).sync()
      }).done(function L() {
        F.close();
        J.success(J.data)
      }, function K(P) {
        F.close();
        J.error(P && P.message)
      })
    },
    update: function(J) {
      if (!Telerik.Data.Database || !Telerik.Data.Database.open) {
        throw "Missing reference to Telerik DataStorage component!"
      }
      var O = this,
        G = O._options;
      G = G && G.update && G.update.data;
      if (!G || !G.dbName || !G.tableName) {
        throw "Invalid options"
      }
      var F = Telerik.Data.Database.open(G.dbName);
      F.serializeObject = false;
      var N = F.use(G.tableName),
        M = O._schemas[G.tableName],
        H = M != null ? WinJS.Promise.wrap(M) : F.get(G.tableName).take(1).execute().then(function(P) {
          if (P && P[0] && Object.keys(P[0]).length) {
            M = O._schemas[G.tableName] = P[0]
          }
          return WinJS.Promise.as(M)
        });
      H.then(function I() {
        var P = a.extend({}, J.data);
        if (M) {
          for (var Q in P) {
            if (!M.hasOwnProperty(Q) && P.hasOwnProperty(Q) || typeof M[Q] !== typeof P[Q]) {
              delete P[Q]
            }
          }
        }
        return N.update(P).sync()
      }).done(function L() {
        F.close();
        J.success(J.data)
      }, function K(P) {
        F.close();
        J.error(P && P.message)
      })
    }
  }),
    f = kendo.data.DataReader.extend({}),
    g = {
      type: "dataStorage",
      data: function(F) {
        return F
      },
      total: function(F) {
        return F.length
      }
    };
  kendo.data.transports.dataStorage = h;
  kendo.data.schemas.dataStorage = g;
  kendo.data.readers.dataStorage = f
})(this, jQuery);
(function(g, a, p) {
  var r = WinJS,
    f = r.Class.derive,
    j = r.Class.mix,
    k = r.Namespace.define,
    o = Telerik.UI,
    q = Telerik.Utilities,
    e = Telerik.Data.DataSource,
    m = q.setPrivate,
    b = "boolean",
    n = 10,
    d = "t-list",
    h = "win-interactive";
  var i = f(o.WidgetWrapper, function(s, u) {
    var v = this;
    if (!v._input) {
      var t = s && (s.tagName.toLowerCase() === "input" || s.tagName.toLowerCase() === "select") ? s : null;
      if (t === s) {
        s = a(s).wrap("<span></span>").parent()[0]
      }
      if (!t) {
        t = document.createElement("input");
        a(s).empty().append(t)
      }
      m(v, "_input", t)
    }
    a(s).addClass(d + " " + h);
    if (u && u.template && typeof u.template !== "string") {
      u.template = q.getTemplate(u.template, true)
    }
    if (u && u.headerTemplate && typeof u.headerTemplate !== "string") {
      u.headerTemplate = q.getTemplate(u.headerTemplate, true)
    }
    o.WidgetWrapper.call(v, s, u)
  }, {
    _optionsMap: {},
    _eventsMap: {
      onchange: "change",
      onopen: "open",
      onclose: "close",
      onselect: "select",
      ondatabinding: "dataBinding",
      ondatabound: "dataBound"
    },
    _postInitialize: function(s) {
      var u = this,
        s = s || {}, t = ["text", "value", "readonly"];
      t.forEach(function(v) {
        if (s.hasOwnProperty(v)) {
          u[v] = s[v]
        }
      })
    },
    value: {
      get: function() {
        return this._widget.value()
      },
      set: function(s) {
        this._widget.value(s)
      }
    },
    animation: {
      get: function() {
        return this._widget.options.animation
      }
    },
    autoBind: {
      get: function() {
        return !!this._widget.options.autoBind
      },
      set: function(s) {
        this._widget.options.autoBind = !! s
      }
    },
    dataSource: {
      get: function() {
        var s = this;
        if (!s._dataSource) {
          if (!s._widget) {
            return null
          }
          m(s, "_dataSource", new e(s._widget.dataSource), true)
        }
        return s._dataSource
      },
      set: function(s) {
        if (s instanceof e) {
          m(this, "_dataSource", s, true);
          this._widget.setDataSource(s._ds)
        }
      }
    },
    dataTextField: {
      get: function() {
        return this._widget.options.dataTextField
      },
      set: function(t) {
        t = t + "";
        var u = this._widget,
          s = u.options;
        if (t !== s.dataTextField) {
          s.dataTextField = t;
          u._accessors();
          u._template()
        }
      }
    },
    dataValueField: {
      get: function() {
        return this._widget.options.dataValueField
      },
      set: function(t) {
        t = t + "";
        var u = this._widget,
          s = u.options;
        if (t !== s.dataValueField) {
          s.dataValueField = t;
          u._accessors()
        }
      }
    },
    delay: {
      get: function() {
        return this._widget.options.delay
      },
      set: function(s) {
        s = parseInt(s, n);
        if (!isNaN(s)) {
          this._widget.options.delay = s
        }
      }
    },
    enabled: {
      get: function() {
        var t = this;
        if (typeof(t._enabled) !== b) {
          var s = t._widget.options.enabled;
          if (typeof(s) === b) {
            t._enabled = s
          } else {
            t._enabled = true
          }
        }
        return t._enabled
      },
      set: function(s) {
        s = !! s;
        this._enabled = s;
        this._widget.enable(s)
      }
    },
    height: {
      get: function() {
        return this._widget.options.height
      },
      set: function(s) {
        s = parseInt(s, n);
        if (!isNaN(s)) {
          this._widget.options.height = s;
          this.refresh()
        }
      }
    },
    headerTemplate: {
      get: function() {
        var s = this._widget.options.headerTemplate;
        return s && s._originalTemplate ? s._originalTemplate : s
      },
      set: function(v) {
        var u = this,
          w = u._widget,
          s = w.options.headerTemplate,
          x = q.getTemplate(v, true);
        if (s && s._originalTemplate) {
          s = s._originalTemplate
        }
        if (x !== p && v !== s) {
          var t = u.dataSource;
          delete w.options.dataSource;
          w.options.headerTemplate = x;
          u.dataSource = t
        }
      }
    },
    template: {
      get: function() {
        var s = this._widget.options.template;
        return s && s._originalTemplate ? s._originalTemplate : s
      },
      set: function(v) {
        var u = this,
          w = u._widget,
          s = w.options.template,
          x = q.getTemplate(v, true);
        if (s && s._originalTemplate) {
          s = s._originalTemplate
        }
        if (x !== p && v !== s) {
          var t = u.dataSource;
          delete w.options.dataSource;
          w.options.template = x;
          w._template();
          u.dataSource = t
        }
      }
    },
    ignoreCase: {
      get: function() {
        return !!this._widget.options.ignoreCase
      },
      set: function(s) {
        this._widget.options.ignoreCase = !! s
      }
    },
    isOpen: {
      get: function() {
        return this._widget.list.is(":visible")
      }
    },
    readonly: {
      get: function() {
        return this._widget.element.attr("readonly") === "readonly"
      },
      set: function(s) {
        this._widget.readonly(s)
      }
    },
    list: {
      get: function() {
        return this._widget.list
      }
    },
    dataItem: function(s) {
      return this._widget.dataItem(s)
    },
    refresh: function() {
      return this._widget.refresh()
    },
    search: function(s) {
      return this._widget.search(s)
    },
    select: function(s) {
      return this._widget.select(s)
    },
    close: function() {
      return this._widget.close()
    },
    focus: function() {
      return this._widget.focus()
    },
    _destroy: function() {
      var s = this;
      if (!s._isDestroyed) {
        o.WidgetWrapper.prototype._destroy.call(s);
        if (s._widget.popup) {
          if (typeof(s._widget.popup.destroy) === "function") {
            s._widget.popup.destroy()
          }
          if (s._widget.popup.element) {
            s._widget.popup.element.remove()
          }
        }
      }
    }
  });
  j(i, r.Utilities.createEventProperties("open", "close", "select", "change", "databinding", "databound"));
  var c = f(i, function(s, t) {
    i.call(this, s, t)
  }, {
    _eventsMap: {
      oncascade: "cascade"
    },
    cascadeFrom: {
      get: function() {
        return this._widget.options.cascadeFrom || ""
      },
      set: function(w) {
        var v = this,
          y = v._widget,
          s = v.cascadeFrom,
          w = w ? w + "" : "",
          u, t, x;
        if (w !== s) {
          u = v._getCascadeParent();
          if (u) {
            u.unbind("cascade");
            x = v.cascadeFromField || u.options.dataValueField;
            t = ((y.dataSource.filter() || {}).filters || []).reduce(function(z, A) {
              if (A.field !== x) {
                z.push(A)
              }
              return z
            }, []);
            y.dataSource.filter(t);
            if (y.element.attr("disabled")) {
              y.enable(true)
            }
          }
          y.options.cascadeFrom = w;
          if (w) {
            y._cascade()
          }
        }
      }
    },
    cascadeFromField: {
      get: function() {
        return this._widget.options.cascadeFromField || ""
      },
      set: function(x) {
        var w = this,
          z = w._widget,
          u = z.options,
          s = w.cascadeFromField,
          x = x ? x + "" : "",
          t, v, y;
        if (x !== s) {
          v = w._getCascadeParent();
          if (v) {
            v.unbind("cascade");
            y = u.cascadeFromField || v.options.dataValueField;
            t = ((z.dataSource.filter() || {}).filters || []).reduce(function(A, B) {
              if (B.field !== y) {
                A.push(B)
              }
              return A
            }, []);
            z.dataSource.filter(t);
            if (z.element.attr("disabled")) {
              z.enable(true)
            }
          }
          z.options.cascadeFromField = x;
          if (x) {
            z._cascade()
          }
        }
      }
    },
    _getCascadeParent: function() {
      var u = this._widget.options,
        t = u.cascadeFrom,
        w, v = null,
        s = {
          ComboBox: "DropDownList",
          DropDownList: "ComboBox"
        };
      if (t) {
        w = a("#" + t);
        if (w.length) {
          v = (w[0].winControl || {})._widget
        }
        if (!v) {
          v = w.data("kendo" + u.name)
        }
        if (!v) {
          v = w.data("kendo" + s[u.name])
        }
      }
      return v
    },
  });
  j(c, r.Utilities.createEventProperties("cascade"));
  k("Telerik.UI", {
    ListBase: i,
    CascadingListBase: c
  });
  var l = kendo.ui.Select.prototype._cascade;
  kendo.ui.Select.prototype._cascade = function() {
    var u = this,
      s = u.options.cascadeFrom,
      t, w, v;
    if (s) {
      t = a("#" + s);
      if (t[0]) {
        w = t[0].winControl;
        if (w && w._widget) {
          v = w._widget.element.attr("id");
          if (!v) {
            v = kendo.guid();
            w._widget.element.attr("id", v)
          }
          u.options.cascadeFrom = v
        }
      }
    }
    l.apply(u, arguments);
    u.options.cascadeFrom = s
  };
  kendo.ui.Select.prototype._showBusy = function() {
    var s = this;
    s._request = true;
    if (s._busy) {
      return
    }
    s._busy = setTimeout(function() {
      s._focused.attr("aria-busy", true);
      Telerik.UI.progress(s.element.parents(".t-list"), true)
    }, 100)
  };
  kendo.ui.Select.prototype._hideBusy = function() {
    var s = this;
    clearTimeout(s._busy);
    Telerik.UI.progress(s.element.parents(".t-list"), false);
    s._focused.attr("aria-busy", false);
    s._busy = null
  };
  kendo.ui.AutoComplete.prototype._showBusy = kendo.ui.Select.prototype._showBusy;
  kendo.ui.AutoComplete.prototype._hideBusy = kendo.ui.Select.prototype._hideBusy;
  kendo.ui.MultiSelect.prototype._showBusy = kendo.ui.Select.prototype._showBusy;
  kendo.ui.MultiSelect.prototype._hideBusy = kendo.ui.Select.prototype._hideBusy
})(this, jQuery);
(function(k, a, v) {
  var y = WinJS,
    h = y.Class.derive,
    l = y.Class.mix,
    m = y.Namespace.define,
    x = y.Utilities,
    t = Telerik,
    u = t.UI,
    e = t.Culture,
    o = "Telerik.UI.Chart",
    n = m(o),
    c = u.Common,
    w = t.Utilities,
    f = Telerik.Data.DataSource,
    q = "object",
    b = "array",
    i = "function",
    p = null,
    d = u._ControlConfiguration,
    g = d.defineProperty,
    j = d.getMapping,
    r = w.setPrivate;
  var s = h(u.WidgetWrapper, function(z, A) {
    var B = this;
    A = A || {};
    if (!A.theme) {
      A.theme = "dark"
    }
    B._initCultureOptions(A);
    u.WidgetWrapper.call(B, z, A);
    B._mergeAxisOptions();
    B._initialize("kendoChart", B._recreateContent());
    r(B, "_ns", n, true);
    r(B, "_defaults", {}, true);
    r(B, "_modified", {}, true);
    B._syncSeries(p, true);
    B._syncAxes(true);
    B._syncPanes(true)
  }, {
    _recreateContent: function() {
      var C = this,
        z = a(C.element),
        A = x.getContentHeight(z[0]);
      if (C._widget && typeof C._widget.destroy === i) {
        C._widget.destroy()
      }
      var B = z.empty().append("<div></div>").find("div");
      if (A) {
        B.css("height", A + "px")
      }
      return B[0]
    },
    _optionsMap: {
      background: "chartArea.background",
      opacity: "chartArea.opacity",
      border: "chartArea.border",
      width: "chartArea.width",
      height: "chartArea.height",
      margin: "chartArea.margin"
    },
    _eventsMap: {
      onaxislabelclick: "axisLabelClick",
      ondatabound: "dataBound",
      ondragstart: "dragStart",
      ondrag: "drag",
      ondragend: "dragEnd",
      onlegenditemclick: "legendItemClick",
      onlegenditemhover: "legendItemHover",
      onplotareaclick: "plotAreaClick",
      onseriesclick: "seriesClick",
      onserieshover: "seriesHover",
      onzoomstart: "zoomStart",
      onzoom: "zoom",
      onzoomend: "zoomEnd",
      onselectstart: "selectStart",
      onselect: "select",
      onselectend: "selectEnd"
    },
    _initCultureOptions: function(A) {
      if (A.categoryAxis && A.categoryAxis.labels && A.categoryAxis.labels.culture) {
        e._checkCulture(A.categoryAxis.labels.culture)
      }
      var z = ["x", "y"];
      z.forEach(function(B) {
        if (A[B + "Axis"]) {
          if (w.getType(A[B + "Axis"]) === b) {
            A[B + "Axis"].forEach(function(C) {
              if (C.labels && C.labels.culture) {
                e._checkCulture(C.labels.culture)
              }
            })
          } else {
            if (A[B + "Axis"].labels && A[B + "Axis"].labels.culture) {
              e._checkCulture(A[B + "Axis"].labels.culture)
            }
          }
        }
      })
    },
    _mapOptions: function(z) {
      z = u.WidgetWrapper.prototype._mapOptions.call(this, z);

      function A(B) {
        if (B && B.overlayGradient) {
          B.overlay = {
            gradient: B.overlayGradient
          };
          delete B.overlayGradient
        }
      }
      A(z.seriesDefaults);
      if (w.getType(z.series) === b) {
        z.series.forEach(function(B) {
          A(B);
          if (B.type && B.type.toLowerCase().indexOf("bullet") != -1) {
            if (!z.categoryAxis) {
              z.categoryAxis = {}
            }
            z.categoryAxis.justified = false
          }
        })
      }
      return z
    },
    _saveModifiedOptions: function() {
      var G = this,
        D = {};
      var A = G.border._toOption();
      if (A) {
        D.border = A
      }
      var C = G.margin._toOption();
      if (C) {
        D.margin = C
      }
      var H = G.title._toOption();
      if (H) {
        D.title = H
      }
      var B = G.legend._toOption();
      if (B) {
        D.legend = B
      }
      var I = G.tooltip._toOption();
      if (I) {
        D.tooltip = I
      }
      var E = G.plotArea._toOption();
      if (E) {
        D.plotArea = E
      }
      var z = G.axisDefaults._toOption();
      if (z) {
        D.axisDefaults = z
      }
      var F = G.seriesDefaults._toOption();
      if (F) {
        D.seriesDefaults = F
      }
      w.merge(G._options, G._modified, D);
      G._saveAxisOptions();
      G._saveSeriesOptions();
      G._savePanesOptions();
      if (G._dataSource || G._options.dataSource) {
        G._options.dataSource = G.dataSource._ds
      }
    },
    _saveAxisOptions: function() {
      var A = this,
        z = A._options;
      ["value", "x", "y", "category"].forEach(function(C) {
        var E = z[C + "Axis"],
          B = z[C + "Axes"] || [],
          D;
        if (E && w.getType(E) !== b) {
          E = [E]
        }
        D = w.merge([], B, E);
        z[C + "Axis"] = A[C + "Axes"].map(function(F, G) {
          var H = w.merge(D[G] || {}, F instanceof n.Axis ? F._toOption() : F);
          if (F instanceof n.CategoryAxis) {
            H.categories = A.categoryAxes[G].categories
          }
          return H
        });
        if (z[C + "Axis"].length === 1) {
          z[C + "Axis"] = z[C + "Axis"][0]
        }
      })
    },
    _saveSeriesOptions: function() {
      var z = this;
      z._options.series = z.series.map(function(B, A) {
        return B instanceof n.Series ? B._toOption() : B
      })
    },
    _savePanesOptions: function() {
      var z = this;
      z._options.panes = z.panes.map(function(B, A) {
        return B instanceof n.Pane ? B._toOption() : B
      });
      if (z._options.panes && z._options.panes.length === 0) {
        z._options.panes = null
      }
    },
    _getInitialSeries: function(z) {
      var B = this,
        A = B._options.series || [];
      if (!(A instanceof Array)) {
        A = [A]
      }
      return A[z] || {}
    },
    _getInitialPane: function(z) {
      var B = this,
        A = B._options.panes || [];
      if (!(A instanceof Array)) {
        A = [A]
      }
      return A[z] || {}
    },
    _getInitialAxes: function(B, A) {
      var C = this,
        z = C._options[B + "Axes"] || C._options[B + "Axis"] || [];
      if (!(z instanceof Array)) {
        z = [z]
      }
      return z[A] || {}
    },
    _unbindDataSource: function() {
      var A = this._widget,
        z = A.dataSource;
      z.unbind("change", A._dataChangeHandler)
    },
    _syncSeries: function(z, A) {
      var B = this,
        C = B._widget,
        D = C.options.series || [],
        z = z || B.series;
      r(B, "_seriesDefaults", p, true);
      D.forEach(function(H, E) {
        var G = z[E],
          F = function() {
            return d.getMapping(B, "series[" + E + "]")
          };
        if (G instanceof n.Series) {
          G._wireUp(B, F)
        } else {
          G = B._createSeriesFromOption(H.type, B, F);
          z[E] = G
        }
        if (A) {
          G._initial = B._getInitialSeries(E)
        }
      })
    },
    _syncPanes: function(A) {
      var B = this,
        C = B._widget,
        D = C.options.panes || [],
        z = B._panes || [];
      D.forEach(function(H, E) {
        var G = z[E],
          F = function() {
            return d.getMapping(B, "panes[" + E + "]")
          };
        if (G instanceof n.Pane) {
          G._wireUp(B, F)
        } else {
          G = new B._ns.Pane(B, F);
          z[E] = G
        }
        if (G) {
          G._initial = B._getInitialPane(E)
        }
      })
    },
    _mergeAxisOptions: function() {
      var B = this,
        A = B._options,
        z = ["value", "x", "y", "category"];
      z.forEach(function(D) {
        var G = D + "Axis",
          E = D + "Axes",
          C = A[E];
        if (w.getType(C) === b) {
          var F = A[G];
          if (w.getType(F) === q) {
            C[0] = w.merge(C[0] || {}, F)
          }
          A[G] = C
        }
        delete A[E]
      })
    },
    _syncAxes: function(A) {
      var B = this,
        C = B._widget,
        z = ["value", "x", "y", "category"];
      z.forEach(function(G) {
        var E = "_" + G + "Axes",
          D = B[E] || [];
        if (C) {
          var H = C.options[G + "Axis"],
            F = true;
          if (w.getType(H) !== b) {
            F = false;
            H = [H]
          }
          H.forEach(function(J, K) {
            var I = D[K],
              L = function() {
                return j(B, G + "Axis" + (F ? "[" + K + "]" : ""))
              };
            if (I instanceof n.Axis) {
              I._wireUp(B, L)
            } else {
              if (G == "category") {
                I = new B._ns.CategoryAxis(B, L)
              } else {
                I = new B._ns.Axis(B, L)
              }
              D[K] = I
            }
            if (A) {
              I._initial = B._getInitialAxes(G, K)
            }
          })
        }
        if (!D.length) {
          D.push(new B._ns.Axis(B, j(B, G + "Axis")))
        }
        r(B, E, D, true)
      })
    },
    dataSource: {
      get: function() {
        var z = this;
        if (!z._dataSource) {
          if (!z._widget) {
            return p
          }
          r(z, "_dataSource", new f(z._widget.dataSource), true)
        }
        return z._dataSource
      },
      set: function(z) {
        if (z instanceof f) {
          r(this, "_dataSource", z, true)
        }
      },
      enumerable: true
    },
    autoBind: g("autoBind", true),
    transitions: g("transitions", true),
    theme: g("theme", "dark"),
    seriesColors: g("seriesColors", []),
    background: g("background", "none"),
    opacity: g("opacity", 1),
    border: {
      get: function() {
        var z = this;
        if (!z._border) {
          r(z, "_border", new c._BorderConfiguration(z, j(z, "border")))
        }
        return z._border
      }
    },
    width: g("width", 600),
    height: g("height", 400),
    margin: {
      get: function() {
        var z = this;
        if (!z._margin) {
          r(z, "_margin", new c._BoxConfiguration(z, j(z, "margin"), {
            left: 5,
            right: 5,
            top: 5,
            bottom: 5
          }))
        }
        return z._margin
      }
    },
    title: {
      get: function() {
        var z = this;
        if (!z._title) {
          r(z, "_title", new z._ns._TitleConfiguration(z, j(z, "title")))
        }
        return z._title
      }
    },
    legend: {
      get: function() {
        var z = this;
        if (!z._legend) {
          r(z, "_legend", new z._ns._LegendConfiguration(z, j(z, "legend")))
        }
        return z._legend
      }
    },
    panes: {
      get: function() {
        var z = this;
        if (!z._panes) {
          r(z, "_panes", [], true);
          if (z._widget) {
            z._syncPanes()
          }
        }
        return z._panes
      },
      set: function(A) {
        var z = this;
        if (w.getType(A) === b) {
          r(z, "_panes", A, true)
        }
      }
    },
    tooltip: {
      get: function() {
        var z = this;
        if (!z._tooltip) {
          r(z, "_tooltip", new z._ns._TooltipConfiguration(z, j(z, "tooltip")))
        }
        return z._tooltip
      }
    },
    plotArea: {
      get: function() {
        var z = this;
        if (!z._plotArea) {
          r(z, "_plotArea", new z._ns._PlotAreaConfiguration(z, j(z, "plotArea")))
        }
        return z._plotArea
      }
    },
    axisDefaults: {
      get: function() {
        var z = this;
        if (!z._axisDefaults) {
          r(z, "_axisDefaults", new z._ns.Axis(z, j(z, "axisDefaults")))
        }
        return z._axisDefaults
      }
    },
    valueAxis: {
      get: function() {
        var z = this;
        if (!z._valueAxes) {
          z._syncAxes()
        }
        return z._valueAxes[0]
      }
    },
    valueAxes: {
      get: function() {
        var z = this;
        if (!z._valueAxes) {
          z._syncAxes()
        }
        return z._valueAxes
      },
      set: function(A) {
        var z = this;
        if (w.getType(A) === b) {
          r(z, "_valueAxes", A, true)
        }
      }
    },
    categoryAxis: {
      get: function() {
        var z = this;
        if (!z._categoryAxes) {
          z._syncAxes()
        }
        return z._categoryAxes[0]
      }
    },
    categoryAxes: {
      get: function() {
        var z = this;
        if (!z._categoryAxes) {
          z._syncAxes()
        }
        return z._categoryAxes
      },
      set: function(A) {
        var z = this;
        if (w.getType(A) === b) {
          r(z, "_categoryAxes", A, true)
        }
      }
    },
    xAxis: {
      get: function() {
        var z = this;
        if (!z._xAxes) {
          z._syncAxes()
        }
        return z._xAxes[0]
      }
    },
    xAxes: {
      get: function() {
        var z = this;
        if (!z._xAxes) {
          z._syncAxes()
        }
        return z._xAxes
      },
      set: function(A) {
        var z = this;
        if (w.getType(A) === b) {
          r(z, "_xAxes", A, true)
        }
      }
    },
    yAxis: {
      get: function() {
        var z = this;
        if (!z._yAxes) {
          z._syncAxes()
        }
        return z._yAxes[0]
      }
    },
    yAxes: {
      get: function() {
        var z = this;
        if (!z._yAxes) {
          z._syncAxes()
        }
        return z._yAxes
      },
      set: function(A) {
        var z = this;
        if (w.getType(A) === b) {
          r(z, "_yAxes", A, true)
        }
      }
    },
    seriesDefaults: {
      get: function() {
        var A = this;
        if (!A._seriesDefaults) {
          var z = A._createSeriesFromOption(A._widget.options.seriesDefaults.type, A, j(A, "seriesDefaults"));
          r(A, "_seriesDefaults", z, true)
        }
        return A._seriesDefaults
      },
      set: function(A) {
        var z = this;
        if (A instanceof n.Series) {
          A._wireUp(z, j(z, "seriesDefaults"));
          r(z, "_seriesDefaults", A, true)
        }
      }
    },
    series: {
      get: function() {
        var A = this;
        if (!A._series) {
          var z = [];
          if (A._widget) {
            A._syncSeries(z)
          }
          r(A, "_series", z, true)
        }
        return A._series
      },
      set: function(z) {
        if (w.getType(z) === b) {
          r(this, "_series", z, true)
        }
      }
    },
    _createSeriesFromOption: function(D, A, z) {
      var C = this,
        B;
      switch ((D + "").toLowerCase()) {
        case "area":
          B = new C._ns.AreaSeries(A, z);
          break;
        case "bar":
          B = new C._ns.BarSeries(A, z);
          break;
        case "bubble":
          B = new C._ns.BubbleSeries(A, z);
          break;
        case "column":
          B = new C._ns.ColumnSeries(A, z);
          break;
        case "donut":
          B = new C._ns.DonutSeries(A, z);
          break;
        case "line":
          B = new C._ns.LineSeries(A, z);
          break;
        case "pie":
          B = new C._ns.PieSeries(A, z);
          break;
        case "scatter":
          B = new C._ns.ScatterSeries(A, z);
          break;
        case "scatterline":
          B = new C._ns.ScatterLineSeries(A, z);
          break;
        case "verticalarea":
          B = new C._ns.VerticalAreaSeries(A, z);
          break;
        case "verticalline":
          B = new C._ns.VerticalLineSeries(A, z);
          break;
        case "candlestick":
          B = new C._ns.CandleStickSeries(A, z);
          break;
        case "ohlc":
          B = new C._ns.OhlcSeries(A, z);
          break;
        case "bullet":
          B = new C._ns.BulletSeries(A, z);
          break;
        case "verticalbullet":
          B = new C._ns.VerticalBulletSeries(A, z);
          break;
        case "radarline":
          B = new C._ns.RadarLineSeries(A, z);
          break;
        case "radararea":
          B = new C._ns.RadarAreaSeries(A, z);
          break;
        case "radarcolumn":
          B = new C._ns.RadarColumnSeries(A, z);
          break;
        case "polarline":
          B = new C._ns.PolarLineSeries(A, z);
          break;
        case "polararea":
          B = new C._ns.PolarAreaSeries(A, z);
          break;
        case "polarscatter":
          B = new C._ns.PolarScatterSeries(A, z);
          break;
        case "funnel":
          B = new C._ns.FunnelSeries(A, z);
          break;
        case "boxplot":
          B = new C._ns.BoxPlotSeries(A, z);
          break;
        default:
          B = new C._ns._SeriesWithBorder(A, z);
          break
      }
      return B
    },
    svg: {
      get: function() {
        return this._widget.svg()
      }
    },
    refresh: function() {
      var z = this;
      z._saveModifiedOptions();
      z._unbindDataSource();
      z._initialize("kendoChart", z._recreateContent());
      z._syncSeries();
      z._syncAxes()
    },
    redraw: function() {
      this._widget.redraw()
    }
  });
  m("Telerik.UI", {
    RadChart: s
  });
  l(s, x.createEventProperties("axislabelclick", "databound", "dragstart", "drag", "dragend", "legenditemclick", "legenditemhover", "plotareaclick", "seriesclick", "serieshover", "zoomstart", "zoom", "zoomend", "selectstart", "select", "selectend"))
})(this, jQuery);
(function(Q, a, X) {
  var O = WinJS.Class.derive,
    R = WinJS.Namespace.define,
    S = "Telerik.UI.Chart",
    K = Telerik.UI.Common,
    Y = Telerik.Utilities,
    M = Telerik.Culture,
    T = null,
    W = "12px Arial,Helvetica,sans-serif",
    L = Telerik.UI._ControlConfiguration,
    N = L.defineProperty,
    P = L.getMapping,
    V = Y.setPrivate;
  var G = O(L, function(aa, ab, Z) {
    L.call(this, aa, ab, Z)
  }, {
    _validators: {
      align: ["left", "center", "right"],
      position: ["top", "bottom"]
    },
    align: N("align", "center"),
    background: N("background", ""),
    border: {
      get: function() {
        var Z = this;
        if (!Z._border) {
          V(Z, "_border", new K._BorderConfiguration(Z._owner, P(Z, "border")))
        }
        return Z._border
      }
    },
    color: N("color", ""),
    font: N("font", W),
    margin: {
      get: function() {
        var Z = this;
        if (!Z._margin) {
          V(Z, "_margin", new K._BoxConfiguration(Z._owner, P(Z, "margin"), {
            left: 5,
            right: 5,
            top: 5,
            bottom: 5
          }))
        }
        return Z._margin
      }
    },
    padding: {
      get: function() {
        var Z = this;
        if (!Z._padding) {
          V(Z, "_padding", new K._BoxConfiguration(Z._owner, P(Z, "padding")))
        }
        return Z._padding
      }
    },
    position: N("position", "top"),
    text: N("text", ""),
    visible: N("visible", false)
  });
  var v = O(L, function(aa, ab, Z) {
    L.call(this, aa, ab, Z)
  }, {
    color: N("color", "black"),
    font: N("font", W),
    template: N("template", ""),
  });
  var t = O(L, function(aa, ab, Z) {
    L.call(this, aa, ab, Z)
  }, {
    color: N("color", T)
  });
  var u = O(L, function(aa, ab, Z) {
    L.call(this, aa, ab, Z)
  }, {
    labels: {
      get: function() {
        var Z = this;
        if (!Z._labels) {
          V(Z, "_labels", new t(Z._owner, P(Z, "labels")))
        }
        return Z._labels
      }
    },
    markers: {
      get: function() {
        var Z = this;
        if (!Z._markers) {
          V(Z, "_markers", new t(Z._owner, P(Z, "markers")))
        }
        return Z._markers
      }
    }
  });
  var s = O(L, function(aa, ab, Z) {
    L.call(this, aa, ab, Z)
  }, {
    _validators: {
      position: ["left", "right", "top", "bottom", "custom"]
    },
    background: N("background", "white"),
    border: {
      get: function() {
        var Z = this;
        if (!Z._border) {
          V(Z, "_border", new K._BorderConfiguration(Z._owner, P(Z, "border")))
        }
        return Z._border
      }
    },
    inactiveItems: {
      get: function() {
        var Z = this;
        if (!Z._inactiveItems) {
          V(Z, "_inactiveItems", new u(Z._owner, P(Z, "inactiveItems")))
        }
        return Z._inactiveItems
      }
    },
    labels: {
      get: function() {
        var Z = this;
        if (!Z._labels) {
          V(Z, "_labels", new v(Z._owner, P(Z, "labels")))
        }
        return Z._labels
      }
    },
    margin: {
      get: function() {
        var Z = this;
        if (!Z._margin) {
          V(Z, "_margin", new K._BoxConfiguration(Z._owner, P(Z, "margin"), {
            left: 10,
            right: 10,
            top: 10,
            bottom: 10
          }))
        }
        return Z._margin
      }
    },
    padding: {
      get: function() {
        var Z = this;
        if (!Z._padding) {
          V(Z, "_padding", new K._BoxConfiguration(Z._owner, P(Z, "padding")))
        }
        return Z._padding
      }
    },
    offsetX: N("offsetX", 0),
    offsetY: N("offsetY", 0),
    position: N("position", "right"),
    visible: N("visible", true)
  });
  var H = O(L, function(aa, ab, Z) {
    L.call(this, aa, ab, Z)
  }, {
    background: N("background", ""),
    border: {
      get: function() {
        var Z = this;
        if (!Z._border) {
          V(Z, "_border", new K._BorderConfiguration(Z._owner, P(Z, "border")))
        }
        return Z._border
      }
    },
    color: N("color", ""),
    font: N("font", W),
    format: N("format", ""),
    padding: {
      get: function() {
        var Z = this;
        if (!Z._padding) {
          V(Z, "_padding", new K._BoxConfiguration(Z._owner, P(Z, "padding")))
        }
        return Z._padding
      }
    },
    template: N("template", ""),
    visible: N("visible", false),
    shared: N("shared", false),
    sharedTemplate: N("sharedTemplate", ""),
  });
  var z = O(L, function(aa, ab, Z) {
    L.call(this, aa, ab, Z)
  }, {
    background: N("background", "white"),
    opacity: N("opacity", 1),
    border: {
      get: function() {
        var Z = this;
        if (!Z._border) {
          V(Z, "_border", new K._BorderConfiguration(Z._owner, P(Z, "border")))
        }
        return Z._border
      }
    },
    margin: {
      get: function() {
        var Z = this;
        if (!Z._margin) {
          V(Z, "_margin", new K._BoxConfiguration(Z._owner, P(Z, "margin"), {
            left: 10,
            right: 10,
            top: 10,
            bottom: 10
          }))
        }
        return Z._margin
      }
    }
  });
  var r = O(L, function(aa, ab, Z) {
    L.call(this, aa, ab, Z)
  }, {
    _validators: {
      position: ["above", "below", "center", "insideBase", "insideEnd", "left", "outsideEnd", "right"]
    },
    background: N("background", ""),
    border: {
      get: function() {
        var Z = this;
        if (!Z._border) {
          V(Z, "_border", new K._BorderConfiguration(Z._owner, P(Z, "border")))
        }
        return Z._border
      }
    },
    color: N("color", ""),
    culture: {
      get: L.createGetter("culture", "en-US"),
      set: function(Z) {
        if (Z === X || Z === this.culture) {
          return
        }
        M._checkCulture(Z);
        this._modified.culture = Z
      }
    },
    font: N("font", ""),
    format: N("format", ""),
    margin: {
      get: function() {
        var Z = this;
        if (!Z._margin) {
          V(Z, "_margin", new K._BoxConfiguration(Z._owner, P(Z, "margin")))
        }
        return Z._margin
      }
    },
    padding: {
      get: function() {
        var Z = this;
        if (!Z._padding) {
          V(Z, "_padding", new K._BoxConfiguration(Z._owner, P(Z, "padding")))
        }
        return Z._padding
      }
    },
    template: N("template", ""),
    visible: N("visible", false),
    position: N("position", "above")
  });
  var c = O(L, function(aa, ab, Z) {
    L.call(this, aa, ab, Z)
  }, {
    id: N("id", ""),
    color: N("color", "#000"),
    width: N("width", 1),
    zIndex: N("zIndex", -1),
    opacity: N("opacity", 1),
    dashType: N("dashType", "solid"),
    tooltip: {
      get: function() {
        var Z = this;
        if (!Z._tooltip) {
          V(Z, "_tooltip", new m(Z._owner, P(Z, "tooltip")))
        }
        return Z._tooltip
      }
    },
    visible: N("visible", false),
  });
  var m = O(H, function(aa, ab, Z) {
    H.call(this, aa, ab, Z)
  }, {
    padding: N("padding", 10),
  });
  var i = O(G, function(aa, ab, Z) {
    G.call(this, aa, ab, Z)
  }, {
    rotation: N("rotation", 0)
  });
  var e = O(L, function(aa, ab, Z) {
    L.call(this, aa, ab, Z)
  }, {
    hours: N("hours", "HH:mm"),
    days: N("days", "M/d"),
    months: N("months", "MMM 'yy"),
    years: N("years", "yyyy"),
  });
  var d = O(r, function(aa, ab, Z) {
    r.call(this, aa, ab, Z)
  }, {
    mirror: N("mirror", false),
    rotation: N("rotation", 0),
    skip: N("skip", 0),
    step: N("step", 1),
    dateFormats: {
      get: function() {
        var Z = this;
        if (!Z._dateFormats) {
          V(Z, "_dateFormats", new e(Z._owner, P(Z, "dateFormats")))
        }
        return Z._dateFormats
      }
    }
  });
  var f = O(L, function(aa, ab, Z) {
    L.call(this, aa, ab, Z)
  }, {
    _validators: {
      type: ["line", "arc"]
    },
    color: N("color", "black"),
    visible: N("visible", true),
    width: N("width", 1),
    dashType: N("dashType", "solid"),
    type: N("type", "line")
  });
  var h = O(L, function(aa, ab, Z) {
    L.call(this, aa, ab, Z)
  }, {
    size: N("size", 0),
    visible: N("visible", false)
  });
  var k = O(L, function(aa, ab, Z) {
    L.call(this, aa, ab, Z)
  }, {
    background: N("background", ""),
    border: {
      get: function() {
        var Z = this;
        if (!Z._border) {
          V(Z, "_border", new K._BorderConfiguration(Z._owner, P(Z, "border")))
        }
        return Z._border
      }
    },
    color: N("color", ""),
    font: N("font", W),
    visible: N("visible", true),
    padding: N("padding", 3),
    rotation: N("rotation", 0),
    format: N("format", "{0}"),
    position: N("position", "inside"),
    template: N("template", "")
  });
  var j = O(L, function(aa, ab, Z) {
    L.call(this, aa, ab, Z)
  }, {
    _validators: {
      type: ["circle", "square", "triangle"]
    },
    background: N("background", ""),
    border: {
      get: function() {
        var Z = this;
        if (!Z._border) {
          V(Z, "_border", new K._BorderConfiguration(Z._owner, P(Z, "border")))
        }
        return Z._border
      }
    },
    size: N("size", 7),
    type: N("type", "circle"),
    visible: N("visible", true)
  });
  var l = O(L, function(aa, ab, Z) {
    L.call(this, aa, ab, Z)
  }, {
    width: N("width", 4),
    color: N("color", ""),
    length: N("length", T)
  });
  var E = O(L, function(aa, ab, Z) {
    L.call(this, aa, ab, Z)
  }, {
    _validators: {
      position: ["top", "bottom", "left", "right"]
    },
    position: N("position", "top"),
    icon: {
      get: function() {
        var Z = this;
        if (!Z._icon) {
          V(Z, "_icon", new j(Z._owner, P(Z, "icon")))
        }
        return Z._icon
      }
    },
    line: {
      get: function() {
        var Z = this;
        if (!Z._line) {
          V(Z, "_line", new l(Z._owner, P(Z, "line")))
        }
        return Z._line
      }
    },
    label: {
      get: function() {
        var Z = this;
        if (!Z._label) {
          V(Z, "_label", new k(Z._owner, P(Z, "label")))
        }
        return Z._label
      }
    },
    visible: N("visible", true)
  });
  var g = O(E, function(aa, ab, Z) {
    E.call(this, aa, ab, Z)
  }, {
    data: N("data", []),
  });
  var I = O(L, function() {
    L.apply(this, Array.apply(T, arguments))
  }, {
    _initial: T,
    _validators: {
      baseUnit: ["seconds", "minutes", "hours", "days", "weeks", "months", "years"],
      axisCrossingValue: {
        type: ["number", "array"]
      }
    },
    _toOption: function() {
      var aa = this,
        Z = Y.merge(aa._initial || {}, L.prototype._toOption.call(aa) || {});
      return Z
    },
    axisCrossingValue: N("axisCrossingValue", 0),
    color: N("color", ""),
    crosshair: {
      get: function() {
        var Z = this;
        if (!Z._crosshair) {
          V(Z, "_crosshair", new c(Z._owner, P(Z, "crosshair")))
        }
        return Z._crosshair
      }
    },
    labels: {
      get: function() {
        var Z = this;
        if (!Z._labels) {
          V(Z, "_labels", new d(Z._owner, P(Z, "labels")))
        }
        return Z._labels
      }
    },
    line: {
      get: function() {
        var Z = this;
        if (!Z._line) {
          V(Z, "_line", new f(Z._owner, P(Z, "line")))
        }
        return Z._line
      }
    },
    majorGridLines: {
      get: function() {
        var Z = this;
        if (!Z._majorGridLines) {
          V(Z, "_majorGridLines", new f(Z._owner, P(Z, "majorGridLines")))
        }
        return Z._majorGridLines
      }
    },
    minorGridLines: {
      get: function() {
        var Z = this;
        if (!Z._minorGridLines) {
          V(Z, "_minorGridLines", new f(Z._owner, P(Z, "minorGridLines"), {
            visible: false
          }))
        }
        return Z._minorGridLines
      }
    },
    majorTicks: {
      get: function() {
        var Z = this;
        if (!Z._majorTicks) {
          V(Z, "_majorTicks", new h(Z._owner, P(Z, "majorTicks"), {
            size: 4,
            visible: true
          }))
        }
        return Z._majorTicks
      }
    },
    minorTicks: {
      get: function() {
        var Z = this;
        if (!Z._minorTicks) {
          V(Z, "_minorTicks", new h(Z._owner, P(Z, "minorTicks"), {
            size: 3,
            visible: false
          }))
        }
        return Z._minorTicks
      }
    },
    min: N("min", 0),
    max: N("max", 1),
    majorUnit: N("majorUnit", 0),
    minorUnit: N("minorUnit", 0),
    name: N("name", ""),
    narrowRange: N("narrowRange", false),
    pane: N("pane", ""),
    plotBands: N("plotBands", []),
    reverse: N("reverse", false),
    title: {
      get: function() {
        var Z = this;
        if (!Z._title) {
          V(Z, "_title", new i(Z._owner, P(Z, "title")))
        }
        return Z._title
      }
    },
    visible: N("visible", true),
    baseUnit: N("baseUnit", T),
    notes: {
      get: function() {
        var Z = this;
        if (!Z._notes) {
          V(Z, "_notes", new g(Z._owner, P(Z, "notes")))
        }
        return Z._notes
      }
    }
  });
  var J = O(I, function() {
    I.apply(this, Array.apply(T, arguments))
  }, {
    categories: N("categories", []),
    field: N("field", ""),
    justified: N("justified", true),
    narrowRange: N("narrowRange", false),
    weekStartDay: N("weekStartDay", 0)
  });
  var C = O(L, function(aa, ab, Z) {
    L.apply(this, Array.apply(T, arguments))
  }, {
    _validators: {
      type: ["circle", "square", "triangle"]
    },
    background: N("background", ""),
    border: {
      get: function() {
        var Z = this;
        if (!Z._border) {
          V(Z, "_border", new K._BorderConfiguration(Z._owner, P(Z, "border")))
        }
        return Z._border
      }
    },
    size: N("size", 6),
    type: N("type", "circle"),
    visible: N("visible", true)
  });
  var A = O(L, function(aa, ab, Z) {
    L.apply(this, Array.apply(T, arguments))
  }, {
    border: {
      get: function() {
        var Z = this;
        if (!Z._border) {
          V(Z, "_border", new K._BorderConfiguration(Z, P(Z, "border")))
        }
        return Z._border
      }
    },
    color: N("color", "#ffffff"),
    line: {
      get: function() {
        var Z = this;
        if (!Z._line) {
          V(Z, "_line", new B(Z._owner, P(Z, "line")))
        }
        return Z._line
      }
    },
    opacity: N("opacity", 1),
    visible: N("visible", true)
  });
  var D = O(L, function(aa, ab, Z) {
    L.apply(this, Array.apply(T, arguments))
  }, {
    color: N("color", "#ffffff"),
    visible: N("visible", false)
  });
  var B = O(L, function(aa, ab, Z) {
    var ac = this;
    L.apply(ac, Array.apply(T, arguments));
    ac._validators.style = ["normal", "step", "smooth"]
  }, {
    color: N("color", ""),
    opacity: N("opacity", 1),
    width: N("width", 4),
    dashType: N("dashType", "solid"),
    style: N("style", "normal")
  });
  var b = O(B, function(aa, ab, Z) {
    var ac = this;
    B.apply(ac, Array.apply(T, arguments))
  });
  var y = O(L, function(aa, ab, Z) {
    L.apply(this, Array.apply(T, arguments))
  }, {
    color: N("color", ""),
    padding: N("padding", 4),
    width: N("width", 1)
  });
  var x = O(r, function(aa, ab, Z) {
    var ac = this;
    r.apply(ac, Array.apply(T, arguments));
    ac._validators.align = ["circle", "column"];
    ac._validators.position = ["outsideEnd", "insideEnd", "center"]
  }, {
    align: N("align", "circle"),
    distance: N("distance", 35),
    position: N("position", "outsideEnd")
  });
  var F = O(L, function(aa, ab, Z) {
    L.apply(this, Array.apply(T, arguments))
  }, {
    color: N("color", "#ff0000"),
    border: {
      get: function() {
        var Z = this;
        if (!Z._border) {
          V(Z, "_border", new K._BorderConfiguration(Z, P(Z, "border")))
        }
        return Z._border
      }
    },
    line: {
      get: function() {
        var Z = this;
        if (!Z._line) {
          V(Z, "_line", new f(Z._owner, P(Z, "line")))
        }
        return Z._line
      }
    }
  });
  var U = O(L, function(aa, ab, Z) {
    L.apply(this, Array.apply(T, arguments))
  }, {
    _initial: T,
    _toOption: function() {
      var aa = this,
        Z = Y.merge(aa._initial || {}, L.prototype._toOption.call(aa) || {});
      return Z
    },
    name: N("name", ""),
    margin: {
      get: function() {
        var Z = this;
        if (!Z._margin) {
          V(Z, "_margin", new K._BoxConfiguration(Z._owner, P(Z, "margin")))
        }
        return Z._margin
      }
    },
    padding: {
      get: function() {
        var Z = this;
        if (!Z._padding) {
          V(Z, "_padding", new K._BoxConfiguration(Z._owner, P(Z, "padding")))
        }
        return Z._padding
      }
    },
    background: N("background", ""),
    border: {
      get: function() {
        var Z = this;
        if (!Z._border) {
          V(Z, "_border", new K._BorderConfiguration(Z._owner, P(Z, "border")))
        }
        return Z._border
      }
    },
    height: N("height", 0),
    title: {
      get: function() {
        var Z = this;
        if (!Z._title) {
          V(Z, "_title", new G(Z._owner, P(Z, "title")))
        }
        return Z._title
      }
    }
  });
  var q = O(r, function(aa, ab, Z) {
    var ac = this;
    r.apply(ac, Array.apply(T, arguments));
    ac._validators.align = ["center", "right", "left"];
    ac._validators.position = ["center", "top", "bottom"]
  }, {
    align: N("align", "center"),
    position: N("position", "center")
  });
  var n = O(L, function(aa, ab, Z) {
    var ac = this;
    L.apply(ac, Array.apply(T, arguments))
  }, {
    value: N("value", ""),
    xValue: N("xValue", ""),
    yValue: N("yValue", ""),
    endCaps: N("endCaps", true),
    color: N("color", ""),
    line: {
      get: function() {
        var Z = this;
        if (!Z._line) {
          V(Z, "_line", new o(Z._owner, P(Z, "line")))
        }
        return Z._line
      }
    }
  });
  var o = O(L, function(aa, ab, Z) {
    var ac = this;
    L.apply(ac, Array.apply(T, arguments))
  }, {
    width: N("width", 1),
    dashType: N("dashType", "solid")
  });
  var w = O(L, function(aa, ab, Z) {
    var ac = this;
    L.apply(ac, Array.apply(T, arguments))
  }, {
    background: N("background", ""),
    border: {
      get: function() {
        var Z = this;
        if (!Z._border) {
          V(Z, "_border", new K._BorderConfiguration(Z._owner, P(Z, "border")))
        }
        return Z._border
      }
    },
    size: N("size", 6),
    type: N("type", "circle"),
    visible: N("visible", false),
    rotation: N("rotation", 6)
  });
  var p = O(L, function(aa, ab, Z) {
    var ac = this;
    L.apply(ac, Array.apply(T, arguments))
  }, {
    background: N("background", ""),
    border: {
      get: function() {
        var Z = this;
        if (!Z._border) {
          V(Z, "_border", new K._BorderConfiguration(Z._owner, P(Z, "border")))
        }
        return Z._border
      }
    },
    size: N("size", 6),
    type: N("type", "circle"),
    visible: N("visible", false),
    rotation: N("rotation", 6)
  });
  R(S, {
    _TitleConfiguration: G,
    _LegendLabelConfiguration: v,
    _LegendInactiveItemsConfiguration: u,
    _LegendInactiveItemsColorConfiguration: t,
    _LegendConfiguration: s,
    _TooltipConfiguration: H,
    _PlotAreaConfiguration: z,
    _LabelConfiguration: r,
    _AxisCrossHairConfiguration: c,
    _CrossHairTooltipConfiguration: m,
    _AxisTitleConfiguration: i,
    _AxisLabelDateFormatConfiguration: e,
    _AxisLabelConfiguration: d,
    _AxisLineConfiguration: f,
    _AxisTickConfiguration: h,
    _SeriesMarkersConfiguration: C,
    _SeriesNegativeValuesConfiguration: D,
    _SeriesLineConfiguration: B,
    _AreaLineConfiguration: b,
    _PieLabelConnectorConfiguration: y,
    _PieLabelConfiguration: x,
    _SeriesTargetConfiguration: F,
    _ChartNoteLabelConfiguration: k,
    _ChartNoteIconConfiguration: j,
    _ChartNoteLineConfiguration: l,
    _SeriesNoteConfiguration: E,
    _AxisNoteConfiguration: g,
    _FunnelLabelConfiguration: q,
    _ErrorBarsConfiguration: n,
    _OutliersConfiguration: w,
    _ExtremesConfiguration: p,
    _SeriesHighlightConfiguration: A,
    Axis: I,
    CategoryAxis: J,
    Pane: U
  })
})(this, jQuery);
(function(b, a, i) {
  var d = kendo.dataviz.Candlestick.prototype.getBorderColor;
  kendo.dataviz.Candlestick.prototype.getBorderColor = function() {
    var k = this,
      j = k.options;
    if (!j.border.color) {
      j.border.color = j.color
    }
    if (!j.line.color) {
      j.line.color = j.color
    }
    return d.apply(k, Array.apply(null, arguments))
  };
  var e = kendo.dataviz.Candlestick.prototype.highlightOverlay;
  kendo.dataviz.Candlestick.prototype.highlightOverlay = function(l, j) {
    var k = this;
    if (k.value.close < k.value.open) {
      j.fillOpacity = 0
    }
    return e.apply(k, Array.apply(null, arguments))
  };
  var h = kendo.dataviz.ui,
    f = h.Chart.prototype._initDataSource,
    c = h.Chart.prototype.destroy,
    g = h.Chart.prototype.setDataSource;
  h.Chart.prototype._initDataSource = function(k) {
    var j = this;
    f.apply(j, arguments);
    j._progressHandler = a.proxy(j._showBusy, j);
    j.dataSource.bind("progress", j._progressHandler);
    j.first("dataBound", a.proxy(j._hideBusy, j));
    if (j.dataSource._requestInProgress) {
      j._showBusy()
    }
  };
  h.Chart.prototype.destroy = function() {
    var j = this;
    c.apply(j, arguments);
    j.dataSource.unbind("progress", j._progressHandler)
  };
  h.Chart.prototype.setDataSource = function(k) {
    var j = this;
    j.dataSource.unbind("progress", j._progressHandler);
    g.apply(j, arguments);
    j.dataSource.bind("progress", j._progressHandler)
  };
  h.Chart.prototype._showBusy = function() {
    var j = this;
    if (j._busy) {
      return
    }
    j._busy = setTimeout(function() {
      j.element.attr("aria-busy", true);
      Telerik.UI.progress(j.element, true)
    }, 10)
  };
  h.Chart.prototype._hideBusy = function() {
    var j = this;
    clearTimeout(j._busy);
    Telerik.UI.progress(j.element, false);
    j.element.attr("aria-busy", false);
    j._busy = null
  }
})(this, jQuery);
(function(s, a, K) {
  var o = WinJS.Class.derive,
    u = WinJS.Namespace.define,
    w = "Telerik.UI.Chart",
    v = u(w),
    L = Telerik.Utilities,
    x = null,
    m = Telerik.UI._ControlConfiguration,
    n = m.defineProperty,
    r = m.getMapping,
    D = L.setPrivate;
  var J = o(m, function() {
    m.apply(this, Array.apply(x, arguments))
  }, {
    _initial: x,
    _toOption: function() {
      var Q = this,
        P = L.merge(Q._initial || {}, m.prototype._toOption.call(Q) || {});
      if (Q.type) {
        P.type = Q.type
      }
      return P
    },
    type: {
      value: ""
    },
    color: n("color", ""),
    labels: {
      get: function() {
        var P = this;
        if (!P._labels) {
          D(P, "_labels", new v._LabelConfiguration(P._owner, r(P, "labels")))
        }
        return P._labels
      }
    },
    stack: n("stack", false),
    tooltip: {
      get: function() {
        var P = this;
        if (!P._tooltip) {
          D(P, "_tooltip", new v._TooltipConfiguration(P._owner, r(P, "tooltip")))
        }
        return P._tooltip
      }
    },
    data: n("data", []),
    field: n("field", ""),
    groupNameTemplate: n("groupNameTemplate", ""),
    name: n("name", ""),
    visibleInLegend: n("visibleInLegend", true),
    opacity: n("opacity", 1),
    notes: {
      get: function() {
        var P = this;
        if (!P._notes) {
          D(P, "_notes", new Telerik.UI.Chart._SeriesNoteConfiguration(P._owner, r(P, "notes")))
        }
        return P._notes
      }
    },
    noteTextField: n("noteTextField", ""),
    errorLowField: n("errorLowField", ""),
    errorHighField: n("errorHighField", ""),
    xErrorLowField: n("xErrorLowField", ""),
    yErrorLowField: n("yErrorLowField", ""),
    xErrorHighField: n("xErrorHighField", ""),
    yErrorHighField: n("yErrorHighField", ""),
    highlight: {
      get: function() {
        var P = this;
        if (!P._highlight) {
          D(P, "_highlight", new v._SeriesHighlightConfiguration(P._owner, r(P, "highlight")))
        }
        return P._highlight
      }
    }
  });
  var e = o(J, function() {
    J.apply(this, Array.apply(x, arguments))
  }, {
    border: {
      get: function() {
        var P = this;
        if (!P._border) {
          D(P, "_border", new Telerik.UI.Common._BorderConfiguration(P._owner, r(P, "border")))
        }
        return P._border
      }
    }
  });
  var f = o(J, function() {
    var P = this;
    J.apply(P, Array.apply(x, arguments));
    P._validators.missingValues = ["gap", "interpolate", "zero"]
  }, {
    type: {
      value: "area"
    },
    line: {
      get: function() {
        var P = this;
        if (!P._line) {
          D(P, "_line", new v._AreaLineConfiguration(P._owner, r(P, "line")))
        }
        return P._line
      }
    },
    markers: {
      get: function() {
        var P = this;
        if (!P._markers) {
          D(P, "_markers", new v._SeriesMarkersConfiguration(P._owner, r(P, "markers")))
        }
        return P._markers
      }
    },
    missingValues: n("missingValues", "gap"),
    opacity: n("opacity", 0.4),
    axis: n("axis", ""),
    errorBars: {
      get: function() {
        var P = this;
        if (!P._errorBars) {
          D(P, "_errorBars", new v._ErrorBarsConfiguration(P._owner, r(P, "errorBars")))
        }
        return P._errorBars
      }
    }
  });
  var b = o(e, function() {
    e.apply(this, Array.apply(x, arguments))
  }, {
    _optionsMap: {
      overlayGradient: "overlay.gradient"
    },
    _validators: {
      overlayGradient: ["glass", "none"],
      stack: {
        type: ["string:noconvert", "boolean"]
      }
    },
    axis: n("axis", ""),
    gap: n("gap", 1.5),
    spacing: n("spacing", 0.4),
    overlayGradient: n("overlayGradient", "none"),
    colorField: n("colorField", "")
  });
  var g = o(b, function() {
    b.apply(this, Array.apply(x, arguments))
  }, {
    type: {
      value: "bar"
    },
    negativeColor: n("negativeColor", ""),
    errorBars: {
      get: function() {
        var P = this;
        if (!P._errorBars) {
          D(P, "_errorBars", new v._ErrorBarsConfiguration(P._owner, r(P, "errorBars")))
        }
        return P._errorBars
      }
    }
  });
  var l = o(g, function() {
    g.apply(this, Array.apply(x, arguments))
  }, {
    type: {
      value: "column"
    }
  });
  var t = o(J, function() {
    var P = this;
    J.apply(this, Array.apply(x, arguments));
    P._validators.missingValues = ["gap", "interpolate", "zero"];
    P._validators.style = ["normal", "step", "smooth"]
  }, {
    type: {
      value: "line"
    },
    axis: n("axis", ""),
    dashType: n("dashType", "solid"),
    markers: {
      get: function() {
        var P = this;
        if (!P._markers) {
          D(P, "_markers", new v._SeriesMarkersConfiguration(P._owner, r(P, "markers")))
        }
        return P._markers
      }
    },
    style: n("style", "normal"),
    missingValues: n("missingValues", "gap"),
    width: n("width", 2),
    errorBars: {
      get: function() {
        var P = this;
        if (!P._errorBars) {
          D(P, "_errorBars", new v._ErrorBarsConfiguration(P._owner, r(P, "errorBars")))
        }
        return P._errorBars
      }
    }
  });
  var z = o(e, function() {
    e.apply(this, Array.apply(x, arguments))
  }, {
    _optionsMap: {
      overlayGradient: "overlay.gradient"
    },
    _validators: {
      overlayGradient: ["roundedBevel", "sharpBevel", "none"]
    },
    type: {
      value: "pie"
    },
    categoryField: n("categoryField", ""),
    colorField: n("colorField", ""),
    explodeField: n("explodeField", ""),
    connectors: {
      get: function() {
        var P = this;
        if (!P._connectors) {
          D(P, "_connectors", new v._PieLabelConnectorConfiguration(P._owner, r(P, "connectors")))
        }
        return P._connectors
      }
    },
    labels: {
      get: function() {
        var P = this;
        if (!P._labels) {
          D(P, "_labels", new v._PieLabelConfiguration(P._owner, r(P, "labels")))
        }
        return P._labels
      }
    },
    padding: n("padding", 0),
    startAngle: n("startAngle", 90),
    overlayGradient: n("overlayGradient", "roundedBevel")
  });
  var p = o(z, function() {
    z.apply(this, Array.apply(x, arguments))
  }, {
    type: {
      value: "donut"
    },
    holeSize: n("holeSize", 0),
    margin: n("margin", 1),
    size: n("size", 0),
    overlayGradient: n("overlayGradient", "none")
  });
  var d = o(J, function() {
    J.apply(this, Array.apply(x, arguments))
  }, {
    xField: n("xField", ""),
    yField: n("yField", ""),
    xAxis: n("xAxis", ""),
    yAxis: n("yAxis", ""),
    errorBars: {
      get: function() {
        var P = this;
        if (!P._errorBars) {
          D(P, "_errorBars", new v._ErrorBarsConfiguration(P._owner, r(P, "errorBars")))
        }
        return P._errorBars
      }
    }
  });
  var I = o(d, function() {
    var P = this;
    d.apply(P, Array.apply(x, arguments));
    P._validators.style = ["normal", "smooth"]
  }, {
    type: {
      value: "scatter"
    },
    markers: {
      get: function() {
        var P = this;
        if (!P._markers) {
          D(P, "_markers", new v._SeriesMarkersConfiguration(P._owner, r(P, "markers")))
        }
        return P._markers
      }
    },
    style: n("style", "normal"),
  });
  var i = o(d, function() {
    d.apply(this, Array.apply(x, arguments))
  }, {
    type: {
      value: "bubble"
    },
    categoryField: n("categoryField", ""),
    colorField: n("colorField", ""),
    maxSize: n("maxSize", 100),
    minSize: n("minSize", 5),
    negativeValues: {
      get: function() {
        var P = this;
        if (!P._negativeValues) {
          D(P, "_negativeValues", new v._SeriesNegativeValuesConfiguration(P._owner, r(P, "negativeValues")))
        }
        return P._negativeValues
      }
    },
    sizeField: n("sizeField", ""),
    xField: n("xField", ""),
    yField: n("yField", ""),
    border: {
      get: function() {
        var P = this;
        if (!P._border) {
          D(P, "_border", new Telerik.UI.Common._BorderConfiguration(P._owner, r(P, "border")))
        }
        return P._border
      }
    }
  });
  var H = o(I, function() {
    var P = this;
    I.apply(P, Array.apply(x, arguments));
    P._validators.missingValues = ["gap", "interpolate", "zero"]
  }, {
    type: {
      value: "scatterLine"
    },
    dashType: n("dashType", "solid"),
    missingValues: n("missingValues", "gap"),
    width: n("width", 1)
  });
  var M = o(f, function() {
    f.apply(this, Array.apply(x, arguments))
  }, {
    type: {
      value: "verticalArea"
    }
  });
  var O = o(t, function() {
    t.apply(this, Array.apply(x, arguments))
  }, {
    type: {
      value: "verticalLine"
    }
  });
  var c = o(b, function() {
    b.apply(this, Array.apply(x, arguments))
  }, {
    aggregates: x,
    colorField: n("colorField", ""),
    openField: n("openField", ""),
    highField: n("highField", ""),
    lowField: n("lowField", ""),
    closeField: n("closeField", ""),
    line: {
      get: function() {
        var P = this;
        if (!P._line) {
          D(P, "_line", new v._SeriesLineConfiguration(P._owner, r(P, "line"), {
            width: 2
          }))
        }
        return P._line
      }
    },
    gap: n("gap", 1),
    spacing: n("spacing", 0.3),
  });
  var k = o(c, function() {
    c.apply(this, Array.apply(x, arguments))
  }, {
    type: {
      value: "candlestick"
    },
    downColor: n("downColor", ""),
    downColorField: n("downColorField", "")
  });
  var y = o(c, function() {
    c.apply(this, Array.apply(x, arguments))
  }, {
    type: {
      value: "ohlc"
    }
  });
  var j = o(e, function() {
    e.apply(this, Array.apply(x, arguments))
  }, {
    type: {
      value: "bullet"
    },
    currentField: n("currentField", ""),
    targetField: n("targetField", ""),
    target: {
      get: function() {
        var P = this;
        if (!P._target) {
          D(P, "_target", new v._SeriesTargetConfiguration(P._owner, r(P, "target")))
        }
        return P._target
      }
    },
    gap: n("gap", 1.5)
  });
  var N = o(j, function() {
    j.apply(this, Array.apply(x, arguments))
  }, {
    type: {
      value: "verticalBullet"
    }
  });
  var G = o(t, function() {
    t.apply(this, Array.apply(x, arguments))
  }, {
    type: {
      value: "radarLine"
    }
  });
  var E = o(f, function() {
    f.apply(this, Array.apply(x, arguments))
  }, {
    type: {
      value: "radarArea"
    }
  });
  var F = o(b, function() {
    b.apply(this, Array.apply(x, arguments))
  }, {
    type: {
      value: "radarColumn"
    }
  });
  var B = o(t, function() {
    t.apply(this, Array.apply(x, arguments))
  }, {
    type: {
      value: "polarLine"
    },
    xField: n("xField", ""),
    yField: n("yField", ""),
    xAxis: n("xAxis", ""),
    yAxis: n("yAxis", "")
  });
  var A = o(f, function() {
    f.apply(this, Array.apply(x, arguments))
  }, {
    type: {
      value: "polarArea"
    },
    xField: n("xField", ""),
    yField: n("yField", ""),
    xAxis: n("xAxis", ""),
    yAxis: n("yAxis", "")
  });
  var C = o(I, function() {
    I.apply(this, Array.apply(x, arguments))
  }, {
    type: {
      value: "polarScatter"
    }
  });
  var q = o(J, function() {
    J.apply(this, Array.apply(x, arguments))
  }, {
    type: {
      value: "funnel"
    },
    labels: {
      get: function() {
        var P = this;
        if (!P._labels) {
          D(P, "_labels", new v._FunnelLabelConfiguration(P._owner, r(P, "labels")))
        }
        return P._labels
      }
    },
    segmentSpacing: n("segmentSpacing", 0),
    neckRatio: n("neckRatio", 0.3),
    dynamicSlope: n("dynamicSlope", false),
    dynamicHeight: n("dynamicHeight", true),
    colorField: n("colorField", "")
  });
  var h = o(e, function() {
    e.apply(this, Array.apply(x, arguments))
  }, {
    type: {
      value: "boxPlot"
    },
    axis: n("axis", ""),
    aggregates: x,
    lowerField: n("lowerField", ""),
    q1Field: n("q1Field", ""),
    medianField: n("medianField", ""),
    q3Field: n("q3Field", ""),
    upperField: n("upperField", ""),
    meanField: n("meanField", ""),
    line: {
      get: function() {
        var P = this;
        if (!P._line) {
          D(P, "_line", new v._SeriesLineConfiguration(P._owner, r(P, "line"), {
            width: 2
          }))
        }
        return P._line
      }
    },
    gap: n("gap", 1),
    spacing: n("spacing", 0.3),
    outliersField: n("outliersField", ""),
    outliers: {
      get: function() {
        var P = this;
        if (!P._outliers) {
          D(P, "_outliers", new v._OutliersConfiguration(P._owner, r(P, "outliers")))
        }
        return P._outliers
      }
    },
    extremes: {
      get: function() {
        var P = this;
        if (!P._extremes) {
          D(P, "_extremes", new v._ExtremesConfiguration(P._owner, r(P, "extremes")))
        }
        return P._extremes
      }
    }
  });
  u(w, {
    Series: J,
    _SeriesWithBorder: e,
    AreaSeries: f,
    BarSeries: g,
    ColumnSeries: l,
    LineSeries: t,
    PieSeries: z,
    DonutSeries: p,
    ScatterSeries: I,
    BubbleSeries: i,
    ScatterLineSeries: H,
    VerticalAreaSeries: M,
    VerticalLineSeries: O,
    CandleStickSeries: k,
    OhlcSeries: y,
    BulletSeries: j,
    VerticalBulletSeries: N,
    RadarLineSeries: G,
    RadarAreaSeries: E,
    RadarColumnSeries: F,
    PolarLineSeries: B,
    PolarAreaSeries: A,
    PolarScatterSeries: C,
    FunnelSeries: q,
    BoxPlotSeries: h
  })
})(this, jQuery);
(function(I, a, V) {
  var F = WinJS.Class.derive,
    K = WinJS.Namespace.define,
    D = Telerik.UI._ControlConfiguration,
    W = Telerik.Utilities,
    B = Telerik.UI.Chart,
    E = D.defineProperty,
    M = "Telerik.UI.Sparkline",
    L = K(M),
    H = D.getMapping,
    R = W.setPrivate,
    N = null;
  var v = F(B.Axis, function() {
    B.Axis.apply(this, Array.apply(N, arguments))
  }, {
    narrowRange: E("narrowRange", true),
    majorGridLines: {
      get: function() {
        var aa = this;
        if (!aa._majorGridLines) {
          R(aa, "_majorGridLines", new e(aa._owner, H(aa, "majorGridLines")))
        }
        return aa._majorGridLines
      }
    },
    crosshair: {
      get: function() {
        var aa = this;
        if (!aa._crosshair) {
          R(aa, "_crosshair", new b(aa._owner, H(aa, "crosshair")))
        }
        return aa._crosshair
      }
    },
    pane: E("pane", ""),
    visible: E("visible", false)
  });
  var A = F(v, function() {
    B.CategoryAxis.apply(this, Array.apply(N, arguments))
  });
  var P = F(B.Pane, function(ab, ac, aa) {
    B.Pane.apply(this, Array.apply(N, arguments))
  });
  var U = F(B.Series, function() {
    B.Series.apply(this, Array.apply(N, arguments))
  }, {
    visibleInLegend: E("visibleInLegend", true)
  });
  var u = F(B.AreaSeries, function() {
    B.AreaSeries.apply(this, Array.apply(N, arguments))
  }, {
    visibleInLegend: {}
  });
  var w = F(B.BarSeries, function() {
    B.BarSeries.apply(this, Array.apply(N, arguments))
  }, {
    visibleInLegend: {},
    stack: E("stack", true)
  });
  var y = F(B.BulletSeries, function() {
    B.BulletSeries.apply(this, Array.apply(N, arguments))
  }, {
    targetField: E("targetField", ""),
    visibleInLegend: {}
  });
  var C = F(w, function() {
    w.apply(this, Array.apply(N, arguments))
  }, {
    type: {
      value: "column"
    },
    visibleInLegend: {}
  });
  var J = F(B.LineSeries, function() {
    B.LineSeries.apply(this, Array.apply(N, arguments))
  }, {
    visibleInLegend: {},
    width: E("width", 0.5)
  });
  var z = F(B.CandleStickSeries, function() {
    B.CandleStickSeries.apply(this, Array.apply(N, arguments))
  });
  var O = F(B.OhlcSeries, function() {
    B.OhlcSeries.apply(this, Array.apply(N, arguments))
  });
  var x = F(B.BubbleSeries, function() {
    B.BubbleSeries.apply(this, Array.apply(N, arguments))
  });
  var Q = F(B.PieSeries, function() {
    B.PieSeries.apply(this, Array.apply(N, arguments))
  }, {
    targetField: E("targetField", ""),
    visibleInLegend: {},
    overlayGradient: E("overlayGradient", "none")
  });
  var G = F(B.PieSeries, function() {
    B.DonutSeries.apply(this, Array.apply(N, arguments))
  });
  var T = F(B.ScatterSeries, function() {
    B.ScatterSeries.apply(this, Array.apply(N, arguments))
  });
  var S = F(B.ScatterLineSeries, function() {
    B.ScatterLineSeries.apply(this, Array.apply(N, arguments))
  });
  var X = F(u, function() {
    u.apply(this, Array.apply(N, arguments))
  });
  var Z = F(J, function() {
    J.apply(this, Array.apply(N, arguments))
  });
  var Y = F(y, function() {
    y.apply(this, Array.apply(N, arguments))
  }, {
    targetField: E("targetField", ""),
    visibleInLegend: {}
  });
  var e = F(B._AxisLineConfiguration, function(ab, ac, aa) {
    B._AxisLineConfiguration.apply(this, Array.apply(N, arguments))
  }, {
    visible: E("visible", false),
    width: E("width", 0.5)
  });
  var f = F(B._AxisTickConfiguration, function(ab, ac, aa) {
    B._AxisTickConfiguration.apply(this, Array.apply(N, arguments))
  });
  var h = F(B._CrossHairTooltipConfiguration, function(ab, ac, aa) {
    B._CrossHairTooltipConfiguration.apply(this, Array.apply(N, arguments))
  });
  var b = F(B._AxisCrossHairConfiguration, function(ab, ac, aa) {
    B._AxisCrossHairConfiguration.apply(this, Array.apply(N, arguments))
  }, {
    visible: E("visible", true),
  });
  var c = F(B._AxisLabelConfiguration, function(ab, ac, aa) {
    B._AxisLabelConfiguration.apply(this, Array.apply(N, arguments))
  });
  var g = F(B._AxisTitleConfiguration, function(ab, ac, aa) {
    B._AxisTitleConfiguration.apply(this, Array.apply(N, arguments))
  });
  var d = F(B._AxisLabelDateFormatConfiguration, function(ab, ac, aa) {
    B._AxisLabelDateFormatConfiguration.apply(this, Array.apply(N, arguments))
  });
  var k = F(B._LegendLabelConfiguration, function(ab, ac, aa) {
    B._LegendLabelConfiguration.apply(this, Array.apply(N, arguments))
  });
  var j = F(B._LegendConfiguration, function(ab, ac, aa) {
    B._LegendConfiguration.apply(this, Array.apply(N, arguments))
  }, {
    visible: E("visible", false)
  });
  var i = F(B._LabelConfiguration, function(ab, ac, aa) {
    B._LabelConfiguration.apply(this, Array.apply(N, arguments))
  });
  var m = F(B._PieLabelConnectorConfiguration, function(ab, ac, aa) {
    B._PieLabelConnectorConfiguration.apply(this, Array.apply(N, arguments))
  });
  var l = F(B._PieLabelConfiguration, function(ab, ac, aa) {
    B._PieLabelConfiguration.apply(this, Array.apply(N, arguments))
  });
  var o = F(B._SeriesLineConfiguration, function(ab, ac, aa) {
    B._SeriesLineConfiguration.apply(this, Array.apply(N, arguments))
  }, {
    width: E("width", 0.5)
  });
  var s = F(B._TitleConfiguration, function(ab, ac, aa) {
    B._TitleConfiguration.apply(this, Array.apply(N, arguments))
  });
  var t = F(B._TooltipConfiguration, function(ab, ac, aa) {
    B._TooltipConfiguration.apply(this, Array.apply(N, arguments))
  }, {
    visible: E("visible", true),
    shared: E("shared", true)
  });
  var n = F(B._PlotAreaConfiguration, function(ab, ac, aa) {
    B._PlotAreaConfiguration.apply(this, Array.apply(N, arguments))
  });
  var p = F(B._SeriesMarkersConfiguration, function(ab, ac, aa) {
    B._SeriesMarkersConfiguration.apply(this, Array.apply(N, arguments))
  }, {
    size: E("size", 2),
    visible: E("visible", false)
  });
  var q = F(B._SeriesNegativeValuesConfiguration, function(ab, ac, aa) {
    B._SeriesNegativeValuesConfiguration.apply(this, Array.apply(N, arguments))
  });
  var r = F(B._SeriesTargetConfiguration, function(ab, ac, aa) {
    B._SeriesTargetConfiguration.apply(this, Array.apply(N, arguments))
  });
  K(M, {
    Axis: v,
    CategoryAxis: A,
    AreaSeries: u,
    BarSeries: w,
    ColumnSeries: C,
    LineSeries: J,
    PieSeries: Q,
    Series: U,
    CandleStickSeries: z,
    OhlcSeries: O,
    BubbleSeries: x,
    DonutSeries: G,
    ScatterSeries: T,
    ScatterLineSeries: S,
    VerticalAreaSeries: X,
    VerticalLineSeries: Z,
    BulletSeries: y,
    VerticalBulletSeries: Y,
    _AxisLineConfiguration: e,
    _AxisTickConfiguration: f,
    _AxisCrossHairConfiguration: b,
    _AxisLabelConfiguration: c,
    _AxisTitleConfiguration: g,
    _AxisLabelDateFormatConfiguration: d,
    _TooltipConfiguration: t,
    _PlotAreaConfiguration: n,
    _CrossHairTooltipConfiguration: h,
    _LegendLabelConfiguration: k,
    _LegendConfiguration: j,
    _LabelConfiguration: i,
    _PieLabelConnectorConfiguration: m,
    _PieLabelConfiguration: l,
    _TitleConfiguration: s,
    _SeriesLineConfiguration: o,
    _SeriesMarkersConfiguration: p,
    _SeriesNegativeValuesConfiguration: q,
    _SeriesTargetConfiguration: r
  })
})(this, jQuery);

(function(g, a, n) {
  var e = WinJS.Class.derive,
    h = WinJS.Namespace.define,
    i = "Telerik.UI.Grid",
    c = Telerik.UI._ControlConfiguration,
    d = c.defineProperty,
    o = Telerik.Utilities,
    m = o._validators.unifiedTemplate,
    l = "string",
    b = "array",
    k = "object",
    f = "function",
    j = "null";
  h(i, {
    Column: e(c, function() {
      c.apply(this, Array.apply(null, arguments))
    }, {
      _validators: {
        aggregates: {
          type: [b, j]
        },
        command: {
          type: [b, l]
        },
        editor: {
          type: [j, f]
        },
        template: m,
        headerTemplate: m,
        footerTemplate: m,
        groupHeaderTemplate: m,
        groupFooterTemplate: m,
        attributes: {
          type: [k, j]
        },
        headerAttributes: {
          type: [k, j]
        },
        footerAttributes: {
          type: [k, j]
        },
        filterable: {
          type: [k, "boolean"]
        },
        values: {
          type: [b, j]
        }
      },
      attributes: d("attributes", null),
      headerAttributes: d("headerAttributes", null),
      footerAttributes: d("footerAttributes", null),
      aggregates: d("aggregates", null),
      command: d("command", ""),
      editor: d("editor", null),
      encoded: d("encoded", true),
      field: d("field", ""),
      filterable: {
        get: function() {
          var p = this;
          if (!p._filterable) {
            o.setPrivate(p, "_filterable", new Telerik.UI.Grid._ColumnFilterableConfiguration(p._owner, c.getMapping(p, "filterable")))
          }
          return p._filterable
        },
        set: function(p) {
          if (typeof p === "boolean") {
            this.filterable.enabled = p
          }
        }
      },
      values: d("values", null),
      format: d("format", ""),
      hidden: d("hidden", false),
      sortable: d("sortable", true),
      template: d("template", null),
      headerTemplate: d("headerTemplate", null),
      footerTemplate: d("footerTemplate", null),
      groupHeaderTemplate: d("groupHeaderTemplate", null),
      groupFooterTemplate: d("groupFooterTemplate", null),
      title: d("title", ""),
      width: d("width", ""),
      _toOption: function() {
        var q = this,
          p = c.prototype._toOption.call(q);
        if (p) {
          Object.keys(q.constructor.prototype._validators).forEach(function(r) {
            if (r.toLowerCase().indexOf("template") === r.length - 8) {
              var s = p[r];
              if (typeof s !== l) {
                p[r] = o.getTemplate(s, true)
              }
            }
          })
        }["attributes", "headerAttributes", "footerAttributes", "aggregates"].forEach(function(r) {
          if (q[r]) {
            p = p || {};
            p[r] = q[r]
          }
        });
        return p
      }
    }),
    _ColumnFilterableConfiguration: e(c, function(q, r, p) {
      c.call(this, q, r, p)
    }, {
      _validators: {
        template: function(r) {
          var p = o.getType(r),
            q = [l, f, k, j];
          return q.indexOf(p) > -1 || r instanceof Element ? r : n
        },
        refresh: {
          type: [f, j]
        },
        apply: {
          type: [f, j]
        }
      },
      enabled: d("enabled", true),
      template: d("template", null),
      refresh: d("refresh", null),
      apply: d("apply", null),
      _toOption: function() {
        var q = this,
          p = ["enabled", "template", "refresh", "apply"];
        p.forEach(function(r) {
          q._modified[r] = q[r]
        });
        return c.prototype._toOption.call(q)
      }
    }, {
      adjust: function(p) {
        if (p && o.getType(p.columns) === b) {
          p.columns.forEach(function(q, r) {
            if (o.getType(q) === l) {
              p.columns[r] = q = {
                field: q
              }
            }
            if (o.getType(q) === k) {
              delete q._filterable;
              if (o.getType(q.filterable) === k && q.filterable.enabled === false) {
                q._filterable = q.filterable;
                q.filterable = false
              } else {
                if (q.filterable === false) {
                  q._filterable = {
                    enabled: false
                  }
                }
              }
            }
          })
        }
      }
    }),
    ToolBarItem: e(c, function() {
      c.apply(this, Array.apply(null, arguments))
    }, {
      _validators: {
        template: m
      },
      name: d("name", ""),
      template: d("template", null),
      text: d("text", ""),
      _toOption: function() {
        var p = c.prototype._toOption.call(this);
        if (p && p.template && typeof p.template !== l) {
          p.template = o.getTemplate(p.template, true)
        }
        return p
      }
    }),
    EditableConfiguration: e(c, function(q, r, p) {
      c.call(this, q, r, p)
    }, {
      _validators: {
        mode: ["cell", "row", "cellBatch"],
        createAt: ["top", "bottom"]
      },
      enabled: {
        get: function() {
          var p = this;
          if (typeof(p._enabled) != "undefined") {
            return p._enabled
          } else {
            var q = p._owner && p._owner._widget ? p._owner._widget.options.editable : null;
            return !!q
          }
        },
        set: function(p) {
          this._enabled = p
        },
        enumerable: true,
        configurable: false
      },
      destroy: d("destroy", true),
      mode: d("mode", "cell"),
      createAt: d("createAt", "top"),
      template: d("template", null),
      update: d("update", true),
      create: d("create", true),
      _toOption: function() {
        var q = this;
        if (q.enabled) {
          var p = c.prototype._toOption.call(q) || {};
          if (p && p.mode) {
            p.mode = p.mode === "row" ? "inline" : "incell"
          }
          if (p && p.template && typeof p.template !== l) {
            p.template = o.getTemplate(p.template, true)
          }
          if (p) {
            delete p.enabled
          }
          return p
        }
        return false
      }
    })
  })
})(this, jQuery);
(function(a, f) {
  var k = WinJS.Utilities,
    c = "boolean";

  function e(p) {
    p = p != null ? p : "";
    return p.type || a.type(p) || "string"
  }
  function d(t) {
    var w = ["url", "email", "number", "date", "boolean"],
      s = (t.model.fields || t.model)[t.field],
      x = e(s),
      y = s ? s.validation : {}, v, r = f.attr("type"),
      q = f.attr("bind"),
      u, p = {
        name: t.field
      };
    for (v in y) {
      u = y[v];
      if (a.inArray(v, w) >= 0) {
        p[r] = v
      } else {
        if (!a.isFunction(u)) {
          p[v] = a.isPlainObject(u) ? u.value || v : u
        }
      }
      p[f.attr(v + "-msg")] = u.message
    }
    if (a.inArray(x, w) >= 0) {
      p[r] = x
    }
    p[q] = (x === c ? "checked:" : "value:") + t.field;
    return p
  }
  f.ui.Editable.prototype._originalEditor = f.ui.Editable.prototype.editor;
  f.ui.Editable.prototype.editor = function m(s, v) {
    var x = this,
      w = /("|'|\[|\]|\$|\.|\:|\+)/g,
      u = a.isPlainObject(s),
      t = u ? s.field : s,
      r = t.replace(w, "\\$1"),
      q = document.createElement("div");
    q.className = "t-edit-cell-wrapper";
    q.setAttribute(f.attr("container-for"), r);
    if (x.element && x.element.length) {
      if (x.element[0].tagName === "TD") {
        x.element[0].appendChild(q)
      } else {
        var p = x.element.find("td:visible").eq(0).filter("[data-container-for=" + r + "]");
        if (p[0]) {
          p[0].removeAttribute(f.attr("container-for"));
          p[0].appendChild(q)
        }
      }
    }
    x._originalEditor(s, v)
  };
  f.ui.Editable.prototype.options.editors.number = function n(q, u) {
    var p = d(u),
      t = a("<input/>").attr(p),
      s = new Telerik.UI.RadNumericBox(t[0], {
        swipe: false,
        format: u.format
      });
    var r = s.element;
    q.append(r);
    a("<span " + f.attr("for") + '="' + u.field + '" class="k-invalid-msg"/>').hide().appendTo(q)
  };
  f.ui.Editable.prototype.options.editors.values = function o(q, u) {
    var p = d(u),
      s = a("<input/>").attr(p),
      r = new Telerik.UI.RadDropDownList(s[0], {
        dataSource: u.values
      });
    var t = r.element;
    q.append(t);
    a("<span " + f.attr("for") + '="' + u.field + '" class="k-invalid-msg"/>').hide().appendTo(q)
  };
  f.ui.Editable.prototype.options.editors.date = function l(q, u) {
    var p = d(u);
    var s = document.createElement("div");
    q.append(s);
    var r = new Telerik.UI.RadDatePicker(s, {
      value: u.model[u.field]
    });
    r.onchange = function t(v) {
      var w = a(v.target._hiddenInput),
        x = v.target.value instanceof Date ? v.target.value.toISOString() : "";
      w.val(x).change()
    };
    a(r.element).on("keydown.kendoGrid", function(v) {
      v.stopPropagation()
    });
    a(r._hiddenInput).attr(p);
    setImmediate(function() {
      var v = r.value instanceof Date && !isNaN(r.value.getTime()) ? r.value.toISOString() : "";
      r._hiddenInput.value = v
    });
    a("<span " + f.attr("for") + '="' + u.field + '" class="k-invalid-msg"/>').hide().appendTo(q)
  };
  f.ui.Grid.prototype._showMessage = function b(p) {
    return true
  };
  var g = f.ui.Grid.prototype.closeCell;
  f.ui.Grid.prototype.closeCell = function h(u) {
    var y = this,
      q = y._editContainer;
    if (q && q.length) {
      q.removeClass("t-edit-container");
      var p = q.find(".k-grid-cancel");
      if (p.length && p[0].onclick) {
        p[0].onclick = null
      }
    }
    var t = y.element.parents(".t-table-view")[0],
      r = t && t.winControl && t.winControl.editable.mode === "cell",
      s = "k-dirty-cell",
      v = false;
    if (r) {
      if (q.hasClass(s)) {
        q.removeClass(s);
        v = true
      }
    }
    g.apply(y, arguments);
    if (v) {
      var w = function x(z) {
        z.preventDefault();
        return false
      };
      y.one("dataBinding", w);
      y.saveChanges()
    }
  };
  f.ui.Grid.prototype._originalEditable = f.ui.Grid.prototype._editable;
  f.ui.Grid.prototype._editable = function i() {
    var s = this,
      p = "dblclick",
      r = ".kendoGrid";
    s._originalEditable();
    var q = s._editMode();
    if (q === "inline") {
      if (s.options.editable.update !== false) {
        s.wrapper.on(p + r, "tr:not(.k-grouping-row) > td", function(t) {
          if (s.editable) {
            if (s.editable.end() && a(t.target).closest("tr").attr("data-uid") !== a(s.editable.element).attr("data-uid")) {
              s.saveRow()
            } else {
              return
            }
          }
          s.editRow(a(this).closest("tr"))
        })
      }
      s.wrapper.on(p + r, function(u) {
        var t = a(u.target).closest("td"),
          v = t.closest("tr"),
          w = f._activeElement();
        if (!v.length || v.hasClass("k-grouping-row")) {
          t = {}
        }
        if (!t.length || (!a.contains(t[0], w) && t[0] !== w && !a(w).closest(".k-animation-container,.t-date-selector,.t-time-selector").length)) {
          if (s.editable) {
            if (s.editable.end() && a(u.target).closest("tr").attr("data-uid") !== a(s.editable.element).attr("data-uid")) {
              s.saveRow()
            }
          }
        }
      })
    }
  };
  f.ui.Grid.prototype._originalRemoveRow = f.ui.Grid.prototype.removeRow;
  f.ui.Grid.prototype.removeRow = function j(v) {
    if (!v || !v.length) {
      return
    }
    var y = this,
      r = y.options.editable && y.options.editable.messages.confirmation,
      w = v.find("td a.k-grid-delete");
    if (!r) {
      return y._originalRemoveRow(v)
    }
    if (w.length) {
      if (k.hasClass(w[0], "t-edit-delete-expanded")) {
        if (!y._deleteRowTransition) {
          y._originalRemoveRow(v)
        }
      } else {
        k.addClass(w[0], "t-edit-delete-expanded");
        w[0].textContent = r;
        y._deleteRowTransition = true;
        setTimeout(function() {
          y._deleteRowTransition = false
        }, 367)
      }
    } else {
      var u = document.createElement("div");
      k.addClass(u, "t-gridConfirmation");
      var x = document.createElement("p");
      x.innerText = r;
      var p = document.createElement("button");
      p.type = "button";
      p.innerText = "OK";
      p.addEventListener("click", function s() {
        y._originalRemoveRow(v);
        u.winControl.hide()
      }, false);
      u.appendChild(x);
      u.appendChild(p);
      document.body.appendChild(u);
      var t = new WinJS.UI.Flyout(u);
      t.anchor = v[0];
      t.onafterhide = function q() {
        u.removeNode(true)
      };
      t.show()
    }
  }
})(jQuery, kendo);
(function(g, a, s) {
  var j = window.kendo,
    r = j.ui,
    p = a.proxy,
    o = "kendoPopup",
    h = "init",
    m = ".kendoFilterMenu",
    f = "Is equal to",
    k = "Is not equal to",
    q = {
      number: "numerictextbox",
      date: "datepicker"
    }, i = a.isFunction,
    t = r.Widget,
    n = r.FilterMenu;
  var b = '<div class="t-filter-menu t-filter-boolean"><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><button type="submit" class="k-button">#=messages.filter#</button><div class="t-filter-buttons"><button type="reset" class="k-button">#=messages.clear#</button></div></div>';
  var e = '<div class="t-filter-menu"><div class="k-filter-help-text">#=messages.info#</div><select data-class="t-filter-operators" data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[0].value" data-#=ns#role="dropdownlist"><option value="">#=messages.selectValue#</option>#for(var i in values){#<option value="#=values[i].value#">#=values[i].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<div class="t-extra"><select data-class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select data-class="t-filter-operators" data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[1].value" data-#=ns#role="dropdownlist"><option value="">#=messages.selectValue#</option>#for(var i in values){#<option value="#=values[i].value#">#=values[i].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}#</div>#}#<button type="submit" class="k-button">#=messages.filter#</button><div class="t-filter-buttons"><button type="button" class="k-button"></button><button type="reset" class="k-button">#=messages.clear#</button></div></div>';
  var d = '<div class="t-filter-menu"><div class="k-filter-help-text">#=messages.info#</div></div></div>';

  function c(D) {
    var B, E, C, H, G, F;
    if (D && D.length) {
      F = [];
      for (B = 0, E = D.length; B < E; B++) {
        C = D[B];
        G = C.text || C.value || C;
        H = C.value == null ? (C.text || C) : C.value;
        F[B] = {
          text: G,
          value: H
        }
      }
    }
    return F
  }
  var l = n.extend({
    init: function(B, C) {
      var D = this;
      n.prototype.init.apply(D, arguments);
      if (D.link && D.link.length) {
        D.link[0].draggable = false
      }
      D._updateFilterUI()
    },
    _init: function y() {
      var H = this,
        D = H.options,
        G = D.template ? Telerik.Utilities.getTemplate(D.template) : null,
        F = q[I],
        I = H.type,
        C = (H.operators || {})[I] || D.operators[I] || {}, B = {
          field: H.field,
          format: D.format,
          messages: D.messages,
          operators: C,
          extra: D.extra,
          ns: j.ns,
          type: I,
          role: F,
          values: c(D.values)
        };
      var E = D.closeCallback;
      if (E) {
        D.closeCallback = function(J) {
          if (H.element.parents("table").length) {
            E(J)
          }
        }
      }
      MSApp.execUnsafeLocalFunction(function() {
        H.form = a('<form class="k-filter-menu"/>').on("keydown" + m, p(H._keydown, H)).on("submit" + m, p(H._submit, H)).on("reset" + m, p(H._reset, H));
        if (i(G)) {
          H.template = G;
          B.operators = Object.keys(C).map(function(K) {
            return {
              text: C[K],
              value: K
            }
          });
          H.form.append(d).find(".t-filter-menu").append(G(B))
        } else {
          H.form.html(j.template(I === "boolean" ? b : e)(B))
        }
        if (!D.appendToElement) {
          H.popup = H.form[o]({
            anchor: H.link,
            open: p(H._open, H),
            activate: p(H._activate, H),
            close: D.closeCallback,
            position: "top right",
            origin: "bottom right"
          }).data(o)
        } else {
          H.element.append(H.form);
          H.popup = H.element.closest(".k-popup").data(o)
        }
        H.form.find("[" + j.attr("role") + "=dropdownlist]").removeAttr(j.attr("role")).each(function J() {
          var L = new Telerik.UI.RadDropDownList(this),
            M = L.element,
            K = this.getAttribute("data-class");
          if (K) {
            M.className += " " + K
          }
        });
        H.form.find(".k-textbox").removeClass("k-textbox").each(function() {
          switch (I) {
            case "number":
              new Telerik.UI.RadNumericBox(this, {
                swipe: false
              });
              break;
            case "date":
              new Telerik.UI.RadDatePicker(this, {
                _requiresLayout: false
              });
              break;
            case "string":
            default:
              a(this).addClass("k-textbox");
              break
          }
        })
      });
      H.form.find("[" + j.attr("role") + "=numerictextbox]").removeClass("k-textbox").end().find("[" + j.attr("role") + "=datetimepicker]").removeClass("k-textbox").end().find("[" + j.attr("role") + "=timepicker]").removeClass("k-textbox").end().find("[" + j.attr("role") + "=datepicker]").removeClass("k-textbox");
      H._delegates = {
        moreFilters: H._toggleMoreFilters.bind(H),
        closePopup: H._closePopup.bind(H)
      };
      H.form.find("button[type='button']").on("click" + m, H._delegates.moreFilters).end();
      H.link.on(Telerik.Utilities._pointerEvent("down") + m, H._delegates.closePopup);
      H.refresh();
      H.trigger(h, {
        field: H.field,
        container: H.form
      })
    },
    _closePopup: function v() {
      var B = this;
      if (B.popup && B.popup.visible()) {
        B._popupClosingFlag = true;
        B.popup.close()
      } else {
        B._popupClosingFlag = false
      }
    },
    _toggleMoreFilters: function A(B) {
      a(B.target).parents("div").toggleClass("t-expanded");
      var C = this;
      C.popup._position();
      C._fixPopupPosition()
    },
    _fixPopupPosition: function x() {
      var J = this,
        E = J.popup.element.find(".k-filter-help-text");
      if (E.length) {
        var H = J.popup.element.parent()[0],
          D = J.element.find(".k-grid-filter")[0],
          I = H ? WinJS.Utilities.getPosition(H) : {
            left: 0
          }, G = D ? WinJS.Utilities.getPosition(D) : {
            left: 0
          }, B = parseInt(J.element.css("border-left-width")),
          F = parseInt(J.element.closest(".k-grid").css("border-left-width"), 10),
          C = parseInt(I.left, 10) - parseInt(G.left, 10);
        E.css("left", (C >= 0 ? C - B + F : -C + B + F))
      }
    },
    _updateFilterUI: function(B) {
      var G = this;
      G.element.closest("th").removeClass("t-filtered");
      if (!B) {
        if (G.dataSource && G.dataSource.filter) {
          var D = G.dataSource.filter();
          if (D) {
            G._updateFilterUI(D)
          }
        }
        return
      }
      for (var E = 0, F = B.filters.length; E < F; E++) {
        var C = B.filters[E].field;
        if (!C && B.filters[E].filters && B.filters[E].filters.length) {
          G._updateFilterUI(B.filters[E])
        }
        if (C === G.field) {
          G.element.closest("th").addClass("t-filtered");
          break
        }
      }
    },
    refresh: function() {
      var D = this,
        C = D.dataSource.filter() || {
          filters: [],
          logic: "and"
        }, B = D.options.refresh;
      n.prototype.refresh.apply(D, arguments);
      D._updateFilterUI();
      if (D.form && D.form.length && i(B)) {
        B(D.form[0], C)
      }
    },
    clear: function() {
      var C = this;
      n.prototype.clear.call(C);
      C.element.closest("th").removeClass("t-filtered");
      a(C.form).find(".t-date-picker, .t-time-picker").each(function B() {
        var D = this.winControl;
        if (D) {
          D.value = null
        }
      })
    },
    _submit: function(C) {
      var F = this,
        B = F.options.apply,
        D = F._merge(F.filterModel.toJSON()),
        E;
      C.preventDefault();
      if (typeof B === "function") {
        E = B(F.form[0], a.extend(true, {}, D));
        if (E === false) {
          return
        }
        if (Telerik.Utilities.getType(E) === "object") {
          D = E
        }
      }
      if (D.filters && D.filters.length) {
        F.dataSource.filter(D)
      }
      F.popup.close()
    },
    _open: function z(B) {
      var C = this;
      n.prototype._open.call(C, B);
      msSetImmediate(C._fixPopupPosition.bind(C))
    },
    _click: function u(B) {
      var C = this;
      if (C._popupClosingFlag) {
        C._popupClosingFlag = false;
        B.stopPropagation()
      } else {
        n.prototype._click.call(C, B)
      }
    },
    destroy: function w() {
      var B = this;
      if (B._delegates) {
        B.form.find("button[type='button']").off(m);
        B.link.off(m);
        B._delegates = null
      }
      n.prototype.destroy.call(B)
    }
  });
  r.plugin(l)
})(this, jQuery);
(function(j, a, x) {
  var h = WinJS.Class.derive,
    l = WinJS.Namespace.define,
    m = "Telerik.UI.Grid",
    d = Telerik.UI._ControlConfiguration,
    g = d.defineProperty,
    z = WinJS.Utilities,
    y = Telerik.Utilities,
    t = y.setPrivate,
    f = Telerik.Data.DataSource,
    w = y._validators.unifiedTemplate,
    p = Telerik.Utilities._pointerEvent,
    v = "string",
    c = "boolean",
    n = "object",
    b = "array",
    i = "function",
    q = p("down"),
    r = p("move"),
    s = p("up"),
    e = {
      tableView: "t-table-view",
      selected: "k-state-selected",
      groupingRow: "k-grouping-row",
      expand: "t-expand",
      active: "t-active",
      rangeStart: "t-range-start",
      northWest: "t-nw",
      serviceView: "t-service-view",
      serviceColumn: "t-service-column",
      serviceCommands: "t-service-commands",
      groupEdit: "t-group-edit",
      beforeMasterExpand: "t-before-masterExpand",
      detailRowCollapse: "t-detailRow-collapse",
      masterRowExpand: "t-masterRow-expand",
      serviceButton: "t-service-button",
      insertCommand: "t-insert-command",
      saveAllCommand: "t-save-command",
      cancelAllCommand: "t-cancel-command"
    };
  l(m, {
    TableView: h(Telerik.UI.WidgetWrapper, function(A, B) {
      var C = this,
        B = B || {};
      t(C, "_isRtl", kendo.support.isRtl(A));
      t(C, "_defaults", {}, true);
      t(C, "_modified", {}, true);
      t(C, "_owner", B.owner || null, true);
      t(C, "_parentTable", B.parentTable || null, true);
      t(C, "_detailTables", []);
      t(C, "_indices", [], true);
      t(C, "_requiresLayout", true);
      if (B.selectable) {
        C.selectable = B.selectable;
        B.selectable = C._selectable
      }
      if (B.sortable) {
        C.sortable = B.sortable;
        B.sortable = C._sortable
      }
      if (B.editable) {
        C.editable = B.editable;
        B.editable = C.editable._toOption()
      }
      if (B.filterable) {
        C.filterable = B.filterable
      }
      C._filterOptions(B);
      C._localOptions(B);
      C._buildLocalizationObject();
      Telerik.UI.WidgetWrapper.call(C, A, B);
      B = C._options;
      a(A).addClass(e.tableView);
      C.refresh(true)
    }, {
      _filterOptions: function(B) {
        var C = ["pageable", "columnMenu", "toolbar", "owner", "parentTable"],
          A = ["command"];
        C.forEach(function(D) {
          if (B[D] !== x) {
            delete B[D]
          }
        });
        (B.columns || []).forEach(function(D) {
          A.forEach(function(E) {
            if (D[E] !== x) {
              delete D[E]
            }
          })
        })
      },
      _localOptions: function(A) {
        var C = this,
          B = ["groupable", "resizable", "reorderable", "detailTable", "parentRelation"];
        B.forEach(function(D) {
          if (A[D] !== x) {
            C[D] = A[D];
            delete A[D]
          }
        })
      },
      _setupScrolling: function() {
        var B = this,
          A = B.element.querySelector(".k-grid-content");
        if (!B._scrollable || B.scrollable === "virtual") {
          return
        }
        B._triggerScroll = function() {
          a(A).trigger("scroll")
        };
        B.addEventListener("databound", B._triggerScroll)
      },
      _disposeScrolling: function() {
        var A = this;
        if (A._triggerScroll) {
          A.removeEventListener("databound", A._triggerScroll)
        }
        A._triggerScroll = null
      },
      _disposeHorizontalScrollbar: function() {
        var A = this;
        if (A._widget && A._widget.virtualScrollable && A._widget.virtualScrollable.horizontalScrollbar) {
          A._widget.virtualScrollable.horizontalScrollbar.unbind("scroll");
          A._widget.virtualScrollable.horizontalScrollbar.remove();
          A._widget.virtualScrollable.horizontalScrollbar = null
        }
      },
      _createHorizontalScrollbar: function(G) {
        var E = this,
          F = E._widget.virtualScrollable,
          D = F._newScrollbar() + 1,
          A = "",
          C = 250000;
        if (!F.horizontalScrollbar) {
          F.horizontalScrollbar = a('<div class="k-scrollbar k-scrollbar-horizontal" />').css({
            height: D
          }).appendTo(F.element).bind("scroll", function() {
            G.scrollLeft = this.scrollLeft
          })
        }
        for (var B = 0; B < Math.floor(G.scrollWidth / C); B++) {
          A += '<div style="height:1px;width:' + C + 'px"></div>'
        }
        if (G.scrollWidth % C) {
          A += '<div style="height:1px;width:' + (G.scrollWidth % C) + 'px"></div>'
        }
        F.horizontalScrollbar.html(A)
      },
      _setupVirtualScrolling: function() {
        var E = this;
        if (E._gr) {
          return
        }
        var H = E.element.querySelector(".k-virtual-scrollable-wrap");
        if (!H || !E._widget || !E._widget.virtualScrollable) {
          return
        }
        E._scrollManipulating = false;
        var A = new Windows.UI.Input.GestureRecognizer();
        A.gestureSettings = Windows.UI.Input.GestureSettings.manipulationTranslateY | Windows.UI.Input.GestureSettings.manipulationTranslateX | Windows.UI.Input.GestureSettings.manipulationTranslateInertia;
        if (H.clientWidth < H.scrollWidth) {
          E._createHorizontalScrollbar(H)
        }
        E._scrollManipulationHandlerBound = E._scrollManipulationHandler.bind(E);
        A.addEventListener("manipulationstarted", E._scrollManipulationHandlerBound);
        A.addEventListener("manipulationupdated", E._scrollManipulationHandlerBound);
        A.addEventListener("manipulationcompleted", E._scrollManipulationHandlerBound);
        E._vsPointerDownHandler = function B(I) {
          if (E._scrollManipulating) {
            A.completeGesture()
          }
          var J = I.getCurrentPoint(H);
          A.processDownEvent(J);
          E._scrollManipulating = true
        };
        E._vsPointerMoveHandler = function C(I) {
          var J = I.getIntermediatePoints(H);
          A.processMoveEvents(J)
        };
        E._vsPointerUpHandler = function D(I) {
          if (E._scrollManipulating) {
            var J = I.getCurrentPoint(H);
            A.processUpEvent(J);
            E._scrollManipulating = false
          }
        };
        H.addEventListener(q, E._vsPointerDownHandler, false);
        H.addEventListener(r, E._vsPointerMoveHandler, false);
        H.addEventListener(s, E._vsPointerUpHandler, false);
        E._gr = A;
        E._refreshScrollbarHandler = function(I) {
          msSetImmediate(function() {
            var N = I.masterRow.data().uid || "",
              J = E.dataSource.getByUid(N) || {}, L = E.dataSource.data.indexOf(J);
            if (L != null) {
              var K = 0,
                M = E._indices.length;
              while (K < M && E._indices[K].index != L) {
                K++
              }
              if (K < M) {
                E._indices[K].open = (I.type.indexOf("expand") > 0)
              }
            }
            E._widget.virtualScrollable.refresh()
          })
        };
        var F = document.createElement("table");
        var G = document.createElement("tbody");
        F.appendChild(G);
        F.className = "t-detailRowsBottom";
        H.appendChild(F);
        F = F.cloneNode(true);
        F.className = "t-detailRowsTop";
        H.insertBefore(F, H.firstChild);
        E._saveDetailRowsHandler = function(I) {
          var K = E._widget.tbody.children().filter(".k-detail-row");
          K.each(function J(L, M) {
            var O = a(M.previousElementSibling).data().uid,
              N = a(M);
            N.attr("data-detailUID", O);
            N.appendTo(a(".t-detailRows" + (E._widget.virtualScrollable._isScrollingUp ? "Bottom" : "Top"), E.element))
          })
        };
        E._restoreDetailRowsHandler = function(L) {
          var S = E._widget.tbody,
            R = S.children().filter("tr");
          for (var O = R.length, M = O - 1; M >= 0; M--) {
            var Q = a(R[M]);
            var I = Q.data("uid");
            var K = a(".t-detailRowsTop tr[data-detailUID='" + I + "'], .t-detailRowsBottom tr[data-detailUID='" + I + "']", E.element);
            if (K && K.length > 0) {
              K.insertAfter(Q);
              var J = null;
              for (var N = 0, P = E._indices.length; N < P; N++) {
                if (E._indices[N].uid == I) {
                  J = E._indices[N];
                  break
                }
              }
              if (J) {
                Q.find("> td .k-plus, > td .k-i-expand").toggleClass("k-plus", !J.open).toggleClass("k-minus", J.open)
              }
            }
          }
        };
        E._triggerScroll = function() {
          a(H).trigger("scroll")
        };
        E.addEventListener("databinding", E._saveDetailRowsHandler);
        E.addEventListener("databound", E._triggerScroll);
        E.addEventListener("databound", E._restoreDetailRowsHandler);
        E.addEventListener("detailexpand", E._refreshScrollbarHandler);
        E.addEventListener("detailcollapse", E._refreshScrollbarHandler);
        E._resizeColumnHandlerBound = E._resizeColumnHandler.bind(E);
        E.addEventListener("columnresize", E._resizeColumnHandlerBound)
      },
      _resizeColumnHandler: function k() {
        var A = this,
          B = A.element.querySelector(".k-virtual-scrollable-wrap");
        if (A._widget && A._widget.virtualScrollable) {
          if (B.clientWidth < B.scrollWidth) {
            A._createHorizontalScrollbar(B)
          } else {
            A._disposeHorizontalScrollbar()
          }
        }
      },
      _scrollManipulationHandler: function(A) {
        var D = this;
        if (A.delta && A.delta.translation) {
          if (A.delta.translation.y) {
            var C = D.element.querySelector(".k-scrollbar.k-scrollbar-vertical");
            if (C) {
              C.scrollTop -= Math.round(A.delta.translation.y)
            }
          }
          if (A.delta.translation.x) {
            var B = D.element.querySelector(".k-scrollbar.k-scrollbar-horizontal");
            if (B) {
              B.scrollLeft -= Math.round(A.delta.translation.x)
            }
          }
        }
      },
      _recreateContent: function() {
        var A = a(this.element),
          B = this.height,
          C = A.empty().append("<div></div>").find("div");
        if (B) {
          C.css("height", B + "px")
        }
        return C[0]
      },
      _disposeVirtualScrolling: function() {
        var A = this;
        if (A._gr) {
          A._disposeHorizontalScrollbar();
          if (A._scrollManipulationHandlerBound) {
            A._gr.removeEventListener("manipulationstarted", A._scrollManipulationHandlerBound);
            A._gr.removeEventListener("manipulationupdated", A._scrollManipulationHandlerBound);
            A._gr.removeEventListener("manipulationcompleted", A._scrollManipulationHandlerBound)
          }
          A._scrollManipulationHandlerBound = null;
          A._gr = null;
          var B = A.element.querySelector(".k-virtual-scrollable-wrap");
          if (B) {
            if (A._vsPointerDownHandler) {
              B.removeEventListener(q, A._vsPointerDownHandler, false)
            }
            if (A._vsPointerMoveHandler) {
              B.removeEventListener(r, A._vsPointerMoveHandler, false)
            }
            if (A._vsPointerUpHandler) {
              B.removeEventListener(s, A._vsPointerUpHandler, false)
            }
          }
          A._vsPointerDownHandler = null;
          A._vsPointerMoveHandler = null;
          A._vsPointerUpHandler = null;
          if (A._saveDetailRowsHandler) {
            A.removeEventListener("databinding", A._saveDetailRowsHandler)
          }
          if (A._restoreDetailRowsHandler) {
            A.removeEventListener("databound", A._restoreDetailRowsHandler)
          }
          if (A._triggerScroll) {
            A.removeEventListener("databound", A._triggerScroll)
          }
          if (A._refreshScrollbarHandler) {
            A.removeEventListener("detailexpand", A._refreshScrollbarHandler)
          }
          if (A._refreshScrollbarHandler) {
            A.removeEventListener("detailcollapse", A._refreshScrollbarHandler)
          }
          if (A._resizeColumnHandlerBound) {
            A.removeEventListener("columnresize", A._resizeColumnHandlerBound)
          }
          A._restoreDetailRowsHandler = null;
          A._triggerScroll = null;
          A._saveDetailRowsHandler = null;
          A._refreshScrollbarHandler = null;
          A._resizeColumnHandlerBound = null
        }
      },
      _eventsMap: {
        oncancel: "cancel",
        onchange: "change",
        oncolumnhide: "columnHide",
        oncolumnmenuinit: "columnMenuInit",
        oncolumnreorder: "columnReorder",
        oncolumnresize: "columnResize",
        oncolumnshow: "columnShow",
        ondatabinding: "dataBinding",
        ondatabound: "dataBound",
        ondetailcollapse: "detailCollapse",
        ondetailexpand: "detailExpand",
        onedit: "edit",
        onfiltermenuinit: "filterMenuInit",
        onremove: "remove",
        onsave: "save",
        onsavechanges: "saveChanges"
      },
      _validators: {
        rowTemplate: w,
        altRowTemplate: w,
        detailTemplate: w,
        height: {
          type: ["number", "null"]
        }
      },
      _saveModifiedOptions: function() {
        var B = this,
          A = y.merge(B._options, B._modified);
        A.selectable = B._selectable;
        A.scrollable = B._scrollable;
        A.sortable = B._sortable;
        A.filterable = B._filterable;
        A.editable = B.editable._toOption();
        B._saveConfigArray("columns");
        if (B.dataSource && B.dataSource.view.length === 0 && B._options.columns && B._options.columns.length === 0) {
          if (B._widget && B._widget.columns) {
            A.columns = B._widget.columns
          }
        }["rowTemplate", "altRowTemplate", "detailTemplate"].forEach(function(C) {
          var D = B[C];
          if (D && typeof D !== v) {
            A[C] = y.getTemplate(D, true)
          }
        });
        if (B.dataSource) {
          A.dataSource = B.dataSource._ds
        }
      },
      _saveConfigArray: function(C) {
        var D = this,
          A = D._options[C] || [],
          B = true;
        D[C].forEach(function(G, F) {
          if (G !== x) {
            B = false;
            var H;
            if (typeof G._toOption === i) {
              H = G._toOption()
            } else {
              H = G
            }
            if (H !== x) {
              var E = A[F];
              if (typeof E === n && typeof H === n) {
                H = y.merge(E, H)
              }
              A[F] = H
            }
          }
        });
        if (B) {
          delete D._options[C]
        } else {
          D._options[C] = A
        }
      },
      _saveLocalizedStrings: function() {
        var B = this,
          A = B._options;
        if (A.messages) {
          y.merge(B.messages, A.messages);
          delete A.messages
        }
        Object.keys(B.messages).forEach(function(C) {
          var D = A[C];
          if (D && typeof D === c) {
            D = A[C] = {}
          }
          if (typeof D === n) {
            D.messages = y.merge(D.messages || {}, B.messages[C]);
            if (C === "filterable") {
              D.operators = D.messages.operators
            }
          }
        })
      },
      _syncColumns: function(A) {
        var B = this,
          C = B._widget,
          D = C.options.columns.length ? C.options.columns : C.columns || [],
          A = A || B.columns;
        D.forEach(function(F, G) {
          var E = A[G],
            H = function() {
              return d.getMapping(B, "columns[" + G + "]")
            };
          if (F._filterable) {
            F.filterable = F._filterable;
            delete F._filterable
          }
          if (E instanceof Telerik.UI.Grid.Column) {
            E._wireUp(B, H)
          } else {
            E = new Telerik.UI.Grid.Column(B, H);
            E.field = F.field ? F.field : "";
            A[G] = E
          }
        })
      },
      _syncSort: function() {
        var D = this,
          C = D.dataSource._ds.sort() || [],
          E = D._widget,
          A = E.options.columns || [],
          B = function() {
            C.forEach(function(F) {
              var G = E.thead.find("[data-field='" + F.field + "']"),
                H = G.data("kendoSortable");
              if (H) {
                H.refresh()
              }
            })
          };
        if (E.options.sortable && !A.length) {
          if (E.thead.find("th").length) {
            B()
          } else {
            E.one("dataBound", B)
          }
        }
      },
      _syncToolbar: function(A) {
        var B = this,
          C = B._widget,
          D = C.options.toolbar || [],
          A = A || B.toolbar;
        D.forEach(function(H, E) {
          if (typeof H !== n) {
            return
          }
          var G = A[E],
            F = function() {
              return d.getMapping(B, "toolbar[" + E + "]")
            };
          if (G instanceof Telerik.UI.Grid.ToolBarItem) {
            G._wireUp(B, F)
          } else {
            G = new Telerik.UI.Grid.ToolBarItem(B, F);
            A[E] = G
          }
        })
      },
      _buildLocalizationObject: function() {
        this.messages = y._buildLocalizationObject({
          editable: {
            confirmation: "editable.confirmation"
          },
          groupable: {
            empty: "groupable.empty"
          },
          filterable: {
            and: "filterable.and",
            clear: "filterable.clear",
            filter: "filterable.filter",
            info: "filterable.info",
            isTrue: "filterable.isTrue",
            isFalse: "filterable.isFalse",
            or: "filterable.or",
            selectValue: "filterable.selectValue",
            operators: {
              string: {
                eq: "filterable.operators.string.eq",
                neq: "filterable.operators.string.neq",
                startswith: "filterable.operators.string.startswith",
                contains: "filterable.operators.string.contains",
                doesnotcontain: "filterable.operators.string.doesnotcontain",
                endswith: "filterable.operators.string.endswith"
              },
              number: {
                eq: "filterable.operators.number.eq",
                neq: "filterable.operators.number.neq",
                gte: "filterable.operators.number.gte",
                gt: "filterable.operators.number.gt",
                lte: "filterable.operators.number.lte",
                lt: "filterable.operators.number.lt"
              },
              date: {
                eq: "filterable.operators.date.eq",
                neq: "filterable.operators.date.neq",
                gte: "filterable.operators.date.gte",
                gt: "filterable.operators.date.gt",
                lte: "filterable.operators.date.lte",
                lt: "filterable.operators.date.lt"
              },
              enums: {
                eq: "filterable.operators.enums.eq",
                neq: "filterable.operators.enums.neq"
              }
            }
          }
        }, "radgrid")
      },
      _buildHierarchy: function(C) {
        var I = this,
          E = a("<div />").appendTo(C.detailCell)[0],
          B = y.clone(I.detailTable, null, [f, Telerik.UI.Grid.Column, Telerik.UI.Grid.ToolBarItem]);
        I._removeHierarchyCell(C);
        B.scrollable = false;
        delete B.height;
        if (!B.dataSource) {
          B.dataSource = I._buildChildDataSource(C.data)
        } else {
          if (B.dataSource instanceof f) {
            B.dataSource = B.dataSource.clone()
          }
        }
        B.dataSource = I._setParentRelation(B.parentRelation, B.dataSource, C.data);
        B.owner = I.owner;
        B.parentTable = I;
        var F = new Telerik.UI.Grid.TableView(E, B);
        I.detailTables.push(F);
        C.detailTable = F;
        var A = I.dataSource.data.indexOf(C.data);
        if (A != null) {
          var D = 0,
            G = I._indices.length;
          while (D < G && I._indices[D].index < A) {
            D++
          }
          var H = {
            index: A,
            open: true,
            detailTable: F,
            uid: C.data.uid
          };
          I._indices.splice(D, 0, H)
        }
      },
      _removeHierarchyCell: function(B) {
        var A = B.detailCell;
        A.prev().remove();
        A[0].colSpan++
      },
      _buildChildDataSource: function(B) {
        var C = this;
        if (B instanceof kendo.data.Node) {
          if (!B.loaded()) {
            B._initChildren()
          }
          var A = B.children;
          A.unbind();
          return new f(A)
        }
        return C.dataSource
      },
      _setParentRelation: function(C, A, B) {
        if (C) {
          if (!(A instanceof f)) {
            A = new f(A)
          }
          C = y.getType(C) === b ? C : [C];
          C.forEach(function(E) {
            var F = {
              field: E.detailField,
              operator: "eq",
              value: B.get(E.masterField)
            };
            var D = A.filter;
            if (D) {
              if (y.getType(D) === b) {
                D.push(F)
              } else {
                D = [D, F]
              }
            } else {
              D = F
            }
            A.filter = kendo.data.Query.normalizeFilter(D)
          })
        }
        return A
      },
      _registerDetailInit: function(A) {
        var B = this;
        B._options.detailInit = function(C) {
          C.parentTable = B;
          C.detailTable = null;
          B.dispatchEvent("detailinit", C);
          if (typeof A === i && !C._stopImmediatePropagationCalled) {
            A(C)
          }
        };
        B.addEventListener("detailexpand", B._expandDetailRow);
        B.addEventListener("detailcollapse", B._collapseDetailRow)
      },
      _expandDetailRow: function(A) {
        var B = A.masterRow[0].previousElementSibling,
          C = B && B.previousElementSibling;
        A.masterRow.addClass(e.masterRowExpand);
        if (B && B.classList.contains(e.groupingRow)) {
          return
        }
        if (B && B.offsetHeight !== 0) {
          B.classList.add(e.beforeMasterExpand)
        } else {
          if (C && C.offsetHeight !== 0) {
            C.classList.add(e.beforeMasterExpand)
          }
        }
      },
      _collapseDetailRow: function(A) {
        var B = A.masterRow[0].previousElementSibling,
          C = B && B.previousElementSibling;
        A.masterRow.removeClass(e.masterRowExpand);
        B && B.classList.remove(e.beforeMasterExpand);
        C && C.classList.remove(e.beforeMasterExpand);
        if (A.detailRow.hasClass(e.beforeMasterExpand)) {
          A.detailRow.removeClass(e.beforeMasterExpand);
          !A.detailRow.hasClass(e.groupingRow) && A.detailRow.prev().addClass(e.beforeMasterExpand)
        }
      },
      _setupHierarchy: function() {
        var B = this,
          A = B._options;
        if (B.detailTable) {
          if (typeof B.detailTable === c) {
            B.detailTable = {}
          }
          B._registerDetailInit(B._buildHierarchy.bind(B))
        }
        if (typeof A.ondetailinit === i) {
          B.addEventListener("detailinit", A.ondetailinit);
          delete A.ondetailinit
        }
        if (((B._events || {}).detailinit || []).length || A.detailTemplate) {
          B._registerDetailInit()
        }
      },
      _disposeHierarchy: function() {
        var A = this;
        A.removeEventListener("detailexpand", A._expandDetailRow);
        A.removeEventListener("detailcollapse", A._collapseDetailRow);
        delete A._options.detailInit
      },
      _setupGrouping: function() {
        var A = this;
        t(A, "_grouping", new Telerik.UI.Grid.Grouping(A), true)
      },
      _disposeGrouping: function() {
        var A = this;
        if (A._grouping) {
          A._grouping.dispose();
          A._grouping = null
        }
      },
      _ensureServiceColumn: function() {
        var C = this,
          A = C.element,
          B = C._serviceColumn;
        if (!B) {
          z.addClass(A, e.serviceView);
          B = document.createElement("div");
          z.addClass(B, e.serviceColumn);
          A.insertBefore(B, A.firstChild);
          t(C, "_serviceColumn", B, true);
          B.innerHTML = "<div class='" + e.serviceCommands + "'></div>"
        }
      },
      _disposeServiceColumn: function() {
        var B = this,
          A = B._serviceColumn;
        if (A) {
          a(A).off(".gridServiceColumn");
          if (A.parentNode) {
            A.parentNode.removeChild(A)
          }
          A = B._serviceColumn = null;
          z.removeClass(B.element, e.serviceView)
        }
      },
      _setupSelection: function() {
        var A = this;
        if (A.selectable !== "none") {
          t(A, "_selection", new Telerik.UI.Grid.Selection(A), true)
        }
      },
      _disposeSelection: function() {
        var A = this;
        if (A._selection) {
          A._selection.dispose();
          A._selection = null
        }
      },
      _setupResizing: function() {
        var A = this;
        if (A.resizable) {
          t(A, "_resizing", new Telerik.UI.Grid._Resizing.create(A._widget, A), true)
        } else {
          if (A.owner !== null && A.owner.resizable && A.owner._widget.options.scrollable) {
            Telerik.UI.Grid._ResizingTableLayoutAuto.initializeHeadersParameters(A._widget)
          }
        }
      },
      _refreshResizing: function() {
        if (this._resizing) {
          this._resizing.refresh()
        }
      },
      _disposeResizing: function() {
        var A = this;
        if (A._resizing) {
          A._resizing.dispose();
          A._resizing = null
        }
      },
      _setupReorder: function() {
        var A = this;
        if (A.reorderable) {
          t(A, "_reorder", new Telerik.UI.Grid.Reorder(A), true)
        }
      },
      _disposeReorder: function() {
        var A = this;
        if (A._reorder) {
          A._reorder.dispose();
          A._reorder = null
        }
      },
      _getEditButtonClass: function(C) {
        var F = this,
          D = {}, B = ((F.groupable.staticHeaders && F.scrollable !== "none") && F.dataSource.group.length || 1) * 40,
          E = WinJS.Utilities.getPosition(F._widget.element[0]),
          A = WinJS.Utilities.getPosition(C);
        D.buttonsTopClass = (A.top - E.top < B ? "bottom" : "top");
        D.buttonsInnerClass = F._isRtl ? (((A.left + A.width) - (E.left + E.width - 32) >= 0) ? "first" : "inner") : (A.left - E.left < 40 ? "first" : "inner");
        return D
      },
      _startEdit: function(F) {
        var D = F.container;
        if (D && D.length && F.model) {
          var H = this,
            G = D[0].tagName,
            C = G === "TD" ? D : D.children("td:visible").first(),
            B = document.createElement("a");
          C.addClass("t-edit-container");
          B.href = "#";
          B.classList.add("k-grid-cancel");
          B.innerText = String.fromCharCode(57889);
          if (G === "TD") {
            B.onclick = function(L) {
              L.preventDefault();
              var N = a(L.target).parents(".k-grid").data("kendoGrid"),
                J = N._editContainer,
                O = J.closest("tr").attr(kendo.attr("uid")),
                K = N.columns[N.cellIndex(J)],
                M = K.field,
                P = N.dataSource.getByUid(O),
                I = N.dataSource._pristineForModel(P);
              if (P && M && I) {
                if (I[M] != null || P[M] != null) {
                  P[M] = I[M];
                  J.removeClass("k-dirty-cell")
                }
              }
              N.closeCell(true)
            }
          }
          C.append(B);
          var A = H._getEditButtonClass(B);
          B.classList.add("t-edit-cancel-" + A.buttonsTopClass);
          B.classList.add("t-edit-cancel-" + A.buttonsInnerClass);
          if (H.editable.destroy && G !== "TD") {
            var E = document.createElement("a");
            E.href = "#";
            E.classList.add("k-grid-delete");
            E.innerText = String.fromCharCode(57886);
            C.append(E);
            E.classList.add("t-edit-delete-" + A.buttonsTopClass);
            E.classList.add("t-edit-delete-" + A.buttonsInnerClass)
          }
        }
      },
      _insertNewRow: function() {
        var A = this;
        A._widget.addRow()
      },
      _disposeEditing: function() {
        var A = this;
        if (A._editDelegate) {
          A.removeEventListener("edit", A._editDelegate);
          A._editDelegate = null
        }
      },
      _setupEditing: function() {
        var E = this,
          B = "click.gridServiceColumn";
        if (E.editable.enabled) {
          if (!E._editDelegate) {
            E._editDelegate = E._startEdit.bind(E);
            E.addEventListener("edit", E._editDelegate)
          }
          if (E.editable.create) {
            E._ensureServiceColumn();
            var C = E._insertCommand = document.createElement("a");
            C.className = e.insertCommand + " " + e.serviceButton;
            C.innerText = " ";
            C.href = "#";
            C.title = "Create New Row";
            a(E._serviceColumn).on(B, "." + e.insertCommand, function(F) {
              F.preventDefault();
              E._widget.addRow()
            }).find("." + e.serviceCommands).append(C)
          }
          if (E.editable.mode === "cellBatch") {
            E._ensureServiceColumn();
            var D = E._saveAllCommand = document.createElement("a");
            D.className = e.saveAllCommand + " " + e.serviceButton;
            D.innerText = " ";
            D.href = "#";
            D.title = "Save Changes";
            a(E._serviceColumn).on(B, "." + e.saveAllCommand, function(F) {
              F.preventDefault();
              E._widget.saveChanges()
            }).find("." + e.serviceCommands).append(D);
            var A = E._cancelAllCommand = document.createElement("a");
            A.className = e.cancelAllCommand + " " + e.serviceButton;
            A.innerText = " ";
            A.href = "#";
            A.title = "Cancel Changes";
            a(E._serviceColumn).on(B, "." + e.cancelAllCommand, function(F) {
              F.preventDefault();
              E._widget.cancelChanges()
            }).find("." + e.serviceCommands).append(A)
          }
        }
      },
      _initializeFeatures: function() {
        var A = this;
        A._syncColumns();
        A._syncToolbar();
        A._syncSort();
        A._setupScrolling();
        A._setupVirtualScrolling();
        A._setupGrouping();
        A._setupSelection();
        A._setupResizing();
        A._setupReorder();
        A._setupEditing()
      },
      _setupGroupAggregates: function() {
        var E = this._options,
          B = E.dataSource || {}, A = E.columns || [],
          C = y.makeArray(B instanceof kendo.data.DataSource ? B.group() : B.group),
          D = A.reduce(function(F, G) {
            if (G.field) {
              y.makeArray(G.aggregates).forEach(function(H) {
                F.push({
                  field: G.field,
                  aggregate: H
                })
              })
            }
            return F
          }, []);
        C.forEach(function(G) {
          var F = y.makeArray(G.aggregates);
          if (F.length) {
            D.forEach(function(H) {
              if (!F.filter(function(I) {
                return I.field === H.field && I.aggregate === H.aggregate
              }).length) {
                F.push(H)
              }
            })
          } else {
            G.aggregates = D
          }
        });
        if (C.length && y.getType(B) !== b) {
          if (B instanceof kendo.data.DataSource) {
            B.options.group = B._group = C
          } else {
            B.group = C
          }
        }
      },
      _dispose: function() {
        var A = this;
        if (A.detailTables) {
          while (A.detailTables.length) {
            A.detailTables.pop()._dispose()
          }
        }
        A._disposeHierarchy();
        A._disposeScrolling();
        A._disposeVirtualScrolling();
        A._disposeSelection();
        A._disposeGrouping();
        A._disposeResizing();
        A._disposeReorder();
        A._disposeEditing();
        A._disposeServiceColumn();
        if (A._widget) {
          A._widget.destroy()
        }
      },
      _destroy: function() {
        var A = this;
        A._dispose();
        Telerik.UI.WidgetWrapper.prototype._destroy.call(A)
      },
      _columnByIndexOrField: function(B) {
        var C = this,
          A = null;
        if (typeof B == "number") {
          A = C._columns[B]
        } else {
          A = C._columns.filter(function(D) {
            return D.field === B
          })[0]
        }
        return A
      },
      _reorderColumn: function(B, C) {
        var D = this,
          A = D._columns[C];
        D._columns.splice(C, 1);
        D._columns.splice(B, 0, A);
        if (D._options.columns) {
          D._options.columns = D._widget.columns
        }
      },
      owner: {
        get: function() {
          return this._owner
        }
      },
      parentRow: {
        get: function() {
          return a(this.element).parents(".k-detail-cell").first().parent().prev()[0] || null
        }
      },
      parentTable: {
        get: function() {
          return this._parentTable
        }
      },
      detailTables: {
        get: function() {
          return this._detailTables
        }
      },
      detailTable: {
        get: function() {
          return this._detailTable || null
        },
        set: function(A) {
          t(this, "_detailTable", A, true)
        }
      },
      parentRelation: {
        get: function() {
          return this._parentRelation || null
        },
        set: function(A) {
          t(this, "_parentRelation", A, true)
        }
      },
      autoBind: g("autoBind", true),
      columns: {
        get: function() {
          var B = this;
          if (!B._columns) {
            var A = [];
            if (B._widget) {
              B._syncColumns(A)
            }
            t(B, "_columns", A, true)
          }
          return B._columns
        },
        set: function(A) {
          if (y.getType(A) === b) {
            t(this, "_columns", A, true)
          }
        }
      },
      dataSource: {
        get: function() {
          var A = this;
          if (!A._dataSource) {
            if (!A._widget) {
              return null
            }
            t(A, "_dataSource", new f(A._widget.dataSource), true)
          }
          return A._dataSource
        },
        set: function(A) {
          if (A instanceof f) {
            t(this, "_dataSource", A, true)
          }
        },
        enumerable: true
      },
      detailTemplate: g("detailTemplate", null),
      rowTemplate: g("rowTemplate", null),
      altRowTemplate: g("altRowTemplate", null),
      height: g("height", null),
      groupable: {
        get: function() {
          return this._groupValue || "none"
        },
        set: function(E) {
          var C = this;
          C._groupValue = E;
          if (typeof E === v) {
            var D = (E + "").toLowerCase(),
              A = D.indexOf("enabled") > -1,
              B = D.indexOf("staticheaders") > -1;
            if (B) {
              C._groupable = A ? true : {
                enabled: false,
                staticHeaders: true
              }
            } else {
              C._groupable = A ? {
                enabled: true,
                staticHeaders: false
              } : false
            }
            t(C, "_groupable", C._groupable, true)
          } else {
            t(this, "_groupable", E, true)
          }
        }
      },
      selectable: {
        get: function() {
          var A = this;
          if (A._selectable === x) {
            t(A, "_selectable", A._widget ? A._widget.options.selectable : false, true)
          }
          return A._selectable || "none"
        },
        set: function(D) {
          var B = this,
            C = (D + "").toLowerCase(),
            A = C.indexOf("multiple") > -1;
          t(B, "_selectable", B._selectable, true);
          if (C.indexOf("row") > -1) {
            B._selectable = (A ? "multiple, " : "") + "row"
          } else {
            if (C.indexOf("cell") > -1) {
              B._selectable = (A ? "multiple, " : "") + "cell"
            } else {
              B._selectable = false
            }
          }
        }
      },
      selection: {
        get: function() {
          var A = this._widget;
          return A && A.selectable ? A.select() : null
        },
        set: function(C) {
          var B = this,
            D = B._widget,
            A = a(C);
          if (D && D.selectable && A.length) {
            D.select(A.filter(function() {
              return B._selection._isSelectable(this)
            }))
          }
        }
      },
      editable: {
        get: function() {
          var A = this;
          if (!A._editable) {
            t(A, "_editable", new Telerik.UI.Grid.EditableConfiguration(A), true)
          }
          return A._editable
        },
        set: function(C) {
          var B = this,
            A = B.editable;
          if (typeof(C) === "boolean") {
            A.enabled = C
          } else {
            if (typeof(C) === "object") {
              Object.keys(C).forEach(function(D) {
                if (D.indexOf("_") != 0) {
                  A[D] = C[D]
                }
              })
            }
          }
        },
        enumerable: true
      },
      sortable: {
        get: function() {
          var A = this;
          if (A._sortable === x) {
            t(A, "_sortable", A._widget ? A._widget.options.sortable : false, true)
          }
          if (A._sortable === true) {
            return "single, allowUnsort"
          } else {
            if (A._sortable) {
              return (A._sortable.mode === "multiple" ? "multiple" : "single") + (A._sortable.allowUnsort === false ? "" : ", allowUnsort")
            }
          }
          return "none"
        },
        set: function(D) {
          var A = this,
            C = (D + "").toLowerCase(),
            B = C.indexOf("allowunsort") > -1;
          t(A, "_sortable", A._sortable, true);
          if (C.indexOf("single") > -1) {
            A._sortable = B ? true : {
              allowUnsort: false
            }
          } else {
            if (C.indexOf("multiple") > -1) {
              A._sortable = B ? {
                mode: "multiple"
              } : {
                mode: "multiple",
                allowUnsort: false
              }
            } else {
              A._sortable = typeof D === c ? D : false
            }
          }
        }
      },
      resizable: {
        get: function() {
          var A = this;
          if (!A._resizable) {
            t(A, "_resizable", false, true)
          }
          return A._resizable
        },
        set: function(A) {
          t(this, "_resizable", A, true)
        }
      },
      filterable: {
        get: function() {
          return this._filterable || false
        },
        set: function(A) {
          t(this, "_filterable", A, true)
        }
      },
      reorderable: {
        get: function() {
          var A = this;
          if (!A._reorderable) {
            t(A, "_reorderable", false, true)
          }
          return A._reorderable
        },
        set: function(A) {
          t(this, "_reorderable", A, true)
        }
      },
      navigatable: g("navigatable", false),
      messages: {},
      clearSelection: function() {
        this._widget.clearSelection()
      },
      collapseGroup: function(A) {
        var B = this;
        a(A).each(function() {
          B._widget.collapseGroup(this)
        })
      },
      collapseRow: function(A) {
        this._widget.collapseRow(A)
      },
      dataItem: function(A) {
        return this._widget.dataItem(A)
      },
      expandGroup: function(A) {
        var B = this;
        a(A).each(function() {
          B._widget.expandGroup(this)
        })
      },
      expandRow: function(A) {
        this._widget.expandRow(A)
      },
      hideColumn: function(B) {
        var C = this,
          A = C._columnByIndexOrField(B);
        if (!A) {
          return
        }
        A.hidden = true;
        C._widget.hideColumn(B);
        C._refreshResizing()
      },
      refresh: function(B) {
        var D = this,
          C = null;
        if (B !== true) {
          D._saveModifiedOptions();
          D._dispose()
        }
        Telerik.UI.Grid._ColumnFilterableConfiguration.adjust(D._options);
        D._saveLocalizedStrings();
        D._setupHierarchy();
        D._setupGroupAggregates();
        D._initialize("kendoGrid", D._recreateContent()).done(D._initializeFeatures.bind(D), function A(E) {
          if (E === "_initTimeout_Canceled") {
            return
          }
          C = E;
          throw new Error("Canceled")
        });
        if (C != null) {
          throw C
        }
      },
      reorderColumn: function(B, A) {
        var G = this,
          H = G._widget,
          E = y.makeArray(G.dataSource.group).length,
          C = G._detailTable ? 1 : 0,
          D = a(A)[0],
          F;
        if (D instanceof HTMLElement) {
          F = D.cellIndex - E - C
        } else {
          if (y.getType(D) === n) {
            F = G.columns.indexOf(D)
          } else {
            F = A
          }
        }
        H.reorderColumn(B, H.columns[F]);
        G._reorderColumn(B, F);
        if (G._selection) {
          G._selection._change()
        }
      },
      showColumn: function(B) {
        var C = this,
          A = C._columnByIndexOrField(B);
        if (!A) {
          return
        }
        A.hidden = false;
        C._widget.showColumn(B);
        C._refreshResizing()
      },
      editCell: function(A) {
        this._widget.editCell(a(A))
      }
    })
  });
  WinJS.Class.mix(Telerik.UI.Grid.TableView, z.createEventProperties("cancel", "change", "columnhide", "columnmenuinit", "columnreorder", "columnresize", "columnshow", "databinding", "databound", "detailcollapse", "detailexpand", "detailinit", "edit", "filtermenuinit", "remove", "save", "savechanges"));
  var u = h(Telerik.UI.Grid.TableView, function(A, B) {
    var C = this,
      B = B || {};
    if (B.scrollable) {
      C.scrollable = B.scrollable;
      B.scrollable = C._scrollable
    }
    if (B.detailTable && !(B.dataSource instanceof f)) {
      this.dataSource = B.dataSource = new f(B.dataSource)
    }
    Telerik.UI.Grid.TableView.call(C, A, B);
    C._owner = C
  }, {
    scrollable: {
      get: function() {
        var A = this;
        if (A._scrollable === x) {
          t(A, "_scrollable", A._widget ? A._widget.options.scrollable : false, true)
        }
        return A._scrollable ? (A._scrollable.virtual ? "virtual" : "enabled") : "none"
      },
      set: function(A) {
        A = (A + "").toLowerCase();
        if (["none", "enabled", "virtual"].indexOf(A) > -1) {
          t(this, "_scrollable", A !== "none" ? (A === "virtual" ? {
            virtual: true
          } : true) : false, true)
        }
      }
    }
  });
  l("Telerik.UI", {
    RadGrid: u
  });
  var o = kendo.ui.Grid.prototype._cellTmpl;
  kendo.ui.Grid.prototype._cellTmpl = function(B, E) {
    var F = this,
      D = (F.dataSource.options.schema.model || {}).fields,
      C = B.field,
      A = "<span class='#= " + C + " == null ? 't-check-indeterminate' : " + C + " ? 't-check-true' : 't-check-false' #'>#=" + C + "==null?'':" + C + "#</span>";
    if (!B.template && D && y.getType(D) === n) {
      Object.keys(D).forEach(function(G) {
        if (G === C && D[G].type === "boolean") {
          B.template = A
        }
      })
    }
    return o.apply(F, arguments)
  }
})(this, jQuery);
(function(f, a, u) {
  var e = WinJS.Class.define,
    j = WinJS.Namespace.define,
    l = "Telerik.UI.Grid",
    v = Telerik.Utilities,
    s = kendo.template,
    o = Telerik.Utilities._pointerEvent,
    p = o("down"),
    d = {
      groupPanel: "t-group-panel",
      groupCaption: "t-group-caption",
      groupPopup: "t-group-popup",
      serviceCommands: "t-service-commands",
      serviceButton: "t-service-button",
      hasGroups: "t-has-groups",
      highlight: "t-highlight",
      over: "t-over",
      open: "t-open",
      dragged: "t-dragged",
      fixedHeaderTable: "t-fixedGroupHeader"
    }, r = {
      groupPopup: "<div># for (var i = 0; i < data.length; i++) { #<ul class='k-reset' data-level='#=i#'># for (var j = 0, groups = data[i].groups; j < groups.length; j++) { #<li data-field='#=groups[j].field#' data-desc='#=groups[j].desc#'><div><span><span class='k-icon'>Drag group to arrange</span><span>#=groups[j].title#</span><span class='k-icon k-i-arrow-#=groups[j].desc ? 's' : 'n'#'></span></span><button class='k-icon'>Tap here to ungroup</button></div></li># } #</ul># } #</div>"
    }, q = {
      header: ".k-header:not(.k-group-cell):not(.k-hierarchy-cell)[data-field]"
    };
  j(l, {
    Grouping: e(function(w) {
      var x = this;
      x.owner = w;
      x._delegates = {};
      x._initialize()
    }, {
      owner: null,
      _groupPanel: null,
      _groupPopup: null,
      _popupAnimation: null,
      _drag: null,
      _reorder: null,
      _updateGroupedRowsInProgress: false,
      _delegates: null,
      _initialize: function() {
        var F = this,
          B = F.owner;
        if (B._groupable && B._groupable.enabled != false) {
          var y = F._groupPanel = document.createElement("div"),
            z = kendo.guid(),
            D = "[data-guid=" + z + "] ";
          y.classList.add(d.groupPanel);
          F._setPanelText(B.messages.groupable.empty);
          B._ensureServiceColumn();
          B._serviceColumn.appendChild(y);
          B._widget.element.find(".k-grid-header").attr("data-guid", z);
          F._drag = new Telerik.UI.Behaviors.Drag({
            container: F.owner.element,
            element: D + q.header,
            filter: function(G) {
              return G.getAttribute("data-field") && G.getAttribute("data-groupable") !== "false"
            },
            dropTargets: [new Telerik.UI.Behaviors.DropTarget(B._serviceColumn, {
              ondragenter: function(G) {
                B._serviceColumn.classList.add(d.over)
              },
              ondragleave: function(G) {
                B._serviceColumn.classList.remove(d.over)
              },
              ondrop: F._drop.bind(F)
            })],
            ondrag: function(G) {
              B._serviceColumn.classList.add(d.highlight);
              F._toggleGroupCaption(true)
            },
            ondragstart: function(G) {
              F._toggleHeaderOverflow(true)
            },
            ondragend: function(G) {
              F._clear();
              F._toggleHeaderOverflow(false)
            },
            ondragcancel: function(G) {
              F._clear()
            },
            ontransitionend: function(G) {
              F._toggleHeaderOverflow(false)
            }
          });
          F._delegates.dataChanged = F._dataChanged.bind(F);
          F._delegates.groupClick = F._groupClick.bind(F);
          F._delegates.togglePopup = F._togglePopup.bind(F);
          F._delegates.preventPointerDown = F._preventPointerDown.bind(F);
          B.dataSource.addEventListener("change", F._delegates.dataChanged);
          B.element.addEventListener(p, F._delegates.preventPointerDown);
          F._dataChanged();
          F._togglePopupEvents(true)
        }
        F._delegates.addHiddenRow = F._addHiddenRow.bind(F);
        B.addEventListener("databound", F._delegates.addHiddenRow);
        if (B.dataSource && B.dataSource.group && B.dataSource.group.length > 1) {
          F._addHiddenRow()
        }
        if (B._widget.groupable) {
          B._widget.groupable.destroy();
          B._widget.groupable = null
        }
        if (B._groupable && B._groupable.staticHeaders != false) {
          var E = B._widget.table,
            A = B._widget.thead,
            w = E && E.parent ? E.parent() : [];
          if (A && E && w.length && A.parent()[0] !== E[0]) {
            F._delegates.scroll = F._scrollHandler.bind(F);
            F._delegates.updateGroupedRows = function() {
              F._updateGroupedRows()
            };
            w[0].addEventListener("scroll", F._delegates.scroll, false);
            B.addEventListener("databound", F._delegates.updateGroupedRows);
            var x = a("<table class='" + d.fixedHeaderTable + "'></table>").appendTo(B._widget.element).hide();
            setImmediate(function C() {
              var I = a(".k-grid-header", B._widget.element).filter(":visible")[0],
                G = a("th", A).filter(":visible")[0],
                H = I ? (G ? G.offsetHeight : 36) - 3 : 0;
              x.css({
                top: H + "px"
              })
            });
            F._tableOffset = E.parent().offset().top;
            F._updateGroupedRows()
          }
        }
      },
      _addHiddenRow: function(w) {
        var A = this,
          y = A.owner,
          B = y._widget,
          z = B.tbody,
          x = document.createElement("tr");
        if (y.scrollable && y.scrollable !== "none" && y.dataSource && y.dataSource.group && y.dataSource.group.length > 1) {
          x.classList.add("t-hiddenRow");
          a("> tr:not(.k-group-footer)", z).last().find("td").clone(false, false).empty().removeAttr("role").appendTo(x);
          z.append(x)
        }
      },
      _preventPointerDown: function(w) {
        if (!this.owner.navigatable) {
          w.preventDefault()
        }
      },
      _toggleHeaderOverflow: function(A) {
        var z = this,
          y = z.owner.scrollable,
          w = a(z.owner.element),
          B = w.find(".k-grid-header-wrap").first();
        if (y && y !== "none") {
          if (A) {
            B.children().css("marginLeft", -B.scrollLeft() + "px");
            B.css("overflow", "visible");
            w.css("overflow", "hidden")
          } else {
            var x = Math.abs(parseFloat(B.children().css("marginLeft")));
            B.children().css("marginLeft", "");
            B.css("overflow", "");
            w.css("overflow", "");
            if (x) {
              B.scrollLeft(x)
            }
          }
        }
      },
      _scrollHandler: function g() {
        var P = this;
        if (P.owner.parentTable != null) {
          return
        }
        var O = P.owner._widget.table,
          y = {}, J = 0,
          F = P._groupedRows,
          A = O.offset().top;
        if (!F) {
          return
        }
        for (var G = 0; G < F.length; G++) {
          var E = F[G],
            H = E.childElementCount - 1,
            D = (1 + H * E.offsetHeight),
            K = P._groupedRowsOffsets[G] + A - P._tableOffset;
          if (H > J) {
            J = H
          }
          if (K < D || y[H] == null) {
            y[H] = E
          } else {
            if (K >= D) {
              var B = P._groupedRowsOffsets[G] + A - a(E).offset().top;
              if (Math.abs(B) > 1 && !P._updateGroupedRowsInProgress) {
                P._updateGroupedRowsInProgress = true;
                P._updateGroupedRows();
                return
              }
              break
            }
          }
        }
        var z = P._currentStaticGroups ? P._currentStaticGroups : {
          maxLevel: null
        }, Q = false;
        if (J != z.maxLevel) {
          Q = true
        }
        if (!Q) {
          var L = 0;
          while (L <= J) {
            var M = y[L] ? y[L].textContent : "INVALID";
            var N = z[L] ? z[L].textContent : "INVALID";
            if (M != N) {
              break
            }
            L++
          }
          if (L <= J) {
            Q = true
          }
        }
        if (Q) {
          var C = a("." + d.fixedHeaderTable, P.owner.element),
            w = function x(T) {
              var R = a(T),
                S = R.attr("data-group-id");
              if (!S) {
                S = kendo.guid();
                R.attr("data-group-id", S)
              }
              R.clone(false).appendTo(C).on("touchend click", function U(V) {
                var W = V;
                W.currentTarget = T;
                i(W, this);
                var Y = R.parents("table").offset();
                if (Y) {
                  var X = R.offset().top - Y.top;
                  X -= (T.childElementCount - 1) * T.offsetHeight;
                  R.parents(".k-grid-content").scrollTop(X + 1)
                }
              }).attr("data-group-id", S)
            };
          C.empty();
          if (y[J]) {
            C.show()
          } else {
            C.hide()
          }
          for (var I = 0; I <= J; I++) {
            w(y[I])
          }
          P._currentStaticGroups = y;
          P._currentStaticGroups.maxLevel = J
        }
      },
      _setPanelText: function(w) {
        this._groupPanel.innerHTML = "<div class='" + d.groupCaption + "'><span>" + w + "</span></div>"
      },
      _dataChanged: function() {
        var x = this;
        var w = v.makeArray(x.owner.dataSource.group);
        x._toggleGroupPopup(w);
        x._toggleGroupServiceArea(w.length)
      },
      _toggleGroupPopup: function(w) {
        var y = this,
          x = y._groupPopup;
        if (w.length) {
          if (!x) {
            x = y._groupPopup = document.createElement("div");
            x.classList.add(d.groupPopup)
          }
          if (a(x).is(":visible")) {
            y._buildGroupItems(w)
          } else {
            x.style.visibility = "hidden";
            x.style.display = "";
            if (!x.parentNode) {
              y.owner._serviceColumn.parentNode.appendChild(x)
            }
            y._buildGroupItems(w);
            y._hidePopup(true);
            x.style.visibility = ""
          }
        } else {
          if (x && x.parentNode) {
            y._hidePopup(true).then(function() {
              y._buildGroupItems([]);
              x.parentNode.removeChild(x)
            })
          }
        }
      },
      _buildGroupItems: function(x) {
        var z = this,
          y = a(q.header, z.owner.element),
          w = [{
            level: "",
            groups: []
          }];
        w[0].groups = x.map(function(B) {
          var A = y.filter("[data-field=" + B.field + "]");
          return {
            title: A.attr("data-title") || B.field,
            field: B.field,
            desc: B.dir === "desc"
          }
        });
        z._toggleGroupReorder(false);
        a(z._groupPopup).empty().append(s(r.groupPopup)(w));
        if (x.length > 1) {
          z._toggleGroupReorder(true)
        }
      },
      _toggleGroupServiceArea: function(x) {
        var y = this,
          w = y._groupPanel;
        if (w) {
          if (x) {
            if (!w.classList.contains(d.hasGroups)) {
              w.classList.add(d.hasGroups);
              y._toggleGroupCaption(false)
            }
          } else {
            if (w.classList.contains(d.hasGroups)) {
              w.classList.remove(d.hasGroups);
              y._toggleGroupCaption(true)
            }
          }
        }
      },
      _toggleGroupCaption: function(w) {
        a("." + d.groupPanel, this.owner._serviceColumn).find("." + d.groupCaption)[w ? "show" : "hide"]()
      },
      _togglePopupEvents: function(w) {
        var y = this,
          x = w ? "on" : "off";
        a(y.owner.element)[x]("click", "." + d.groupPopup + " li", y._delegates.groupClick);
        a(y.owner._serviceColumn)[x]("click", "." + d.hasGroups, y._delegates.togglePopup)
      },
      _toggleGroupReorder: function(w) {
        var z = this,
          y = z._groupPopup,
          x = false;
        if (w) {
          if (!z._reorder) {
            z._reorder = new Telerik.UI.Behaviors.Reorder({
              container: z._groupPopup.querySelector("ul"),
              handle: ".k-icon:first-child",
              ondrop: z._reorderGroups.bind(z),
              isRtl: x
            });
            z._reorder.drag.addEventListener("drag", function(A) {
              if (!y.classList.contains(d.dragged)) {
                y.classList.add(d.dragged)
              }
            });
            z._reorder.drag.addEventListener("dragend", function(A) {
              y.classList.remove(d.dragged)
            })
          }
        } else {
          if (z._reorder) {
            z._reorder.dispose();
            z._reorder = null
          }
        }
      },
      _reorderGroups: function(y) {
        var D = this,
          x = D.owner.dataSource,
          A = v.makeArray(x.group),
          z = y.dragged.getAttribute("data-field"),
          B = y.index,
          w = -1;
        A.forEach(function(F, E) {
          if (F.field === z) {
            w = E
          }
        });
        if (B === w) {
          return
        }
        var C = A[w];
        A.splice(w, 1);
        A.splice(B, 0, C);
        x.group = A;
        x.fetch()
      },
      _groupClick: function(x) {
        var z = this,
          y = a(x.target),
          w = a(x.currentTarget);
        if (y.is("button")) {
          z._ungroup(w.attr("data-field"), w.parent().attr("data-level"))
        } else {
          z._sort(w.attr("data-field"), w.attr("data-desc"))
        }
      },
      _ungroup: function(x, y) {
        var z = this,
          w = z.owner.dataSource;
        w.group = v.makeArray(w.group).reduce(function(B, A) {
          if (A.field !== x) {
            B.push(A)
          }
          return B
        }, []);
        w.fetch()
      },
      _sort: function(y, x) {
        var z = this,
          w = z.owner.dataSource;
        w.group = v.makeArray(w.group).map(function(A) {
          if (A.field === y) {
            A.dir = x === "false" ? "desc" : "asc"
          }
          return A
        });
        w.fetch()
      },
      _togglePopup: function() {
        var x = this,
          w = x._groupPopup;
        if (x._popupAnimation) {
          x._popupAnimation.cancel()
        }
        if (w.offsetWidth) {
          x._hidePopup()
        } else {
          x._showPopup()
        }
      },
      _showPopup: function() {
        var x = this,
          w = x._groupPopup;
        if (!x._delegates.pointerDown) {
          x._delegates.pointerDown = function(y) {
            if (!(y.target === w || a.contains(w, y.target) || y.target.classList.contains(d.hasGroups))) {
              if (x._popupAnimation) {
                x._popupAnimation.cancel()
              }
              x._togglePopup()
            }
          };
          document.addEventListener(p, x._delegates.pointerDown, true)
        }
        w.style.display = "";
        x.owner._serviceColumn.classList.add(d.open);
        return x._transition("none")
      },
      _hidePopup: function(w) {
        var y = this,
          x = y._groupPopup,
          z = y.owner._isRtl ? "translateX(" + x.offsetWidth + "px)" : "translateX(-" + x.offsetWidth + "px)";
        if (y._delegates.pointerDown) {
          document.removeEventListener(p, y._delegates.pointerDown, true);
          y._delegates.pointerDown = null
        }
        y.owner._serviceColumn.classList.remove(d.open);
        if (w) {
          a(x).hide().children().css("transform", z);
          return WinJS.Promise.as()
        }
        return y._transition(z).then(function() {
          x.style.display = "none"
        })
      },
      _transition: function(x) {
        var w = this;
        return w._popupAnimation = WinJS.UI.executeTransition(w._groupPopup.childNodes[0], {
          property: "transform",
          delay: 0,
          duration: 367,
          timing: "cubic-bezier(0.1, 0.9, 0.2, 1)",
          to: x
        }).then(function() {
          w._popupAnimation = null
        })
      },
      _clear: function() {
        var w = this;
        if (w.owner._serviceColumn) {
          w.owner._serviceColumn.classList.remove(d.highlight);
          w.owner._serviceColumn.classList.remove(d.over);
          if (w._groupPanel) {
            w._toggleGroupCaption(!w._groupPanel.classList.contains(d.hasGroups))
          }
        }
      },
      _drop: function() {
        var F = this,
          E = F.owner,
          B = F._drag.dragged,
          x = E.dataSource,
          w = F._aggregates(),
          A = v.makeArray(x.group).map(function(G) {
            G.aggregates = w;
            return G
          }),
          y = B.getAttribute("data-field");
        for (var C = 0, D = A.length; C < D; C++) {
          var z = A[C];
          if (z.field === y) {
            return
          }
        }
        A.push({
          field: y,
          dir: B.getAttribute("data-dir"),
          aggregates: w
        });
        x.group = A;
        x.fetch()
      },
      _aggregates: function() {
        return this.owner._widget.thead.find(q.header).map(function() {
          var x = a(this),
            w = x.attr(kendo.attr("aggregates")),
            A = x.attr(kendo.attr("field")),
            B;
          if (!(w && A)) {
            return null
          }
          B = w.split(",");
          w = [];
          for (var y = 0, z = B.length; y < z; y++) {
            w.push({
              field: A,
              aggregate: B[y]
            })
          }
          return w
        }).toArray()
      },
      _updateGroupedRows: function h() {
        var w = this;
        setImmediate(function() {
          var y = w.owner._widget.table,
            z = y.offset().top;
          w._groupedRows = y.find(">tbody>tr.k-grouping-row");
          w._groupedRowsOffsets = [];
          for (var x = 0; x < w._groupedRows.length; x++) {
            w._groupedRowsOffsets.push(Math.round(a(w._groupedRows[x]).offset().top - z))
          }
          w._scrollHandler();
          w._updateGroupedRowsInProgress = false
        })
      },
      dispose: function() {
        var x = this,
          w = x.owner._widget.element.find("> .k-grid-content");
        if (w.length && x._delegates.scroll) {
          w[0].removeEventListener("scroll", x._delegates.scroll)
        }
        if (x._delegates.updateGroupedRows) {
          x.owner.removeEventListener("databound", x._delegates.updateGroupedRows)
        }
        if (x._delegates.addHiddenRow) {
          x.owner.removeEventListener("databound", x._delegates.addHiddenRow)
        }
        if (x._delegates.preventPointerDown) {
          x.owner.element.removeEventListener(p, x._delegates.preventPointerDown)
        }
        x.owner.dataSource.removeEventListener("change", x._delegates.dataChanged);
        x._togglePopupEvents(false);
        x._toggleGroupPopup([]);
        x._groupPopup = null;
        x._toggleGroupServiceArea(false);
        x._groupedRows = null;
        x._tableOffset = null;
        x._groupedRowsOffsets = null;
        x._clear();
        if (x._drag) {
          x._drag.dispose();
          x._drag = null
        }
        x._delegates = null
      }
    })
  });

  function i(w, A) {
    if (!w.currentTarget || w.currentTarget.nodeName != "TR") {
      return
    }
    var z = a(w.currentTarget),
      x = z.find("a"),
      y = z.parents(".k-grid").data("kendoGrid");
    if (y) {
      if (x.hasClass("k-i-collapse")) {
        y.collapseGroup(z);
        if (A) {
          y.collapseGroup(A)
        }
      } else {
        y.expandGroup(z);
        if (A) {
          y.expandGroup(A)
        }
      }
    }
    w.preventDefault();
    w.stopPropagation()
  }
  var c = "click",
    k = ".kendoGrid";
  kendo.ui.Grid.prototype._groupable = function() {
    var w = this;
    if (w._groupableClickHandler) {
      w.table.off(c + k, w._groupableClickHandler)
    } else {
      w._groupableClickHandler = i
    }
    w.table.on(c + k, ".k-grouping-row", w._groupableClickHandler);
    w._attachGroupable()
  };
  var n = kendo.ui.Grid.prototype.expandGroup,
    m = kendo.ui.Grid.prototype.collapseGroup,
    b = function(w) {
      var y = w.element.parents(".t-table-view"),
        z = y[0];
      if (z && z.winControl && z.winControl._grouping) {
        var x = z.winControl._grouping;
        if (!x._updateGroupedRowsInProgress) {
          x._updateGroupedRowsInProgress = true;
          x._updateGroupedRows()
        }
      }
    }, t = function(x, z) {
      var A = this,
        w = A.element.parents(".t-table-view").find(".t-fixedGroupHeader"),
        y = a(x).attr("data-group-id");
      if (w.length && y) {
        z.call(A, w.find("[data-group-id='" + y + "']"))
      }
    };
  kendo.ui.Grid.prototype.expandGroup = function(w) {
    t.apply(this, [w, n]);
    n.apply(this, [w]);
    b(this)
  };
  kendo.ui.Grid.prototype.collapseGroup = function(w) {
    t.apply(this, [w, m]);
    m.apply(this, [w]);
    b(this)
  };
  kendo.ui.Grid.prototype._oldCurrent = kendo.ui.Grid.prototype.current, kendo.ui.Grid.prototype.current = function(w) {
    var C = this;
    if (w && w.length && C.dataSource) {
      var y = C.dataSource.group(),
        z = y && y.length,
        x = C.element.find(".t-fixedGroupHeader");
      if (z && x.length) {
        var A = w.parents("TR"),
          B = A.attr("data-group-id");
        x.find("TD").removeClass("k-state-focused");
        if (B) {
          x.find("TR").each(function(E, F) {
            var D = a(F);
            if (D.attr("data-group-id") === B) {
              D.find("TD").addClass("k-state-focused")
            }
          })
        }
      }
    }
    return C._oldCurrent(w)
  }
})(this, jQuery);
(function(c, a, f) {
  var b = WinJS.Class.define,
    d = WinJS.Namespace.define,
    e = "Telerik.UI.Grid";
  d(e, {
    Reorder: b(function(g) {
      var h = this;
      h.owner = g;
      h._initialize()
    }, {
      owner: null,
      _reorder: null,
      _pointerDownDelegate: null,
      _preventPointerDown: function(g) {
        if (!this.owner.navigatable) {
          g.preventDefault()
        }
      },
      _initialize: function() {
        var l = this,
          k = l.owner,
          g = k._widget.element.find(".k-grid-header")[0],
          j = kendo.support.isRtl(l.owner.element),
          h = k.groupable && k.groupable.enabled !== false && (k.groupable + "").toLowerCase() !== "none",
          i = "th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)";
        l._pointerDownDelegate = l._preventPointerDown.bind(l);
        k.element.addEventListener(Telerik.Utilities._pointerEvent("down"), l._pointerDownDelegate, false);
        l._reorder = new Telerik.UI.Behaviors.Reorder({
          container: g,
          itemsSelector: i,
          isRtl: j,
          drag: h ? k._grouping._drag : {
            container: g,
            element: i
          },
          ondrop: l._drop.bind(l)
        })
      },
      _drop: function(h) {
        if (!h.items.length) {
          return
        }
        var p = this,
          l = h.len,
          k = h.index,
          o = p.owner,
          q = o._widget,
          n = k - (h.direction * h.items.length),
          g;
        if (h.isRtl) {
          k = l - k;
          n = l - n
        }
        q.trigger("columnReorder", {
          newIndex: k,
          oldIndex: n,
          column: o.columns[n]
        });
        g = q.columns[n];
        q.reorderColumn(k, g);
        o._reorderColumn(k, n);
        if (o._selection) {
          o._selection._change()
        }
        var i = q.element.find(".t-edit-container .k-grid-cancel,.t-edit-container .k-grid-delete");
        if (i.length) {
          if (o.editable && o.editable.mode != "row") {
            i.each(function(r, s) {
              var u = s.className.indexOf("k-grid-cancel") != -1 ? "cancel" : "delete";
              s.className = "k-grid-" + u;
              var t = o._getEditButtonClass(s);
              s.classList.add("t-edit-" + u + "-" + t.buttonsTopClass);
              s.classList.add("t-edit-" + u + "-" + t.buttonsInnerClass)
            })
          } else {
            var j = i.parents("tr").children("td:visible").first(),
              m = i.parents(".t-edit-container").first();
            if (m.length && j.length && m[0] !== j[0]) {
              m[0].classList.remove("t-edit-container");
              j[0].classList.add("t-edit-container");
              i.appendTo(j)
            }
          }
        }
      },
      dispose: function() {
        var g = this;
        g._pointerDownDelegate = null;
        g._reorder.dispose();
        g._reorder = null
      }
    })
  })
})(this, jQuery);
(function(j, a, y) {
  var z = WinJS,
    e = z.Class.define,
    f = z.Class.derive,
    m = z.Namespace.define,
    k = 40,
    o = null,
    g = ".k-grid-header:first ",
    h = ".k-header",
    n = ":not(.k-group-cell,.k-hierarchy-cell)",
    x = "t-selected",
    v = "t-last-column",
    w = "t-resize-handle",
    i = ".resizing",
    c = ":visible",
    b = "click",
    l = Telerik.Utilities._pointerEvent("down"),
    q = "px",
    d = "dataBound";
  var p = {
    negate: function(A) {
      return A * (-1)
    },
    same: function(A) {
      return A
    }
  };
  var r = e(function(B, A) {
    var C = this;
    C._initializeResizeHandle();
    if (!B) {
      return
    }
    C._negateIfRtl = A ? p.negate : p.same;
    C._grid = B;
    C._initialize()
  }, {
    _negateIfRtl: o,
    _resizeHandleElement: o,
    _grid: o,
    _cols: o,
    _colWidth: o,
    _stopKendoHeaderClick: false,
    _stopKendoHeaderClickPropagation: function(A) {
      var B = this;
      if (B._stopKendoHeaderClick) {
        A.stopImmediatePropagation();
        B._stopKendoHeaderClick = false
      }
    },
    _createEventHandlerDelegate: function(A) {
      var B = this;
      return function(C) {
        A.call(B, C)
      }
    },
    _stopKendoHeaderClickPropagationDelegate: o,
    _initialize: function() {
      var E = this,
        B, C = E._grid,
        D = g + h + n,
        A = function() {
          if (B) {
            B.target = o;
            B = o
          }
        };
      E._stopKendoHeaderClickPropagationDelegate = E._createEventHandlerDelegate(E._stopKendoHeaderClickPropagation);
      C.wrapper.on(l + i, D, function(F) {
        B = new MSGesture();
        B.target = this;
        B.addPointer(F.originalEvent.pointerId);
        E._stopKendoHeaderClick = false;
        if (a(this).hasClass(x)) {
          E._stopKendoHeaderClick = true
        }
      }).on("MSGestureHold" + i, D, function(G) {
        if (G.target.classList.contains(w)) {
          return
        }
        var K = G.originalEvent,
          F = K.detail,
          H = K.MSGESTURE_FLAG_BEGIN,
          J = K.MSGESTURE_FLAG_END,
          I = K.MSGESTURE_FLAG_CANCEL;
        if (F === H) {
          E.attachResizeHandle(G.target);
          E._stopKendoHeaderClick = true
        } else {
          if (F === J) {
            A()
          } else {
            if (F === J + I) {
              A();
              E.detachResizeHandle()
            }
          }
        }
      }).get(0).addEventListener(b, E._stopKendoHeaderClickPropagationDelegate, true);
      a(document).on(l + i, function(F) {
        if (F.target != document && a(F.target).is("." + w)) {
          return
        }
        if (E._resizeHandleElement.parentNode) {
          E.detachResizeHandle()
        }
      })
    },
    _initializeResizeHandle: function() {
      var C = this,
        A, B = C._resizeHandleElement = document.createElement("SPAN");
      B.className = w;
      B.addEventListener(l, function(D) {
        A = new MSGesture();
        A.target = B;
        A.addPointer(D.pointerId);
        D.stopImmediatePropagation()
      }, false);
      B.addEventListener("MSGestureChange", function(D) {
        if (D.detail === D.MSGESTURE_FLAG_INERTIA) {
          A.stop()
        }
        C._stopKendoHeaderClick = true;
        C.resizeColumn(D.translationX)
      }, false);
      B.addEventListener("MSGestureEnd", function() {
        var F = C._resizeHandleElement.parentNode,
          E = F.offsetWidth,
          D = C._grid.columns[a(F).parent().find("th" + n).index(F)];
        D.width = E;
        A.target = o;
        A = o
      })
    },
    _initializeTargetElements: function(A) {},
    resizeHandleElement: {
      get: function() {
        return this._resizeHandleElement
      }
    },
    attachResizeHandle: function(B) {
      var C = this,
        A = a(B);
      if (C._resizeHandleElement.parentNode) {
        C.detachResizeHandle()
      }!A.nextAll(":visible").length && A.addClass(v);
      A.wrapInner("<div class='t-wrapper'></div>");
      B.appendChild(C._resizeHandleElement);
      A.addClass(x);
      if (!C._grid) {
        return
      }
      C._initializeTargetElements(B);
      C._colWidth = B.offsetWidth
    },
    detachResizeHandle: function() {
      var E = this,
        B = E._resizeHandleElement,
        D = B.parentNode,
        A = a(D).find(".t-wrapper").contents(),
        C;
      if (D) {
        A.unwrap();
        a(D).removeClass(x).removeClass(v);
        D.removeChild(B)
      }
      if (E._grid && E._colWidth !== (C = D.offsetWidth)) {
        E._grid.trigger("columnResize", {
          column: D,
          oldWidth: E._colWidth,
          newWidth: C
        })
      }
    },
    resizeColumn: function(A) {},
    refresh: function() {},
    dispose: function() {
      var B = this,
        A = B._grid;
      A.wrapper.add(document).off(i).get(0).removeEventListener(b, B._stopKendoHeaderClickPropagationDelegate, true);
      B._resizeHandleElement = o;
      B._grid = o;
      B._cols = o
    }
  }, {
    create: function(C, A) {
      var B = A ? A._isRtl : false;
      if (C.options.scrollable) {
        if (A && A.detailTable) {
          return new u(C, B)
        } else {
          return new t(C, B)
        }
      } else {
        return new s(C, B)
      }
    },
    getPreciseWidth: function(B) {
      var A = window.getComputedStyle(B),
        C = parseFloat(A.width);
      C += parseFloat(A.borderLeftWidth);
      C += parseFloat(A.borderRightWidth);
      C += parseFloat(A.paddingLeft);
      C += parseFloat(A.paddingRight);
      return C
    }
  });
  var t = f(r, function(F, E) {
    var G = this,
      C = F.wrapper[0],
      B = r.getPreciseWidth,
      D = B(C),
      A = 0;
    r.call(G, F, E);
    a(C).find(".k-grid-header col").each(function() {
      A += B(this)
    });
    if (D > A) {
      G._fixColumnWidths()
    }
  }, {
    _headerTable: o,
    _contentTable: o,
    _footerTable: o,
    _fixedGroupTable: o,
    _tables: o,
    _initializeTargetElements: function(A) {
      var B = this,
        C = a.inArray(A, a(A).parent().children(c));
      B._headerTable = B._grid.thead.parent();
      B._contentTable = B._grid.tbody.parent();
      B._footerTable = (B._footerTable = B._grid.footer || a()) && B._footerTable.find("table");
      B._fixedGroupTable = B._grid.wrapper.find("> .t-fixedGroupHeader");
      B._cols = a().add(B._headerTable.find("col").eq(C)).add(B._contentTable.find("col").eq(C)).add(B._footerTable.find("col").eq(C));
      B._tables = a().add(B._headerTable).add(B._contentTable).add(B._footerTable).add(B._fixedGroupTable)
    },
    _fixColumnWidths: function() {
      var A = this._grid,
        B = a(A.wrapper).find(".k-grid-header th:visible").map(function() {
          return r.getPreciseWidth(this)
        }).toArray();
      a(A.wrapper).find(".k-grid-header col").each(function(C) {
        this.style.width = B[C] + "px"
      });
      a(A.wrapper).find(".k-grid-content col").each(function(C) {
        this.style.width = B[C] + "px"
      });
      a(A.wrapper).find(".k-grid-footer col").each(function(C) {
        this.style.width = B[C] + "px"
      })
    },
    resizeColumn: function(C) {
      var I = this,
        B = I._resizeHandleElement.parentNode.offsetWidth,
        H = I._headerTable[0].offsetWidth,
        A = I._cols,
        G = I._tables,
        F = function(J, K) {
          J.style.width = K + q
        };
      C = I._negateIfRtl(C);
      if (B + C > 40) {
        for (var D = 0; D < A.length; D++) {
          F(A[D], B + C)
        }
        for (var E = 0; E < G.length; E++) {
          F(G[E], H + C)
        }
      }
      I._grid._footerWidth = H + C
    },
    dispose: function() {
      var A = this;
      A._headerTable = o;
      A._contentTable = o;
      A._footerTable = o;
      A._fixedGroupTable = o;
      A._tables = o;
      r.prototype.dispose.call(A)
    }
  });
  var u = f(t, function(B, A) {
    t.call(this, B, A);
    u.registerMasterResizing(this)
  }, {
    _setColWidthsPercentage: function(A) {
      var B = A.thead.parent().width();
      A.wrapper.find(g + h + c).each(function(C) {
        var D = a(this).data("info"),
          F = parseFloat(D.width),
          E = F * 100 / B;
        D.col.style.width = E + "%";
        D.width = E
      })
    },
    _setColWidthsPixels: function(A) {
      var B = A.thead.parent().width();
      A.wrapper.find(g + h + c).each(function() {
        var C = a(this).data("info"),
          E = parseFloat(C.width),
          D = B * E / 100;
        C.col.style.width = D + q;
        C.width = D
      })
    },
    _getDetailGrids: function() {
      return this._grid.wrapper.find(".k-detail-cell .k-grid").map(function() {
        return a(this).data("kendoGrid")
      })
    },
    _onDetailExpanded: function(A) {
      var B = this;
      B._setColWidthsPercentage(A);
      B._setColWidthsPixels(A)
    },
    attachResizeHandle: function(A) {
      var B = this;
      r.prototype.attachResizeHandle.call(B, A);
      B._getDetailGrids().each(function() {
        B._setColWidthsPercentage(this)
      })
    },
    detachResizeHandle: function() {
      var A = this;
      r.prototype.detachResizeHandle.call(A);
      A._getDetailGrids().each(function() {
        A._setColWidthsPixels(this)
      })
    },
    resizeColumn: function(B) {
      var J = this,
        F, K, L, C, D = J._getDetailGrids(),
        E, G, A;
      B = J._negateIfRtl(B);
      for (var H = 0; H < D.length; H++) {
        C = D[H];
        K = C.thead.parent().width();
        G = C.wrapper.find(g + h + c).get();
        for (var I = 0; I < G.length; I++) {
          E = G[I];
          F = a(E).data("info");
          L = K * F.width / 100;
          if (B < 0 && L == F.minWidth) {
            return
          }
          A = L + B - F.minWidth;
          if (A < 0) {
            B -= A
          }
        }
      }
      B = J._negateIfRtl(B);
      t.prototype.resizeColumn.call(this, B)
    },
    dispose: function() {
      var A = this;
      u.unregisterMasterResizing(A);
      t.prototype.dispose.call(A)
    }
  }, {
    _masterResizings: o,
    registerMasterResizing: function(A) {
      var B = this;
      if (!B._masterResizings) {
        B._masterResizings = []
      }
      B._masterResizings.push(A)
    },
    unregisterMasterResizing: function(B) {
      var D = this,
        C = D._masterResizings,
        A;
      if (C) {
        A = C.indexOf(B);
        if (A > -1) {
          C.splice(A, 1)
        }
      }
      if (!C.length) {
        D._masterResizings = o
      }
    },
    notifyDetailRowExpand: function(E) {
      var F = this,
        D = F._masterResizings,
        B, C;
      if (D) {
        B = D.length;
        C = F._getMasterGridWidget(E);
        for (var A = 0; A < B; A++) {
          if (D[A]._grid == C) {
            D[A]._onDetailExpanded(E.find(".k-grid").data("kendoGrid"))
          }
        }
      }
    },
    _getMasterGridWidget: function(A) {
      var B = A.parents(".k-grid").filter(function() {
        return !a(this).parents(".k-detail-cell").length
      });
      return B.data("kendoGrid")
    }
  });
  kendo.ui.Grid.prototype._details = function() {
    var F = this,
      E = ".kendoGrid",
      A = "click",
      D = "detailInit",
      C = "detailExpand",
      B = "detailCollapse";
    F.table.on(A + E, ".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus", function(K) {
      var G = a(this),
        L = G.hasClass("k-plus"),
        N = G.closest("tr.k-master-row"),
        I, J = F.detailTemplate,
        H, M = F._hasDetails();
      G.toggleClass("k-plus", !L).toggleClass("k-minus", L);
      if (M && !N.next().hasClass("k-detail-row")) {
        H = F.dataItem(N);
        a(J(H)).addClass(N.hasClass("k-alt") ? "k-alt" : "").insertAfter(N);
        F.trigger(D, {
          masterRow: N,
          detailRow: N.next(),
          data: H,
          detailCell: N.next().find(".k-detail-cell")
        })
      }
      I = N.next();
      F.trigger(L ? C : B, {
        masterRow: N,
        detailRow: I
      });
      I.toggle(L);
      if (L) {
        u.notifyDetailRowExpand(I)
      }
      if (F._current) {
        F._current.attr("aria-expanded", L)
      }
      K.preventDefault();
      return false
    })
  };
  var s = f(r, function(B, A) {
    r.call(this, B, A)
  }, {
    _allHeaders: o,
    _headersInfo: o,
    _preventResizing: false,
    _initialize: function() {
      var A = this;
      A._initializeHeadersParameters = A._initializeHeadersParameters.bind(A);
      A._grid.bind(d, A._initializeHeadersParameters);
      A._initializeHeadersParameters();
      r.prototype._initialize.call(A)
    },
    _initializeHeadersParameters: function(A) {
      s.initializeHeadersParameters(this._grid)
    },
    _initializeAllHeadersArray: function() {
      return this._allHeaders = this._grid.wrapper.find(g + h + c)
    },
    _initializeTargetElements: function(B) {
      var C = this,
        D = a.inArray(B, a(B).parent().children(c)),
        A = C._grid.tbody.parent();
      C._cols = a().add(A.parent().find("col").eq(D))
    },
    attachResizeHandle: function(A) {
      var B = this;
      r.prototype.attachResizeHandle.call(B, A);
      B._headersInfo = [];
      B._initializeAllHeadersArray().each(function() {
        B._headersInfo.push(a(this).data("info"))
      });
      B._preventResizing = false
    },
    detachResizeHandle: function() {
      r.prototype.detachResizeHandle.call(this);
      this._headersInfo = []
    },
    resizeColumn: function(C) {
      var J = this;
      if (J._allHeaders.length == 1) {
        return
      }
      var D = J._resizeHandleElement.parentNode,
        E = J._allHeaders.index(D),
        H = (E == J._allHeaders.length - 1 ? E - 1 : E + 1),
        G = J._allHeaders[H],
        A = J._headersInfo[E].width,
        F = J._headersInfo[H].width,
        I = function(K, L) {
          J._headersInfo[K].col.style.width = L + q;
          J._headersInfo[K].width = L
        }, B;
      C = J._negateIfRtl(C);
      if ((C < 0 && A == J._headersInfo[E].minWidth) || (C > 0 && F == J._headersInfo[H].minWidth)) {
        return
      }
      if (C < 0) {
        B = A + C - J._headersInfo[E].minWidth;
        if (B < 0) {
          C -= B
        }
      } else {
        B = F - C - J._headersInfo[H].minWidth;
        if (B < 0) {
          C += B
        }
      }
      I(E, A + C);
      I(H, F - C)
    },
    refresh: function() {
      s.initializeHeadersParameters(this._grid)
    },
    dispose: function() {
      var A = this;
      A._allHeaders = o;
      A._grid.unbind(d, A._initializeHeadersParameters);
      r.prototype.dispose.call(A)
    }
  }, {
    getPreciseWidth: function(B) {
      var A = window.getComputedStyle(B),
        C = parseFloat(A.width);
      C += parseFloat(A.borderLeftWidth);
      C += parseFloat(A.borderRightWidth);
      C += parseFloat(A.paddingLeft);
      C += parseFloat(A.paddingRight);
      return C
    },
    initializeHeadersParameters: function(C) {
      var F = this,
        A, E, D, B = C.wrapper.find(g + h + c);
      C.wrapper.find("col").each(function(G) {
        A = B.eq(G);
        E = s.getPreciseWidth(A[0]);
        A.data("info", {
          col: this,
          width: E
        })
      }).each(function() {
        this.style.width = ""
      }).each(function(G) {
        A = B.eq(G);
        this.style.width = "1px";
        D = s.getPreciseWidth(A[0]);
        this.style.width = "";
        if (A.data("info").width >= k) {
          D = Math.max(D, k)
        }
        A.data("info").minWidth = D
      }).each(function(G) {
        this.style.width = B.eq(G).data("info").width + q
      })
    }
  });
  m("Telerik.UI.Grid", {
    _Resizing: r,
    _ResizingTableLayoutFixed: t,
    _ResizingTableLayoutFixedHierarchy: u,
    _ResizingTableLayoutAuto: s
  })
})(this, jQuery);
(function(b, a, e) {
  var c = function(n, i) {
    var p = [n];
    while (p.length > 0) {
      var g = p.pop(),
        h = 0;
      if (g._indices && g._indices.length) {
        if (!g._childCalculated) {
          p.push(g)
        }
        for (var l in g._indices) {
          if (g._indices[l].open) {
            var j = g._indices[l].detailTable;
            if (!g._childCalculated) {
              p.push(j)
            } else {
              var k = g._indices[l].detailTable._childTotal;
              h += k ? k : 0
            }
          }
        }
      }
      h++;
      g._childTotal = h + (g.dataSource ? g.dataSource.total : 0);
      if (g === n && !g.dataSource && i) {
        g._childTotal += i.total()
      }
      g._childCalculated = true
    }
    if (n._childTotal) {
      n._childTotal--
    }
    p.push(n);
    n._virtualItemStart = 0;
    while (p.length > 0) {
      var o = p.shift();
      o._childCalculated = false;
      if (o._indices && o._indices.length) {
        var f = 0;
        for (var l = 0, m = o._indices.length; l < m; l++) {
          if (o._indices[l].open) {
            var j = o._indices[l].detailTable;
            j._virtualItemStart = o._virtualItemStart + f + o._indices[l].index;
            f += j._childTotal;
            p.push(j)
          }
        }
      }
    }
    p = null;
    return n._childTotal
  };
  var d = Math;
  kendo.ui.Grid.prototype._averageRowHeight = function() {
    var g = this,
      f = g._rowHeight;
    if (!g._rowHeight) {
      g._rowHeight = f = g.table.outerHeight() / g.table[0].rows.length
    }
    return f
  };
  kendo.ui.VirtualScrollable.prototype._foundParentTableView = null;
  kendo.ui.VirtualScrollable.prototype._getParentTableView = function(f) {
    var h = this;
    if (h._foundParentTableView == null) {
      var g = f.parent();
      while (g && g.length && !g[0].winControl) {
        g = g.parent()
      }
      if (g && g.length) {
        h._foundParentTableView = g[0].winControl
      }
    }
    return h._foundParentTableView
  };
  kendo.ui.VirtualScrollable.prototype._scroll = function(h) {
    var u = this,
      r = h.currentTarget.scrollTop,
      f = u.dataSource,
      q = u.itemHeight,
      s = f.skip() || 0,
      t = u._rangeStart || s,
      k = u.element.innerHeight(),
      m = !! (u._scrollbarTop && u._scrollbarTop > r),
      j = d.max(d.floor(r / q), 0),
      o = d.max(j + d.floor(k / q), 0);
    u._scrollTop = r - (t * q);
    u._scrollbarTop = r;
    var n = 0;
    var v = u._getParentTableView(u.element);
    if (v._indices && v._indices.length) {
      for (var l = 0, p = v._indices.length; l < p; l++) {
        if (v._indices[l].open) {
          var g = v._indices[l].detailTable;
          if (g._virtualItemStart < j) {
            if ((g._virtualItemStart + g._childTotal) >= j) {
              j = g._virtualItemStart;
              break
            } else {
              n += g._childTotal
            }
          } else {
            break
          }
        }
      }
      j -= n;
      o = d.max(j + d.floor(k / q), 0)
    }
    u._isScrollingUp = m;
    if (!u._fetch(j, o, m)) {
      u.wrapper[0].scrollTop = u._scrollTop
    } else {
      if (n > 0) {
        u.wrapper[0].scrollTop = u._scrollTop + n * q
      }
    }
  };
  kendo.ui.VirtualScrollable.prototype._oldWrap = kendo.ui.VirtualScrollable.prototype.wrap;
  kendo.ui.VirtualScrollable.prototype._newScrollbar = function() {
    var g = this;
    if (!g._newScrollbarWidth) {
      var f = document.createElement("div");
      f.style.cssText = "-ms-overflow-style:scrollbar;overflow:scroll;overflow-x:hidden;zoom:1;clear:both";
      f.innerHTML = "&nbsp;";
      document.body.appendChild(f);
      g._newScrollbarWidth = f.offsetWidth - f.scrollWidth;
      document.body.removeChild(f)
    }
    return g._newScrollbarWidth
  };
  kendo.ui.VirtualScrollable.prototype.wrap = function() {
    var g = this,
      f = g._newScrollbar() + 1;
    g._oldWrap();
    g.verticalScrollbar.css("width", f + "px")
  };
  kendo.ui.VirtualScrollable.prototype.refresh = function() {
    var n = this,
      h = "",
      k = 250000,
      g = n.dataSource,
      l = n._rangeStart,
      m = kendo.support.scrollbar(),
      r = n.wrapper[0],
      p, i, j;
    kendo.ui.progress(n.wrapper.parent(), false);
    clearTimeout(n._timeout);
    j = n.itemHeight = n.options.itemHeight() || 0;
    var f = (r.scrollWidth > r.offsetWidth) ? m : 0;
    var q = n._getParentTableView(n.element);
    var o = c(q, g);
    p = o * j + f;
    for (i = 0; i < d.floor(p / k); i++) {
      h += '<div style="width:1px;height:' + k + 'px"></div>'
    }
    if (p % k) {
      h += '<div style="width:1px;height:' + (p % k) + 'px"></div>'
    }
    n.verticalScrollbar.html(h);
    if (r.parentNode) {
      r.scrollTop = n._scrollTop
    }
    if (n.drag) {
      n.drag.cancel()
    }
    if (l && !n._fetching) {
      n._rangeStart = g.skip()
    }
    n._fetching = false
  }
})(this, jQuery);
(function(e, a, r) {
  var c = WinJS.Class.define,
    d = WinJS.Class.derive,
    f = WinJS.Namespace.define,
    i = "Telerik.UI.Grid",
    h = f(i),
    t = WinJS.Utilities,
    s = Telerik.Utilities,
    q = WinJS.UI.setOptions,
    o = document.documentElement,
    j = Telerik.Utilities._pointerEvent,
    g = function() {}, l = j("down"),
    m = j("move"),
    n = j("up"),
    k = j("cancel"),
    b = {
      selected: "k-state-selected",
      expand: "t-expand",
      active: "t-active",
      northWest: "t-nw"
    };
  var p = function(u) {
    q(this, u)
  };
  p.prototype = {
    items: null,
    isCell: false,
    left: 0,
    top: 0,
    width: 0,
    height: 0,
    dispose: function() {
      this.items = null
    }
  };
  p.create = function(D, z) {
    var A, E, C, u;
    if (!D.length) {
      return null
    }
    if (z) {
      A = D[0].cellIndex;
      E = D[0].parentNode.rowIndex;
      C = D[D.length - 1].cellIndex;
      u = D[D.length - 1].parentNode.rowIndex;
      if (D.length !== (C - A + 1) * (u - E + 1)) {
        return null
      }
      for (var w = 0, B = D.length; w < B; w++) {
        var v = D[w],
          F = v.cellIndex,
          G = v.parentNode.rowIndex;
        if (F < A || F > C || G < E || G > u) {
          return null
        }
      }
    } else {
      A = 0;
      E = D[0].rowIndex;
      C = 0;
      u = D[D.length - 1].rowIndex;
      if (E + D.length - 1 !== u) {
        return null
      }
    }
    return new p({
      items: D,
      isCell: z,
      left: A,
      top: E,
      width: C - A + 1,
      height: u - E + 1
    })
  };
  f(i, {
    SelectionExpander: c(function(u) {
      var v = this;
      v._original = u;
      v._handles = v._createHandles();
      v._current = new p({
        items: Array.apply(null, u.items),
        left: u.left,
        top: u.top,
        width: u.width,
        height: u.height
      })
    }, {
      onchange: g,
      _original: null,
      _current: null,
      _isCell: false,
      _handles: null,
      _moveDelegate: null,
      _upDelegate: null,
      _expandInfo: null,
      _lock: false,
      _deferTimeout: 50,
      _createHandles: function() {
        var y = this,
          v = y._original.items,
          u = a(v[0]),
          w = a(v[v.length - 1]),
          x = "<span class='" + b.expand + "'><span /><span /></span>";
        if (!y._isCell) {
          u = u.children("td:visible").first();
          w = w.children("td:visible").last()
        }
        return a().add(u.append(x).children().last().addClass(b.northWest)).add(w.append(x).children().last()).on(l, y._handleDown.bind(y))
      },
      _handleDown: function(v) {
        var y = this,
          x = a(v.target).closest("." + b.expand),
          w = v.originalEvent,
          u = t.getPosition(x.parent()[0]);
        if (y._expandInfo) {
          return
        }
        y._moveDelegate = y._handleMove.bind(y);
        y._upDelegate = y._handleUp.bind(y);
        o.addEventListener(m, y._moveDelegate);
        o.addEventListener(n, y._upDelegate);
        o.addEventListener(k, y._upDelegate);
        o.addEventListener(l, y._upDelegate);
        x.addClass(b.active);
        y._expandInfo = {
          startItem: y._isCell ? x.parent()[0] : x.closest("tr")[0],
          bottomPosition: u,
          origin: {
            left: w.pageX,
            top: w.pageY
          },
          previous: {
            x: w.pageX,
            y: w.pageY
          },
          edgeOffset: {
            left: w.pageX - (u.left + u.width),
            top: w.pageY - (u.top + u.height)
          },
          offset: {
            left: 0,
            top: 0
          },
          delta: {
            x: 0,
            y: 0
          },
          previousExpandDelta: {
            left: 0,
            right: 0,
            top: 0,
            bottom: 0
          }
        };
        return false
      },
      _handleMove: function(u) {
        var z = this,
          w = z._expandInfo,
          x = w.offset = {
            left: u.pageX - w.origin.left,
            top: u.pageY - w.origin.top
          }, v = z._getExpandDelta(x),
          y = w.previousExpandDelta;
        w.delta = {
          x: u.pageX - w.previous.x,
          y: u.pageY - w.previous.y
        };
        w.previous = {
          x: u.pageX,
          y: u.pageY
        };
        if (y.left !== v.left || y.top !== v.top || y.right !== v.right || y.bottom !== v.bottom) {
          z._changeExpansion(v)
        }
      },
      _changeExpansion: function(u) {
        var v = this;
        clearTimeout(v._deferred);
        v._deferred = null;
        if (!v._lock) {
          v._lock = true;
          v._expand(u);
          v._positionHandles();
          v._expandInfo.previousExpandDelta = u;
          v._lock = false
        } else {
          v._deferred = setTimeout(v._changeExpansion.bind(v, expandData), v._deferTimeout)
        }
      },
      _getExpandDelta: function(u) {},
      _plusTop: g,
      _plusBottom: g,
      _plusLeft: g,
      _plusRight: g,
      _minusTop: g,
      _minusBottom: g,
      _minusLeft: g,
      _minusRight: g,
      _expand: function(v) {
        var x = this,
          u = a.extend({}, v),
          w = x._expandInfo.previousExpandDelta;
        ["Top", "Bottom", "Left", "Right"].forEach(function(z) {
          var A = z.toLowerCase();
          while (u[A] !== w[A]) {
            var y = u[A] - w[A];
            if (y > 0) {
              x["_plus" + z]();
              u[A]--
            } else {
              x["_minus" + z]();
              u[A]++
            }
          }
        })
      },
      _positionHandles: function() {
        var y = this,
          v = y._handles,
          w = y._current.items,
          u = w[0],
          x = w[w.length - 1];
        if (!y._isCell) {
          u = a(u.cells).filter(":visible").first()[0];
          x = a(x.cells).filter(":visible").last()[0]
        }
        if (v.first().parent()[0] !== u) {
          v.first().appendTo(u)
        }
        if (v.last().parent()[0] !== x) {
          v.last().appendTo(x)
        }
      },
      _handleUp: function(v) {
        var x = this,
          w = x._original,
          u = x._current;
        x._cleanUp();
        if (u.top !== w.top || u.height !== w.height || u.width !== w.width || u.height !== w.height) {
          x.onchange(u.items)
        }
      },
      _cleanUp: function() {
        var u = this;
        u._handles.removeClass(b.active);
        o.removeEventListener(m, u._moveDelegate);
        o.removeEventListener(n, u._upDelegate);
        o.removeEventListener(k, u._upDelegate);
        o.removeEventListener(l, u._upDelegate);
        u._moveDelegate = null;
        u._upDelegate = null;
        u._expandInfo = null
      },
      dispose: function() {
        var u = this;
        u._cleanUp();
        u._handles.remove();
        u._handles = null;
        u._original.dispose();
        u._original = null;
        u._current.dispose();
        u._current = null;
        u.onchange = null
      }
    })
  });
  f(i, {
    RowSelectionExpander: d(h.SelectionExpander, function(u) {
      h.SelectionExpander.apply(this, Array.apply(null, arguments))
    }, {
      _getExpandDelta: function(F) {
        var H = this,
          E = H._original,
          B = E.items,
          A = H._expandInfo,
          v = F.top + A.edgeOffset.top,
          w = Math.max(-1, Math.min(v, 1)),
          G = A.startItem,
          C = (w > 0 ? "next" : "previous") + "ElementSibling",
          D = G[C],
          x = A.bottomPosition.top + A.bottomPosition.height,
          u = x - (w < 0 ? A.bottomPosition.height : 0),
          y = {
            left: 0,
            right: 0,
            top: 0,
            bottom: 0
          };
        if (!v) {
          return y
        }
        while (D) {
          var z = D.offsetHeight;
          u += w * z;
          var I = u - x - w * (z / 2);
          if (w > 0 && I <= v) {
            if (B.indexOf(D) > -1) {
              y.top -= w
            } else {
              y.bottom += w
            }
          } else {
            if (w < 0 && I >= v) {
              if (B.indexOf(D) > -1) {
                y.bottom += w
              } else {
                y.top -= w
              }
            } else {
              break
            }
          }
          D = D[C]
        }
        return y
      },
      _plusTop: function() {
        var w = this,
          u = w._current,
          v = u.items[0].previousElementSibling;
        v.classList.add(b.selected);
        u.items.unshift(v);
        u.top--;
        u.height++
      },
      _minusTop: function() {
        var w = this,
          u = w._current,
          v = u.items.shift();
        v.classList.remove(b.selected);
        u.top++;
        u.height--
      },
      _plusBottom: function() {
        var w = this,
          u = w._current,
          v = u.items[u.items.length - 1].nextElementSibling;
        v.classList.add(b.selected);
        u.items.push(v);
        u.height++
      },
      _minusBottom: function() {
        var w = this,
          u = w._current,
          v = u.items.pop();
        v.classList.remove(b.selected);
        u.height--
      }
    }),
    CellSelectionExpander: d(h.SelectionExpander, function(u) {
      var v = this;
      v._isRtl = kendo.support.isRtl(u.items[0]);
      h.SelectionExpander.apply(v, Array.apply(null, arguments))
    }, {
      _isCell: true,
      _isRtl: null,
      _getExpandDelta: function(x) {
        var y = this,
          w = y._expandInfo,
          u = {
            left: x.left + w.edgeOffset.left,
            top: x.top + w.edgeOffset.top
          }, v = {
            left: 0,
            right: 0,
            top: 0,
            bottom: 0
          };
        if (!u.left && !u.top) {
          return v
        }
        return s.merge({}, y._getExpandDeltaLeft(w.startItem, u.left), y._getExpandDeltaTop(w.startItem, u.top))
      },
      _getExpandDeltaLeft: function(F, v) {
        var G = this,
          z = G._expandInfo,
          A = G._original.items,
          w = Math.max(-1, Math.min(v, 1)),
          D = G._isRtl ? -1 : 1,
          C = (w * D > 0 ? "next" : "previous") + "ElementSibling",
          B = F[C],
          x = z.bottomPosition.left + z.bottomPosition.width,
          u = x - (w < 0 ? z.bottomPosition.width : 0),
          y = {
            left: 0,
            right: 0
          };
        if (!w) {
          return y
        }
        while (B) {
          var I = B.offsetWidth;
          u += w * I;
          var H = u - x - w * (I / 2);
          if (w > 0 && H <= v) {
            if (A.indexOf(B) > -1) {
              y.left -= w
            } else {
              y.right += w
            }
          } else {
            if (w < 0 && H >= v) {
              if (A.indexOf(B) > -1) {
                y.right += w
              } else {
                y.left -= w
              }
            } else {
              break
            }
          }
          B = B[C]
        }
        if (G._isRtl) {
          var E = y.right;
          y.right = y.left;
          y.left = E
        }
        return y
      },
      _getExpandDeltaTop: function(F, w) {
        var G = this,
          B = G._expandInfo,
          C = G._original.items,
          x = Math.max(-1, Math.min(w, 1)),
          D = (x > 0 ? "next" : "previous") + "ElementSibling",
          E = F.parentNode[D],
          y = B.bottomPosition.top + B.bottomPosition.height,
          v = y - (x < 0 ? B.bottomPosition.height : 0),
          z = {
            top: 0,
            bottom: 0
          };
        if (!x) {
          return z
        }
        while (E) {
          var u = E.cells[F.cellIndex],
            A = u.offsetHeight;
          v += x * A;
          var H = v - y - x * (A / 2);
          if (x > 0 && H <= w) {
            if (C.indexOf(u) > -1) {
              z.top -= x
            } else {
              z.bottom += x
            }
          } else {
            if (x < 0 && H >= w) {
              if (C.indexOf(u) > -1) {
                z.bottom += x
              } else {
                z.top -= x
              }
            } else {
              break
            }
          }
          E = E[D]
        }
        return z
      },
      _plusTop: function() {
        var A = this,
          v = A._current,
          w = v.items[0],
          z = w.parentNode.previousElementSibling;
        for (var x = w.cellIndex + v.width - 1, y = w.cellIndex; x >= y; x--) {
          var u = z.cells[x];
          u.classList.add(b.selected);
          v.items.unshift(u)
        }
        v.top--;
        v.height++
      },
      _minusTop: function() {
        var z = this,
          v = z._current,
          w = v.items[0];
        for (var x = w.cellIndex, y = w.cellIndex + v.width; x < y; x++) {
          var u = v.items.shift();
          u.classList.remove(b.selected)
        }
        v.top++;
        v.height--
      },
      _plusBottom: function() {
        var B = this,
          v = B._current,
          y = v.items[v.items.length - 1],
          x = y.cellIndex - v.width + 1,
          A = y.parentNode.nextElementSibling;
        for (var w = x, z = x + v.width; w < z; w++) {
          var u = A.cells[w];
          u.classList.add(b.selected);
          v.items.push(u)
        }
        v.height++
      },
      _minusBottom: function() {
        var A = this,
          v = A._current,
          y = v.items[v.items.length - 1],
          x = y.cellIndex;
        for (var w = x, z = x - v.width + 1; w >= z; w--) {
          var u = v.items.pop();
          u.classList.remove(b.selected)
        }
        v.height--
      },
      _plusLeft: function() {
        var A = this,
          v = A._current,
          w = v.items[0],
          x = w.cellIndex - 1,
          z = w.parentNode;
        while (z && z.rowIndex < w.parentNode.rowIndex + v.height) {
          var u = z.cells[x],
            y = v.items.indexOf(z.cells[u.cellIndex + 1]);
          u.classList.add(b.selected);
          v.items.splice(y, 0, u);
          z = z.nextElementSibling
        }
        v.left--;
        v.width++
      },
      _minusLeft: function() {
        var y = this,
          v = y._current,
          w = v.items[0],
          x = w.parentNode;
        while (x && x.rowIndex < w.parentNode.rowIndex + v.height) {
          var u = x.cells[w.cellIndex];
          u.classList.remove(b.selected);
          v.items.splice(v.items.indexOf(u), 1);
          x = x.nextElementSibling
        }
        v.left++;
        v.width--
      },
      _plusRight: function() {
        var z = this,
          v = z._current,
          w = v.items[0],
          y = w.parentNode;
        while (y && y.rowIndex < w.parentNode.rowIndex + v.height) {
          var u = y.cells[w.cellIndex + v.width],
            x = v.items.indexOf(y.cells[u.cellIndex - 1]) + 1;
          u.classList.add(b.selected);
          v.items.splice(x, 0, u);
          y = y.nextElementSibling
        }
        v.width++
      },
      _minusRight: function() {
        var z = this,
          v = z._current,
          w = v.items[0],
          y = w.parentNode;
        while (y && y.rowIndex < w.parentNode.rowIndex + v.height) {
          var u = y.cells[w.cellIndex + v.width - 1],
            x = v.items.indexOf(u);
          u.classList.remove(b.selected);
          v.items.splice(x, 1);
          y = y.nextElementSibling
        }
        v.width--
      }
    })
  });
  f(i, {
    Selection: c(function(u) {
      var v = this;
      v.owner = u;
      v._initialize()
    }, {
      owner: null,
      _container: null,
      _cache: null,
      _changeDelegate: null,
      _detailDelegate: null,
      _selectDelegate: null,
      _editDelegate: null,
      _expander: null,
      _initialize: function() {
        var v = this,
          w = v.owner._widget,
          u = w.selectable;
        u.userEvents.destroy();
        u.element.on("click.win8selection", v._click.bind(v));
        u.bind("select", v._selectDelegate = function(x) {
          if (w.editable) {
            x.preventDefault()
          }
        });
        w.bind("edit", v._editDelegate = function(x) {
          u.clear()
        });
        u.element.css("-ms-touch-action", "");
        v._changeDelegate = v._change.bind(v);
        v._detailDelegate = msSetImmediate.bind(null, v._changeDelegate);
        w.bind("change", v._changeDelegate);
        v.owner.addEventListener("detailexpand", v._detailDelegate);
        v.owner.addEventListener("detailcollapse", v._detailDelegate)
      },
      _click: function(v) {
        var y = this,
          x = v.target,
          w = y.owner._widget.selectable,
          u = w.element[0];
        while (x && x !== u) {
          if (y._isSelectable(x)) {
            w._tap({
              target: x,
              event: v
            });
            break
          } else {
            x = x.parentNode
          }
        }
      },
      _isSelectable: function(v) {
        var y = this,
          u = y.owner._widget.selectable.element[0];

        function x(z) {
          return z && z.parentNode && z.parentNode.tagName === "TBODY" && z.parentNode.parentNode === u && !s.intersection(z.classList, ["k-grouping-row", "k-detail-row", "k-group-footer", "k-footer-template"]).length
        }
        function w(z) {
          return z && x(z.parentNode) && !s.intersection(z.classList, ["k-group-cell", "k-hierarchy-cell"]).length
        }
        return y.owner.selectable.indexOf("cell") > -1 ? w(v) : x(v)
      },
      _supportsRangeSelection: function() {
        var z = this,
          y = z.owner,
          x = y.selectable.indexOf("multiple") > -1,
          v = (y.groupable && y.groupable !== "none") || s.makeArray(y.dataSource.group).length,
          w = y._widget._hasDetails(),
          u = y.owner !== y;
        return x && !v && !w && !u
      },
      _change: function() {
        var A = this,
          x = A.owner,
          w = x._widget.selectable,
          v = x.selectable.indexOf("cell") > -1,
          z = w.value().toArray(),
          u = A._expander;
        if (u) {
          u.dispose();
          u = A._expander = null
        }
        if (!A._supportsRangeSelection()) {
          return
        }
        var y = p.create(z, v);
        if (y) {
          u = A._expander = v ? new h.CellSelectionExpander(y) : new h.RowSelectionExpander(y);
          u.onchange = function(B) {
            w.value(a(B))
          }
        }
      },
      dispose: function() {
        var w = this,
          u = w.owner,
          x = u._widget,
          v = x.selectable;
        if (w._expander) {
          w._expander.dispose();
          w._expander = null
        }
        v.element.off("click.win8selection");
        x.unbind("change", w._changeDelegate);
        v.unbind("select", w._selectDelegate);
        x.unbind("edit", w._editDelegate);
        u.removeEventListener("detailexpand", w._detailDelegate);
        u.removeEventListener("detailcollapse", w._detailDelegate);
        w._changeDelegate = null;
        w._detailDelegate = null;
        w._selectDelegate = null;
        w._editDelegate = null
      }
    })
  })
})(this, jQuery);
(function(a, c) {
  var b = WinJS.Namespace.define;
  b("Telerik.UI.DateTimePickers", {
    StepMode: {
      startFromBase: "startFromBase",
      multiplesOnly: "multiplesOnly",
      baseAndMultiples: "baseAndMultiples"
    }
  })
})(this);
(function(c, e) {
  var g = WinJS,
    b = g.Class.define,
    d = g.Namespace.define,
    f = g.Utilities;
  var a = b(function(h) {
    var i = this;
    if (h) {
      i.element = h;
      h.item = i;
      h.className = "t-looping-list-item"
    }
  }, {
    element: null,
    _value: "",
    value: {
      get: function() {
        return this._value
      },
      set: function(h) {
        this._value = h;
        this._refreshValue()
      }
    },
    _refreshValue: function() {},
    _enabled: true,
    enabled: {
      get: function() {
        return this._enabled
      },
      set: function(j) {
        var h = this,
          i = j ? f.removeClass : f.addClass;
        if (h._enabled == j) {
          return
        }
        h._enabled = j;
        i(h.element, "t-disabled")
      }
    },
    _selected: false,
    selected: {
      get: function() {
        return this._selected
      },
      set: function(j) {
        var h = this,
          i = j ? f.addClass : f.removeClass;
        if (h._selected == j) {
          return
        }
        h._selected = j;
        i(h.element, "t-selected")
      }
    }
  });
  d("Telerik.UI", {
    _LoopingListItem: a
  })
})(this);
(function(b, f) {
  var g = WinJS,
    a = g.Class.define,
    c = g.Namespace.define,
    e = Telerik.UI.DateTimePickers.StepMode,
    d = null;
  c("Telerik.UI", {
    _Range: a(function(h) {
      var i = this,
        h = h || {};
      i._start = h.start;
      i._end = h.end;
      h.step = h.step || {};
      i._step = h.step.value || 1;
      i._stepMode = h.step.mode || e.startFromBase
    }, {
      _start: d,
      _end: d,
      _step: d,
      _stepMode: d,
      start: {
        get: function() {
          return this._start
        }
      },
      end: {
        get: function() {
          return this._end
        },
        set: function(h) {
          this._end = h
        }
      },
      length: {
        get: function() {
          var j = this,
            h = j._start ? 0 : 1,
            i = Math.floor(j._end / j._step) + h;
          switch (j._stepMode) {
            case "multiplesOnly":
              return i;
            case "baseAndMultiples":
              return i + +!+!j._start;
            case "startFromBase":
            default:
              return Math.ceil((j._end - j._start + 1) / j._step)
          }
        }
      },
      value: function(h) {
        var i = this,
          j;
        switch (i._stepMode) {
          case "multiplesOnly":
            if (i._start) {
              h++
            }
            return h * i._step;
          case "baseAndMultiples":
            if (h) {
              return h * i._step
            } else {
              return i._start
            }
          case "startFromBase":
          default:
            return this._start + (h * this._step)
        }
      },
      index: function(l) {
        var k = this;
        if (l >= k.value(0) && l <= k.value(k.length - 1)) {
          switch (k._stepMode) {
            case "baseAndMultiples":
              if (l == k._start) {
                return 0
              } else {
                var h = (l - this.value(1)),
                  j = h / this._step,
                  i = h % this._step;
                if (i == 0) {
                  return j + 1
                }
              }
              break;
            case "multiplesOnly":
              var h = (l - this.value(0)),
                j = h / this._step,
                i = h % this._step;
              if (i == 0) {
                return j
              }
              break;
            case "startFromBase":
            default:
              var h = (l - this._start),
                j = h / this._step,
                i = h % this._step;
              if (i == 0) {
                return j
              }
          }
        }
        return -1
      }
    })
  })
})(this);
(function(c, f) {
  var g = WinJS,
    b = g.Class.derive,
    d = g.Namespace.define,
    e = Telerik.UI,
    a = e._Range;
  d("Telerik.UI", {
    _LoopingRange: b(a, function(h) {
      var i = this,
        h = h || {};
      a.call(i, h);
      i._centerValue = i.value(0);
      i._loopLength = h.loopLength
    }, {
      _centerValue: null,
      _loopLength: 0,
      _getPrevious: function(j) {
        var i = this,
          h = i.index(j);
        if (h == 0) {
          return i.value(i.length - 1)
        }
        return i.value(h - 1)
      },
      _getNext: function(j) {
        var i = this,
          h = i.index(j);
        if (h > i.length - 2) {
          return i.value(0)
        }
        return i.value(h + 1)
      },
      _getStartValue: function() {
        var i = this,
          h = Math.floor(i._loopLength / 2),
          j = i._centerValue;
        while (h-- > 0) {
          j = i._getPrevious(j)
        }
        return j
      },
      rangeFrom: function(m) {
        var l = this,
          k = l.index(m),
          j = [];
        for (var h = 0; h < l._loopLength; h++) {
          j.push(m);
          m = l._getNext(m)
        }
        return j
      },
      range: function() {
        return this.rangeFrom(this._getStartValue())
      },
      prev: function() {
        var i = this,
          h = i.index(i._centerValue);
        i._centerValue = h ? i.value(h - 1) : i.value(i.length - 1);
        return i.range()[0]
      },
      next: function() {
        var j = this,
          h = j.index(j._centerValue),
          i = j.value(j.length - 1);
        j._centerValue = j._centerValue == i ? j.value(0) : j.value(h + 1);
        return j.range()[j.range().length - 1]
      },
      centerValue: {
        get: function() {
          return this._centerValue
        }
      },
      centerAt: function(m) {
        var l = this;
        if (l.index(m) > -1) {
          l._centerValue = m
        } else {
          var j, h, k, i;
          switch (l._stepMode) {
            case "baseAndMultiples":
              j = m > l.value(0) && m < l.value(1) ? false : true;
              break;
            default:
              h = m - l.value(0)
          }
          h = j ? m - l.value(1) : m - l.value(0);
          k = h / l._step;
          i = k % 1;
          k = i == 0.5 ? Math.floor(k) : Math.round(k);
          if (j) {
            k += 1
          }
          l._centerValue = l.value(k)
        }
      }
    })
  })
})(this);
(function(b, d) {
  var e = WinJS,
    a = e.Class.define,
    c = e.Namespace.define;
  c("Telerik.UI", {
    _LoopingQueue: a(function(f) {
      this._array = f || []
    }, {
      _array: null,
      array: {
        get: function() {
          return this._array
        }
      },
      add: function(f) {
        this._array.push(f)
      },
      shiftLeft: function() {
        var g = this;
        var f = g._array.shift();
        g._array.push(f)
      },
      shiftRight: function() {
        var g = this;
        var f = g._array.pop();
        g._array.unshift(f)
      }
    })
  })
})(this);
(function(i, a, w) {
  var x = WinJS,
    g = x.Class.derive,
    m = x.Class.mix,
    n = x.Namespace.define,
    f = x.UI.Animation,
    v = Telerik.UI,
    p = Telerik.Utilities._pointerEvent,
    c = v._LoopingListItem,
    e = v._LoopingRange,
    d = v._LoopingQueue,
    o = null,
    j = 3,
    k = 70,
    l = 10,
    q = "px",
    s = "t-looping-list",
    u = "t-selected",
    r = "t-focused",
    t = true,
    h = false;
  var b = g(v.Control, function(y, z) {
    var A = this,
      z = z || {};
    z = A._adjustBoundaries(z);
    v.Control.call(A, y, z);
    x.UI.setOptions(A, z);
    A._initializeItems();
    A._initializeGestureHandling();
    if (z.rangeStart !== w && z.rangeEnd !== w) {
      A._loopingRange = new e({
        start: z.rangeStart,
        end: z.rangeEnd,
        step: z.step || 1,
        loopLength: A._getNormalizedItemCount() + 2
      })
    } else {
      A._loopingRange = new e()
    }
    A.bind(A._loopingRange);
    A._value = A._selectedItem.value;
    A._initialized = t
  }, {
    element: o,
    _initialized: h,
    _itemCount: j,
    _cachedValue: o,
    itemCount: {
      get: function() {
        return this._itemCount
      },
      set: function(z) {
        var y = this;
        y._itemCount = z;
        y.refresh()
      }
    },
    _itemLength: k,
    itemLength: {
      get: function() {
        return this._itemLength
      },
      set: function(z) {
        var y = this;
        y._itemLength = z;
        y.refresh()
      }
    },
    _itemSpacing: l,
    itemSpacing: {
      get: function() {
        return this._itemSpacing
      },
      set: function(z) {
        var y = this;
        y._itemSpacing = z;
        y.refresh()
      }
    },
    _value: o,
    value: {
      get: function() {
        return this._value
      },
      set: function(z) {
        var y = this;
        z = y._validateValue(z);
        if (z !== y.value) {
          y._value = z;
          y._updateSelection(z)
        }
      }
    },
    _getMinValue: function() {
      var y = this,
        z = y.minValue;
      if (z === o && y._loopingRange) {
        z = y._loopingRange._start
      }
      return z
    },
    _getMaxValue: function() {
      var y = this,
        z = y.maxValue;
      if (z === o && y._loopingRange) {
        z = y._loopingRange._end
      }
      return z
    },
    _minValue: o,
    minValue: {
      get: function() {
        return this._minValue
      },
      set: function(z) {
        var y = this;
        y._minValue = z;
        y._refreshValue()
      }
    },
    _maxValue: o,
    maxValue: {
      get: function() {
        return this._maxValue
      },
      set: function(z) {
        var y = this;
        y._maxValue = z;
        y._refreshValue()
      }
    },
    _maxHeight: o,
    maxHeight: {
      get: function() {
        return this._maxHeight
      },
      set: function(y) {
        this._maxHeight = y
      }
    },
    itemBound: {
      set: function(y) {
        this.addEventListener("itemBound", y, h)
      }
    },
    _loopingRange: o,
    _queue: o,
    moveSelectionUp: function() {
      var D = this,
        C = D._selectedItem,
        A, B, z = D._queue.array;
      if (D._animating) {
        return
      }
      for (var y = 0; y < z.length; y++) {
        if (z[y] === C) {
          A = z[y - 1];
          break
        }
      }
      if (A.enabled) {
        D._selectItem(A);
        D._centerItem(A, t)
      } else {
        B = D.maxValue == o ? D._loopingRange.end : D.maxValue;
        if (B !== C.value) {
          D._loopingRange.centerAt(B);
          D.bind();
          D._selectItem(C, true)
        }
      }
    },
    moveSelectionDown: function() {
      var D = this,
        C = D._selectedItem,
        A, B, z = D._queue.array;
      if (D._animating) {
        return
      }
      for (var y = 0; y < z.length; y++) {
        if (z[y] === C) {
          A = z[y + 1];
          break
        }
      }
      if (A.enabled) {
        D._selectItem(A);
        D._centerItem(A, t)
      } else {
        B = D.minValue == o ? D._loopingRange.start : D.minValue;
        if (B !== C.value) {
          D._loopingRange.centerAt(B);
          D.bind();
          D._selectItem(C, true)
        }
      }
    },
    showOutline: function() {
      a(this.element).addClass(r)
    },
    hideOutline: function() {
      a(this.element).removeClass(r)
    },
    _centerLoopingRangeAtFirstAvailableValue: function() {
      var z = this,
        y = z._loopingRange.centerValue;
      while (!z._itemEnabled(z._loopingRange.centerValue)) {
        z._loopingRange.next();
        if (y == z._loopingRange.centerValue) {
          break
        }
      }
    },
    bind: function(A) {
      var C = this,
        B;
      if (C._cachedValue !== o) {
        C._loopingRange.centerAt(C._cachedValue);
        C._cachedValue = o
      }
      C._centerLoopingRangeAtFirstAvailableValue();
      B = C._loopingRange.range();
      for (var y = 0; y < C._queue.array.length; y++) {
        var z = C._queue.array[y],
          D = B[y] === w ? null : B[y];
        C._bindItem(z, D);
        if (z.selected) {
          if (C._value !== o && C._value !== w && C._value !== z.value) {
            C.dispatchEvent("valuechanged", {
              value: z.value
            })
          }
        }
      }
    },
    showSelectionItems: function() {
      if (!this._selectionItemsVisible) {
        f.fadeIn(this._getSelectionItemElements());
        this._selectionItemsVisible = t
      }
    },
    hideSelectionItems: function() {
      var y = this;
      if (y._animating) {
        y._issueHiding = t
      } else {
        f.fadeOut(y._getSelectionItemElements());
        y._selectionItemsVisible = h;
        y._issueHiding = h
      }
    },
    focus: function() {
      var y = this;
      y.showOutline();
      y.showSelectionItems();
      y.dispatchEvent("listfocused", {
        list: y
      })
    },
    blur: function() {
      var y = this;
      y.hideOutline();
      y.hideSelectionItems()
    },
    createItem: function(y) {
      return new c(y)
    },
    _itemEnabled: function(z) {
      var y = this;
      if ((z < y._getMinValue()) || (z > y._getMaxValue())) {
        return false
      }
      return true
    },
    _validateValue: function(B) {
      var A = this,
        z = A._getMinValue(),
        y = A._getMaxValue();
      if (z !== o && y !== o && z > y) {
        y = z
      }
      if (B !== o && z !== o && B < z) {
        B = z
      }
      if (B !== o && y !== o && B > y) {
        B = y
      }
      return B
    },
    _refreshValue: function() {
      var y = this;
      if (!y._initialized) {
        return
      }
      y.value = y.value;
      y._loopingRange.centerAt(y.value);
      y.bind()
    },
    refresh: function() {
      var y = this,
        z = y.value;
      if (!y._initialized) {
        return
      }
      y.element.innerHTML = "";
      y._initializeItems();
      y._loopingRange._loopLength = y._getNormalizedItemCount() + 2;
      y._loopingRange.centerAt(z);
      y.bind()
    },
    _bindItem: function(z, B) {
      var A = this,
        y = A._itemEnabled(B);
      z.value = B;
      z.enabled = y;
      A.dispatchEvent("itemBound", {
        item: z,
        value: B
      })
    },
    _updateSelection: function(z) {
      var y = this;
      y._cachedValue = z;
      if (y._loopingRange) {
        y.bind()
      }
    },
    _getSelectionItemElements: function() {
      var z = this,
        y = a(z.element.children).filter(function() {
          if (!a(this).hasClass(u)) {
            return t
          }
        }).toArray();
      return y
    },
    _translateYString: function(y) {
      return "translateY(" + y + "px)"
    },
    _translateY: function(z, A) {
      var y = z.element;
      y._translationY = y._translationY || 0;
      y._translationY += A;
      y.style.transform = this._translateYString(y._translationY)
    },
    _getNormalizedItemCount: function() {
      var z = this,
        y = z._itemCount;
      return y % 2 ? y : y + 1
    },
    _getRenderedItemCount: function() {
      return this._getNormalizedItemCount() + 2
    },
    _initializeItems: function() {
      var M = this,
        D = M._getNormalizedItemCount(),
        F = M._itemLength,
        G = M._itemSpacing,
        A = F + G,
        J = F,
        I = (D + 1) * A,
        L = M._itemCount % 2 ? I : ((D) * A) - G * 3,
        L = M._maxHeight && L > M._maxHeight ? M._maxHeight : L,
        K = M._getRenderedItemCount(),
        y = Math.floor(K / 2),
        y = D % 2 ? y : y - 1,
        z = (L / 2) - (M._itemLength / 2),
        H = z - (y * A);
      M.listHeight = I;
      M.renderedListHeight = L;
      M.listOffset = (L - I) / 2;
      M._centerTop = z;
      M._topMin = H;
      M._fullItemHeight = A;
      a(M.element).addClass(s);
      M.element.style.height = L + q;
      M.element.style.width = J + q;
      M._queue = new d();
      M._items = [];
      M._selectedItems = [];
      for (var B = 0; B < K; B++) {
        var E = document.createElement("DIV"),
          C = M.createItem(E);
        E.style.height = M._itemLength + q;
        E.style.width = M._itemLength + q;
        M._translateY(C, H);
        H += A;
        if (B != y) {
          E.style.opacity = 0
        } else {
          E.style.opacity = 1;
          M._selectedItem = C;
          C.selected = t;
          M._selectedItems.push(C)
        }
        M._queue.add(C);
        M._items.push(C);
        M.element.appendChild(E)
      }
      M._topMax = H - A
    },
    _getItemClosestToCenter: function() {
      var I = this,
        z = (I.renderedListHeight / 2),
        G = I.element.children,
        H = I.renderedListHeight,
        A = o;
      for (var F = 0; F < G.length; F++) {
        var E = G[F],
          J = E._translationY - (I._itemSpacing / 2),
          y = E._translationY + I._itemLength + (I._itemSpacing / 2) - 1,
          D = Math.max(J, z) - Math.min(J, z),
          C = Math.max(y, z) - Math.min(y, z),
          B = Math.min(D, C);
        if (B < H) {
          H = B;
          A = E
        }
      }
      return A.item
    },
    _getItemByOffset: function(B, C) {
      var D = this,
        A = D.element.children;
      for (var z = 0; z < A.length; z++) {
        var y = A[z];
        if (C >= y._translationY - (D._itemSpacing / 2) && C <= y._translationY + D._itemLength + (D._itemSpacing / 2) - 1 && B >= D._itemSpacing && B <= D._itemLength + D._itemSpacing) {
          return y.item
        }
      }
      return o
    },
    _translateWith: function(B, z) {
      var A = this,
        y = A.centeringAnimationSource = A.centeringAnimationSource || a("<div></div>"),
        z = z === 0 || z ? z : a(A.element).is(":visible") ? 500 : 0;
      y.stop().css({
        TOP: 0
      }).data("delta", 0).animate({
        TOP: "+=" + B
      }, {
        easing: "easeInOutSine",
        duration: z,
        step: function(D) {
          var C = D - a(this).data("delta");
          A._onGesture({
            translationY: C
          });
          a(this).data("delta", D)
        }
      });
      return A.centeringAnimationSource
    },
    _centerItem: function(A, B) {
      var D = this,
        z = B ? 0 : w,
        E = Math.round(A.element._translationY),
        y = D._centerTop,
        C = y - E;
      if (!C) {
        return
      }
      D._translateWith(C, z)
    },
    _slideToSelectedParams: function(B) {
      var D = this,
        C = B.value,
        y = D._value,
        A = D._loopingRange._start,
        z = D._loopingRange._end;
      return {
        startValue: C,
        destinationValue: y,
        start: A,
        end: z
      }
    },
    _slideToSelectedValue: function(J) {
      var N = this,
        G = N._slideToSelectedParams(J),
        K = G.startValue,
        B = G.destinationValue,
        I = G.start,
        F = G.end,
        H = K > B,
        D = H ? (B - I) + (F - K) + 1 : B - K,
        P = H ? K - B : (K - I) + (F - B) + 1,
        C = D < P ? -1 : 1,
        A = Math.round(Math.min(D, P) / N._loopingRange._step),
        O = Math.round(J.element._translationY),
        y = N._centerTop,
        z = y - O,
        L = z + (C * A * N._fullItemHeight),
        M = Math.abs(L),
        E = M > 20000 ? L : 1000;
      N._translateWith(L, E)
    },
    _selectItem: function(B, y) {
      var E = this,
        C = E._items,
        D = C.length,
        A;
      if (B.selected && !y) {
        return
      }
      for (var z = 0; z < D; z++) {
        A = C[z];
        if (E._value === A.value) {
          E._selectedItem = A
        }
      }
      E._unselectSelectedItems();
      B.selected = t;
      E._selectedItem = B;
      E._value = B.value;
      E._selectedItems.push(B);
      E.dispatchEvent("valuechanged", {
        value: B.value
      })
    },
    _unselectSelectedItems: function() {
      var B = this,
        z = B._selectedItems,
        A = z.length;
      for (var y = 0; y < A; y++) {
        z[y].selected = h
      }
      B._selectedItems = []
    },
    _initializeGestureHandling: function() {
      var G = this,
        y = G.element,
        z, A = h,
        E = function(H) {
          if (z) {
            var I = G._getItemByOffset(H.offsetX, H.offsetY);
            if (I && I.enabled) {
              G._animating = h;
              z.stop()
            }
          }
          z = new MSGesture();
          z.target = y;
          z.addPointer(H.pointerId);
          G.focus();
          A = t
        }, F = function() {
          A = h
        }, B = function(H) {
          if (G._issueHiding || !a(G.element).hasClass(r)) {
            z.stop();
            G._onGestureEnd()
          } else {
            if (G._onGesture(H)) {
              G._animating = t
            } else {
              if (!A) {
                z.stop();
                G._onGestureEnd()
              }
            }
          }
        }, C = function() {
          if (G._animating) {
            G._onGestureEnd()
          }
        }, D = function(H) {
          var I = G._getItemByOffset(H.offsetX, H.offsetY);
          if (I && I.enabled) {
            if (I !== G._selectedItem) {
              G._selectItem(I);
              G._centerItem(I)
            } else {
              G._centerItem(I)
            }
          }
        };
      y.addEventListener("MSGestureStart", B, h);
      y.addEventListener("MSGestureEnd", C, h);
      y.addEventListener("MSGestureChange", B, h);
      y.addEventListener("MSInertiaStart", B, h);
      y.addEventListener("MSGestureTap", D, h);
      y.addEventListener(p("down"), E, h);
      document.addEventListener(p("up"), F, h)
    },
    _onGestureEnd: function() {
      var z = this,
        y = z._getItemClosestToCenter();
      z._animating = h;
      if (y.enabled) {
        z._selectItem(y)
      }
      if (z._issueHiding) {
        z.hideSelectionItems()
      }
      if (y.enabled) {
        z._centerItem(y)
      } else {
        z._slideToSelectedValue(y)
      }
    },
    _onGesture: function(y) {
      var H = this,
        B, C = H._items,
        z = H._itemLength + H._itemSpacing,
        I = y.translationY,
        D;
      for (var A = 0; A < C.length; A++) {
        var F = o;
        D = h;
        B = C[A];
        H._translateY(B, I);
        if (H._isOverflowingBottom(B)) {
          var E = -z - H.listHeight;
          F = H._loopingRange.prev();
          H._translateY(B, E);
          H._bindItem(B, F);
          H._queue.shiftRight();
          D = t
        } else {
          if (H._isOverflowingTop(B)) {
            var E = H.listHeight + z;
            F = H._loopingRange.next();
            H._translateY(B, E);
            H._bindItem(B, F);
            H._queue.shiftLeft();
            D = t
          }
        }
        if (D) {
          var G = !a(H.element).find(".t-selected").length;
          if (H._value === B.value) {
            if (G) {
              B.element.style.opacity = 1;
              H._selectedItem = B
            }
          } else {
            if (H._selectedItem === B) {
              H._selectedItem = o
            }
          }
          B.selected = B.value == H._value && G;
          if (B.selected) {
            H._selectedItems.push(B)
          }
          H._selectedItems = H._selectedItems.filter(function(J) {
            return J.selected
          })
        }
      }
      return true
    },
    _isOverflowingTop: function(B) {
      var C = this,
        y = B.element,
        A = y._translationY,
        z = A + C._itemLength + C._itemSpacing;
      return z < C.listOffset ? z : 0
    },
    _isOverflowingBottom: function(A) {
      var D = this,
        y = A.element,
        B = D.listHeight + D.listOffset,
        z = y._translationY - (D._itemSpacing / 2),
        C = z - B;
      return C > 0 ? C : 0
    },
    _adjustBoundaries: function(A) {
      var z = A.minValue,
        y = A.maxValue;
      if (A.value && z !== o) {
        if (A.value < z) {
          A.value = z
        }
      }
      if (A.value && y !== o) {
        if (A.value > y) {
          A.value = y
        }
      }
      return A
    }
  });
  m(b, x.Utilities.eventMixin);
  n("Telerik.UI", {
    _LoopingList: b
  })
})(this, jQuery);
(function(d, a, i) {
  var j = WinJS,
    c = j.Class.derive,
    e = j.Namespace.define,
    h = Telerik.UI,
    b = h._LoopingList,
    f = null,
    g = true;
  e("Telerik.UI", {
    _SlidingList: c(b, function(k, l) {
      this._dataSource = l.dataSource;
      b.call(this, k, l)
    }, {
      _dataSource: f,
      _cachedValue: f,
      _findItemByValue: function(p) {
        var o = this,
          l, m = o._items,
          n = m ? m.length : 0;
        for (var k = 0; k < n; k++) {
          if ((l = m[k]).value == p) {
            return l
          }
        }
        return f
      },
      _updateSelection: function(n, k) {
        var m = this,
          l = m._findItemByValue(n);
        if (!k && !m._initialized) {
          m._cachedValue = n;
          return
        }
        if (l) {
          m.showSelectionItems();
          m._selectItem(l);
          m.hideSelectionItems();
          m._centerItem(l)
        }
      },
      moveSelectionUp: function() {
        var n = this,
          k = n._selectedItem,
          m = a(k.element).prev().get(0),
          l = m && m.item;
        if (l && l.enabled) {
          n._selectItem(l);
          n._centerItem(l, g)
        }
      },
      moveSelectionDown: function() {
        var n = this,
          k = n._selectedItem,
          m = a(k.element).next().get(0),
          l = m && m.item;
        if (l && l.enabled) {
          n._selectItem(l);
          n._centerItem(l, g)
        }
      },
      _refreshValue: function() {
        var k = this,
          l = k.value;
        if (!k._initialized) {
          return
        }
        k._cachedValue = l;
        k.bind()
      },
      refresh: function() {
        var k = this;
        if (!k._initialized) {
          return
        }
        k.element.innerHTML = "";
        k._initializeItems();
        k.bind()
      },
      bind: function(m) {
        var n = this;
        for (var k = 0; k < n._items.length; k++) {
          var l = n._items[k];
          l.value = n._dataSource[k];
          n._determineAndSetEnabled(l);
          n.dispatchEvent("itemBound", {
            item: l,
            value: l.value
          })
        }
        if (n._cachedValue !== f) {
          n._updateSelection(n._cachedValue, g);
          n._cachedValue = f
        }
      },
      _slideToSelectedParams: function(n) {
        var p = this,
          o = p.dataSource.indexOf(n.value),
          k = p.dataSource.indexOf(p._selectedItem.value),
          m = 0,
          l = p.dataSource.length;
        return {
          startValue: o,
          destinationValue: k,
          start: m,
          end: l
        }
      },
      _determineAndSetEnabled: function(l) {
        var o = this,
          k = o._dataSource,
          n = k.indexOf(o.minValue),
          m = k.indexOf(o.maxValue),
          p = k.indexOf(l.value);
        m = m == -1 ? k.length : m;
        l.enabled = p >= n && p <= m
      },
      _getRenderedItemCount: function() {
        return this._dataSource.length
      },
      _onGesture: function(l) {
        var r = this,
          o, p = r._items,
          s = l.translationY;
        var k = r._centerTop,
          m = p[0].element._translationY + s,
          q = p[p.length - 1].element._translationY + s;
        if (s < 0 && q < k) {
          s = k - p[p.length - 1].element._translationY
        } else {
          if (s > 0 && m > k) {
            s = k - p[0].element._translationY
          }
        }
        if (!s) {
          return false
        }
        for (var n = 0; n < p.length; n++) {
          o = p[n];
          r._translateY(o, s)
        }
        return true
      }
    })
  })
})(this, jQuery);
(function(c, e) {
  var f = WinJS,
    b = f.Class.derive,
    d = f.Namespace.define,
    a = Telerik.UI._LoopingListItem;
  d("Telerik.UI", {
    _DateListItem: b(a, function(g) {
      var h = this;
      a.call(h, g);
      h._render()
    }, {
      _label: "",
      label: {
        get: function() {
          return this._label
        },
        set: function(h) {
          var g = this;
          g._label = h;
          g._refreshLabel()
        }
      },
      _valueElement: null,
      _render: function() {
        var h = this,
          i = document.createElement("SPAN"),
          g = document.createElement("SPAN");
        i.className = "t-value";
        g.className = "t-label";
        h._valueElement = i;
        h._labelElement = g;
        h.element.appendChild(i);
        h.element.appendChild(g)
      },
      _refreshValue: function() {
        var g = this;
        g._valueElement.textContent = g._value
      },
      _refreshLabel: function() {
        var g = this;
        g._labelElement.textContent = g._label
      }
    })
  })
})(this);
(function(d, g) {
  var h = WinJS,
    c = h.Class.derive,
    e = h.Namespace.define,
    f = Telerik.UI,
    b = Windows.Globalization.Calendar,
    a = f._LoopingList;
  e("Telerik.UI", {
    _YearList: c(a, function(i, j) {
      var j = j || {};
      this._initRangeBoundaries(j);
      a.call(this, i, j)
    }, {
      _initRangeBoundaries: function(k) {
        var j = new b(),
          i = new b();
        j.setToMin();
        i.setToMax();
        k.rangeStart = j.year;
        k.rangeEnd = i.year
      },
      createItem: function(i) {
        return new f._DateListItem(i)
      }
    })
  })
})(this);
(function(c, f) {
  var g = WinJS,
    b = g.Class.derive,
    d = g.Namespace.define,
    e = Telerik.UI,
    a = e._LoopingList;
  d("Telerik.UI", {
    _MonthList: b(a, function(h, i) {
      var i = i || {};
      this._initRangeBoundaries(i);
      a.call(this, h, i)
    }, {
      _initRangeBoundaries: function(h) {
        h.rangeStart = 1;
        h.rangeEnd = 12
      },
      createItem: function(h) {
        return new e._DateListItem(h)
      }
    })
  })
})(this);
(function(c, f) {
  var g = WinJS,
    b = g.Class.derive,
    d = g.Namespace.define,
    e = Telerik.UI,
    a = e._LoopingList;
  d("Telerik.UI", {
    _DayList: b(a, function(h, i) {
      var j = this,
        i = i || {};
      j._initRangeBoundaries(i);
      a.call(this, h, i)
    }, {
      _initRangeBoundaries: function(i) {
        var j = i.rangeEnd,
          h = j ? j : 31;
        i.rangeStart = 1;
        i.rangeEnd = h
      },
      createItem: function(h) {
        return new e._DateListItem(h)
      },
      updateRangeEnd: function(h) {
        var l = this,
          m = l.value,
          j = l._loopingRange,
          i = h.getDate(),
          k = m > i ? i : m;
        j.end = i;
        j.centerAt(k);
        l.bind();
        l._value = l._selectedItem.value
      }
    })
  })
})(this);
(function(c, e) {
  var f = WinJS,
    b = f.Class.derive,
    d = f.Namespace.define,
    a = Telerik.UI._LoopingListItem;
  d("Telerik.UI", {
    _TimeListItem: b(a, function(g) {
      var h = this;
      a.call(h, g);
      h._render()
    }, {
      _valueElement: null,
      _render: function() {
        var h = this,
          g = document.createElement("SPAN");
        g.className = "t-value";
        h._valueElement = g;
        h.element.appendChild(g)
      },
      _refreshValue: function() {
        var g = this;
        g._valueElement.textContent = g._value
      }
    })
  })
})(this);
(function(c, h) {
  var i = WinJS,
    b = i.Class.derive,
    d = i.Namespace.define,
    g = Telerik.UI,
    a = g._LoopingList,
    f = 12,
    e = null;
  d("Telerik.UI", {
    _HourList: b(a, function(j, k) {
      var l = this,
        k = k || {};
      l._shortTime = k.twentyFourHour ? 0 : 12;
      l._initRangeBoundaries(k);
      a.call(l, j, k)
    }, {
      _initRangeBoundaries: function(l) {
        var j = this._shortTime ? 1 : 0,
          k = this._shortTime ? f : 23;
        l.rangeStart = j;
        l.rangeEnd = k
      },
      _getMinValue: function() {
        var j = this.minValue;
        if (j === e) {
          j = this._shortTime ? f : 0
        }
        return j
      },
      _getMaxValue: function() {
        var j = this.maxValue;
        if (j === e) {
          j = this._shortTime ? 11 : 23
        }
        return j
      },
      _adjustBoundaries: function(l) {
        var k = l.minValue,
          j = l.maxValue;
        if (l.value && k !== e) {
          if (l.value < k && (l.minValue != f)) {
            l.value = k
          }
        }
        if (l.value && j !== e) {
          if (l.value > j && (l.value != f)) {
            l.value = j
          }
        }
        return l
      },
      _itemEnabled: function(l) {
        var j = this,
          k;
        k = j._normalizeTwelveHour(j._getMinValue(), j._getMaxValue(), l);
        if ((k.value < k.min) || (k.value > k.max)) {
          return false
        }
        return true
      },
      _normalizeTwelveHour: function(k, j, l) {
        if (this._shortTime) {
          if (k === f) {
            k = 0
          }
          if (j === f) {
            j = 0
          }
          if (l === f) {
            l = 0
          }
        }
        return {
          min: k,
          max: j,
          value: l
        }
      },
      _validateValue: function(n) {
        var l = this,
          k = l._getMinValue(),
          j = l._getMaxValue(),
          m;
        m = l._normalizeTwelveHour(k, j, n);
        if (m.min > m.max) {
          j = k
        }
        if (n !== e && m.value < m.min) {
          n = k
        }
        if (n !== e && m.value > m.max) {
          n = j
        }
        return n
      },
      createItem: function(j) {
        return new g._TimeListItem(j)
      }
    }, {
      getHourInPeriod: function(j, o) {
        var n = o ? 0 : 12,
          m = n ? f : 23,
          k = j.getHours(),
          l = k - m;
        if (!k) {
          return n
        }
        return l > 0 ? l : k
      }
    })
  })
})(this);
(function(c, f) {
  var g = WinJS,
    b = g.Class.derive,
    d = g.Namespace.define,
    e = Telerik.UI,
    a = e._LoopingList;
  d("Telerik.UI", {
    _MinuteList: b(a, function(h, i) {
      var i = i || {};
      this._initRangeBoundaries(i);
      a.call(this, h, i)
    }, {
      _initRangeBoundaries: function(h) {
        h.rangeStart = 0;
        h.rangeEnd = 59
      },
      createItem: function(h) {
        return new e._TimeListItem(h)
      }
    })
  })
})(this);
(function(c, f) {
  var g = WinJS,
    b = g.Class.derive,
    d = g.Namespace.define,
    e = Telerik.UI,
    a = e._SlidingList;
  d("Telerik.UI", {
    _PeriodList: b(a, function(j, k) {
      var m = this,
        k = k || {}, h = k.AM,
        l = k.PM,
        i = kendo.cultures["en-US"].calendars.standard;
      m._AM = (!h || h === "") ? i.AM[0] : h;
      m._PM = (!l || l === "") ? i.PM[0] : l;
      k.dataSource = [m._AM, m._PM];
      a.call(m, j, k);
      if (k.value) {
        m.value = m._getPeriodStringFromPeriodIndex(k.value)
      }
      if (k.minValue) {
        m.minValue = m._getPeriodStringFromPeriodIndex(k.minValue)
      }
      if (k.maxValue) {
        m.maxValue = m._getPeriodStringFromPeriodIndex(k.maxValue)
      }
    }, {
      _getPeriodStringFromPeriodIndex: function(h) {
        return h == 2 ? this._PM : this._AM
      },
      createItem: function(h) {
        return new e._TimeListItem(h)
      }
    }, {
      _getPeriodIndexFromHour: function(h, l) {
        var k = l ? 23 : 12,
          i = h.getHours(),
          j = i - k;
        return j >= 0 ? 2 : 1
      },
      _getPeriodIndexFromString: function(h, i) {
        if (i == h._AM) {
          return 1
        }
        if (i == h._PM) {
          return 2
        }
        return null
      }
    })
  })
})(this);
(function(a, b) {
  WinJS.Namespace.define("Telerik.UI", {
    _DisplayMode: {
      standard: "standard",
      inline: "inline"
    }
  })
})(this);
(function(b, e) {
  var f = WinJS,
    c = f.Namespace.define,
    d = Telerik.UI,
    a = d._DisplayMode;
  c("Telerik.UI", {
    _Utility: {
      removeRtlMarks: function(k) {
        var j = [],
          h, g;
        for (h = 0; h < k.length; h++) {
          g = k.charAt(h);
          if (g != "\u200E" && g != "\u200F") {
            j.push(g)
          }
        }
        return j.join("")
      },
      tryParseObject: function(h) {
        if (typeof h == "string") {
          var g = h.trim();
          if (g[0] == "{" && g[g.length - 1] == "}") {
            return JSON.parse(g)
          }
        }
        return h
      },
      isInline: function(g) {
        return g.displayMode == a.inline
      }
    }
  })
})(this);
(function(d, a, i) {
  var j = WinJS,
    c = j.Class.define,
    e = j.Namespace.define,
    h = "t-press",
    g = "t-outline",
    f = null;
  var b = c(function(k, m) {
    var l = this;
    l.element = k;
    l._value = m
  }, {
    element: f,
    _value: i,
    value: {
      get: function() {
        return this._value
      }
    },
    focus: function() {
      a(this.element).addClass(g)
    },
    blur: function() {
      a(this.element).removeClass(g)
    },
    focused: function() {
      return a(this.element).hasClass(g)
    },
    press: function() {
      a(this.element).addClass(h)
    },
    release: function() {
      a(this.element).removeClass(h)
    }
  });
  e("Telerik.UI", {
    _SelectorButton: b
  })
})(this, jQuery);
(function(d, a, f) {
  var g = WinJS,
    c = g.Class.define,
    e = g.Namespace.define;
  var b = c(function(j, h, i) {
    var k = this;
    k._lists = j;
    k._all = [];
    k._all.push.apply(k._all, j);
    k._all.push.apply(k._all, h);
    k._lix = -1;
    k._aix = -1;
    k._isRtl = i
  }, {
    focusNextList: function() {
      var i = this,
        h = i._all[i._aix];
      if (h) {
        h.blur()
      }
      if (++i._lix >= i._lists.length) {
        i._lix = 0
      }
      i._aix = i._lix;
      i._lists[i._lix].focus()
    },
    focusPreviousList: function() {
      var i = this,
        h = i._all[i._aix];
      if (h) {
        h.blur()
      }
      if (--i._lix < 0) {
        i._lix = i._lists.length - 1
      }
      i._aix = i._lix;
      i._lists[i._lix].focus()
    },
    focusNext: function() {
      var i = this,
        h = i._all[i._aix];
      if (h) {
        h.blur()
      }
      i._aix += (i._isRtl ? -1 : 1);
      if (i._isRtl && i._aix < 0) {
        i._aix = i._all.length - 1;
        i._lix = i._lists.length - 1
      } else {
        if (i._aix >= i._all.length) {
          i._aix = 0;
          i._lix = 0
        }
      }
      if (i._aix >= i._lists.length) {
        i._lix = -1
      } else {
        i._lix = i._aix
      }
      i._all[i._aix].focus()
    },
    focusPrevious: function() {
      var i = this,
        h = i._all[i._aix];
      if (h) {
        h.blur()
      }
      i._aix--;
      if (i._aix < 0) {
        i._aix = i._all.length - 1
      }
      if (i._aix >= i._lists.length) {
        i._lix = -1
      } else {
        i._lix = i._aix
      }
      i._all[i._aix].focus()
    },
    pressButton: function() {
      var h = this;
      if (h._aix > h._lix) {
        h._all[h._aix].press()
      }
    },
    releaseButton: function() {
      var h = this;
      if (h._aix > h._lix) {
        h._all[h._aix].release();
        return h._all[h._aix].value
      }
      return true
    },
    moveListSelectionDown: function() {
      var h = this;
      if (h._lix > -1) {
        h._lists[h._lix].moveSelectionDown()
      }
    },
    moveListSelectionUp: function() {
      var h = this;
      if (h._lix > -1) {
        h._lists[h._lix].moveSelectionUp()
      }
    },
    focusList: function(j) {
      var k = this,
        i = k._lists.indexOf(j),
        h = k._all[k._aix];
      if (i === -1 || h === j) {
        return
      }
      if (h) {
        h.blur()
      }
      k._aix = k._lix = i
    },
    blur: function() {
      var i = this,
        h = i._all[i._aix];
      if (h) {
        h.blur();
        i._aix = i._lix = -1
      }
    },
    hasFocusedControl: function() {
      return this._aix > -1
    },
    isFirstControlFocused: function() {
      return !this._aix
    },
    isLastControlFocused: function() {
      var h = this;
      return h._aix == h._all.length - 1
    },
    getFocusedList: function() {
      var h = this;
      return h._lists[h._lix]
    }
  });
  e("Telerik.UI", {
    _SelectorControlList: b
  })
})(this, jQuery);
(function(m, a, J) {
  var M = WinJS,
    j = M.Class.derive,
    r = M.Class.mix,
    s = M.Namespace.define,
    f = M.UI.Animation,
    I = Telerik.UI,
    K = Telerik.Utilities,
    y = K.setPrivate,
    i = Telerik.Culture,
    x = K._pointerEvent,
    c = I._SelectorButton,
    d = I._SelectorControlList,
    b = I._DisplayMode,
    e = I._Utility,
    q = 10,
    p = 70,
    o = 3,
    F = "t-header",
    A = "t-body",
    E = "t-footer",
    D = "t-col",
    B = "t-button",
    G = "t-ok",
    C = "t-cancel",
    v = "OK",
    w = "open",
    h = "close",
    u = null,
    H = true,
    k = false,
    L = "visible",
    n = "hidden",
    g = "block",
    t = "none",
    l = "function",
    z = "px";
  s("Telerik.UI", {
    _DateTimeSelector: j(I.Control, function(N, O) {
      var P = this;
      O = O || {};
      I.Control.call(P, N, O);
      M.UI.setOptions(P, O);
      P._setOptions(O);
      y(P, "_isRtl", kendo.support.isRtl(N));
      P._render();
      P._initElementProperties();
      P._initTemplates();
      P._renderHeaderAndFooterInlineStyles();
      P._initLists();
      P._initEvents();
      P._renderBodyInlineStyles();
      P._initialized = H;
      P._refreshDisplayMode();
      if (e.isInline(P)) {
        P._activateControls()
      }
    }, {
      _initialized: k,
      _skipRefresh: k,
      _header: u,
      _body: u,
      _footer: u,
      _buttonOk: u,
      _buttonCance: u,
      _value: u,
      _minValue: u,
      _maxValue: u,
      _itemSpacing: q,
      _itemLength: p,
      _itemCount: o,
      _format: u,
      _headerContent: "",
      _itemTemplate: u,
      _compiledItemTemplate: u,
      _headerTemplate: u,
      _displayMode: b.standard,
      _keyboardInputString: "",
      _keyboardInputTimeoutId: u,
      _culture: i.getCurrent(),
      _calendar: kendo.cultures[i.getCurrent()].calendars.standard,
      _twentyFourHour: kendo.cultures[i.getCurrent()].twentyFourHour,
      _isKeyDownFromSelf: false,
      _step: u,
      culture: {
        get: function() {
          return this._culture || i.getCurrent()
        },
        set: function(P) {
          var O = this,
            N;
          i._checkCulture(P);
          N = kendo.cultures[P];
          O._culture = P;
          O._calendar = N.calendars.standard;
          O._twentyFourHour = N.twentyFourHour;
          O._refresh()
        }
      },
      itemCount: {
        get: function() {
          return this._itemCount
        },
        set: function(O) {
          var N = this;
          N._itemCount = O;
          N._refresh()
        }
      },
      itemSpacing: {
        get: function() {
          return this._itemSpacing
        },
        set: function(O) {
          var N = this;
          N._itemSpacing = O;
          N._refresh()
        }
      },
      itemLength: {
        get: function() {
          return this._itemLength
        },
        set: function(O) {
          var N = this;
          N._itemLength = O;
          N._refresh()
        }
      },
      format: {
        get: function() {
          return this._format
        },
        set: function(O) {
          var N = this;
          N._format = O;
          N._refresh()
        }
      },
      value: {
        get: function() {
          return this._value
        },
        set: function(O) {
          var N = this;
          if (!O) {
            O = new Date()
          }
          N._value = O;
          N._refresh()
        }
      },
      minValue: {
        get: function() {
          return this._minValue
        },
        set: function(O) {
          var N = this;
          N._minValue = O;
          N._refresh()
        }
      },
      maxValue: {
        get: function() {
          return this._maxValue
        },
        set: function(O) {
          var N = this;
          N._maxValue = O;
          N._refresh()
        }
      },
      isOpen: {
        get: function() {
          return this.element.style.visibility == L
        }
      },
      headerContent: {
        get: function() {
          return this._headerContent
        },
        set: function(O) {
          var N = this;
          N._headerContent = O;
          N._refresh()
        }
      },
      headerTemplate: {
        get: function() {
          return this._headerTemplate
        },
        set: function(O) {
          var N = this;
          N._headerTemplate = O;
          N._refresh()
        }
      },
      itemTemplate: {
        get: function() {
          return this._itemTemplate
        },
        set: function(O) {
          var N = this;
          N._itemTemplate = O;
          N._refresh()
        }
      },
      displayMode: {
        get: function() {
          return this._displayMode
        },
        set: function(O) {
          var N = this;
          N._displayMode = O;
          N._refreshDisplayMode()
        }
      },
      step: {
        get: function() {
          return this._step
        },
        set: function(O) {
          var N = this;
          N._step = O;
          N._refresh()
        }
      },
      _refresh: function() {
        var N = this;
        if (!N._initialized) {
          return
        }
        N._header.innerHTML = N._getHeaderContent();
        N._body.innerHTML = "";
        N._initTemplates();
        N._renderHeaderAndFooterInlineStyles();
        N._initLists();
        N._renderBodyInlineStyles();
        if (e.isInline(N)) {
          N._activateControls()
        }
      },
      _refreshDisplayMode: function() {
        var T = this,
          N = a(T.element),
          O, U, R, S, P, Q = e.isInline(T);
        if (!T._initialized) {
          return
        }
        O = Q ? "inline-block" : t;
        U = Q ? L : n;
        R = Q ? 1 : 0;
        S = Q ? "static" : "absolute";
        P = Q ? t : g;
        N.css({
          display: O,
          visibility: U,
          opacity: R,
          position: S
        });
        T._footer.style.display = P;
        if (Q) {
          T._activateControls()
        }
        T._refreshInlineRelatedEvents()
      },
      _setOptions: function(N) {
        var O = this;
        O._itemLength = N.itemLength || p;
        O._itemCount = N.itemCount || o
      },
      _getSpecificSelectorClass: function() {
        return "t-date-time-selector"
      },
      _render: function() {
        var P = this,
          N = a(P.element),
          O = [];
        N.addClass(P._getSpecificSelectorClass()).css("zIndex", 1000000);
        if (P._isRtl) {
          N.addClass("k-rtl")
        }
        P._renderHeader(O);
        P._renderBody(O);
        P._renderFooter(O);
        N.append(O.join(""))
      },
      _parsedHeaderContent: function() {
        var O = this,
          N = O._headerContent;
        return e.tryParseObject(N)
      },
      _getHeaderContent: function() {
        var P = this,
          N = P._parsedHeaderContent() || "",
          O = P._headerTemplate,
          O = O && typeof O !== l ? K.getTemplate(O, H) : O;
        return O && typeof N === "object" ? O(N) : N
      },
      _renderHeader: function(N) {
        N.push("<div class='" + F + "'>");
        N.push(this._getHeaderContent());
        N.push("</div>")
      },
      _renderBody: function(N) {
        N.push("<div class='" + A + "'></div>")
      },
      _renderFooter: function(N) {
        N.push("<div class='" + E + "'>");
        N.push("<a class='" + B + " " + G + "'><span></span></a>");
        N.push("<a class='" + B + " " + C + "'><span></span></a>");
        N.push("</div>")
      },
      _renderInlineStyles: function() {
        var N = this;
        N._renderHeaderAndFooterInlineStyles();
        N._renderBodyInlineStyles()
      },
      _renderHeaderAndFooterInlineStyles: function() {
        var O = this,
          N = O._itemSpacing + z;
        if (O._headerContent) {
          O._header.style.paddingTop = N;
          O._header.style.paddingRight = N;
          O._header.style.paddingBottom = N;
          O._header.style.paddingLeft = N
        }
        O._footer.style.paddingTop = N;
        O._footer.style.paddingRight = N;
        O._footer.style.paddingBottom = N;
        O._footer.style.paddingLeft = N;
        if (O._isRtl) {
          a(O._footer).find("." + C).css({
            marginRight: N
          })
        } else {
          a(O._footer).find("." + C).css({
            marginLeft: N
          })
        }
      },
      _renderBodyInlineStyles: function() {
        var V = this,
          U = V._itemSpacing + z,
          O = a(V._body).find("[class*='" + D + "']").length;
        if (O) {
          var Q = parseInt(V.element.currentStyle.width, 10),
            R = 3 * V._itemLength + 4 * V._itemSpacing,
            S = Q ? Q : R,
            W = O * V._itemLength + (O + 1) * V._itemSpacing,
            P = S - W,
            T = P / 2 + V._itemSpacing,
            N = T + z;
          V._body.style.paddingLeft = N;
          V._body.style.paddingRight = N
        } else {
          V._body.style.paddingLeft = U;
          V._body.style.paddingRight = U
        }
        a(V._body).find("." + D + 2).css({
          marginLeft: U
        });
        a(V._body).find("." + D + 3).css({
          marginLeft: U
        })
      },
      _getMaxListHeight: function() {
        var T = this,
          U = window.innerHeight,
          R = T.element.cloneNode(true),
          N = a("<div />").append(R).appendTo(document.body),
          S = a(R).outerHeight(),
          O = a("." + E, R).outerHeight(),
          P = U - S;
        if (e.isInline(T)) {
          var Q = a(T.element).offset();
          P = U - Q.top - S + O
        }
        N.remove();
        return P
      },
      _initElementProperties: function() {
        var O = this,
          N = O.element;
        O._header = a("." + F, N).get(0);
        O._body = a("." + A, N).get(0);
        O._footer = a("." + E, N).get(0);
        O._buttonOk = new c(a(O._footer).find("." + G).get(0), true);
        O._buttonCance = new c(a(O._footer).find("." + C).get(0), false)
      },
      _initTemplates: function() {
        var N = this,
          O = N._itemTemplate,
          O = O && typeof O !== l ? K.getTemplate(O, true) : O;
        N._compiledItemTemplate = O
      },
      _column: function(O) {
        var P = this,
          N = document.createElement("DIV");
        N.className = D + O;
        P._body.appendChild(N);
        return N
      },
      _initLists: function() {},
      _onFocusDelegate: u,
      _onBlurDelegate: u,
      _initEventDelegates: function() {
        var N = this;
        N._onFocusDelegate = N._onFocus.bind(N);
        N._onBlurDelegate = N._onBlur.bind(N)
      },
      _initEvents: function() {
        var N = this;
        N._initEventDelegates();
        N.element.addEventListener(x("down"), function(O) {
          N._onClick(O)
        }, false);
        N.element.addEventListener("keydown", function(O) {
          N._onKeyDown(O)
        }, false);
        N.element.addEventListener("keyup", function(O) {
          N._onKeyUp(O)
        }, false);
        N.element.addEventListener("keypress", function(O) {
          N._onKeyPress(O)
        }, false);
        N.element.addEventListener("mousewheel", function(O) {
          N._onMouseWheel(O)
        }, false);
        N._buttonOk.element.addEventListener("click", function() {
          N._onButtonOkClick()
        }, false);
        N._buttonCance.element.addEventListener("click", function() {
          N._onButtonCancelClick()
        }, false);
        N._refreshInlineRelatedEvents()
      },
      _refreshInlineRelatedEvents: function() {
        var N = this;
        if (e.isInline(N)) {
          N.element.addEventListener("focus", N._onFocusDelegate, false);
          N.element.addEventListener("blur", N._onBlurDelegate, false)
        } else {
          N.element.removeEventListener("focus", N._onFocusDelegate);
          N.element.removeEventListener("blur", N._onBlurDelegate)
        }
      },
      _onClick: function(N) {
        var O = this;
        if (e.isInline(O)) {
          setTimeout(function() {
            O.element.focus()
          }, 0)
        } else {
          N.stopPropagation();
          N.preventDefault()
        }
      },
      _onFocus: function() {
        if (!this._activeControls.hasFocusedControl()) {
          this._activeControls.focusNext()
        }
      },
      _onBlur: function(N) {
        if (!a(N.target).find(document.activeElement).length) {
          this._activeControls.blur()
        }
      },
      _onButtonOkClick: function() {
        var N = this;
        N.close(true);
        N._updateValue(H);
        N.dispatchEvent("ok", {
          value: N.value
        })
      },
      _onButtonCancelClick: function() {
        this.close(true)
      },
      _onKeyDown: function(N) {
        var P = this,
          O = true;
        if (N.keyCode == 9) {
          if (N.shiftKey) {
            if (e.isInline(P) && P._activeControls.isFirstControlFocused()) {
              O = false
            } else {
              P._activeControls.focusPrevious()
            }
          } else {
            if (e.isInline(P) && P._activeControls.isLastControlFocused()) {
              O = false
            } else {
              P._activeControls.focusNext()
            }
          }
          if (O) {
            N.preventDefault()
          }
        } else {
          if (N.keyCode == 13) {
            P._activeControls.pressButton()
          } else {
            if (N.keyCode == 8) {
              N.preventDefault()
            }
          }
        }
        if (e.isInline(P)) {
          P._preventArrows(N)
        }
        P._isKeyDownFromSelf = true
      },
      _onKeyUp: function(N) {
        var O = this;
        if (N.keyCode == 13 && !e.isInline(O)) {
          if (O._isKeyDownFromSelf) {
            if (O._activeControls.releaseButton()) {
              O._onButtonOkClick()
            } else {
              O.close(true)
            }
          }
        } else {
          if (N.keyCode == 27 && !e.isInline(O)) {
            O.close(true)
          } else {
            if (N.keyCode == 40) {
              O._activeControls.moveListSelectionDown()
            } else {
              if (N.keyCode == 39) {
                O._activeControls.focusNextList()
              } else {
                if (N.keyCode == 38) {
                  O._activeControls.moveListSelectionUp()
                } else {
                  if (N.keyCode == 37) {
                    O._activeControls.focusPreviousList()
                  }
                }
              }
            }
          }
        }
        N.stopPropagation();
        O._isKeyDownFromSelf = false
      },
      _onKeyPress: function(N) {
        var P = this;
        clearTimeout(P._keyboardInputTimeoutId);
        P._keyboardInputTimeoutId = setTimeout(function() {
          P._resetKeyboardInput()
        }, 1000);
        if (N.keyCode >= 48 && N.keyCode <= 57) {
          P._keyboardInputString += N.key;
          var O = P._activeControls.getFocusedList();
          if (O) {
            O.value = parseInt(P._keyboardInputString, 10);
            O.dispatchEvent("valuechanged", {
              value: O.value
            });
            if (e.isInline(P)) {
              P._updateValue(H);
              P.dispatchEvent("ok", {
                value: P.value
              })
            }
          }
        }
      },
      _onMouseWheel: function(N) {
        var O = this;
        if (N.wheelDelta >= 120) {
          O._activeControls.moveListSelectionUp()
        } else {
          if (N.wheelDelta <= -120) {
            O._activeControls.moveListSelectionDown()
          }
        }
      },
      _getOrderedListArray: function() {
        var R = this,
          Q = [],
          N, O = R._body.children;
        for (var P = 0; P < O.length; P++) {
          N = O[P];
          if (N.winControl) {
            Q.push(N.winControl)
          }
        }
        return Q
      },
      _activateControls: function() {
        var P = this,
          O = P._getOrderedListArray(),
          N = e.isInline(P) ? [] : [P._buttonOk, P._buttonCance];
        P._activeControls = new d(O, N);
        if (!e.isInline(P)) {
          P._activeControls.focusNext()
        }
      },
      _preventArrows: function(N) {
        if (N.keyCode == 37 || N.keyCode == 38 || N.keyCode == 39 || N.keyCode == 40) {
          N.preventDefault();
          N.stopPropagation()
        }
      },
      _resetKeyboardInput: function() {
        this._keyboardInputString = ""
      },
      open: function() {
        var N = this;
        N.element.style.display = g;
        N.element.style.visibility = L;
        N.element.tabIndex = 0;
        N._activateControls();
        if (N.element.parentNode !== document.body) {
          document.body.appendChild(N.element)
        }
        f.fadeIn(N.element).done(function() {
          N.element.focus();
          N.dispatchEvent("open")
        })
      },
      close: function(N) {
        var O = this;
        f.fadeOut(O.element).done(function() {
          O.element.style.display = t;
          O.element.style.visibility = n;
          O.element.removeAttribute("tabIndex");
          O.dispatchEvent("close", {
            keepFocus: N
          })
        });
        if (O._activeControls) {
          O._activeControls.blur()
        }
      },
      repaint: function() {
        this._renderInlineStyles()
      },
      _hideSelectionItemsFromAllListsExcept: function(N) {}
    })
  });
  r(Telerik.UI._DateTimeSelector, M.Utilities.eventMixin, M.Utilities.createEventProperties(v, w, h))
})(this, jQuery);
(function(k, a, s) {
  var t = WinJS,
    j = t.Class.derive,
    m = t.Namespace.define,
    r = Telerik.UI,
    h = Telerik.Culture,
    f = r._Utility,
    c = r._DateTimeSelector,
    g = r._YearList,
    e = r._MonthList,
    d = r._DayList,
    q = "t-date-selector",
    u = "y",
    l = "m",
    i = "d",
    o = "ok",
    p = 1,
    n = null;
  var b = j(c, function(v, w) {
    var x = this,
      w = w || {};
    x._localizationKey = "raddatepicker";
    if (!w.value) {
      w.value = new Date()
    } else {
      if (!(w.value instanceof Date)) {
        w.value = new Date(w.value)
      }
    }
    if (w.headerContent === s) {
      w.headerContent = x._getString("selectorHeader")
    }
    c.call(x, v, w)
  }, {
    _getSpecificSelectorClass: function() {
      return q
    },
    _refresh: function() {
      var v = this;
      if (v._skipRefresh) {
        return
      }
      if (v._yearList) {
        v._yearList.itemCount = v.itemCount;
        v._yearList.itemLength = v.itemLength;
        v._yearList.itemSpacing = v.itemSpacing
      }
      if (v._monthList) {
        v._monthList.itemCount = v.itemCount;
        v._monthList.itemLength = v.itemLength;
        v._monthList.itemSpacing = v.itemSpacing
      }
      if (v._dayList) {
        v._dayList.itemCount = v.itemCount;
        v._dayList.itemLength = v.itemLength;
        v._dayList.itemSpacing = v.itemSpacing
      }
      c.prototype._refresh.call(v)
    },
    _getSystemDateFormat: function() {
      var y = this._calendar.patterns.d.toLowerCase(),
        x = [{
          token: u,
          index: y.indexOf(u)
        }, {
          token: l,
          index: y.indexOf(l)
        }, {
          token: i,
          index: y.indexOf(i)
        }].sort(function(z, A) {
          if (z.index < A.index) {
            return -1
          } else {
            if (z.index > A.index) {
              return 1
            }
          }
          return 0
        }),
        v = [];
      for (var w = 0; w < x.length; w++) {
        v.push(x[w].token)
      }
      return v.join("")
    },
    _initYearList: function(v, w) {
      var A = this,
        B = A._value.getFullYear(),
        y = A._minValue && A._minValue.getFullYear(),
        x = A._maxValue && A._maxValue.getFullYear(),
        z = A.step && A.step.year;
      A._yearList = new g(v, {
        value: B,
        minValue: y,
        maxValue: x,
        itemSpacing: A._itemSpacing,
        itemLength: A._itemLength,
        itemCount: A._itemCount,
        maxHeight: w,
        step: z,
        itemBound: function(C) {
          A._onYearItemBound(C)
        }
      })
    },
    _getMinAndMaxMonthListValues: function() {
      var y = this,
        x = y._yearList ? y._yearList.value : y._value.getFullYear(),
        w = n,
        v = n;
      if (y._minValue && x == y._minValue.getFullYear()) {
        w = y._minValue && y._minValue.getMonth() + 1
      }
      if (y._maxValue && x == y._maxValue.getFullYear()) {
        v = y._maxValue && y._maxValue.getMonth() + 1
      }
      return {
        minValue: w,
        maxValue: v
      }
    },
    _initMonthList: function(v, w) {
      var z = this,
        A = z._value.getMonth() + 1,
        x = z._getMinAndMaxMonthListValues(),
        y = z.step && z.step.month;
      z._monthList = new e(v, {
        value: A,
        minValue: x.minValue,
        maxValue: x.maxValue,
        itemSpacing: z._itemSpacing,
        itemLength: z._itemLength,
        itemCount: z._itemCount,
        maxHeight: w,
        step: y,
        itemBound: function(B) {
          z._onMonthItemBound(B)
        }
      })
    },
    _getMinAndMaxDayListValues: function() {
      var z = this,
        x = z._monthList ? z._monthList.value : z._value.getMonth(),
        y = z._yearList ? z._yearList.value : z._value.getFullYear(),
        w = n,
        v = n;
      if (z._minValue && x == z._minValue.getMonth() + 1 && y == z._minValue.getFullYear()) {
        w = z._minValue && z._minValue.getDate()
      }
      if (z._maxValue && x == z._maxValue.getMonth() + 1 && y == z._maxValue.getFullYear()) {
        v = z._maxValue && z._maxValue.getDate()
      }
      return {
        minValue: w,
        maxValue: v
      }
    },
    _initDayList: function(v, w) {
      var A = this,
        B = A._value.getDate(),
        y = new Date(A._value.getFullYear(), A._value.getMonth() + 1, 0).getDate(),
        x = A._getMinAndMaxDayListValues(),
        z = A.step && A.step.day;
      A._dayList = new d(v, {
        value: B,
        minValue: x.minValue,
        maxValue: x.maxValue,
        rangeEnd: y,
        itemSpacing: A._itemSpacing,
        itemLength: A._itemLength,
        itemCount: A._itemCount,
        maxHeight: w,
        step: z,
        itemBound: function(C) {
          A._onDayItemBound(C)
        }
      })
    },
    _initLists: function() {
      var B = this,
        y = B._format || B._getSystemDateFormat(),
        x = {
          Y: null,
          M: null,
          D: null
        }, w = 1,
        A = B._getMaxListHeight();
      for (var z = 0; z < y.length; z++) {
        var v = y[z];
        if (v == u && !x[v]) {
          x[v] = B._column(w++)
        } else {
          if (v == l && !x[v]) {
            x[v] = B._column(w++)
          } else {
            if (v == i && !x[v]) {
              x[v] = B._column(w++)
            }
          }
        }
      }
      if (x[u]) {
        B._initYearList(x[u], A)
      }
      if (x[l]) {
        B._initMonthList(x[l], A)
      }
      if (x[i]) {
        B._initDayList(x[i], A)
      }
      B._initListEvents()
    },
    _initListEvents: function() {
      var v = this;
      if (v._yearList) {
        v._yearList.addEventListener("valuechanged", function() {
          v._onYearListValueChanged()
        }, false);
        v._yearList.addEventListener("listfocused", function(w) {
          v._onListFocused(w.target)
        }, false)
      }
      if (v._monthList) {
        v._monthList.addEventListener("valuechanged", function() {
          v._onMonthListValueChanged()
        }, false);
        v._monthList.addEventListener("listfocused", function(w) {
          v._onListFocused(w.target)
        }, false)
      }
      if (v._dayList) {
        v._dayList.addEventListener("valuechanged", function(w) {
          v._onDayListValueChanged()
        }, false);
        v._dayList.addEventListener("listfocused", function(w) {
          v._onListFocused(w.target)
        }, false)
      }
    },
    _onYearItemBound: function(v) {
      var z = this,
        w = new Date(v.detail.item.value, 1, 29).getMonth() == 1,
        x = w ? z._getString("leapYear") : "",
        y = z._compiledItemTemplate;
      if (y) {
        a(v.detail.item.element).html(y({
          value: v.detail.item.value,
          label: x
        }))
      } else {
        v.detail.item.label = x
      }
    },
    _onMonthItemBound: function(w) {
      var v = new Date(1, w.detail.item.value - 1, 1),
        x = this._calendar.months.names[v.getMonth()],
        y = this._compiledItemTemplate;
      if (y) {
        a(w.detail.item.element).html(y({
          value: w.detail.item.value,
          label: x
        }))
      } else {
        w.detail.item.label = x
      }
    },
    _onDayItemBound: function(x) {
      var C = this,
        D = C.value,
        F = C._yearList,
        E = F ? F.value : D.getFullYear(),
        A = C._monthList,
        w = x.detail.item.value,
        z = A ? A.value - 1 : D.getMonth(),
        v = new Date(E, z, w),
        y = C._calendar.days.names[v.getDay()],
        B = C._compiledItemTemplate;
      if (B) {
        a(x.detail.item.element).html(B({
          value: w,
          label: y
        }))
      } else {
        x.detail.item.label = y
      }
    },
    _onYearListValueChanged: function() {
      var x = this,
        v = x._getMinAndMaxMonthListValues(),
        w = x._monthList;
      if (w) {
        w.minValue = v.minValue;
        w.maxValue = v.maxValue
      }
      x._onMonthListValueChanged()
    },
    _onMonthListValueChanged: function() {
      var A = this,
        B = A.value,
        D = A._yearList,
        C = D ? D.value : B.getFullYear(),
        z = A._monthList,
        y = z ? z.value : B.getMonth() + 1,
        v = new Date(C, y, 0),
        x = A._getMinAndMaxDayListValues(),
        w = A._dayList;
      if (w) {
        w.updateRangeEnd(v);
        w.minValue = x.minValue;
        w.maxValue = x.maxValue
      }
      A._onDayListValueChanged()
    },
    _onDayListValueChanged: function() {
      var v = this;
      if (f.isInline(v)) {
        v._updateValue(true);
        v.dispatchEvent(o, {
          value: v.value
        })
      }
    },
    _onListFocused: function(v) {
      this._resetKeyboardInput();
      this._activeControls.focusList(v)
    },
    _hideSelectionItemsFromAllListsExcept: function(v) {
      var w = this;
      if (w._yearList && w._yearList !== v) {
        w._yearList.hideSelectionItems()
      }
      if (w._monthList && w._monthList !== v) {
        w._monthList.hideSelectionItems()
      }
      if (w._dayList && w._dayList !== v) {
        w._dayList.hideSelectionItems()
      }
    },
    _updateValue: function(A) {
      var B = this,
        C = B.value,
        E = B._yearList,
        D = E ? E.value : C.getFullYear(),
        z = B._monthList,
        y = z ? z.value - 1 : C.getMonth(),
        x = B._dayList,
        w = x ? x.value : C.getDate(),
        v = new Date(1, 1, 1);
      v.setFullYear(D);
      v.setMonth(y);
      v.setDate(w);
      B._skipRefresh = A;
      B.value = v;
      B._skipRefresh = false
    },
    _destroy: function() {
      var v = this;
      if (v._yearList && v._yearList._destroy) {
        v._yearList._destroy()
      }
      v._yearList = null;
      if (v._monthList && v._monthList._destroy) {
        v._monthList._destroy()
      }
      v._monthList = null;
      if (v._dayList && v._dayList._destroy) {
        v._dayList._destroy()
      }
      v._dayList = null;
      c.prototype._destroy.apply(v, arguments)
    }
  });
  m("Telerik.UI", {
    _DateSelector: b
  })
})(this, jQuery);
(function(h, q) {
  var r = WinJS,
    g = r.Class.derive,
    k = r.Namespace.define,
    p = Telerik.UI,
    f = p._Utility,
    a = p._DateTimeSelector,
    b = p._HourList,
    c = p._MinuteList,
    d = p._PeriodList,
    o = "t-time-selector",
    i = "h",
    j = "m",
    n = "t",
    m = "ok",
    l = null;
  var e = g(a, function(s, t) {
    var u = this,
      t = t || {};
    u._localizationKey = "radtimepicker";
    if (!t.value) {
      t.value = new Date()
    } else {
      if (!(t.value instanceof Date)) {
        t.value = new Date(t.value)
      }
    }
    if (t.headerContent === q) {
      t.headerContent = u._getString("selectorHeader")
    }
    a.call(this, s, t)
  }, {
    _shortTime: function() {
      return this._twentyFourHour ? 0 : 12
    },
    _getSpecificSelectorClass: function() {
      return o
    },
    _refresh: function() {
      var s = this;
      if (s._skipRefresh) {
        return
      }
      if (s._hourList) {
        s._hourList.itemCount = s.itemCount;
        s._hourList.itemLength = s.itemLength;
        s._hourList.itemSpacing = s.itemSpacing
      }
      if (s._minuteList) {
        s._minuteList.itemCount = s.itemCount;
        s._minuteList.itemLength = s.itemLength;
        s._minuteList.itemSpacing = s.itemSpacing
      }
      if (s._periodList) {
        s._periodList.itemCount = s.itemCount;
        s._periodList.itemLength = s.itemLength;
        s._periodList.itemSpacing = s.itemSpacing
      }
      a.prototype._refresh.call(s)
    },
    _getSystemTimeFormat: function() {
      var v = this._calendar.patterns.t.toLowerCase(),
        u = [{
          token: i,
          index: v.indexOf(i)
        }, {
          token: j,
          index: v.indexOf(j)
        }, {
          token: n,
          index: v.indexOf(n)
        }].sort(function(w, x) {
          if (w.index < x.index) {
            return -1
          } else {
            if (w.index > x.index) {
              return 1
            }
          }
          return 0
        }),
        s = [];
      for (var t = 0; t < u.length; t++) {
        if (u[t].index !== -1) {
          s.push(u[t].token)
        }
      }
      return s.join("")
    },
    _getMinAndMaxHourListValues: function() {
      var v = this,
        u = v._periodList ? d._getPeriodIndexFromString(v._periodList, v._periodList.value) : d._getPeriodIndexFromHour(v._value, v._twentyFourHour),
        t = l,
        s = l;
      if (v._shortTime()) {
        if (v._minValue && u == d._getPeriodIndexFromHour(v._minValue, v._twentyFourHour)) {
          t = v._minValue && b.getHourInPeriod(v._minValue, v._twentyFourHour)
        }
        if (v._maxValue && u == d._getPeriodIndexFromHour(v._maxValue, v._twentyFourHour)) {
          s = v._maxValue && b.getHourInPeriod(v._maxValue, v._twentyFourHour)
        }
        if (t || s) {
          if (t && !s) {
            s = 11
          }
          if (s && !t) {
            t = 12
          }
        }
      } else {
        if (v._minValue) {
          t = v._minValue.getHours()
        }
        if (v._maxValue) {
          s = v._maxValue.getHours()
        }
      }
      return {
        minValue: t,
        maxValue: s
      }
    },
    _initHourList: function(s, t) {
      var v = this,
        w = b.getHourInPeriod(v._value, v._twentyFourHour),
        u = v._getMinAndMaxHourListValues();
      v._hourList = new b(s, {
        minValue: u.minValue,
        maxValue: u.maxValue,
        value: w,
        itemSpacing: v._itemSpacing,
        itemLength: v._itemLength,
        itemCount: v._itemCount,
        maxHeight: t,
        twentyFourHour: v._twentyFourHour,
        itemBound: function(x) {
          v._onItemBound(x)
        }
      })
    },
    _getMinAndMaxMinuteListValues: function() {
      var w = this,
        s = w._hourList,
        v = s && s._shortTime ? w._getHourIn24HourFormat(s.value) : s ? s.value : w._value.getHours(),
        u = l,
        t = l;
      if (w._minValue && v == w._minValue.getHours()) {
        u = w._minValue && w._minValue.getMinutes()
      }
      if (w._maxValue && v == w._maxValue.getHours()) {
        t = w._maxValue && w._maxValue.getMinutes()
      }
      return {
        minValue: u,
        maxValue: t
      }
    },
    _initMinuteList: function(s, t) {
      var w = this,
        x = w._value.getMinutes(),
        u = w._getMinAndMaxMinuteListValues(),
        v = w.step ? w.step.minute : {};
      w._minuteList = new c(s, {
        minValue: u.minValue,
        maxValue: u.maxValue,
        value: x,
        itemSpacing: w._itemSpacing,
        itemLength: w._itemLength,
        itemCount: w._itemCount,
        maxHeight: t,
        step: {
          value: v.value
        },
        itemBound: function(y) {
          w._onItemBound(y)
        }
      })
    },
    _getMinAndMaxPeriodListValues: function() {
      var u = this,
        t = l,
        s = l;
      if (u._minValue) {
        t = d._getPeriodIndexFromHour(u._minValue, u._twentyFourHour)
      }
      if (u._maxValue) {
        s = d._getPeriodIndexFromHour(u._maxValue, u._twentyFourHour)
      }
      return {
        minValue: t,
        maxValue: s
      }
    },
    _initPeriodList: function(s, t) {
      var v = this,
        u = v._getMinAndMaxPeriodListValues();
      v._periodList = new d(s, {
        minValue: u.minValue,
        maxValue: u.maxValue,
        value: d._getPeriodIndexFromHour(v.value, v._twentyFourHour),
        itemSpacing: v._itemSpacing,
        itemLength: v._itemLength,
        itemCount: v._itemCount,
        maxHeight: t,
        AM: v._calendar.AM[0],
        PM: v._calendar.PM[0],
        itemBound: function(w) {
          v._onItemBound(w)
        }
      })
    },
    _initLists: function() {
      var y = this,
        v = y._format || y._getSystemTimeFormat(),
        u = {
          H: null,
          M: null,
          T: null
        }, t = 1,
        x = y._getMaxListHeight();
      for (var w = 0; w < v.length; w++) {
        var s = v[w];
        if (s == i && !u[s]) {
          u[s] = y._column(t++)
        } else {
          if (s == j && !u[s]) {
            u[s] = y._column(t++)
          } else {
            if (y._shortTime() && s == n && !u[s]) {
              u[s] = y._column(t++)
            }
          }
        }
      }
      if (u[n]) {
        y._initPeriodList(u[n], x)
      }
      if (u[i]) {
        y._initHourList(u[i], x)
      }
      if (u[j]) {
        y._initMinuteList(u[j], x)
      }
      y._initListEvents()
    },
    _initListEvents: function() {
      var s = this;
      if (s._hourList) {
        s._hourList.addEventListener("listfocused", function(t) {
          s._onListFocused(t.target)
        }, false);
        s._hourList.addEventListener("valuechanged", function() {
          s._onHourListValueChanged()
        }, false)
      }
      if (s._minuteList) {
        s._minuteList.addEventListener("listfocused", function(t) {
          s._onListFocused(t.target)
        }, false);
        s._minuteList.addEventListener("valuechanged", function() {
          s._onMinuteListValueChanged()
        }, false)
      }
      if (s._periodList) {
        s._periodList.addEventListener("listfocused", function(t) {
          s._onListFocused(t.target)
        }, false);
        s._periodList.addEventListener("valuechanged", function() {
          s._onPeriodListValueChanged()
        }, false)
      }
    },
    _onItemBound: function(s) {
      var t = this._compiledItemTemplate;
      if (t) {
        $(s.detail.item.element).html(t({
          value: s.detail.value
        }))
      }
    },
    _onListFocused: function(s) {
      this._resetKeyboardInput();
      this._activeControls.focusList(s)
    },
    _onHourListValueChanged: function() {
      var u = this,
        s = u._getMinAndMaxMinuteListValues(),
        t = u._minuteList;
      if (t) {
        t.minValue = s.minValue;
        t.maxValue = s.maxValue
      }
      u._onMinuteListValueChanged()
    },
    _onMinuteListValueChanged: function() {
      var s = this;
      if (f.isInline(s)) {
        s._updateValue(true);
        s.dispatchEvent(m, {
          value: s.value
        })
      }
    },
    _onPeriodListValueChanged: function() {
      var u = this,
        t = u._getMinAndMaxHourListValues(),
        s = u._hourList;
      if (s) {
        s.minValue = t.minValue;
        s.maxValue = t.maxValue
      }
      u._onHourListValueChanged()
    },
    _hideSelectionItemsFromAllListsExcept: function(s) {
      var t = this;
      if (t._hourList && t._hourList !== s) {
        t._hourList.hideSelectionItems()
      }
      if (t._minuteList && t._minuteList !== s) {
        t._minuteList.hideSelectionItems()
      }
      if (t._periodList && t._periodList !== s) {
        t._periodList.hideSelectionItems()
      }
    },
    _getHourIn24HourFormat: function(s) {
      var u = this,
        t = u._periodList ? d._getPeriodIndexFromString(u._periodList, u._periodList.value) : d._getPeriodIndexFromHour(u._value, u._twentyFourHour);
      if (s === 12) {
        t = t > 1 ? 1 : 2
      }
      s = t == 2 ? s + 12 : s;
      return s === 24 ? 0 : s
    },
    _updateValue: function(z) {
      var A = this,
        B = A.value,
        v = A._hourList,
        y = v ? v._shortTime : null,
        t = v ? v.value : B.getHours(),
        u = y ? A._getHourIn24HourFormat(t) : t,
        x = A._minuteList,
        w = x ? x.value : B.getMinutes(),
        s = new Date(B.getFullYear(), B.getMonth(), B.getDate(), u, w);
      A._skipRefresh = z;
      A.value = s;
      A._skipRefresh = false
    },
    _destroy: function() {
      var s = this;
      if (s._hourList && s._hourList._destroy) {
        s._hourList._destroy()
      }
      s._hourList = null;
      if (s._minuteList && s._minuteList._destroy) {
        s._minuteList._destroy()
      }
      s._minuteList = null;
      if (s._periodList && s._periodList._destroy) {
        s._periodList._destroy()
      }
      s._periodList = null;
      a.prototype._destroy.apply(s, arguments)
    }
  });
  k("Telerik.UI", {
    _TimeSelector: e
  })
})(this);
(function(d, j) {
  var e = WinJS.Namespace.define,
    c = WinJS.Class.derive,
    i = Telerik.UI,
    a = i._Configuration,
    h = i.DateTimePickers.StepMode;

  function b(k) {
    return {
      get: function() {
        var l = this;
        if (!l["_" + k]) {
          l["_" + k] = new f({
            onchange: l.onchange
          })
        }
        return l["_" + k]
      },
      set: function(m) {
        var l = this;
        if (Telerik.Utilities.getType(m) === "object") {
          m.onchange = l.onchange;
          l["_" + k] = new f(m);
          l.onchange()
        }
      }
    }
  }
  var f = c(a, function(k) {
    a.call(this, k)
  }, {
    _onchange: function() {},
    onchange: {
      set: function(k) {
        this._onchange = k
      }
    },
    value: a.defineProperty("value", 1, null),
    mode: a.defineProperty("mode", h.startFromBase, null)
  });
  var g = c(a, function(k) {
    a.call(this, k)
  }, {
    onchange: function() {},
    _year: null,
    year: b("year"),
    _month: null,
    month: b("month"),
    _day: null,
    day: b("day"),
  });
  e("Telerik.UI.DateTimePickers", {
    _StepComponentConfiguration: g,
    _StepConfiguration: g
  })
})(this);
(function(n, a, K) {
  var M = WinJS,
    i = M.Class.derive,
    r = M.Class.mix,
    t = M.Namespace.define,
    J = Telerik.UI,
    L = Telerik.Utilities,
    z = L.setPrivate,
    h = Telerik.Culture,
    y = L._pointerEvent,
    d = J._DisplayMode,
    e = J._Utility,
    c = J._DateTimeSelector,
    v = "object",
    m = "function",
    j = "DIV",
    A = "px",
    G = "t-picker",
    H = "t-press",
    F = "t-input",
    B = "t-arrow",
    C = "t-disabled",
    D = "t-empty",
    E = "t-focused",
    w = "ok",
    x = "open",
    g = "close",
    k = "",
    f = "change",
    s = y("down"),
    u = null,
    I = true,
    l = false,
    o = 3,
    p = 70,
    q = 10;
  var b = i(J.Control, function(N, Q) {
    var S = this,
      P = N && N.tagName.toLowerCase() === "input" ? N : u,
      R = true;
    if (Q && typeof Q._requiresLayout != "undefined") {
      R = Q._requiresLayout;
      delete Q._requiresLayout
    }
    Q = S._adjustOptions(Q);
    if (P === N) {
      S._hiddenInput = N;
      N = a(N).wrap("<div />").parent()[0];
      S._listenHiddenInput(true)
    }
    J.Control.call(S, N, Q);
    M.UI.setOptions(S, Q);
    z(S, "_requiresLayout", R);
    S._render();
    S._initSelector();
    S._initialize(N).done(function() {
      S._renderInlineStyles()
    }, function O(T) {
      if (T === "_initTimeout_Canceled") {
        return
      }
      throw new Error("Canceled")
    });
    if (S.enabled) {
      S._initEvents()
    }
    S._updateInput();
    S._refreshDisplayMode()
  }, {
    _picker: u,
    _input: u,
    _hiddenInput: u,
    _arrow: u,
    _selectorContainer: u,
    _selector: u,
    _value: u,
    _minValue: u,
    _maxValue: u,
    _emptyContent: k,
    _itemCount: o,
    _itemSpacing: q,
    _itemLength: p,
    _selectorFormat: k,
    _selectorDefaultValue: u,
    _isSelectorOpen: l,
    _isReadOnly: l,
    _displayValueFormat: k,
    _selectorHeader: k,
    _autoSizeWidth: l,
    _closeSelectorOnBlur: I,
    _header: k,
    _enabled: I,
    _itemTemplate: u,
    _selectorHeaderTemplate: u,
    _headerTemplate: u,
    _emptyContentTemplate: u,
    _tabIndex: 0,
    _displayMode: d.standard,
    _step: u,
    _initialize: function(O) {
      var P = this;
      z(P, "_initialized", false, true);
      return new WinJS.Promise(function N(Q, R) {
        if (P._requiresLayout && !O.offsetWidth) {
          if (!P._initialized && !P._isDestroyed) {
            z(P, "_initTimeout", setImmediate(N, Q, R), true)
          } else {
            R("_initTimeout_Canceled")
          }
          return
        }
        z(P, "_initTimeout", u, true);
        z(P, "_initialized", true, true);
        Q()
      })
    },
    _destroy: function() {
      var N = this;
      if (N._selector && N._selector._destroy) {
        N._selector._destroy()
      }
      J.Control.prototype._destroy.apply(N, arguments)
    },
    value: {
      get: function() {
        return this._adjustValue(this._value)
      },
      set: function(O) {
        var N = this;
        if (O) {
          O = N._convertToDate(O)
        }
        if (O) {
          O = N._adjustMinMaxValue(O)
        }
        if (N._value === O) {
          return
        }
        N._value = O;
        N._updateInput();
        if (e.isInline(N) && N._initialized && !N._skipRefresh) {
          N._selector.value = O
        }
      }
    },
    valueString: {
      get: function() {
        return this._getFormattedValue()
      }
    },
    minValue: {
      get: function() {
        return this._minValue
      },
      set: function(O) {
        var N = this;
        if (O) {
          O = N._convertToDate(O)
        }
        N._minValue = O;
        N._refresh()
      }
    },
    maxValue: {
      get: function() {
        return this._maxValue
      },
      set: function(O) {
        var N = this;
        if (O) {
          O = N._convertToDate(O)
        }
        N._maxValue = O;
        N._refresh()
      }
    },
    itemCount: {
      get: function() {
        return this._itemCount
      },
      set: function(O) {
        var N = this;
        N._itemCount = O;
        N._refresh()
      }
    },
    itemLength: {
      get: function() {
        return this._itemLength
      },
      set: function(O) {
        var N = this;
        N._itemLength = O;
        N._refresh();
        if (N._initialized) {
          N._renderInlineStyles()
        }
      }
    },
    itemSpacing: {
      get: function() {
        return this._itemSpacing
      },
      set: function(O) {
        var N = this;
        N._itemSpacing = O;
        N._refresh();
        if (N._initialized) {
          N._renderInlineStyles()
        }
      }
    },
    selectorFormat: {
      get: function() {
        return this._selectorFormat
      },
      set: function(O) {
        var N = this;
        N._selectorFormat = O;
        N._refresh()
      }
    },
    selectorDefaultValue: {
      get: function() {
        var N = this;
        if (!N._selectorDefaultValue) {
          N._selectorDefaultValue = N._adjustMinMaxValue(new Date())
        }
        return this._selectorDefaultValue
      },
      set: function(O) {
        var N = this;
        if (O) {
          O = N._convertToDate(O)
        }
        N._selectorDefaultValue = N._adjustMinMaxValue(O)
      }
    },
    isSelectorOpen: {
      get: function() {
        return this._isSelectorOpen
      },
      set: function(O) {
        var N = this;
        N._isSelectorOpen = O;
        N._refresh()
      }
    },
    isReadOnly: {
      get: function() {
        return this._isReadOnly
      },
      set: function(N) {
        this._isReadOnly = N
      }
    },
    displayValueFormat: {
      get: function() {
        return this._displayValueFormat
      },
      set: function(P) {
        var O = this,
          N = O._cssClass;
        if (!P || P === "") {
          P = N.indexOf("date") > -1 ? "d" : "t"
        }
        O._displayValueFormat = P;
        O._refresh()
      }
    },
    autoSizeWidth: {
      get: function() {
        return this._autoSizeWidth
      },
      set: function(O) {
        var N = this;
        N._autoSizeWidth = O;
        N._refresh();
        if (N._initialized) {
          N._renderInlineStyles()
        }
      }
    },
    closeSelectorOnBlur: {
      get: function() {
        return this._closeSelectorOnBlur
      },
      set: function(O) {
        var N = this;
        N._closeSelectorOnBlur = O;
        N._refresh();
        N._disposeInlineRelatedEvents();
        N._refreshInlineRelatedEvents()
      }
    },
    enabled: {
      get: function() {
        return this._enabled
      },
      set: function(O) {
        var N = this;
        N._enabled = O;
        N._refresh();
        N._refreshTabIndex()
      }
    },
    itemTemplate: {
      get: function() {
        var N = this._itemTemplate;
        return N ? N._originalTemplate : u
      },
      set: function(P) {
        var N = this,
          O = L.getTemplate(P, I);
        if (O !== K) {
          N._itemTemplate = O;
          N._refresh()
        }
      }
    },
    selectorHeader: {
      get: function() {
        return this._selectorHeader
      },
      set: function(O) {
        var N = this;
        N._selectorHeader = O;
        N._refresh()
      }
    },
    selectorHeaderTemplate: {
      get: function() {
        var N = this._selectorHeaderTemplate;
        return N ? N._originalTemplate : u
      },
      set: function(P) {
        var N = this,
          O = L.getTemplate(P, I);
        if (O !== K) {
          N._selectorHeaderTemplate = O;
          N._refresh()
        }
      }
    },
    header: {
      get: function() {
        return this._header
      },
      set: function(O) {
        var N = this;
        N._header = O;
        N._refresh()
      }
    },
    headerTemplate: {
      get: function() {
        var N = this._headerTemplate;
        return N ? N._originalTemplate : u
      },
      set: function(P) {
        var N = this,
          O = L.getTemplate(P, I);
        if (O !== K) {
          N._headerTemplate = O;
          N._refresh()
        }
      }
    },
    emptyContent: {
      get: function() {
        return this._emptyContent
      },
      set: function(O) {
        var N = this;
        N._emptyContent = O;
        N._refresh()
      }
    },
    emptyContentTemplate: {
      get: function() {
        var N = this._emptyContentTemplate;
        return N ? N._originalTemplate : u
      },
      set: function(P) {
        var N = this,
          O = L.getTemplate(P, I);
        if (O !== K) {
          N._emptyContentTemplate = O;
          N._refresh()
        }
      }
    },
    tabIndex: {
      get: function() {
        return this._tabIndex
      },
      set: function(O) {
        var N = this;
        N._tabIndex = O;
        N._refreshTabIndex()
      }
    },
    displayMode: {
      get: function() {
        return this._displayMode
      },
      set: function(O) {
        var N = this;
        N._displayMode = O;
        N._refreshDisplayMode()
      }
    },
    culture: {
      get: function() {
        return this._culture || h.getCurrent()
      },
      set: function(O) {
        var N = this;
        h._checkCulture(O);
        N._culture = O;
        N._refresh()
      }
    },
    _refreshDisplayMode: function() {
      var N = this;
      if (!N._initialized) {
        return
      }
      if (e.isInline(N)) {
        N.element.style.display = "none";
        N._picker.removeAttribute("tabIndex");
        N._selectorContainer.tabIndex = N._tabIndex;
        N._selectorContainer.style.top = k;
        N._selectorContainer.style.left = k;
        N._moveSelectorNextToPicker()
      } else {
        N.element.style.display = "";
        if (N.enabled) {
          N._picker.tabIndex = N._tabIndex
        }
        N._selectorContainer.removeAttribute("tabIndex")
      }
      N._selector.displayMode = N._displayMode;
      if (N._isSelectorOpen && !e.isInline(N)) {
        N._openSelector()
      }
      N._refreshInlineRelatedEvents()
    },
    _refreshTabIndex: function() {
      var N = this;
      if (!N._initialized) {
        return
      }
      if (N.enabled) {
        N._picker.tabIndex = N.tabIndex
      } else {
        N._picker.removeAttribute("tabIndex")
      }
    },
    _refresh: function() {
      var O = this;
      if (!O._initialized) {
        return
      }!O.enabled ? a(O.element).addClass(C) : a(O.element).removeClass(C);
      O._selector.itemCount = O._itemCount;
      O._selector.itemLength = O._itemLength;
      O._selector.itemSpacing = O._itemSpacing;
      O._selector.format = O._selectorFormat;
      O._selector.headerContent = O._selectorHeader;
      O._selector.headerTemplate = O._selectorHeaderTemplate;
      O._selector.itemTemplate = O._itemTemplate;
      O._selector.minValue = O._minValue;
      O._selector.maxValue = O._maxValue;
      O._selector.culture = O.culture;
      O._selector.step = O.step ? O.step : O._step;
      if (!e.isInline(O)) {
        O._isSelectorOpen ? O._openSelector() : O._closeSelector()
      }
      var N = document.createElement(j);
      O._renderHeader(N);
      while (O.element.firstChild !== O._picker) {
        O.element.removeChild(O.element.firstChild)
      }
      O.element.insertAdjacentHTML("afterbegin", N.innerHTML);
      if (O.value !== u) {
        O.value = O.value
      }
      if (O.enabled) {
        O._initEvents()
      } else {
        O._disposeEvents()
      }
      O._updateInput()
    },
    _cssClass: {
      get: function() {
        return k
      }
    },
    _parsedHeader: function() {
      var O = this,
        N = O._header;
      return e.tryParseObject(N)
    },
    _parsedEmptyContent: function() {
      var O = this,
        N = O._emptyContent;
      return e.tryParseObject(N)
    },
    _render: function() {
      var P = this,
        O = P.element,
        N = a(O);
      N.addClass(P._cssClass);
      if (!P.enabled) {
        N.addClass(C)
      }
      if (!P.value) {
        N.addClass(D)
      }
      if (P._header) {
        P._renderHeader(O)
      }
      P._renderPicker(O);
      P._renderSelectorContainer()
    },
    _renderHeader: function(O) {
      var T = this,
        Q = T._parsedHeader(),
        S = T._headerTemplate;
      S = S && typeof S !== m ? L.getTemplate(S, I) : S;
      var P = S && typeof Q === v ? [S(Q)] : [document.createTextNode(Q)],
        N = a(O);
      for (var R = 0; R < P.length; R++) {
        N.append(P[R])
      }
    },
    _renderPicker: function(N) {
      var P = this,
        O = document.createElement(j);
      O.className = G;
      P._picker = O;
      P._renderInput(O);
      P._renderHiddenInput(O);
      P._renderArrow(O);
      N.appendChild(O)
    },
    _renderInput: function(N) {
      var P = this,
        O = document.createElement(j);
      O.className = F;
      O.innerHTML = P._getEmptyContent();
      P._input = O;
      N.appendChild(O)
    },
    _renderHiddenInput: function(N) {
      var P = this,
        O;
      if (P._hiddenInput) {
        P._hiddenInput.parentNode.removeChild(P._hiddenInput);
        O = P._hiddenInput
      } else {
        O = document.createElement("INPUT");
        P._hiddenInput = O
      }
      O.style.display = "none";
      N.appendChild(O)
    },
    _listenHiddenInput: function(O) {
      var P = this,
        N = P._hiddenInput;
      P._hiddenInputListenValueChange = O;
      if (O && typeof N._dateTimePickerValue === "undefined") {
        N._dateTimePickerValue = N.value;
        Object.defineProperty(N, "value", {
          get: function() {
            return this._dateTimePickerValue
          },
          set: function(Q) {
            this._dateTimePickerValue = Q;
            if (P._hiddenInputListenValueChange) {
              P.value = Q || null
            }
          }
        })
      }
    },
    _renderArrow: function(N) {
      var O = document.createElement(j);
      O.className = B;
      this._arrow = O;
      N.appendChild(O)
    },
    _renderSelectorContainer: function() {
      var O = this,
        N = document.createElement(j);
      O._selectorContainer = N;
      O._deploySelector()
    },
    _deploySelector: function() {
      var P = this,
        N = P.element,
        O = P._selectorContainer;
      if (P._selectorDeployed) {
        return
      }
      if (N.parentNode) {
        if (N.nextSibling) {
          N.parentNode.insertBefore(O, N.nextSibling)
        } else {
          N.parentNode.appendChild(O)
        }
        P._selectorDeployed = I
      }
    },
    _moveSelectorNextToPicker: function() {
      var P = this,
        N = P.element,
        O = P._selectorContainer;
      if (O.parentNode == document.body) {
        N.parentNode.insertBefore(O, N)
      }
    },
    _renderInlineStyles: function() {
      var Q = this,
        N = Q.element,
        O = a(Q.element).width(),
        P = a(Q._selectorContainer).width();
      if (N._originalWidth == K) {
        N._originalWidth = N.currentStyle.width
      }
      if (Q._autoSizeWidth && O != P) {
        N.style.width = P + A
      } else {
        N.style.width = N._originalWidth
      }
    },
    _positionSelector: function() {
      var W = this,
        O = W.element,
        N = W._selectorContainer,
        R = a(O).offset(),
        S = R.top,
        Q = a(O).outerHeight(),
        U = a(N).outerHeight(),
        T = a(O).outerWidth(),
        V = a(N).outerWidth(),
        X = S - (U - Q) / 2,
        P = R.left + ((T - V) / 2),
        Y = window.innerHeight,
        Z = window.innerWidth;
      X = X < 0 ? 0 : X;
      P = P < 0 ? 0 : P;
      X = (X + U) > Y ? Y - U : X;
      P = (P + V) > Z ? Z - V : P;
      N.style.top = X + A;
      N.style.left = P + A
    },
    _initSelector: function() {
      var Q = this,
        N = Q._selectorContainer,
        P = Q._getSelectorType(),
        O = new P(N, {
          displayMode: Q.displayMode,
          value: Q.value ? Q.value : Q.selectorDefaultValue,
          minValue: Q.minValue,
          maxValue: Q.maxValue,
          itemLength: Q.itemLength,
          itemCount: Q.itemCount,
          itemSpacing: Q.itemSpacing,
          format: Q.selectorFormat,
          headerContent: Q.selectorHeader,
          itemTemplate: Q._itemTemplate,
          headerTemplate: Q._selectorHeaderTemplate,
          culture: Q.culture,
          step: Q._step
        });
      Q._selector = O
    },
    _closeSelectorDelegate: u,
    _onSelectorOpenedDelegate: u,
    _onSelectorClosedDelegate: u,
    _onArrowPointerDownDelegate: u,
    _onArrowPointerUpDelegate: u,
    _onMouseOverDelegate: u,
    _onMouseOutDelegate: u,
    _onFocusDelegate: u,
    _onBlurDelegate: u,
    _onKeyDownDelegate: u,
    _onSelectorOkDelegate: u,
    _onResizeDelegate: u,
    _eventHandlersAttached: false,
    _initEventDelegates: function() {
      var N = this;
      N._closeSelectorDelegate = N._closeSelector.bind(N);
      N._onSelectorOpenedDelegate = N._onSelectorOpened.bind(N);
      N._onSelectorClosedDelegate = N._onSelectorClosed.bind(N);
      N._onArrowPointerDownDelegate = N._onArrowPointerDown.bind(N);
      N._onArrowPointerUpDelegate = N._onArrowPointerUp.bind(N);
      N._onMouseOverDelegate = N._onMouseOver.bind(N);
      N._onMouseOutDelegate = N._onMouseOut.bind(N);
      N._onFocusDelegate = N._onFocus.bind(N);
      N._onBlurDelegate = N._onBlur.bind(N);
      N._onKeyDownDelegate = N._onKeyDown.bind(N);
      N._onSelectorOkDelegate = N._onSelectorOk.bind(N);
      N._onResizeDelegate = N._onResize.bind(N)
    },
    _initEvents: function() {
      var N = this;
      if (N._eventHandlersAttached) {
        return
      }
      N._initEventDelegates();
      N._picker.addEventListener(s, N._onArrowPointerDownDelegate, l);
      N._picker.addEventListener(y("up"), N._onArrowPointerUpDelegate, l);
      N._picker.addEventListener("mouseover", N._onMouseOverDelegate, l);
      N._picker.addEventListener("mouseout", N._onMouseOutDelegate, l);
      N._picker.addEventListener("focus", N._onFocusDelegate, l);
      N._picker.addEventListener("blur", N._onBlurDelegate, l);
      N._picker.addEventListener("keydown", N._onKeyDownDelegate, l);
      N._selector.addEventListener(w, N._onSelectorOkDelegate, l);
      window.addEventListener("resize", N._onResizeDelegate);
      N._refreshInlineRelatedEvents();
      N._eventHandlersAttached = true
    },
    _refreshInlineRelatedEvents: function() {
      var N = this;
      if (!e.isInline(N) && N.closeSelectorOnBlur) {
        document.addEventListener(s, N._closeSelectorDelegate, l)
      } else {
        document.removeEventListener(s, N._closeSelectorDelegate)
      }
      if (N._selector) {
        if (!e.isInline(N)) {
          N._selector.addEventListener(x, N._onSelectorOpenedDelegate, l);
          N._selector.addEventListener(g, N._onSelectorClosedDelegate, l)
        } else {
          N._selector.removeEventListener(x, N._onSelectorOpenedDelegate);
          N._selector.removeEventListener(g, N._onSelectorClosedDelegate)
        }
      }
    },
    _disposeEvents: function() {
      var N = this;
      N._picker.removeEventListener(s, N._onArrowPointerDownDelegate);
      N._picker.removeEventListener(y("up"), N._onArrowPointerUpDelegate);
      N._picker.removeEventListener("mouseover", N._onMouseOverDelegate);
      N._picker.removeEventListener("mouseout", N._onMouseOutDelegate);
      N._picker.removeEventListener("focus", N._onFocusDelegate);
      N._picker.removeEventListener("blur", N._onBlurDelegate);
      N._picker.removeEventListener("keydown", N._onKeyDownDelegate);
      N._selector.removeEventListener(w, N._onSelectorOkDelegate);
      window.removeEventListener("resize", N._onResizeDelegate);
      N._disposeInlineRelatedEvents();
      N._eventHandlersAttached = false
    },
    _disposeInlineRelatedEvents: function() {
      var N = this;
      if (!e.isInline(N)) {
        document.removeEventListener(s, N._closeSelectorDelegate)
      }
      if (N._selector) {
        if (!e.isInline(N)) {
          N._selector.removeEventListener(x, N._onSelectorOpenedDelegate);
          N._selector.removeEventListener(g, N._onSelectorClosedDelegate)
        }
      }
    },
    _onArrowPointerDown: function(N) {
      var O = this;
      a(O._picker).addClass(H);
      O._pointerDown = I
    },
    _onArrowPointerUp: function(N) {
      var O = this;
      O._pointerDown = l;
      a(O._picker).removeClass(H);
      if (!O._selector.isOpen) {
        O._openSelector()
      }
    },
    _onMouseOver: function() {
      var N = this;
      if (N._pointerDown) {
        a(N._picker).addClass(H)
      }
    },
    _onMouseOut: function() {
      a(this._picker).removeClass(H)
    },
    _onFocus: function() {
      a(this._picker).addClass(E)
    },
    _onBlur: function() {
      a(this._picker).removeClass(E)
    },
    _onKeyDown: function(N) {
      if (N.keyCode == 13) {
        this._openSelector();
        N.stopPropagation()
      }
    },
    _openSelector: function() {
      var N = this;
      N._deploySelector();
      if (!N._isReadOnly) {
        N._selector.value = N.value ? N.value : N.selectorDefaultValue;
        N._positionSelector();
        N._selector.open();
        N._isSelectorOpen = I
      }
    },
    _closeSelector: function() {
      if (this._selector.isOpen) {
        this._selector.close();
        this._isSelectorOpen = l
      }
    },
    _onSelectorOk: function(N) {
      var O = this;
      O._skipRefresh = I;
      O.value = N.detail.value;
      O._skipRefresh = l;
      O.dispatchEvent(f, {
        value: N.detail.value
      })
    },
    _onSelectorOpened: function() {
      this._isSelectorOpen = I;
      this.dispatchEvent(x)
    },
    _onSelectorClosed: function(N) {
      var O = this;
      if (N.detail.keepFocus) {
        O._picker.focus()
      }
      O._isSelectorOpen = l;
      O.dispatchEvent(g)
    },
    _onResize: function() {
      if (this._isSelectorOpen) {
        this._refresh()
      }
    },
    _getFormattedValue: function() {
      var O = this,
        P = O.value,
        N = P ? L.toString(O.value, O.displayValueFormat, O.culture) : "";
      return e.removeRtlMarks(N)
    },
    _getValidationValue: function() {
      var O = this,
        N = O._displayValueFormat,
        P;
      O._displayValueFormat = "g";
      P = O._getFormattedValue();
      O._displayValueFormat = N;
      return P
    },
    _getEmptyContent: function() {
      var P = this,
        N = P._parsedEmptyContent(),
        O = P._emptyContentTemplate;
      O = O && typeof O !== m ? L.getTemplate(O, I) : O;
      return O && typeof N == v ? O(N) : N
    },
    _updateInput: function() {
      var O = this;
      if (O._input) {
        var N = O._hiddenInputListenValueChange === true;
        O._input.innerHTML = O.valueString || O._getEmptyContent();
        O._listenHiddenInput(false);
        O._hiddenInput.value = O._getValidationValue();
        a(O._hiddenInput).change();
        O._listenHiddenInput(N)
      }
      if (this.value) {
        a(this.element).removeClass(D)
      } else {
        a(this.element).addClass(D)
      }
    },
    _getSelectorType: function() {
      return c
    },
    _convertToDate: function(N) {
      if (!(N instanceof Date)) {
        N = new Date(N)
      }
      return N
    },
    _adjustOptions: function(P) {
      var Q = this,
        P = P || {}, O = P.minValue,
        N = P.maxValue;
      if (P.value) {
        P.value = Q._convertToDate(P.value)
      }
      if (O) {
        O = Q._convertToDate(O)
      }
      if (N) {
        N = Q._convertToDate(N)
      }
      if (O && N && O > N) {
        N = O
      }
      if (P.value && O) {
        if (P.value < O) {
          P.value = O
        }
      }
      if (P.value && N) {
        if (P.value > N) {
          P.value = N
        }
      }
      return P
    },
    _adjustValue: function(N) {
      return N
    },
    _adjustMinMaxValue: function(Q) {
      var P = this,
        O = P.minValue,
        N = P.maxValue;
      if (O !== u && O > Q) {
        Q = O
      }
      if (N !== u && N < Q) {
        Q = N
      }
      return Q
    }
  });
  r(b, M.Utilities.eventMixin, M.Utilities.createEventProperties(f, x, g));
  t("Telerik.UI", {
    _DateTimePicker: b
  })
})(this, jQuery);
(function(e, j) {
  var k = WinJS,
    d = k.Class.derive,
    f = k.Namespace.define,
    i = Telerik.UI,
    b = i._DateTimePicker,
    a = i._DateSelector,
    c = i._DisplayMode,
    h = "t-date-picker";
  var g = d(b, function(l, m) {
    var n = this;
    m = m || {};
    if (!m.emptyContent) {
      m.emptyContent = n._getString("emptyContent")
    }
    if (m.selectorHeader === j) {
      m.selectorHeader = n._getString("selectorHeader")
    }
    if (!m.displayValueFormat) {
      m.displayValueFormat = "d"
    }
    b.call(n, l, m)
  }, {
    _step: null,
    step: {
      get: function() {
        var l = this;
        if (!l._step) {
          l._step = new i.DateTimePickers._StepConfiguration({
            onchange: l._refresh.bind(l)
          })
        }
        return l._step
      },
      set: function(m) {
        var l = this;
        if (Telerik.Utilities.getType(m) === "object") {
          m.onchange = l._refresh.bind(l);
          l._step = new i.DateTimePickers._StepConfiguration(m);
          l._refresh()
        }
      }
    },
    _getValidationValue: function() {
      return this._getFormattedValue()
    },
    _cssClass: {
      get: function() {
        return h
      }
    },
    _getSelectorType: function() {
      return a
    }
  }, {
    DisplayMode: c
  });
  f("Telerik.UI", {
    RadDatePicker: g
  })
})(this);
(function(e, k) {
  var l = WinJS,
    d = l.Class.derive,
    f = l.Namespace.define,
    j = Telerik.UI,
    a = j._DateTimePicker,
    c = j._TimeSelector,
    b = j._DisplayMode,
    i = "t-time-picker",
    g = null;
  var h = d(a, function(m, n) {
    var o = this;
    n = n || {};
    if (!n.emptyContent) {
      n.emptyContent = o._getString("emptyContent")
    }
    if (n.selectorHeader === k) {
      n.selectorHeader = o._getString("selectorHeader")
    }
    if (!n.displayValueFormat) {
      n.displayValueFormat = "t"
    }
    a.call(o, m, n)
  }, {
    _baseDate: g,
    baseDate: {
      get: function() {
        return this._baseDate
      },
      set: function(m) {
        this._baseDate = this._convertToDate(m)
      }
    },
    _step: {
      minute: {
        value: 1
      }
    },
    minuteStep: {
      get: function() {
        return this._step.minute.value
      },
      set: function(n) {
        var m = this;
        m._step = {
          minute: {
            value: n
          }
        };
        m._refresh()
      }
    },
    _adjustValue: function(n) {
      var m = this;
      if (m._baseDate) {
        n = new Date(m._baseDate.getFullYear(), m._baseDate.getMonth(), m._baseDate.getDate(), n.getHours(), n.getMinutes())
      }
      return n
    },
    _cssClass: {
      get: function() {
        return i
      }
    },
    _getSelectorType: function() {
      return c
    },
    _adjustMinMaxValue: function(s) {
      var o = this,
        n = o.minValue,
        m = o.maxValue,
        q = g,
        p = g,
        r = new Date(0, 0, 0, s.getHours(), s.getMinutes());
      if (n !== g) {
        q = new Date(0, 0, 0, n.getHours(), n.getMinutes());
        if (q > r) {
          s = n
        }
      }
      if (m !== g) {
        p = new Date(0, 0, 0, m.getHours(), m.getMinutes());
        if (p < r) {
          s = m
        }
      }
      return s
    }
  }, {
    DisplayMode: b
  });
  f("Telerik.UI", {
    RadTimePicker: h
  })
})(this);
(function(f, a, h) {
  var i = WinJS,
    e = i.Class.derive,
    g = i.Namespace.define,
    d = Telerik.UI._ControlConfiguration;
  var c = e(d, function(l, m, j, k) {
    d.call(this, l, m, j, k)
  }, {
    _optionsMap: {
      template: "content",
      disabledTemplate: "empty"
    },
    _validators: {
      template: {
        type: ["string"]
      },
      disabledTemplate: {
        type: ["string"]
      }
    },
    template: d.defineProperty("template", ""),
    disabledTemplate: d.defineProperty("disabledTemplate", "")
  });
  var b = e(d, function(l, m, j, k) {
    d.call(this, l, m, j, k)
  }, {
    template: d.defineProperty("template", function() {
      var k = this._owner,
        l = k ? k._widget : null,
        j = l ? l.options.footer : "";
      if (typeof j == "string") {
        return j
      } else {
        if (typeof j == "boolean") {
          return ""
        }
      }
      return ""
    }),
    enabled: d.defineProperty("enabled", function() {
      var j = this._owner,
        l = j ? j._widget : null,
        k = l ? l.options.footer : true;
      if (typeof k == "string") {
        k = true
      }
      return k
    })
  });
  g("Telerik.UI.Calendar", {
    _MonthConfiguration: c,
    _FooterConfiguration: b
  })
})(this, jQuery);
(function() {
  var b = Date,
    i = kendo.template,
    e = kendo.getCulture,
    k = kendo.calendar.viewsEnum,
    a = i('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>', {
      useWithBlock: false
    }),
    c = i('<td role="gridcell">&nbsp;</td>', {
      useWithBlock: false
    }),
    g = "k-other-month",
    h = ' class="' + g + '"';

  function d(l) {
    return e(l).calendars.standard
  }
  function f(l, n, m) {
    return +l >= +n && +l <= +m
  }
  function j(v) {
    var r = 0,
      o, u = v.min,
      t = v.max,
      x = v.start,
      w = v.setter,
      l = v.build,
      s = v.cells || 12,
      m = v.perRow || 4,
      n = v.content || a,
      p = v.empty || c,
      q = v.html || '<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';
    for (; r < s; r++) {
      if (r > 0 && r % m === 0) {
        q += '</tr><tr role="row">'
      }
      o = l(x, r);
      q += f(x, u, t) ? n(o) : p(o);
      w(x, 1)
    }
    return q + "</tr></tbody></table>"
  }
  kendo.calendar.views[k.year].content = function(o) {
    var n = d(o.culture).months.namesAbbr,
      p = this.toDateString,
      m = o.min,
      l = o.max;
    return j({
      perRow: 2,
      min: new b(m.getFullYear(), m.getMonth(), 1),
      max: new b(l.getFullYear(), l.getMonth(), 1),
      start: new b(o.date.getFullYear(), 0, 1),
      setter: this.setDate,
      build: function(q) {
        return {
          value: n[q.getMonth()],
          ns: kendo.ns,
          dateString: p(q),
          cssClass: ""
        }
      }
    })
  };
  kendo.calendar.views[k.decade].content = function(l) {
    var n = l.date.getFullYear(),
      m = this.toDateString;
    return j({
      perRow: 2,
      start: new b(n - n % 10 - 1, 0, 1),
      min: new b(l.min.getFullYear(), 0, 1),
      max: new b(l.max.getFullYear(), 0, 1),
      setter: this.setDate,
      build: function(o, p) {
        return {
          value: o.getFullYear(),
          ns: kendo.ns,
          dateString: m(o),
          cssClass: p === 0 || p == 11 ? h : ""
        }
      }
    })
  };
  kendo.calendar.views[k.century].content = function(p) {
    var r = p.date.getFullYear(),
      n = p.min.getFullYear(),
      l = p.max.getFullYear(),
      q = this.toDateString,
      o = n,
      m = l;
    o = o - o % 10;
    m = m - m % 10;
    if (m - o < 10) {
      m = o + 9
    }
    return j({
      perRow: 2,
      start: new b(r - r % 100 - 10, 0, 1),
      min: new b(o, 0, 1),
      max: new b(m, 0, 1),
      setter: this.setDate,
      build: function(s, u) {
        var v = s.getFullYear(),
          t = v + 9;
        if (v < n) {
          v = n
        }
        if (t > l) {
          t = l
        }
        return {
          ns: kendo.ns,
          value: v + " - " + t,
          dateString: q(s),
          cssClass: u === 0 || u == 11 ? h : ""
        }
      }
    })
  }
})();
(function(b, a, d) {
  var c = null;
  WinJS.Namespace.define("Telerik.UI.Calendar", {
    DateRange: WinJS.Class.define(function(f, e) {
      var g = this;
      g._start = f;
      g._end = e
    }, {
      _start: c,
      _end: c,
      start: {
        get: function() {
          return this._start
        }
      },
      end: {
        get: function() {
          return this._end
        }
      }
    })
  })
})(this, jQuery);
(function(d, a, l) {
  var m = function(n) {
    a(n).removeClass("k-state-selected")
  };
  var k = function(n) {
    a(n).addClass("k-state-selected")
  };
  var c = function(n) {
    var o = a(n).find("a").attr("data-value"),
      p;
    if (o) {
      p = o.split("/");
      return new Date(p[0], p[1], p[2])
    }
    return null
  };

  function j(n) {
    if (n instanceof Date) {
      return new Date(n.getFullYear(), n.getMonth(), n.getDate())
    } else {
      if (typeof n === "string") {
        return new Date(n)
      }
    }
    return null
  }
  function e(r, n, q) {
    var s = new Date(r.getFullYear(), r.getMonth(), r.getDate() + q),
      t = s.getFullYear() == n.getFullYear(),
      p = s.getMonth() == n.getMonth(),
      o = s.getDate() == n.getDate();
    return t && p && o
  }
  function f(o, n) {
    return e(o, n, 1)
  }
  function g(n, o) {
    return e(n, o, -1)
  }
  function i(o, n) {
    return o.start >= n.start && o.end <= n.end
  }
  function h(o, n) {
    return o.start < n.start && o.end > n.end
  }
  WinJS.Namespace.define("Telerik.UI.Calendar", {
    _SelectionInteraction: WinJS.Class.define(function(n) {
      var o = this;
      o._calendar = n;
      o._isMultiple = n.selection.mode == "multipleRanges";
      o._selectedCells = [];
      o._originalSelectedCells = [];
      o._bindEventHandlers();
      if (n._options.selection._isEndCalendar) {
        o._isEnabled = false;
        o._attachEventHandlersIfRelated()
      } else {
        o._attachEventHandlers()
      }
    }, {
      _isEnabled: true,
      _calendar: null,
      _isMultiple: false,
      _isNewSelection: false,
      _isAppending: false,
      _isPointerMoved: false,
      _startCell: null,
      _selectedCells: null,
      _originalSelectedCells: null,
      _selectHandle: null,
      _bindEventHandlers: function() {
        var n = this;
        n._onClick = n._onClick.bind(n);
        n._onPointerDown = n._onPointerDown.bind(n);
        n._onPointerMove = n._onPointerMove.bind(n);
        n._onPointerUp = n._onPointerUp.bind(n);
        n._processKeyDown = n._processKeyDown.bind(n);
        n._processKeyPress = n._processKeyPress.bind(n);
        n._onTap = n._onTap.bind(n);
        n._onHold = n._onHold.bind(n);
        n._onHoldEnd = n._onHoldEnd.bind(n);
        n._onGestureWhileHolding = n._onGestureWhileHolding.bind(n);
        n._onGestureWhileHoldingEnd = n._onGestureWhileHoldingEnd.bind(n)
      },
      _attachEventHandlers: function() {
        var q = this,
          n = q._calendar,
          p = n._interactionEvents,
          o = n.element;
        q._removeKendoClickHandler();
        p.addEventListener("click", q._onClick, false);
        p.addEventListener("pointerDown", q._onPointerDown, false);
        p.addEventListener("pointerMove", q._onPointerMove, false);
        p.addEventListener("pointerUp", q._onPointerUp, false);
        p.addEventListener("tap", q._onTap, false);
        p.addEventListener("hold", q._onHold, false);
        p.addEventListener("holdEnd", q._onHoldEnd, false);
        p.addEventListener("gestureWhileHolding", q._onGestureWhileHolding, false);
        p.addEventListener("gestureWhileHoldingEnd", q._onGestureWhileHoldingEnd, false);
        q._calendar.element.addEventListener("keydown", q._processKeyDown, false);
        document.addEventListener("keypress", q._processKeyPress, false)
      },
      _detachEventHandlers: function() {
        var o = this,
          n = o._calendar._interactionEvents;
        o._restoreKendoClickHandler();
        n.removeEventListener("click", o._onClick, false);
        n.removeEventListener("pointerDown", o._onPointerDown, false);
        n.removeEventListener("pointerMove", o._onPointerMove, false);
        n.removeEventListener("pointerUp", o._onPointerUp, false);
        n.removeEventListener("tap", o._onTap, false);
        n.removeEventListener("hold", o._onHold, false);
        n.removeEventListener("holdEnd", o._onHoldEnd, false);
        n.removeEventListener("gestureWhileHolding", o._onGestureWhileHolding, false);
        n.removeEventListener("gestureWhileHoldingEnd", o._onGestureWhileHoldingEnd, false);
        o._calendar.element.removeEventListener("keydown", o._processKeyDown, false);
        document.removeEventListener("keypress", o._processKeyPress, false)
      },
      _removeKendoClickHandler: function() {
        this._calendar._widget.element.off("click.kendoCalendar")
      },
      _restoreKendoClickHandler: function() {
        var n = this,
          o = n._calendar._widget;
        a(o.element).on("click.kendoCalendar", "td:has(.k-link)", function(p) {
          var q = p.currentTarget.firstChild;
          if (q.href.indexOf("#") != -1) {
            p.preventDefault()
          }
          o._click(a(q))
        })
      },
      _handleClick: function(p) {
        var v = this,
          u = p.detail.target,
          n = a(u).closest("td[role=gridcell]").get(0),
          s = v._calendar.selectedDateRange,
          o, t, r = p.detail.originalEvent;
        if (!n || !a(n).has("a").length) {
          return
        }
        if (r && (r.ctrlKey || r.shiftKey)) {
          v._processSelectionWithModifierKey(r, n)
        } else {
          if (s) {
            o = c(n);
            t = j(s.start);
            if (+o == +t && v._calendar.view == "month") {
              v._calendar._widget.value(o);
              v._calendar.dispatchEvent("change")
            } else {
              v.detachSelectHandle();
              var q = n.firstChild;
              if (q.href.indexOf("#") != -1 && p.detail.originalEvent) {
                p.detail.originalEvent.preventDefault()
              }
              if (!a(n).hasClass("k-other-month")) {
                v._calendar._widget._current = o
              }
              v._calendar._widget._click(a(q))
            }
          } else {
            var q = n.firstChild;
            if (q.href.indexOf("#") != -1 && p.detail.originalEvent) {
              p.detail.originalEvent.preventDefault()
            }
            v._calendar._widget._click(a(q))
          }
        }
      },
      _onClick: function(n) {
        var o = this;
        if (!o._isPointerMoved) {
          o._handleClick(n)
        }
      },
      _onTap: function(n) {
        var o = this;
        o._handleClick(n)
      },
      _onPointerDown: function(n) {
        n = n.detail.originalEvent;
        this.start(n.target, n.shiftKey)
      },
      _onPointerMove: function(n) {
        this.move(n.detail.target)
      },
      _onPointerUp: function(n) {
        var o = this;
        o._removeDeadCells();
        o.stop()
      },
      _onHold: function(n) {
        var p = this,
          o = n.detail.target;
        p.detachSelectHandle();
        p.attachSelectHandle(o);
        p.start(o)
      },
      _onHoldEnd: function() {
        this.detachSelectHandle()
      },
      _onGestureWhileHolding: function(n) {
        var o = this;
        if (o._selectedCells.indexOf(o._startCell) < 0) {
          o.move(o._startCell)
        }
        o.detachSelectHandle();
        o.move(n.detail.target)
      },
      _onGestureWhileHoldingEnd: function(n) {
        this.stop()
      },
      _simulateInternalKendoClickCall: function() {
        (function() {
          this._click(a(this._cell[0].firstChild))
        }).apply(this._calendar._widget)
      },
      _extendSingleDateRange: function(s, n) {
        var o = this._calendar,
          q = o.selectedDateRange,
          r = q.start,
          p = q.end;
        if (n && (f(p, s) || g(r, s)) || (!n && +r == +p)) {
          if (+s < +r) {
            o.selectedDateRange = {
              start: s,
              end: p
            }
          } else {
            if (+s > +p) {
              o.selectedDateRange = {
                start: r,
                end: s
              }
            }
          }
        }
      },
      _shiftClick: function(o) {
        var q = this,
          n = q._calendar,
          r = c(o),
          p = n.selectedDateRange;
        if (+r < +j(p.start)) {
          n.selectedDateRange = {
            start: r,
            end: p.start
          }
        } else {
          n.selectedDateRange = {
            start: p.start,
            end: r
          }
        }
      },
      _processSelectionWithModifierKey: function(q, p) {
        var s = this,
          n = s._calendar,
          t = c(p),
          r = n.selectedDateRange,
          o = false;
        if (a(q.target).closest(".k-meta-view").length) {
          o = true
        } else {
          if (n.selection.mode == "singleRange") {
            if (r && q.ctrlKey) {
              s._extendSingleDateRange(t, true)
            } else {
              if (r && q.shiftKey) {
                s._shiftClick(p)
              } else {
                if (r && +t == +s._calendar.value) {
                  s._calendar.value = t
                } else {
                  o = true
                }
              }
            }
          } else {
            if (n.selection.mode == "multipleRanges") {
              if (q.ctrlKey) {
                this._addToSelectedDateRanges({
                  start: t,
                  end: t
                })
              } else {
                s._calendar.value = t
              }
            } else {
              o = true
            }
          }
        }
        if (o) {
          s._simulateInternalKendoClickCall()
        } else {
          s._focusCell(p)
        }
        s._calendar.dispatchEvent("change")
      },
      _processKeyDown: function(o) {
        if (a(o.target).closest(".k-header").length) {
          return
        }
        var q = this,
          p = a(q._calendar.element).find(".k-state-focused").get(0),
          n = false,
          r = c(p);
        if (o.keyCode == 40 && o.ctrlKey) {
          if (a(o.target).closest(".k-meta-view").length) {
            n = true
          } else {
            if (q._calendar.selectedDateRange && +r == +q._calendar.value) {
              q._calendar.value = r
            } else {
              n = true
            }
          }
          if (n) {
            q._simulateInternalKendoClickCall()
          }
          q._calendar.dispatchEvent("change");
          o.preventDefault()
        } else {
          if (o.keyCode == 13 || o.keyCode == 32) {
            q._processSelectionWithModifierKey(o, p);
            o.preventDefault()
          }
        }
      },
      _processKeyPress: function(n) {
        if (n.keyCode == 27) {
          this.cancel()
        }
      },
      _attachEventHandlersIfRelated: function() {
        var n = this;
        n._processKeyDownIfRelated = n._processKeyDownIfRelated.bind(n);
        n._calendar.element.addEventListener("keydown", n._processKeyDownIfRelated, false)
      },
      _detachEventHandlersIfRelated: function() {
        var n = this;
        n._calendar.element.removeEventListener("keydown", n._processKeyDownIfRelated, false)
      },
      _processKeyDownIfRelated: function(n) {
        if (a(n.target).closest(".k-header").length) {
          return
        }
        if (n.keyCode == 13 || n.keyCode == 32 || (n.keyCode == 40 && n.ctrlKey)) {
          var o = this;
          (function() {
            this._click(a(this._cell[0].firstChild))
          }).apply(o._calendar._widget);
          n.preventDefault();
          o._calendar.dispatchEvent("change")
        }
      },
      _removeDeadCells: function() {
        var n = this;
        n._selectedCells = a(n._selectedCells).filter(function() {
          return a(this).parents(".k-content").length
        }).toArray()
      },
      _addToSelectedDateRanges: function(n) {
        this._mergeToSelectedDateRanges(n);
        this._compactSelectedRanges();
        this._sortSelectedDateRange();
        this._calendar.selectedDateRanges = this._calendar.selectedDateRanges
      },
      _mergeToSelectedDateRanges: function(r) {
        var q = false,
          u = this._calendar.selectedDateRanges,
          p = u.length,
          t, s, n;
        for (var o = 0; o < p; o++) {
          t = u[o];
          s = {
            start: j(t.start),
            end: j(t.end)
          };
          if (+r.start == +s.start && +r.end == +s.end) {
            n = true
          } else {
            if (i(r, s)) {
              q = true
            } else {
              if (h(r, s)) {
                t.start = r.start;
                t.end = r.end;
                q = true
              } else {
                if (r.start >= s.start && r.start <= s.end || f(s.end, r.start)) {
                  t.end = r.end;
                  q = true
                } else {
                  if (r.end >= s.start && r.start < s.end || g(s.start, r.end)) {
                    t.start = r.start;
                    q = true
                  }
                }
              }
            }
          }
        }
        if (!q && !n) {
          this._calendar.selectedDateRanges.push(r)
        }
        return q
      },
      _compactSelectedRanges: function() {
        var s = this,
          r = s._calendar.selectedDateRanges,
          q, p, o;
        for (var n = 0; n < r.length; n++) {
          q = r[n];
          p = {
            start: j(q.start),
            end: j(q.end)
          };
          if (s._mergeToSelectedDateRanges(p)) {
            r.splice(n, 1);
            n--
          }
        }
      },
      _sortSelectedDateRange: function() {
        var o = this,
          n = o._calendar.selectedDateRanges;
        n.sort(function(p, q) {
          return +p.start - +q.start
        })
      },
      _focusCell: function(o) {
        var q = this,
          n = q._calendar,
          s = n._widget,
          r = c(o),
          p = a(o).hasClass("k-other-month");
        if (p) {
          a(o).removeClass("k-other-month")
        }
        s._class("k-state-focused", s._view.toDateString(r));
        s._current = r;
        if (p) {
          a(o).addClass("k-other-month")
        }
      },
      attachSelectHandle: function(n) {
        n = a(n).closest("td[role=gridcell]").get(0);
        if (a(n).parents(".k-meta-view").length || !c(n)) {
          return
        }
        this._selectHandle = this._selectHandle || a('<span class="t-select-handle"></span>');
        a(n).closest("td[role=gridcell]").addClass("t-attach-handle").prepend(this._selectHandle)
      },
      detachSelectHandle: function() {
        var n = this;
        if (n._selectHandle) {
          n._selectHandle.parent(".t-attach-handle").removeClass("t-attach-handle");
          n._selectHandle.remove()
        }
      },
      start: function(p, o) {
        var t = this;
        t._isPointerMoved = false;
        p = a(p).closest("td[role=gridcell]").get(0);
        if (t._calendar.view != "month" || !c(p)) {
          return
        }
        t._startCell = p;
        t._isNewSelection = !t._isMultiple;
        t._isAppending = false;
        a(t._calendar.element).find(".k-content td").each(function() {
          if (a(this).hasClass("k-state-selected")) {
            t._originalSelectedCells.push(this)
          }
        });
        if (o && !t._isMultiple && t._calendar.selectedDateRange) {
          if (t._originalSelectedCells.length) {
            t._startCell = t._originalSelectedCells[0]
          } else {
            var q = c(p),
              r = -1;
            if (+q > +j(t._calendar.selectedDateRange.end)) {
              r = 0
            }
            t._startCell = a(t._calendar.element).find(".k-content td").get(r);
            k(t._startCell);
            t._originalSelectedCells.push(t._startCell)
          }
          t._isNewSelection = false;
          t._isAppending = true;
          t._selectedCells = t._originalSelectedCells.slice(0);
          var n = a(t._calendar.element).find(".k-content td"),
            s = n.index(p);
          t.move(n[s], true)
        }
      },
      move: function(o, x) {
        o = a(o).closest("td[role=gridcell]").get(0);
        if (!this._startCell || !o || !c(o)) {
          return
        }
        this._isPointerMoved = !x;
        if (this._isNewSelection) {
          this._selectedCells.forEach(m);
          this._originalSelectedCells.forEach(m);
          this._selectedCells = [];
          this._isNewSelection = false
        }
        if (!this._selectedCells.length) {
          a(o).addClass("k-state-selected");
          this._selectedCells.push(o)
        } else {
          var n = a(this._calendar.element).find(".k-content td"),
            q = n.index(o),
            w = this._selectedCells.indexOf(o),
            t = this._startCell,
            u = n.index(t),
            v = this._selectedCells.indexOf(t),
            r = q > u ? 1 : q < u ? -1 : 0,
            p = [];
          if (r == 1) {
            if (w >= 0) {
              for (var s = w + 1; s < this._selectedCells.length; s++) {
                if (!this._isMultiple || this._originalSelectedCells.indexOf(this._selectedCells[s]) == -1) {
                  a(this._selectedCells[s]).removeClass("k-state-selected");
                  p.push(this._selectedCells[s])
                }
              }
              this._selectedCells = this._selectedCells.slice(0, this._selectedCells.length - p.length)
            }
            for (var s = 0; s < v; s++) {
              if (!this._isMultiple || this._originalSelectedCells.indexOf(this._selectedCells[s]) == -1) {
                a(this._selectedCells[s]).removeClass("k-state-selected")
              }
            }
            this._selectedCells = this._selectedCells.slice(v, this._selectedCells.length);
            t = this._selectedCells[this._selectedCells.length - 1];
            u = n.index(t);
            for (var s = u + 1; s <= q; s++) {
              n.eq(s).addClass("k-state-selected");
              this._selectedCells.push(n.get(s))
            }
          } else {
            if (r == -1) {
              if (w >= 0) {
                for (var s = 0; s < w; s++) {
                  if (!this._isMultiple || this._originalSelectedCells.indexOf(this._selectedCells[s]) == -1) {
                    a(this._selectedCells[s]).removeClass("k-state-selected")
                  }
                }
                this._selectedCells = this._selectedCells.slice(s)
              }
              for (var s = v + 1; s < this._selectedCells.length; s++) {
                if (!this._isMultiple || this._originalSelectedCells.indexOf(this._selectedCells[s]) == -1) {
                  a(this._selectedCells[s]).removeClass("k-state-selected")
                }
              }
              this._selectedCells = this._selectedCells.slice(0, v + 1);
              u = n.index(this._selectedCells[0]);
              for (var s = q; s < u; s++) {
                n.eq(s).addClass("k-state-selected");
                p.push(n.get(s))
              }[].unshift.apply(this._selectedCells, p)
            } else {
              for (var s = 0; s < this._selectedCells.length; s++) {
                if (this._selectedCells[s] != this._startCell && (!this._isMultiple || this._originalSelectedCells.indexOf(this._selectedCells[s]) == -1)) {
                  a(this._selectedCells[s]).removeClass("k-state-selected")
                }
              }
              this._selectedCells = [this._startCell]
            }
          }
        }
      },
      stop: function() {
        var u = this,
          n = u._calendar,
          t = u._selectedCells,
          s = t.length,
          p = t[0],
          r = t[s - 1],
          q;
        if (s && u._isPointerMoved) {
          q = +c(u._startCell) == +c(p);
          if (u._isMultiple) {
            u._addToSelectedDateRanges({
              start: c(p),
              end: c(t.pop())
            })
          } else {
            var o = a(n.element).find(".k-content td");
            if (u._isAppending && (+j(n.selectedDateRange.start) < +c(o.get(0)))) {
              n.selectedDateRange = {
                start: n.selectedDateRange.start,
                end: c(t.pop())
              }
            } else {
              if (u._isAppending && (+j(n.selectedDateRange.end) > +c(o.get(-1)))) {
                n.selectedDateRange = {
                  start: c(p),
                  end: n.selectedDateRange.start
                }
              } else {
                n.selectedDateRange = {
                  start: c(p),
                  end: c(t.pop())
                }
              }
            }
          }
          if (q) {
            u._focusCell(r)
          } else {
            u._focusCell(p)
          }
          n.dispatchEvent("change");
          u._selectedCells = []
        }
        u._startCell = null;
        u._originalSelectedCells = []
      },
      cancel: function() {
        if (this._startCell) {
          this._selectedCells.forEach(m);
          this._originalSelectedCells.forEach(k);
          this._startCell = null;
          this._selectedCells = []
        }
      },
      toggle: function(n) {
        var o = this;
        if (n != o._isEnabled) {
          n ? o._attachEventHandlers() : o._detachEventHandlers();
          !n ? o._attachEventHandlersIfRelated() : o._detachEventHandlersIfRelated();
          o._isEnabled = n
        }
      },
      destroy: function() {
        var n = this;
        n._detachEventHandlers();
        n._detachEventHandlersIfRelated();
        n._calendar = null;
        n._startCell = null;
        n._selectedCells = null;
        n._originalSelectedCells = null
      }
    })
  });
  var b = kendo.ui.Calendar.prototype._navigate;
  kendo.ui.Calendar.prototype._navigate = function() {
    var u = this,
      o = u._current,
      p = o.getMonth(),
      n = a(u.element),
      s = n.find(".k-state-focused.k-other-month").get(0),
      r = n.find("td").not(".k-other-month").get(0),
      q = function(v) {
        return c(v)
      }, t = 0;
    if (s) {
      t += q(s) > q(r) ? -1 : 1
    }
    o.setMonth(p + t);
    b.apply(u, arguments)
  }
})(this, jQuery);
(function(f, a, s) {
  var r = Telerik.UI,
    i = r.RadCalendar,
    c = r.Calendar.DateRange,
    k = r.Calendar._SelectionInteraction,
    d = WinJS.Class.define,
    g = WinJS.Namespace.define;

  function h(t) {
    if (t instanceof Date) {
      return new Date(t.getFullYear(), t.getMonth(), t.getDate())
    } else {
      if (typeof t === "string") {
        return new Date(t)
      }
    }
    return null
  }
  var e = function(t) {
    var u = a(t).find("a").attr("data-value"),
      v;
    if (u) {
      v = u.split("/");
      return new Date(v[0], v[1], v[2])
    }
    return null
  };
  var q = function(t, u) {
    a(t).find("td").each(function(w) {
      var v = a(this);
      ["k-state-focused", "k-state-selected", "k-today"].forEach(function(x) {
        if (v.hasClass(x)) {
          a(u).find("td").eq(w).addClass(x)
        }
      })
    })
  };
  var j = WinJS.Class.define(function(t) {
    this._calendar = t
  }, {
    _calendar: null,
    normalizeOptions: function(t) {
      t.selection = t.selection || {};
      t.selection.mode = t.selection.mode || "singleDate";
      t.value = t.value || null;
      t.selectedDateRange = t.selectedDateRange || null;
      t.selectedDateRanges = t.selectedDateRanges || []
    }
  }, {
    create: function(v, t) {
      var w = (v && v.mode) || "singleDate",
        u = v && v.singleRange;
      switch (w) {
        case "singleRange":
          if (u) {
            return new p(t)
          } else {
            return new o(t)
          }
        case "multipleRanges":
          return new l(t);
        default:
          return new n(t)
      }
    }
  });
  var n = WinJS.Class.derive(j, function(t) {
    j.call(this, t)
  }, {
    initialize: function() {
      this._overrideWidgetValueMethod()
    },
    destroy: function() {
      this._restoreWidgetValueMethod()
    },
    initializeInteraction: function() {
      var t = this;
      t._processKeyDown = t._processKeyDown.bind(t);
      t._calendar.element.addEventListener("keydown", t._processKeyDown, false)
    },
    destroyInteraction: function() {
      var t = this;
      t._calendar.element.removeEventListener("keydown", t._processKeyDown, false)
    },
    setValue: function(u) {
      var t = this;
      t._calendar._options.value = u;
      if (t._calendar._widget) {
        t._calendar._widget.value(u, true)
      }
    },
    setSelectedDateRange: function(t) {
      this._calendar._options.selectedDateRange = t
    },
    setSelectedDateRanges: function(t) {
      this._calendar._options.selectedDateRanges = t
    },
    setMin: function(u) {
      var t = this;
      if (t._calendar._widget) {
        t._calendar._options.min = u;
        t._calendar._widget.min(u);
        t._calendar._reInitialize()
      }
    },
    setMax: function(u) {
      var t = this;
      if (t._calendar._widget) {
        t._calendar._options.max = u;
        t._calendar._widget.max(u);
        t._calendar._reInitialize()
      }
    },
    _processKeyDown: function(t) {
      if (a(t.target).closest(".k-header").length) {
        return
      }
      if (t.keyCode == 13 || t.keyCode == 32 || (t.keyCode == 40 && t.ctrlKey)) {
        var u = this;
        (function() {
          this._click(a(this._cell[0].firstChild))
        }).apply(u._calendar._widget);
        t.preventDefault();
        u._calendar.dispatchEvent("change")
      }
    },
    _originalWidgetValueMethod: null,
    _onWidgetValueChange: function(v, t) {
      var u = this;
      if (v === s) {
        return u._originalWidgetValueMethod()
      } else {
        if (!t) {
          u._calendar._options.value = v
        }
        u._originalWidgetValueMethod(v)
      }
    },
    _overrideWidgetValueMethod: function() {
      var t = this,
        u = t._calendar._widget;
      t._originalWidgetValueMethod = u.value.bind(u);
      u.value = t._onWidgetValueChange.bind(t)
    },
    _restoreWidgetValueMethod: function() {
      var t = this,
        u = t._calendar._widget;
      u.value = t._originalWidgetValueMethod
    }
  });
  var m = WinJS.Class.derive(j, function(t) {
    j.call(this, t)
  }, {
    _selectionInteraction: null,
    _widgetValueChangeInProcess: false,
    _skipNavigateIfOtherMonth: false,
    initialize: function() {
      var t = this;
      t._overrideWidgetValueMethod();
      t._overrideWidgetNavigateMethod();
      t._overrideWidgetValueBackingField();
      t._refreshWidgetValue(t._calendar._options.value);
      t._refreshSelectionVisualState()
    },
    destroy: function() {
      var t = this;
      t._restoreWidgetValueMethod();
      t._restoreWidgetNavigateMethod();
      t._restoreWidgetValueBackingField()
    },
    setSelectionMode: function(v) {
      var u = this,
        t = u._calendar._options;
      t.selectionMode = v;
      u.initializeInteraction();
      u.normalizeOptions(t);
      u._refreshWidgetValue(t.value);
      u._refreshSelectionVisualState()
    },
    setValue: function(v) {
      var u = this,
        t = u._calendar._options;
      t.value = v;
      u._refreshWidgetValue(v);
      u._refreshSelectedDateRange(v);
      u._refreshSelectionVisualState()
    },
    setSelectedDateRange: function(w) {
      var v = this,
        u = v._calendar._options,
        t = u.selection._isEndCalendar;
      u.value = w ? t ? h(w.end) : h(w.start) : null;
      v._refreshWidgetValue(u.value, true);
      u.selectedDateRange = w;
      if (w) {
        u.selectedDateRanges = [w]
      } else {
        u.selectedDateRanges = []
      }
      v._refreshSelectionVisualState()
    },
    setSelectedDateRanges: function(u) {
      var t = this;
      t._calendar._options.value = u && u.length ? u[0].start : null;
      t._refreshWidgetValue(t._calendar._options.value, true);
      t._calendar._options.selectedDateRange = u && u.length ? u[0] : null;
      t._calendar._options.selectedDateRanges = u;
      t._refreshSelectionVisualState()
    },
    initializeInteraction: function() {
      var u = this,
        t = u._calendar;
      if (u._selectionInteraction) {
        u._selectionInteraction.destroy()
      }
      u._selectionInteraction = new k(t)
    },
    destroyInteraction: function() {
      this._selectionInteraction.destroy()
    },
    toggleInteraction: function(t) {
      this._selectionInteraction.toggle(t)
    },
    _refreshWidgetValue: function(v, t) {
      var u = this;
      u._skipNavigateIfOtherMonth = false;
      if (t) {
        if (u._isValueInOtherMonth(v) || u._isValueInOtherMonth(u._calendar._widget._current)) {
          u._skipNavigateIfOtherMonth = true
        }
      }
      if (u._calendar._widget) {
        u._calendar._widget.value(v, true)
      }
      u._skipNavigateIfOtherMonth = false
    },
    _isValueInOtherMonth: function(u) {
      var t = a(this._calendar.element).find(".k-content td").filter(function() {
        return +e(this) == +h(u)
      });
      return !t.length || t.hasClass("k-other-month")
    },
    _refreshSelectionVisualState: function(z) {
      var A = this,
        v = A._calendar.element,
        u = z && z.length ? z : A._calendar.element,
        x = z && z.length ? "td a" : ".k-content td a",
        t = a(u).find(x + ":not(.t-animation-grid a)"),
        y, w;
      if (!A._calendar.selectedDateRange || (a(u).closest(".k-meta-view").length)) {
        t.each(function() {
          a(this).parent().removeClass("k-state-selected")
        });
        return
      }
      t.each(function() {
        var B = this,
          C = a(B).attr("data-value"),
          E = C.split("/"),
          F = new Date(E[0], E[1], E[2]),
          D = false;
        A._calendar.selectedDateRanges.forEach(function(G) {
          y = h(G.start);
          w = h(G.end);
          if (F >= y && F <= w) {
            D = true;
            return false
          }
        });
        if (D) {
          a(B).parent().addClass("k-state-selected")
        } else {
          a(B).parent().removeClass("k-state-selected")
        }
      });
      q(a(v).find(".t-animation-to-grid"), a(v).find(".t-animation-grid"))
    },
    _originalWidgetValueMethod: null,
    _onWidgetValueChange: function(v, t) {
      var u = this;
      if (v === s) {
        return u._originalWidgetValueMethod()
      } else {
        u._widgetValueChangeInProcess = true;
        u._originalWidgetValueMethod(v);
        u._widgetValueChangeInProcess = false;
        if (!t) {
          u._calendar._options.value = v;
          u._refreshSelectedDateRange(v);
          u._refreshSelectionVisualState()
        }
      }
    },
    _overrideWidgetValueMethod: function() {
      var t = this,
        u = t._calendar._widget;
      t._originalWidgetValueMethod = u.value.bind(u);
      u.value = t._onWidgetValueChange.bind(t)
    },
    _restoreWidgetValueMethod: function() {
      var t = this,
        u = t._calendar._widget;
      u.value = t._originalWidgetValueMethod
    },
    _originalWidgetNavigateMethod: null,
    _overrideWidgetNavigateMethod: function() {
      var u = this,
        v = u._calendar._widget,
        t = v.navigate;
      u._originalWidgetNavigateMethod = v.navigate.bind(v);
      v.navigate = function(w, x) {
        t.call(v, w, x, u._refreshSelectionVisualState.bind(u), u._skipNavigateIfOtherMonth, q)
      }
    },
    _restoreWidgetNavigateMethod: function() {
      var t = this,
        u = t._calendar._widget;
      u.navigate = t._originalWidgetNavigateMethod
    },
    _overrideWidgetValueBackingField: function() {
      var t = this,
        v = t._calendar._widget,
        u = v._value;
      Object.defineProperty(v, "_value", {
        get: function() {
          return u
        },
        set: function(w) {
          u = w;
          if (!t._widgetValueChangeInProcess) {
            t._calendar._options.value = w;
            t._refreshSelectedDateRange(w);
            t._refreshSelectionVisualState()
          }
        }
      })
    },
    _restoreWidgetValueBackingField: function() {
      var t = this,
        v = t._calendar._widget,
        u = v._value;
      Object.defineProperty(v, "_value", {
        value: u,
        writable: true
      })
    }
  });
  var o = WinJS.Class.derive(m, function(t) {
    m.call(this, t)
  }, {
    normalizeOptions: function(t) {
      j.prototype.normalizeOptions.call(this, t);
      if (t.value) {
        t.selectedDateRange = {
          start: t.value,
          end: t.value
        };
        t.selectedDateRanges = [{
          start: t.selectedDateRange.start,
          end: t.selectedDateRange.end
        }]
      } else {
        if (t.selectedDateRange) {
          if (t.min && t.selectedDateRange.start < t.min) {
            t.selectedDateRange.start = t.min
          }
          if (t.max && t.selectedDateRange.end > t.max) {
            t.selectedDateRange.end = t.max
          }
          if (typeof t.selectedDateRange.start == "string") {
            t.value = new Date(t.selectedDateRange.start)
          } else {
            t.value = t.selectedDateRange.start
          }
          t.selectedDateRanges = [{
            start: t.selectedDateRange.start,
            end: t.selectedDateRange.end
          }]
        }
      }
    },
    setMin: function(v) {
      var u = this;
      if (u._calendar._widget) {
        u._calendar._options.min = v;
        u._calendar._reInitialize();
        if (u._calendar.selectedDateRange) {
          var t = u._calendar.selectedDateRange.end;
          if (u._calendar.selectedDateRange.start < v) {
            u._calendar.selectedDateRange = {
              start: v,
              end: t
            }
          }
        }
      }
    },
    setMax: function(v) {
      var u = this;
      if (u._calendar._widget) {
        u._calendar._options.max = v;
        u._calendar._reInitialize();
        if (u._calendar.selectedDateRange) {
          var t = u._calendar.selectedDateRange.start;
          if (u._calendar.selectedDateRange.end > v) {
            u._calendar.selectedDateRange = {
              start: t,
              end: v
            }
          }
        }
      }
    },
    setSelectedDateRanges: function(t) {
      m.prototype.setSelectedDateRange.call(this, t[0])
    },
    _refreshSelectedDateRange: function(u) {
      var t = this;
      if (u) {
        t._calendar._options.selectedDateRange = {
          start: u,
          end: u
        };
        t._calendar._options.selectedDateRanges = [{
          start: t._calendar._options.selectedDateRange.start,
          end: t._calendar._options.selectedDateRange.end
        }]
      } else {
        t._calendar._options.selectedDateRange = null;
        t._calendar._options.selectedDateRanges = []
      }
    }
  });
  var l = WinJS.Class.derive(m, function(t) {
    m.call(this, t)
  }, {
    normalizeOptions: function(t) {
      j.prototype.normalizeOptions.call(this, t);
      if (t.value) {
        t.selectedDateRange = {
          start: t.value,
          end: t.value
        };
        t.selectedDateRanges = [{
          start: t.value,
          end: t.value
        }]
      } else {
        if (t.selectedDateRange) {
          if (t.min && t.selectedDateRange.start < t.min) {
            t.selectedDateRange.start = t.min
          }
          if (t.max && t.selectedDateRange.end > t.max) {
            t.selectedDateRange.end = t.max
          }
          if (typeof t.selectedDateRange.start == "string") {
            t.value = new Date(t.selectedDateRange.start)
          } else {
            t.value = t.selectedDateRange.start
          }
          t.selectedDateRanges = [{
            start: t.selectedDateRange.start,
            end: t.selectedDateRange.end
          }]
        } else {
          if (t.selectedDateRanges && t.selectedDateRanges.length) {
            if (t.min && t.selectedDateRanges[0].start < t.min) {
              t.selectedDateRanges[0].start = t.min
            }
            if (t.max && t.selectedDateRanges[t.selectedDateRanges.length - 1].end > t.max) {
              t.selectedDateRanges[t.selectedDateRanges.length - 1].end = t.max
            }
            if (typeof t.selectedDateRanges[0].start == "string") {
              t.value = new Date(t.selectedDateRanges[0].start)
            } else {
              t.value = t.selectedDateRanges[0].start
            }
            t.selectedDateRange = {
              start: t.selectedDateRanges[0].start,
              end: t.selectedDateRanges[0].end
            }
          }
        }
      }
    },
    setMin: function(v) {
      var u = this;
      if (u._calendar._widget) {
        u._calendar._options.min = v;
        u._calendar._reInitialize();
        var t = u._calendar.selectedDateRanges;
        while (t.length && t[0].end < v) {
          t.shift()
        }
        if (t[0]) {
          if (h(t[0].start) < v) {
            t[0].start = v
          }
          u._calendar._options.value = t[0].start;
          u._refreshWidgetValue(u._calendar._options.value, true);
          u._calendar._options.selectedDateRange = {
            start: t[0].start,
            end: t[0].end
          };
          u._refreshSelectionVisualState()
        }
      }
    },
    setMax: function(v) {
      var u = this;
      if (u._calendar._widget) {
        u._calendar._options.max = v;
        u._calendar._reInitialize();
        var t = u._calendar.selectedDateRanges;
        while (t.length && t[t.length - 1].start > v) {
          t.pop()
        }
        if (t[t.length - 1]) {
          if (t[t.length - 1].end > v) {
            t[t.length - 1].end = v
          }
          u._calendar._options.selectedDateRange = {
            start: t[0].start,
            end: t[0].end
          }
        }
      }
    },
    _refreshSelectedDateRange: function(u) {
      var t = this;
      if (u) {
        t._calendar._options.selectedDateRange = {
          start: u,
          end: u
        };
        t._calendar._options.selectedDateRanges = [{
          start: u,
          end: u
        }]
      } else {
        t._calendar._options.selectedDateRange = null;
        t._calendar._options.selectedDateRanges = []
      }
    }
  });
  var p = WinJS.Class.derive(o, function(t) {
    o.call(this, t)
  }, {
    _endCalendar: null,
    _initTimeout: null,
    _isDestroyed: false,
    _getEndCalendar: function() {
      var v = this,
        u = this._calendar.selection.singleRange.endCalendar;
      return new WinJS.Promise(function t(w, y) {
        var x = document.querySelector(u),
          z;
        v._endCalendar = x && x.winControl;
        z = v._endCalendar && v._endCalendar._widget;
        if (!v._endCalendar || !z) {
          v._initTimeout = setImmediate(t, w, y);
          return
        }
        v._initTimeout = null;
        w()
      })
    },
    initialize: function() {
      m.prototype.initialize.call(this);
      var t = this;
      t._getEndCalendar().done(function() {
        t._endCalendar.selection.mode = t._calendar.selection.mode;
        t._endCalendar.selection._isEndCalendar = true;
        t._endCalendar.value = t._calendar.value;
        t._endCalendar.selectedDateRange = t._calendar.selectedDateRange;
        t._endCalendar.min = t._calendar.min;
        t._endCalendar.max = t._calendar.max;
        t._onEndCalendarChange = t._onEndCalendarChange.bind(t);
        t._endCalendar.addEventListener("change", t._onEndCalendarChange, false)
      });
      WinJS.Promise.timeout(1000).done(function() {
        if (!t._isDestroyed && !t._endCalendar) {
          throw new Telerik.Error("Telerik.UI.Control.EndCalendarIsNotFound", Telerik.Localization._strings.endCalendarIsNotFound)
        }
      })
    },
    destroy: function() {
      var t = this;
      m.prototype.destroy.call(this);
      t._initTimeout && clearImmediate(t._initTimeout) && (t._initTimeout = null);
      if (t._endCalendar) {
        t._endCalendar.removeEventListener("change", t._onEndCalendarChange, false);
        t._endCalendar = null
      }
      t._isDestroyed = true
    },
    initializeInteraction: function() {
      var t = this;
      t._processKeyDown = t._processKeyDown.bind(t);
      t._calendar.element.addEventListener("keydown", t._processKeyDown, false)
    },
    destroyInteraction: function() {
      var t = this;
      t._calendar.element.removeEventListener("keydown", t._processKeyDown, false)
    },
    setValue: function(u) {
      var t = this;
      if (u && +u < +t._endCalendar.value) {
        t.setSelectedDateRange({
          start: u,
          end: t._endCalendar.value
        })
      } else {
        o.prototype.setValue.call(t, u);
        t._endCalendar.value = u
      }
    },
    setSelectedDateRange: function(u) {
      var t = this;
      o.prototype.setSelectedDateRange.call(t, u);
      t._endCalendar.selectedDateRange = u
    },
    _processKeyDown: function(t) {
      if (a(t.target).closest(".k-header").length) {
        return
      }
      if (t.keyCode == 13 || t.keyCode == 32 || (t.keyCode == 40 && t.ctrlKey)) {
        var u = this;
        (function() {
          this._click(a(this._cell[0].firstChild))
        }).apply(u._calendar._widget);
        t.preventDefault();
        u._calendar.dispatchEvent("change")
      }
    },
    _refreshSelectedDateRange: function(v) {
      var u = this;
      if (!u._endCalendar.value) {
        u._endCalendar.value = v;
        o.prototype._refreshSelectedDateRange.call(u, v)
      } else {
        if (v && +v < +u._endCalendar.value) {
          var t = {
            start: v,
            end: u._endCalendar.value
          };
          u._calendar._options.selectedDateRange = t;
          u._calendar._options.selectedDateRanges = [{
            start: t.start,
            end: t.end
          }];
          u._endCalendar.selectedDateRange = t
        } else {
          u._endCalendar.value = v;
          o.prototype._refreshSelectedDateRange.call(u, v)
        }
      }
    },
    _onEndCalendarChange: function(u) {
      var t = this._calendar,
        w = t.value,
        v = u.target.value;
      if (!w || +v < +w) {
        t.value = v
      } else {
        t.selectedDateRange = {
          start: w,
          end: v
        }
      }
    }
  });
  var b = d(function(t) {
    this._calendar = t
  }, {
    _calendar: null,
    mode: {
      get: function() {
        return this._calendar._options.selection.mode
      },
      set: function(x) {
        var w = this,
          t = w._calendar,
          v = t._selection,
          u = t._options;
        u.selection.mode = x;
        v.destroy();
        v.destroyInteraction();
        t._selection = v = j.create(u.selection, t);
        v.normalizeOptions(u);
        v.initialize();
        v.initializeInteraction()
      }
    },
    singleRange: {
      get: function() {
        return this._calendar._options.selection.singleRange
      }
    },
    _isEndCalendar: {
      get: function() {
        return this._calendar._options.selection._isEndCalendar
      },
      set: function(t) {
        this._calendar._options.selection._isEndCalendar = t;
        this._calendar._selection.toggleInteraction(!t)
      }
    }
  });
  g("Telerik.UI.Calendar", {
    SelectionMode: {
      singleDate: "singleDate",
      singleRange: "singleRange",
      multipleRanges: "multipleRanges"
    }
  });
  g("Telerik.UI.Calendar", {
    _Selection: j,
    _SelectionSingleDate: n,
    _SelectionSingleRangeRelated: p,
    _SelectionConfiguration: b
  })
})(this, jQuery);
(function(g, a, n) {
  var q = WinJS,
    e = q.Class.derive,
    h = q.Namespace.define,
    m = Telerik.UI,
    p = Telerik.Utilities,
    c = Telerik.Culture,
    d = m.Calendar.DateRange,
    k = m.Calendar._Selection,
    l = m.Calendar._SelectionConfiguration;
  var o = "undefined",
    i = "object",
    b = 367,
    f = "cubic-bezier(0.19, 1, 0.22, 1)";
  var j = e(m.WidgetWrapper, function(r, s) {
    var u = this,
      s = s || {}, t = true;
    if (typeof s._requiresLayout != "undefined") {
      t = s._requiresLayout;
      delete s._requiresLayout
    }
    r.classList.add("t-calendar");
    u._normalizeOptions(s);
    u._selection = k.create(s.selection, u);
    u._selection.normalizeOptions(s);
    m.WidgetWrapper.call(u, r, s);
    p.setPrivate(u, "_requiresLayout", t);
    u._initialize("kendoCalendar", u._createKendoWidgetContainer()).done(function() {
      u._defaultWrapperOptions();
      u._setCellsHeight();
      u._selection.initialize();
      u._initializeInteractions()
    })
  }, {
    culture: {
      get: function() {
        var r = this._options.culture,
          s = r ? r : c.getCurrent();
        return s
      },
      set: function(r) {
        c._checkCulture(r);
        this._options.culture = r;
        this._reInitialize()
      }
    },
    dates: {
      get: function() {
        var r = this,
          s = r._options.dates;
        if (typeof s == o && r._widget) {
          return r._widget.options.dates
        }
        return s
      },
      set: function(s) {
        var r = this;
        if (r._widget) {
          r._widget.options.dates = s;
          r._options.dates = s;
          r._reInitialize()
        }
      }
    },
    depth: {
      get: function() {
        var r = this,
          s = r._options.depth;
        if (typeof s == o && r._widget) {
          return r._widget.options.depth
        }
        return s
      },
      set: function(s) {
        var r = this;
        if (r._widget) {
          r._widget.options.depth = s;
          r._options.depth = s
        }
      }
    },
    footer: {
      get: function() {
        var s = this,
          r;
        if (!s._footer) {
          r = new m.Calendar._FooterConfiguration(s, "footer", null, function() {
            if (s._initialized) {
              s._reInitialize()
            }
          });
          p.setPrivate(s, "_footer", r)
        }
        return s._footer
      }
    },
    max: {
      get: function() {
        var r = this,
          s = r._options.max;
        if (typeof s == o && r._widget) {
          return r._widget.max()
        }
        return s
      },
      set: function(r) {
        if (typeof r == "string") {
          r = new Date(r)
        }
        this._selection.setMax(r)
      }
    },
    min: {
      get: function() {
        var r = this,
          s = r._options.min;
        if (typeof s == o && r._widget) {
          return r._widget.min()
        }
        return s
      },
      set: function(r) {
        if (typeof r == "string") {
          r = new Date(r)
        }
        this._selection.setMin(r)
      }
    },
    month: {
      get: function() {
        var s = this,
          r;
        if (!s._month) {
          r = new m.Calendar._MonthConfiguration(s, "month", null, function() {
            s._reInitialize()
          });
          p.setPrivate(s, "_month", r)
        }
        return s._month
      }
    },
    view: {
      get: function() {
        var r = this;
        if (r._widget) {
          return r._widget.view().name
        }
      },
      set: function(s) {
        var r = this;
        if (r._widget) {
          r._options.view = s;
          r._reInitialize("view")
        }
      }
    },
    current: {
      get: function() {
        if (this._widget) {
          return this._widget.current()
        }
      }
    },
    _selectionConfig: null,
    selection: {
      get: function() {
        var r = this;
        if (!r._selectionConfig) {
          r._selectionConfig = new l(r)
        }
        return r._selectionConfig
      }
    },
    value: {
      get: function() {
        return this._options.value
      },
      set: function(r) {
        this._selection.setValue(r)
      }
    },
    selectedDateRange: {
      get: function() {
        return this._options.selectedDateRange
      },
      set: function(r) {
        this._selection.setSelectedDateRange(r)
      }
    },
    selectedDateRanges: {
      get: function() {
        return this._options.selectedDateRanges
      },
      set: function(r) {
        this._selection.setSelectedDateRanges(r)
      }
    },
    navigate: function(r, s) {
      if (this._widget) {
        this._widget.navigate(r, s)
      }
    },
    navigateDown: function(r) {
      if (this._widget) {
        this._widget.navigateDown(r)
      }
    },
    navigateToFuture: function() {
      if (this._widget) {
        this._widget.navigateToFuture()
      }
    },
    navigateToPast: function() {
      if (this._widget) {
        this._widget.navigateToPast()
      }
    },
    navigateUp: function(r) {
      if (this._widget) {
        this._widget.navigateUp(r)
      }
    },
    destroy: function(r) {
      var s = this;
      s._selection.destroy();
      s._destroyInteractions();
      if (!r) {
        s._destroy()
      }
      s.element.innerHTML = ""
    },
    _selection: null,
    _interactionEvents: null,
    _navigationInteraction: null,
    _initializeInteractions: function() {
      var r = this;
      r._interactionEvents = new m.Calendar._InteractionEvents(r);
      r._navigationInteraction = new m.Calendar._NavigationInteraction(r);
      r._selection.initializeInteraction()
    },
    _destroyInteractions: function() {
      var r = this;
      r._selection.destroyInteraction();
      r._navigationInteraction.destroy();
      r._navigationInteraction = null;
      r._interactionEvents.destroy();
      r._interactionEvents = null
    },
    _createKendoWidgetContainer: function() {
      return a("<div />").appendTo(this.element)[0]
    },
    _defaultWrapperOptions: function() {
      var s = this,
        r = s._options,
        t = s._widget;
      if (!r.start) {
        r.start = t.options.start
      }
    },
    _getTableMetrics: function(D) {
      var s = ~~ (D !== "month"),
        B = this,
        u, A, t, v, r, C, w, z, y, x;
      u = a(kendo.calendar.views[s].content({
        min: B.min,
        max: B.max,
        date: B.current,
        url: "",
        dates: [],
        format: "",
        culture: "en-US"
      })).insertBefore(B._widget._table);
      A = u.find("th");
      t = u.find("tbody > tr").length;
      v = u.find("td");
      C = A[0] ? A[0].offsetHeight : 0;
      if (v[0]) {
        r = window.getComputedStyle(v[0]);
        w = parseFloat(r.borderBottomWidth, 10);
        z = parseFloat(r.paddingTop, 10);
        y = parseFloat(r.paddingBottom, 10);
        x = (t - 1) * w + t * (z + y)
      }
      u.remove();
      return {
        thHeight: C,
        rowsLen: t,
        tdMetrics: x || 0
      }
    },
    _setCellsHeight: function() {
      var D = this,
        E = D._widget,
        C = E._table,
        u = C.prev(),
        s = C.next(),
        z = D._getTableMetrics("month"),
        x = D._getTableMetrics("year"),
        r = D.element.clientHeight,
        v = u[0] ? u[0].offsetHeight : 0,
        t = s[0] ? s[0].offsetHeight : 0,
        y, w, B, A;
      y = r - v - t - z.thHeight - z.tdMetrics;
      w = r - v - t - x.thHeight - x.tdMetrics;
      B = parseFloat((y / z.rowsLen).toFixed(2));
      A = parseFloat((w / x.rowsLen).toFixed(2));
      C.find("td").height(E._view.name === "month" ? B : A);
      E._cellsHeight = {
        realMonthHeight: B,
        realMetaHeight: A
      }
    },
    _reInitialize: function(r) {
      var s = this;
      s.value;
      if (r != "view") {
        s._options.view = s._widget.view().name
      }
      s.destroy(true);
      s._saveModifiedOptions();
      s._initialize("kendoCalendar", this._createKendoWidgetContainer());
      s._setCellsHeight();
      s._selection = k.create(s.selection, s);
      s._selection.initialize();
      s._initializeInteractions()
    },
    _saveModifiedOptions: function() {
      var u = this,
        t = {}, s = u.month._toOption(),
        r = u.footer._toOption();
      if (s) {
        t.month = s
      }
      if (r) {
        t.footer = r
      }
      p.merge(u._options, t)
    },
    _mapOptions: function(s) {
      var u = this,
        r = u._optionsMap,
        t = function(x, A, B) {
          var w = x.indexOf("."),
            z = w > -1 ? x.substring(0, w) : x,
            y = x.substring(x.indexOf(".") + 1);
          if (z == y) {
            A[z] = B
          } else {
            if (p.getType(A[z]) !== i) {
              A[z] = {}
            }
            t(y, A[z], B)
          }
        }, v = function(x, w) {
          Object.keys(w).forEach(function(y) {
            var z = w[y],
              A = x[y];
            if (p.getType(z) === i && p.getType(A) === i) {
              v(A, z)
            } else {
              if (A !== n) {
                t(z, s, A);
                delete x[y]
              }
            }
          })
        };
      v(s, r);
      u._mapFooterOption(s);
      return s
    },
    _mapFooterOption: function(t) {
      if (!t.footer) {
        return
      }
      var v = this,
        s = t.footer,
        u = s.template,
        r = s.enabled;
      u = typeof u == o ? v.footer.template : u;
      r = typeof r == o ? v.footer.enabled : r;
      if (r) {
        t.footer = u
      } else {
        t.footer = r
      }
      v.footer.template = u
    },
    _normalizeOptions: function(u) {
      var s = u.max,
        t = u.min,
        v = u.value,
        r = u.culture;
      if (typeof s == "string") {
        u.max = new Date(s)
      }
      if (typeof t == "string") {
        u.min = new Date(t)
      }
      if (typeof v == "string") {
        u.value = new Date(v)
      }
      if (r) {
        c._checkCulture(r)
      }
      this._initDefaultAnimationOptions(u)
    },
    _initDefaultAnimationOptions: function(u) {
      var r = u.animation = u.animation || {}, t = r.horizontal = r.horizontal || {}, v = r.vertical = r.vertical || {}, s = function(x, w) {
        if (typeof x[w] !== o) {
          delete x[w]
        }
      };
      t.duration = b;
      v.duration = b;
      t.ease = f;
      v.ease = f;
      s(t, "reverse");
      s(t, "divisor");
      s(t, "effects");
      s(v, "effects")
    },
    _optionsMap: {
      view: "start",
      month: {
        template: "month.content",
        disabledTemplate: "month.empty"
      }
    },
    _eventsMap: {
      onchange: "change",
      onnavigate: "navigate"
    }
  });
  WinJS.Class.mix(j, WinJS.Utilities.createEventProperties("navigate", "change"));
  h("Telerik.UI", {
    RadCalendar: j
  })
})(this, jQuery);
(function(f, a, n) {
  var j = "relative",
    g = "hidden",
    e = "<div/>",
    d = "display",
    k = "thead",
    m = kendo.support.transitions,
    l = m ? m.css + "transform-origin" : "",
    i = kendo.ui.Calendar.prototype,
    h = i.navigate,
    c, b;
  i.navigate = function(r, s, o, p, q) {
    if (p) {
      this._changeView = true;
      return
    }
    h.call(this, r, s);
    if (c && b) {
      if (o) {
        o(c)
      }
      if (q) {
        q(c, b)
      }
    } else {
      if (c) {
        if (o) {
          o(c)
        }
        c = null
      }
    }
  };
  i._animate = function(s, p) {
    var t = this,
      q = s.from,
      u = s.to,
      o = t._active;
    if (t._cellsHeight) {
      var r = t._view.name === "month" ? t._cellsHeight.realMonthHeight : t._cellsHeight.realMetaHeight;
      u.find("td").height(r)
    }
    if (!q) {
      u.insertAfter(t.element[0].firstChild);
      t._bindTable(u)
    } else {
      if (q.parent().data("animating")) {
        q.parent().kendoStop(true, true).remove();
        q.remove();
        u.insertAfter(t.element[0].firstChild);
        c = u;
        t._focusView(o)
      } else {
        if (!q.is(":visible") || t.options.animation === false) {
          u.insertAfter(q);
          q.remove();
          t._focusView(o)
        } else {
          t[s.vertical ? "_vertical" : "_horizontal"](q, u, s.future)
        }
      }
    }
  };
  i._horizontal = function(s, z, t) {
    var y = this,
      o = y._active,
      x = y.options.animation.horizontal,
      q = x.effects,
      A = s[0].getBoundingClientRect().height,
      v = s.find("thead")[0],
      w = v ? v.getBoundingClientRect().height : 0,
      p = A - w,
      u = b = a(s).clone().css({
        position: "absolute",
        top: s.prev()[0].offsetHeight,
        zIndex: 1
      }),
      r = a("<div></div>").css({
        height: w
      });
    c = z.addClass("t-animation-to-grid");
    u.addClass("t-animation-grid");
    u.find("a").css("visibility", g);
    u.find("th").css("background-color", y.element[0].currentStyle.backgroundColor);
    u.find(".k-state-selected").removeClass("k-state-selected");
    u.find(".k-state-focused").removeClass("k-state-focused");
    u.find(".k-today").removeClass("k-today");
    if (q && q.indexOf("slideIn") != -1) {
      s.add(z).find("thead").css(d, "none");
      s.add(z).find("td").css({
        borderColor: "transparent"
      });
      s.wrap(a(e).css({
        position: j,
        height: (p * 2)
      })).parent().wrap(a(e).css({
        overflow: g,
        height: p,
        position: "relative",
        zIndex: 2
      })).addClass("t-animating").parent().before(r).after(u);
      y._focusView(o, s);
      z[t ? "insertAfter" : "insertBefore"](s);
      s.parent().css({
        top: t ? 0 : -p
      });
      a.extend(x, {
        effects: "slideIn:" + (t ? "down" : "up"),
        complete: function() {
          s.add(z).find("td, th").css({
            borderColor: ""
          });
          s.add(z).find("thead").css(d, "");
          s.remove();
          r.remove();
          u.remove();
          z.parent().unwrap();
          z.unwrap();
          z.removeClass("t-animation-to-grid");
          y._focusView(o);
          y._oldTable = n;
          c = null;
          b = null
        }
      });
      s.parent().kendoStop(true, true).kendoAnimate(x)
    }
  };
  i._vertical = function(q, t) {
    var s = this,
      u = s.options.animation.vertical,
      p = u.effects,
      o = s._active,
      r;
    if (p && p.indexOf("zoom") != -1) {
      t.css({
        position: "absolute",
        top: q.prev()[0].offsetHeight,
        left: 0
      }).insertBefore(q);
      if (l) {
        r = (parseInt(q.width() / 2, 10)) + "px " + (parseInt(q.height() / 2, 10) + "px");
        t.css(l, r)
      }
      q.kendoStop(true, true).kendoAnimate({
        effects: "fadeOut",
        duration: 367,
        complete: function() {
          q.remove();
          t.css({
            position: "static",
            top: 0,
            left: 0
          });
          s._focusView(o);
          s._oldTable = n
        }
      });
      c = t;
      t.kendoStop(true, true).kendoAnimate(u)
    }
  };
  (function(o) {
    o = i._focusView;
    i._focusView = function() {
      var p = this;
      if (p._table.parent().data("animating")) {
        return
      }
      o.apply(p, arguments)
    }
  })()
})(this, jQuery);
(function(b, a, f) {
  var d = "mouse",
    e = Telerik.Utilities._pointerEvent;
  var c = WinJS.Class.define(function(g) {
    var h = this;
    h._calendar = g;
    h._container = g.element;
    h._initialize()
  }, {
    _calendar: null,
    _container: null,
    _target: null,
    _gr: null,
    _isMouseClick: false,
    calendar: {
      get: function() {
        return this._calendar
      }
    },
    _bindEventHandlers: function() {
      var g = this;
      g._onClick = g._onClick.bind(g);
      g._onPointerDown = g._onPointerDown.bind(g);
      g._onPointerMove = g._onPointerMove.bind(g);
      g._onPointerUp = g._onPointerUp.bind(g);
      g._onManipulationUpdated = g._onManipulationUpdated.bind(g);
      g._onManipulationCompleted = g._onManipulationCompleted.bind(g);
      g._onTapped = g._onTapped.bind(g);
      g._onHolding = g._onHolding.bind(g)
    },
    _isHolding: false,
    _initialize: function() {
      var i = this,
        g = i._container,
        h;
      i._gr = h = new Windows.UI.Input.GestureRecognizer();
      h.showGestureFeedback = false;
      h.gestureSettings = Windows.UI.Input.GestureSettings.manipulationTranslateY | Windows.UI.Input.GestureSettings.manipulationScale | Windows.UI.Input.GestureSettings.tap | Windows.UI.Input.GestureSettings.hold;
      i._bindEventHandlers();
      h.addEventListener("manipulationstarted", i._onManipulationUpdated);
      h.addEventListener("manipulationupdated", i._onManipulationUpdated);
      h.addEventListener("manipulationcompleted", i._onManipulationCompleted);
      h.addEventListener("tapped", i._onTapped);
      h.addEventListener("holding", i._onHolding);
      g.addEventListener("click", i._onClick, false);
      g.addEventListener(e("down"), i._onPointerDown, false);
      g.addEventListener(e("move"), i._onPointerMove, false);
      g.addEventListener(e("cancel"), i._onPointerUp, false);
      g.addEventListener("dragstart", i._cancelEvent, false);
      document.addEventListener(e("up"), i._onPointerUp, false)
    },
    destroy: function() {
      var i = this,
        g = i._container,
        h = i._gr;
      g.removeEventListener("click", i._onClick, false);
      g.removeEventListener(e("down"), i._onPointerDown, false);
      g.removeEventListener(e("move"), i._onPointerMove, false);
      g.removeEventListener(e("cancel"), i._onPointerUp, false);
      document.removeEventListener(e("up"), i._onPointerUp, false);
      g.removeEventListener("dragstart", i._cancelEvent, false);
      h.removeEventListener("manipulationstarted", i._onManipulationUpdated);
      h.removeEventListener("manipulationupdated", i._onManipulationUpdated);
      h.removeEventListener("manipulationcompleted", i._onManipulationCompleted);
      h.removeEventListener("tapped", i._onTapped);
      h.removeEventListener("holding", i._onHolding);
      i._calendar = null;
      i._container = null;
      i._target = null;
      i._gr = null
    },
    _cancelEvent: function(g) {
      g.preventDefault()
    },
    _onClick: function(g) {
      var h = this;
      if (h._isMouseClick) {
        h.dispatchEvent("click", {
          target: g.target,
          originalEvent: g
        });
        h._isMouseClick = false
      }
    },
    _onPointerDown: function(g) {
      var i = this,
        h;
      i._target = g.target;
      if (g.pointerType == g.MSPOINTER_TYPE_MOUSE || g.pointerType == d) {
        i.dispatchEvent("pointerDown", {
          originalEvent: g
        })
      } else {
        try {
          h = g.getCurrentPoint(i._container);
          i._gr.processDownEvent(h)
        } catch (g) {}
      }
    },
    _onPointerMove: function(g) {
      var i = this,
        h;
      i._target = g.target;
      if (g.pointerType == g.MSPOINTER_TYPE_MOUSE || g.pointerType == d) {
        i.dispatchEvent("pointerMove", {
          target: g.target
        })
      } else {
        try {
          h = g.getIntermediatePoints(i._container);
          i._gr.processMoveEvents(h)
        } catch (g) {}
      }
    },
    _onPointerUp: function(g) {
      var i = this,
        h;
      if (g.pointerType == g.MSPOINTER_TYPE_MOUSE || g.pointerType == d) {
        i._isMouseClick = true;
        i.dispatchEvent("pointerUp", {
          target: g.target
        })
      } else {
        try {
          h = g.getCurrentPoint(i._container);
          i._gr.processUpEvent(h)
        } catch (g) {}
        i._target = null
      }
    },
    _onManipulationUpdated: function(g) {
      var h = this;
      if (h._isHolding) {
        h.dispatchEvent("gestureWhileHolding", {
          target: h._target
        })
      } else {
        h.dispatchEvent("gesture", {
          delta: g.delta,
          completeGesture: function() {
            h._gr.completeGesture()
          }
        })
      }
    },
    _onManipulationCompleted: function(g) {
      var h = this;
      if (h._isHolding) {
        h.dispatchEvent("gestureWhileHoldingEnd", {
          target: h._target
        });
        h._isHolding = false
      } else {
        h.dispatchEvent("gestureEnd")
      }
    },
    _onTapped: function(g) {
      var h = this;
      h.dispatchEvent("tap", {
        target: h._target
      })
    },
    _onHolding: function(g) {
      var h = this;
      if (g.holdingState == Windows.UI.Input.HoldingState.started) {
        h.dispatchEvent("hold", {
          target: h._target
        });
        h._isHolding = true
      } else {
        if (g.holdingState == Windows.UI.Input.HoldingState.completed) {
          h.dispatchEvent("holdEnd");
          h._isHolding = false
        }
      }
    }
  });
  WinJS.Class.mix(c, WinJS.Utilities.eventMixin);
  WinJS.Namespace.define("Telerik.UI.Calendar", {
    _InteractionEvents: c
  })
})(this, jQuery);
(function(d, a, g) {
  var b = Date,
    e = kendo.keys;

  function c() {
    var h = new b();
    return new b(h.getFullYear(), h.getMonth(), h.getDate())
  }
  function f(k, i, h) {
    var j = c();
    if (k) {
      j = new b(+k)
    }
    if (i > j) {
      j = new b(+i)
    } else {
      if (h < j) {
        j = new b(+h)
      }
    }
    return j
  }
  kendo.ui.Calendar.prototype._move = function(i) {
    var q = this,
      n = q.options,
      l = i.keyCode,
      s = q._view,
      j = q._index,
      h = new b(+q._current),
      k = kendo.support.isRtl(q.wrapper),
      r, o, m, p;
    if (i.target === q._table[0]) {
      q._active = true
    }
    if (i.ctrlKey) {
      if (l == e.RIGHT && !k || l == e.LEFT && k) {
        q.navigateToFuture();
        o = true
      } else {
        if (l == e.LEFT && !k || l == e.RIGHT && k) {
          q.navigateToPast();
          o = true
        } else {
          if (l == e.UP) {
            q.navigateUp();
            o = true
          }
        }
      }
    } else {
      if (l == e.RIGHT && !k || l == e.LEFT && k) {
        r = 1;
        o = true
      } else {
        if (l == e.LEFT && !k || l == e.RIGHT && k) {
          r = -1;
          o = true
        } else {
          if (l == e.UP) {
            r = j === 0 ? -7 : -2;
            o = true
          } else {
            if (l == e.DOWN) {
              r = j === 0 ? 7 : 2;
              o = true
            } else {
              if (l == e.HOME || l == e.END) {
                m = l == e.HOME ? "first" : "last";
                p = s[m](h);
                h = new b(p.getFullYear(), p.getMonth(), p.getDate(), h.getHours(), h.getMinutes(), h.getSeconds(), h.getMilliseconds());
                o = true
              } else {
                if (l == e.PAGEUP) {
                  o = true;
                  q.navigateToPast()
                } else {
                  if (l == e.PAGEDOWN) {
                    o = true;
                    q.navigateToFuture()
                  }
                }
              }
            }
          }
        }
      }
      if (r || m) {
        if (!m) {
          s.setDate(h, r)
        }
        q._focus(f(h, n.min, n.max))
      }
    }
    if (o) {
      i.preventDefault()
    }
    return q._current
  }
})(this, jQuery);
(function(b, a, d) {
  var c = 0.2;
  WinJS.Namespace.define("Telerik.UI.Calendar", {
    _NavigationInteraction: WinJS.Class.define(function(e) {
      var f = this;
      f._calendar = e;
      f._initialize()
    }, {
      _calendar: null,
      _isSwiping: false,
      _initialize: function() {
        var f = this,
          e = f._calendar._interactionEvents;
        f._onGesture = f._onGesture.bind(f);
        f._onGestureEnd = f._onGestureEnd.bind(f);
        e.addEventListener("gesture", f._onGesture, false);
        e.addEventListener("gestureEnd", f._onGestureEnd, false)
      },
      destroy: function() {
        var f = this,
          e = f._calendar._interactionEvents;
        e.removeEventListener("gesture", f._onGesture, false);
        e.removeEventListener("gestureEnd", f._onGestureEnd, false);
        f._calendar = null
      },
      _onGesture: function(g) {
        if (g.detail.delta) {
          var i = this,
            f = i._calendar,
            j = g.detail.delta.translation.y,
            h = g.detail.delta.expansion;
          if (h < -c) {
            f.navigateUp(new Date())
          } else {
            if (Math.abs(j) >= c && !i._isSwiping) {
              i._isSwiping = true;
              if (j < 0) {
                f.navigateToFuture()
              } else {
                f.navigateToPast()
              }
            }
          }
          g.detail.completeGesture()
        }
      },
      _onGestureEnd: function() {
        this._isSwiping = false
      }
    })
  })
})(this, jQuery);
(function(d, a, g) {
  var f = "Telerik.UI.Scheduler",
    e = WinJS.Namespace.define,
    c = WinJS.Class.derive;
  var b = c(Telerik.UI._Disposable, function(h) {
    var i = this;
    Telerik.UI._Disposable.call(i, h, {});
    i.element = h;
    h.value = new Date(h.value).toISOString();
    i._initializePickers()
  }, {
    _datePicker: null,
    _timePicker: null,
    _updateInputFullValue: function(h, j) {
      var k = new Date(h.getFullYear(), h.getMonth(), h.getDate(), j.getHours(), j.getMinutes()),
        i = this.element;
      a(i).val(k.toISOString()).change();
      a(i).val(k.toISOString()).change()
    },
    _initializePickers: function() {
      var j = this,
        i = j.element,
        h = new Date(i.value);
      j._datePicker = new Telerik.UI.RadDatePicker(document.createElement("span"), {
        value: h,
        onchange: function(l) {
          var k = l.detail.value,
            m = j._timePicker.value;
          j._updateInputFullValue(k, m)
        }
      });
      j._timePicker = new Telerik.UI.RadTimePicker(document.createElement("span"), {
        value: h,
        onchange: function(l) {
          var k = j._datePicker.value,
            m = l.detail.value;
          j._updateInputFullValue(k, m)
        }
      });
      a(j._timePicker.element).insertAfter(i);
      a(j._datePicker.element).insertAfter(i)
    },
    _destroy: function() {
      var h = this;
      if (h._datePicker && h._datePicker._destroy) {
        h._datePicker._destroy()
      }
      if (h._timePicker && h._timePicker._destroy) {
        h._timePicker._destroy()
      }
      h._datePicker = null;
      h._timePicker = null
    }
  });
  e(f, {
    _DateTimePicker: b
  })
})(this, jQuery);
(function(i, a, o) {
  var k = "Telerik.UI.Scheduler",
    j = WinJS.Namespace.define,
    g = WinJS.Class.derive,
    d = Telerik.UI._ControlConfiguration,
    p = Telerik.Utilities,
    n = p._validators.unifiedTemplate,
    f = d.defineProperty,
    l = p.setPrivate,
    h = d.getMapping,
    e = Telerik.Data.DataSource;
  var m = g(d, function() {
    d.apply(this, Array.apply(null, arguments))
  }, {
    dataColorField: f("dataColorField", "color"),
    dataSource: {
      get: function() {
        return this._dataSource
      },
      set: function(r) {
        if (r instanceof e) {
          l(this, "_dataSource", r, true)
        } else {
          if (typeof r === "object") {
            l(this, "_dataSource", new e(r), true)
          }
        }
      },
      enumerable: true
    },
    dataTextField: f("dataTextField", "text"),
    dataValueField: f("dataValueField", "value"),
    field: f("field", ""),
    multiple: f("multiple", false),
    name: f("name", ""),
    title: f("title", ""),
    valuePrimitive: f("valuePrimitive", true),
    _toOption: function() {
      var s = this,
        r = d.prototype._toOption.call(s);
      if (r) {
        r.dataSource = s.dataSource._ds
      }
      return r
    }
  });
  var c = g(d, function(s, t, r) {
    d.call(this, s, t, r)
  }, {
    _validators: {
      orientation: ["horizontal", "vertical"]
    },
    resources: f("resources", []),
    orientation: f("orientation", "top")
  });
  var b = g(d, function(s, t, r) {
    d.call(this, s, t, r)
  }, {
    _validators: {
      template: n
    },
    enabled: {
      get: function() {
        var r = this;
        if (typeof(r._enabled) != "undefined") {
          return r._enabled
        } else {
          var s = r._owner && r._owner._widget ? r._owner._widget.options.editable : null;
          return !!s
        }
      },
      set: function(r) {
        this._enabled = r
      },
      enumerable: true,
      configurable: false
    },
    create: f("create", true),
    destroy: f("destroy", true),
    resize: f("resize", true),
    template: f("template", null),
    update: f("update", true),
    _toOption: function() {
      var s = this;
      if (s.enabled) {
        var r = d.prototype._toOption.call(s) || {};
        if (r && r.template && typeof r.template !== "string") {
          r.template = p.getTemplate(r.template, true)
        }
        if (r) {
          delete r.enabled
        }
        return r
      }
      return false
    }
  });
  var q = g(d, function() {
    d.apply(this, Array.apply(null, arguments))
  }, {
    _validators: {
      allDayEventTemplate: n,
      dateHeaderTemplate: n,
      eventTemplate: n,
      majorTimeHeaderTemplate: n,
      minorTimeHeaderTemplate: n,
      type: ["day", "week", "month", "agenda"],
    },
    allDayEventTemplate: f("allDayEventTemplate", null),
    allDaySlot: f("allDaySlot", true),
    dateHeaderTemplate: f("dateHeaderTemplate", null),
    dayTemplate: f("dayTemplate", null),
    editable: {
      get: function() {
        var r = this;
        if (!r._editable) {
          l(r, "_editable", new b(r._owner, h(r, "editable")))
        }
        return r._editable
      }
    },
    endTime: f("endTime", null),
    eventDateTemplate: f("eventDateTemplate", null),
    eventHeight: f("eventHeight", 25),
    eventTemplate: f("eventTemplate", null),
    eventTimeTemplate: f("eventTimeTemplate", null),
    majorTick: f("majorTick", 60),
    majorTimeHeaderTemplate: f("majorTimeHeaderTemplate", null),
    minorTickCount: f("minorTickCount", 2),
    minorTimeHeaderTemplate: f("minorTimeHeaderTemplate", null),
    selected: f("selected", false),
    selectedDateFormat: f("selectedDateFormat", ""),
    startTime: f("startTime", null),
    type: {
      get: function() {
        var s = this,
          r = d.createGetter("type", "");
        var t = r.apply(s);
        switch (t) {
          case "kendo.ui.DayView":
            return "day";
            break;
          case "kendo.ui.WeekView":
            return "week";
            break;
          case "kendo.ui.AgendaView":
            return "agenda";
            break;
          case "kendo.ui.MonthView":
            return "month";
            break;
          default:
            return t;
            break
        }
      },
      set: d.createSetter("type"),
      enumerable: true,
      configurable: false
    },
    _toOption: function() {
      var s = this,
        r = d.prototype._toOption.call(s);
      ["allDayEventTemplate", "dateHeaderTemplate", "eventTemplate", "majorTimeHeaderTemplate", "minorTimeHeaderTemplate"].forEach(function(t) {
        var u = s[t];
        if (u && typeof u !== "string") {
          r[t] = p.getTemplate(u, true)
        }
      });
      return r
    }
  });
  j(k, {
    _GroupConfiguration: c,
    _EditableConfiguration: b,
    Resource: m,
    View: q
  })
})(this, jQuery);
(function(c, a, f) {
  var d = WinJS.Namespace.define,
    b = WinJS.Class.derive;
  var e = b(Telerik.Data.DataSource, function(g) {
    var h = this;
    g = g || {};
    g._dsType = kendo.data.SchedulerDataSource;
    Telerik.Data.DataSource.call(h, g)
  }, {});
  d("Telerik.Data", {
    SchedulerDataSource: e
  })
})(this, jQuery);
(function(h, a, w) {
  var z = WinJS,
    y = z.Utilities,
    e = z.Class.derive,
    b = Telerik.UI._ControlConfiguration,
    d = b.defineProperty,
    j = z.Namespace.define,
    x = Telerik.Utilities,
    q = x.setPrivate,
    u = x._validators.unifiedTemplate,
    c = Telerik.Data.DataSource,
    s = Telerik.Data.SchedulerDataSource,
    v = Telerik.UI,
    i = WinJS.Class.mix,
    f = "function",
    k = "object";
  var r = e(v.WidgetWrapper, function(A, D) {
    var F = this;
    D = D || {};
    q(F, "_modified", {}, true);
    q(F, "_defaults", {}, true);
    q(F, "_requiresLayout", true);
    if (D.editable) {
      F.editable = D.editable;
      D.editable = F.editable._toOption()
    }
    Telerik.UI.WidgetWrapper.call(F, A, D);
    z.Utilities.addClass(A, "t-scheduler");
    if (F._isTouchEnabled()) {
      z.Utilities.addClass(A, "t-scheduler-touch")
    }
    D = F._options;
    if (D.resources) {
      if (!(D.resources instanceof Array)) {
        D.resources = [D.resources]
      }
      for (var B = 0, C = D.resources.length; B < C; B++) {
        var E = D.resources[B];
        if (!(E.dataSource instanceof c)) {
          E.dataSource = (new c(E.dataSource))
        }
        E.dataSource = E.dataSource._ds
      }
    }
    F.refresh(true)
  }, {
    _eventsMap: {
      onremove: "remove",
      onedit: "edit",
      oncancel: "cancel",
      onsave: "save",
      onadd: "add",
      ondatabinding: "dataBinding",
      ondatabound: "dataBound",
      onmovestart: "moveStart",
      onmove: "move",
      onmoveend: "moveEnd",
      onresizestart: "resizeStart",
      onresize: "resize",
      onresizeend: "resizeEnd",
      onnavigate: "navigate"
    },
    _validators: {
      allDayEventTemplate: u,
      dateHeaderTemplate: u,
      eventTemplate: u,
      majorTimeHeaderTemplate: u,
      minorTimeHeaderTemplate: u,
      height: {
        type: ["number", "null"]
      }
    },
    refresh: function(C) {
      var D = this,
        A = document.createElement("div");
      if (C !== true) {
        D._saveModifiedOptions();
        D._dispose()
      }
      D._createTemplateFunctions();
      D._createKendoMessagesOptions();
      D.element.appendChild(A);
      D._initialize("kendoScheduler", A).done(D._initializeFeatures.bind(D), function B(E) {
        if (E === "_initTimeout_Canceled") {
          return
        }
        throw new Error("Canceled")
      })
    },
    _isTouchEnabled: function() {
      var A = Windows && Windows.Devices && Windows.Devices.Input && Windows.Devices.Input.TouchCapabilities ? new Windows.Devices.Input.TouchCapabilities() : {};
      return A.touchPresent
    },
    _initializeFeatures: function() {
      var A = this;
      A._syncResources();
      A._syncViews()
    },
    _createTemplateFunctions: function() {
      var B = this,
        A = B._options;
      ["allDayEventTemplate", "dateHeaderTemplate", "eventTemplate", "majorTimeHeaderTemplate", "minorTimeHeaderTemplate"].forEach(function(C) {
        var D = B[C] || A[C];
        if (D && typeof D !== "string") {
          A[C] = x.getTemplate(D, true)
        }
      })
    },
    _saveModifiedOptions: function() {
      var C = this,
        B = x.merge(C._options, C._modified),
        A;
      B.editable = C.editable._toOption();
      B.group = C.group._toOption();
      C._saveConfigArray("resources");
      C._saveConfigArray("views");
      if (C.dataSource) {
        if (C.dataSource._ds.options.schema) {
          C.dataSource._options.schema = C.dataSource._ds.options.schema
        }
        A = new Telerik.Data.SchedulerDataSource(C.dataSource._options);
        C.dataSource = A;
        B.dataSource = A._ds
      }
    },
    _saveConfigArray: function(C) {
      var D = this,
        A = D._options[C] || [],
        B = true;
      D[C].forEach(function(G, F) {
        if (G !== w) {
          B = false;
          var H;
          if (typeof G._toOption === f) {
            H = G._toOption()
          } else {
            H = G
          }
          if (H !== w) {
            var E = A[F];
            if (typeof E === k && typeof H === k) {
              H = x.merge(E, H)
            }
            A[F] = H
          }
        }
      });
      if (B) {
        delete D._options[C]
      } else {
        D._options[C] = A
      }
    },
    _saveLocalizedStrings: function() {
      var B = this,
        A = B._options;
      if (A.messages) {
        x.merge(B.messages, A.messages);
        delete A.messages
      }
      Object.keys(B.messages).forEach(function(C) {
        var D = A[C];
        if (D && typeof D === "boolean") {
          D = A[C] = {}
        }
        if (typeof D === "object") {
          D.messages = x.merge(D.messages || {}, B.messages[C])
        }
      })
    },
    _buildLocalizationObject: function() {
      this.messages = x._buildLocalizationObject({
        today: "today",
        editable: {
          confirmation: "editable.confirmation"
        },
      }, "radscheduler")
    },
    _dispose: function() {
      var A = this;
      if (A._widget) {
        A._widget.destroy()
      }
      A.element.innerText = ""
    },
    _destroy: function() {
      var A = this;
      A._dispose();
      Telerik.UI.WidgetWrapper.prototype._destroy.call(A)
    },
    _syncViews: function(A) {
      var B = this,
        C = B._widget,
        D = C.options.views.length ? C.options.views : C.views || [],
        A = A || B.views;
      D.forEach(function(H, E) {
        var G = A[E],
          F = function() {
            return b.getMapping(B, "views[" + E + "]")
          };
        if (G instanceof Telerik.UI.Scheduler.View) {
          G._wireUp(B, F)
        } else {
          if (typeof D[E] === "string") {
            G = new Telerik.UI.Scheduler.View(B, F);
            G.type = D[E];
            A[E] = G
          } else {
            G = new Telerik.UI.Scheduler.View(B, F);
            A[E] = G
          }
        }
      })
    },
    _syncResources: function(A) {
      var B = this,
        C = B._widget,
        D = C.options.resources.length ? C.options.resources : C.resources || [],
        A = A || B.resources;
      D.forEach(function(H, E) {
        var G = A[E],
          F = function() {
            return b.getMapping(B, "resources[" + E + "]")
          };
        if (G instanceof Telerik.UI.Scheduler.Resource) {
          G._wireUp(B, F)
        } else {
          G = new Telerik.UI.Scheduler.Resource(B, F);
          A[E] = G
        }
      })
    },
    _createKendoMessagesOptions: function() {
      var D = this,
        B = D._options,
        C = Telerik.Localization._radscheduler,
        A = B.messages = B.messages || {};
      Object.keys(C).forEach(function(E) {
        (function F(H, G) {
          var I = E.split(".");
          if (G == I.length - 1) {
            if (!H[I[G]]) {
              H[I[G]] = D._getString(E)
            }
            return
          }
          if (!H[I[G]]) {
            H[I[G]] = {}
          }
          F(H[I[G]], ++G)
        })(A, 0)
      })
    },
    messages: {},
    allDayEventTemplate: d("allDayEventTemplate", null),
    allDaySlot: d("allDaySlot", true),
    dataSource: {
      get: function() {
        var A = this;
        if (!A._dataSource) {
          if (!A._widget) {
            return null
          }
          q(A, "_dataSource", new s(A._widget.dataSource), true)
        }
        return A._dataSource
      },
      set: function(A) {
        if (A instanceof s) {
          q(this, "_dataSource", A, true)
        }
      },
      enumerable: true
    },
    date: d("date", null),
    dateHeaderTemplate: d("dateHeaderTemplate", null),
    editable: {
      get: function() {
        var A = this;
        if (!A._editable) {
          q(A, "_editable", new Telerik.UI.Scheduler._EditableConfiguration(A), true)
        }
        return A._editable
      },
      set: function(C) {
        var B = this,
          A = B.editable;
        if (typeof(C) === "boolean") {
          A.enabled = C
        } else {
          if (typeof(C) === "object") {
            Object.keys(C).forEach(function(D) {
              if (D.indexOf("_") != 0) {
                A[D] = C[D]
              }
            })
          }
        }
      },
      enumerable: true
    },
    endTime: d("endTime", null),
    eventTemplate: d("eventTemplate", null),
    group: {
      get: function() {
        var A = this;
        if (!A._group) {
          q(A, "_group", new Telerik.UI.Scheduler._GroupConfiguration(A, b.getMapping(A, "group")))
        }
        return A._group
      }
    },
    height: d("height", null),
    majorTick: d("majorTick", 60),
    majorTimeHeaderTemplate: d("majorTimeHeaderTemplate", null),
    minorTickCount: d("minorTickCount", 2),
    minorTimeHeaderTemplate: d("minorTimeHeaderTemplate", null),
    resources: {
      get: function() {
        var B = this;
        if (!B._resources) {
          var A = [];
          if (B._widget) {
            B._syncResources(A)
          }
          q(B, "_resources", A, true)
        }
        return B._resources
      },
      set: function(A) {
        if (x.getType(A) === ARRAY) {
          q(this, "_resources", A, true)
        }
      }
    },
    selectable: d("selectable", false),
    startTime: d("startTime", null),
    timezone: d("timezone", null),
    view: {
      get: function() {
        var A = this;
        if (A._widget) {
          return A._widget.view()
        } else {
          return null
        }
      }
    },
    views: {
      get: function() {
        var B = this;
        if (!B._views) {
          var A = [];
          if (B._widget) {
            B._syncViews(A)
          }
          q(B, "_views", A, true)
        }
        return B._views
      },
      set: function(A) {
        if (x.getType(A) === ARRAY) {
          q(this, "_views", A, true)
        }
      }
    },
    width: d("width", null),
    addEvent: function(A) {
      var B = this;
      if (B._widget) {
        return B._widget.addEvent(A)
      } else {
        return false
      }
    },
    cancelEvent: function() {
      var A = this;
      if (A._widget) {
        return A._widget.cancelEvent()
      } else {
        return false
      }
    },
    editEvent: function(A) {
      var B = this;
      if (B._widget) {
        return B._widget.editEvent(A)
      } else {
        return false
      }
    },
    removeEvent: function(A) {
      var B = this;
      if (B._widget) {
        return B._widget.removeEvent(A)
      } else {
        return false
      }
    },
    saveEvent: function() {
      var A = this;
      if (A._widget) {
        return A._widget.saveEvent()
      } else {
        return false
      }
    },
    setView: function(A) {
      var B = this;
      if (B._widget) {
        return B._widget.view(A)
      } else {
        return false
      }
    }
  });
  i(r, y.createEventProperties("remove", "edit", "cancel", "save", "add", "databinding", "databound", "movestart", "move", "moveend", "resizestart", "resize", "resizeend", "navigate"));
  j("Telerik.UI", {
    RadScheduler: r
  });

  function p(A, B) {
    return WinJS.UI.executeTransition(A, {
      property: "transform",
      delay: 0,
      duration: 367,
      timing: "cubic-bezier(0.1, 0.9, 0.2, 1)",
      to: B
    })
  }
  function t(B, E) {
    if (!B || !E) {
      return
    }
    var A = 500,
      I = E.view(),
      C = I && I.table,
      D = (C && C.height()) || A,
      F = C.prev(),
      G = (F && F.length && F[0].offsetHeight) || 0,
      H = kendo.support.isRtl(B) ? "translateX(-" + B.offsetWidth + "px)" : "translateX(" + B.offsetWidth + "px)";
    B.classList.add("t-dialog-popup");
    B.style.height = D + "px";
    a(B).css("transform", H).wrap("<div class='t-popup-wrapper' style='top: " + G + "px'></div>");
    p(B, "none")
  }
  var l = kendo.ui.Scheduler.prototype._createPopupEditor;
  kendo.ui.Scheduler.prototype._createPopupEditor = function(D) {
    var H = this,
      E = kendo.ui.Window.prototype.open;
    kendo.ui.Window.prototype.open = function() {};
    MSApp.execUnsafeLocalFunction(function() {
      l.call(H, D);
      kendo.ui.Window.prototype.open = E;
      var I = H._editor.close;
      if (H._editor.container) {
        H._editor.close = function() {
          var K = H._editor.container && H._editor.container.parents(".t-popup-wrapper");
          if (!K || !K.length) {
            K = H.element.parent().find(".t-popup-wrapper")
          }
          K = K[0];
          var J = H._editor.container && H._editor.container[0];
          I.apply(this, arguments);
          if (K) {
            K.removeNode(true);
            if (J) {
              J.innerText = ""
            }
          }
        }
      }
      E = null
    });
    var F = document.createElement("div"),
      G = H.element.parent();
    G.find(".t-popup-wrapper").remove();
    F.classList.add("t-edit-dialog");
    G.append(F);
    H._editor.container.appendTo(F);
    var A = H._editor.container.find("[data-role='datepicker']"),
      C;
    for (C = 0; C < A.length; C++) {
      A[C].removeNode()
    }
    var B = H._editor.container.find("[data-role='datetimepicker']");
    for (C = 0; C < B.length; C++) {
      new Telerik.UI.Scheduler._DateTimePicker(B[C])
    }
    if (D.isAllDay) {
      H._editor.container.find(".t-time-picker").css("display", "none")
    }
    t(F, H)
  };
  kendo.ui.Scheduler.prototype.showDialog = function(I) {
    if (!I) {
      return
    }
    var M = this,
      K = I.text || "",
      B = I.buttons || [],
      E = function(O) {
        return function N(P) {
          if (J) {
            var Q = a(J).parent(),
              R = kendo.support.isRtl(J) ? "translateX(-" + J.offsetWidth + "px)" : "translateX(" + J.offsetWidth + "px)";
            p(J, R).then(function() {
              Q[0].removeNode(true);
              Q = null;
              O(P)
            })
          }
        }
      }, J;
    M.cancelEvent();
    M.element.parent().find(".t-popup-wrapper").remove();
    J = document.createElement("div");
    if (K) {
      var L = document.createElement("div");
      L.className = "t-dialog-text";
      L.innerText = K;
      J.appendChild(L)
    }
    if (B.length) {
      var C = document.createElement("div"),
        F = false;
      C.className = "t-dialog-buttons";
      for (var G = 0, H = B.length; G < H; G++) {
        var A = document.createElement("a");
        A.className = "t-dialog-button";
        A.href = "#";
        A.innerText = B[G].text;
        A.name = B[G].name;
        A.addEventListener("click", E(B[G].click), false);
        C.appendChild(A);
        if (A.name === "canceledit") {
          F = true
        }
      }
      if (!F) {
        var D = document.createElement("a");
        D.className = "t-dialog-button";
        D.href = "#";
        D.innerText = M.options.messages.cancel;
        D.addEventListener("click", E(function() {
          M.cancelEvent()
        }), false);
        C.appendChild(D)
      }
      J.appendChild(C)
    }
    M.element.parent().append(J);
    t(J, M)
  };
  var o = kendo.ui.RecurrenceEditor.prototype.setView;
  kendo.ui.RecurrenceEditor.prototype.setView = function() {
    var A = arguments,
      B = this;
    MSApp.execUnsafeLocalFunction(function() {
      o.apply(B, A)
    })
  };
  kendo.ui.roles.datepicker = null;
  var n = kendo.data.SchedulerEvent.prototype.set;
  kendo.data.SchedulerEvent.prototype.set = function(D, F) {
    var E = this,
      C = E.isAllDay || false;
    if (D == "isAllDay" && F != C) {
      var B = window.event && window.event.srcElement;
      if (B) {
        var A = a(B).parents(".k-edit-form-container");
        A.find(".t-time-picker").css("display", F ? "none" : "");
        A.find("[data-role='datetimepicker']").each(function(G, H) {
          setImmediate(function I() {
            H.value = (new Date(H.value)).toISOString()
          })
        })
      }
    }
    n.apply(E, arguments)
  };

  function g(B) {
    var C = B ? new Date(B) : new Date();
    C.setHours(0, 0, 0);
    C.setDate(C.getDate() + 4 - (C.getDay() || 7));
    var A = new Date(C.getFullYear(), 0, 1);
    return Math.ceil((((C - A) / 86400000) + 1) / 7)
  }
  var m = kendo.ui.Scheduler.prototype._renderView;
  kendo.ui.Scheduler.prototype._renderView = function(F) {
    var H = this,
      I = m.apply(H, arguments),
      E = (H.options && H.options.messages) || {};
    var G = "";
    switch (F) {
      case "agenda":
        G = (E.views && E.views.agenda) || "Agenda";
        break;
      case "week":
        var B = g(),
          K = g(I.endDate()),
          D = K - B;
        if (D == 0) {
          G = E.thisWeek || "This Week"
        } else {
          if (D == -1) {
            G = E.lastWeek || "Last Week"
          } else {
            if (D == 1) {
              G = E.nextWeek || "Next Week"
            } else {
              G = (E.week || "Week ") + K
            }
          }
        }
        break;
      case "day":
        var A = new Date().setHours(0, 0, 0, 0),
          J = new Date(I.startDate()).setHours(0, 0, 0, 0),
          C = (J - A) / 86400000;
        if (C == 0) {
          G = E.today || "Today"
        } else {
          if (C == -1) {
            G = E.yesterday || "Yesterday"
          } else {
            if (C == 1) {
              G = E.tomorrow || "Tomorrow"
            } else {
              G = new Windows.Globalization.DateTimeFormatting.DateTimeFormatter("dayofweek.full").format(new Date(I.startDate()))
            }
          }
        }
        break
    }
    if (G) {
      H._model.set("formattedDate", G)
    }
    return I
  };
  kendo.ui.MonthView.prototype._touchEditable = kendo.ui.MonthView.prototype._mouseEditable;
  kendo.ui.MultiDayView.prototype._touchEditable = kendo.ui.MultiDayView.prototype._mouseEditable
})(this, jQuery);
(function(e, a, l) {
  var o = WinJS,
    c = o.Class.derive,
    g = o.Class.mix,
    h = o.Namespace.define,
    k = Telerik.UI,
    m = Telerik.Utilities,
    j = m.setPrivate,
    i = null,
    n = "t-visible",
    f = "t-hidden",
    d = 500;
  var b = c(k.Control, function(p, q) {
    var r = this,
      s;
    s = j(r, "_tooltip", document.createElement("div"), true);
    s.classList.add("t-colorpicker-tooltip");
    j(r, "_tooltipVissibleClass", n, true);
    k.Control.call(r, p, q);
    o.UI.setOptions(r, q)
  }, {
    _width: 350,
    _userWidth: i,
    _ratio: 1,
    _duration: d,
    _transitions: true,
    _tooltipValue: true,
    _noTransitionClass: "",
    tooltip: {
      get: function() {
        return this._tooltipValue
      },
      set: function(q) {
        var p = this;
        p._tooltipValue = !! q;
        p._tooltipVissibleClass = q ? n : f
      }
    },
    transitions: {
      get: function() {
        return this._transitions
      },
      set: function(q) {
        var p = this;
        p._transitions = !! q;
        p._duration = q ? d : 1;
        p._noTransitionClass = q ? "" : "t-notransitions"
      }
    },
    width: {
      get: function() {
        return this._width
      },
      set: function(q) {
        var p = this;
        p._userWidth = q;
        p._internalWidth()
      }
    },
    _normalizeRange: function(p, q, r) {
      return r = r < p ? p : r > q ? q : r
    },
    _pointOnRing: function(s, t, q, r) {
      var p;
      p = this._distanceFromCenter(s, t);
      return p >= q && p <= r
    },
    _distanceFromCenter: function(p, q) {
      return Math.sqrt(Math.pow(p, 2) + Math.pow(q, 2))
    },
    _getPointOnCircle: function(s, p, q) {
      var t = this._toRadians(q),
        u, v;
      u = s + p * Math.cos(t), v = s + p * Math.sin(t);
      return {
        x: u,
        y: v
      }
    },
    _toRadians: function(p) {
      return p * (Math.PI / 180)
    },
    _afterLayout: function(p) {
      var r = this;
      new WinJS.Promise(function q(s, u) {
        var t = r.element;
        if (!t.offsetWidth) {
          r._initTimeout = setImmediate(q, s, u);
          return
        }
        r._initTimeout = null;
        p();
        s()
      })
    },
    _internalWidth: function() {
      var q = this,
        s = 0,
        r = q._userWidth,
        p = q._opacity ? q._defaultOpacityWidth : 350;
      if (r) {
        s = r
      }
      s = s < p ? p : s;
      q._ratio = s / p;
      q._width = s;
      if (q._initialized) {
        q._refresh()
      }
    },
    _checkForFlyOutParent: function(p) {
      while (p && !WinJS.Utilities.hasClass(p, "win-flyout")) {
        p = p.parentNode
      }
      return !!p
    },
    _findFlyOutClickEater: function() {
      return a(".win-flyoutmenuclickeater:visible")
    },
    _appendTooltip: function() {
      var q = this,
        p = q.element,
        r = q._tooltip;
      p.appendChild(r)
    },
    _positionTooltip: function() {
      var r = this,
        q = r.width / 2,
        s = r._tooltip,
        p = a(r.element).offset(),
        v = WinJS.Utilities.getTotalWidth(s),
        u = 5,
        t = WinJS.Utilities.getTotalHeight(s) + u,
        w = p.top > t ? t * (-1) : (q * 2) + u;
      s.style.left = q - v / 2 + "px";
      s.style.top = w + "px"
    }
  });
  g(b, o.Utilities.eventMixin, o.Utilities.createEventProperties("change", "select"));
  h("Telerik.UI", {
    _ColorBase: b
  })
})(this, jQuery);
(function(d, a, i) {
  var k = WinJS,
    e = k.Namespace.define,
    h = Telerik.UI,
    j = Telerik.Utilities,
    g = j.setPrivate,
    f = null,
    c = "easeOutQuad";
  var b = k.Class.define(function(l) {
    var m = this,
      l = l || {};
    g(m, "_selector", l.selector);
    g(m, "_picker", l.picker);
    g(m, "_start", null, true)
  }, {
    play: function(n, o) {
      var p = this,
        l = p._picker._duration,
        m = p._start !== null ? p._start : o;
      a(p._selector).stop(true, false).animate(n, {
        duration: l,
        easing: c,
        step: function(r, q) {
          r = m !== false ? m : r;
          q.start = r;
          a(this).attr(q.prop, r);
          p._start = r;
          m = false
        }
      })
    }
  });
  e("Telerik.UI._ColorBase", {
    _Animations: b
  })
})(this, jQuery);
(function(c, a, o) {
  var s = WinJS,
    b = s.Class.derive,
    d = s.Class.mix,
    e = s.Namespace.define,
    n = Telerik.UI,
    q = Telerik.Utilities,
    k = q.setPrivate,
    r = kendo.dataviz,
    p = r.uniqueId,
    j = Telerik.Utilities._pointerEvent,
    g = null,
    m = "http://www.w3.org/2000/svg",
    f = ".telerikColorPicker",
    h = j("down") + f,
    i = j("up") + f;
  var l = b(n.Control, function(t, v) {
    var y = this,
      v = v || {}, x, w, u;
    a(t).addClass("t-color-picker t-icon");
    if (v.mode) {
      y._mode = v.mode.toLowerCase()
    }
    x = k(y, "_popup", document.createElement("div"), true);
    x.id = p();
    x.classList.add("t-pop-up");
    t.appendChild(x);
    w = k(y, "_pipette", document.createElement("div"), true);
    w.id = p();
    w.classList.add("t-pipette");
    t.appendChild(w);
    u = k(y, "_mask", document.createElement("div"), true);
    u.id = p();
    u.classList.add("t-colorpicker-mask");
    n.Control.call(y, t, v);
    s.UI.setOptions(y, v);
    v = y._trimOptions(v);
    y._init(v);
    y._initialized = true
  }, {
    _initialized: false,
    _picker: g,
    _mode: "hsb",
    _hidden: true,
    color: {
      get: function() {
        return this._color || this._picker.color
      },
      set: function(v) {
        var u = this,
          t = u._picker;
        u._color = v;
        if (t) {
          u._picker.color = v;
          u._changePipetteValue(t.value)
        }
      }
    },
    value: {
      get: function() {
        var u = this,
          t = u._picker;
        return t ? t.value : u._value
      },
      set: function(v) {
        var u = this,
          t = u._picker;
        u._value = v;
        if (t) {
          t.value = v;
          u._changePipetteValue(t.value)
        }
      }
    },
    previousColor: {
      get: function() {
        var u = this,
          t = u._picker;
        return t ? t.previousColor : u._previousColor
      },
      set: function(v) {
        var u = this,
          t = u._picker;
        u._previousColor = v;
        if (t) {
          t.previousColor = v
        }
      }
    },
    opacity: {
      get: function() {
        return this._opacity || this._picker.opacity
      },
      set: function(v) {
        var u = this,
          t = u._picker;
        u._opacity = v;
        if ((u._mode === "hsb" || u._mode === "rgb") && t) {
          t.opacity = v
        }
      }
    },
    opacityValue: {
      get: function() {
        return this._opacityValue || this._picker.opacityValue
      },
      set: function(v) {
        var u = this,
          t = u._picker;
        u._opacityValue = v;
        if ((u._mode === "hsb" || u._mode === "rgb") && t) {
          t.opacityValue = v
        }
      }
    },
    brightness: {
      get: function() {
        return this._brightness || this._picker.brightness
      },
      set: function(v) {
        var u = this,
          t = u._picker;
        u._brightness = v;
        if (u._mode === "hsb" && t) {
          t.brightness = v;
          u._changePipetteValue(t.value)
        }
      }
    },
    width: {
      get: function() {
        return this._width || this._picker.width
      },
      set: function(v) {
        var u = this,
          t = u._picker;
        u._width = v;
        if (t) {
          t.width = v
        }
      }
    },
    defaultPalette: {
      get: function() {
        return this._defaultPalette || this._picker.defaultPalette
      },
      set: function(v) {
        var u = this,
          t = u._picker;
        u._defaultPalette = v;
        if (u._mode === "palette" && t) {
          t.defaultPalette = v
        }
      }
    },
    palette: {
      get: function() {
        return this._palette || this._picker.palette
      },
      set: function(v) {
        var u = this,
          t = u._picker;
        u._palette = v;
        if (u._mode === "palette" && t) {
          t.palette = v
        }
      }
    },
    sectorWidth: {
      get: function() {
        return this._sectorWidth || this._picker.sectorWidth
      },
      set: function(v) {
        var u = this,
          t = u._picker;
        u._sectorWidth = v;
        if (u._mode === "palette" && t) {
          t.sectorWidth = v
        }
      }
    },
    mode: {
      get: function() {
        return this._mode
      },
      set: function(v) {
        var u = this,
          t;
        u._mode = v;
        if (u._initialized) {
          t = u._trimOptions();
          u._changeMode(t)
        }
      }
    },
    tooltip: {
      get: function() {
        return this._tooltip !== o ? this._tooltip : this._picker.tooltip
      },
      set: function(v) {
        var u = this,
          t = u._picker;
        u._tooltip = v;
        if (t) {
          t.tooltip = v
        }
      }
    },
    transitions: {
      get: function() {
        return this._transitions !== o ? this._transitions : this._picker.transitions
      },
      set: function(v) {
        var u = this,
          t = u._picker;
        u._transitions = v;
        if (t) {
          t.transitions = v
        }
      }
    },
    toggle: function() {
      var t = this;
      t._hidden ? t._expand() : t._collapse()
    },
    expand: function() {
      this._expand()
    },
    collapse: function() {
      this._collapse()
    },
    _attachEvents: function() {
      var u = this,
        t = a(u.element);
      t.on(h, function(v) {
        v.preventDefault();
        v.stopPropagation()
      });
      t.on(i, function(v) {
        if (!a(v.target).hasClass("t-icon")) {
          return
        }
        u._expand();
        u.dispatchEvent("expand");
        v.preventDefault();
        v.stopPropagation()
      })
    },
    _init: function(v) {
      var x = this,
        w = x._popup,
        t = x._modeToPicker(x._mode),
        u = p();
      h += u;
      i += u;
      x._picker = new Telerik.UI["Rad" + t + "Picker"](w, v);
      x._fixChoppyAnimation();
      x._changePipetteValue(x._picker.value);
      x._listenOnEvents();
      x._attachEvents()
    },
    _fixChoppyAnimation: function() {
      var u = this,
        t = u._popup;
      t.style.opacity = 0.001;
      t.style.display = "inline-block";
      window.setTimeout(function() {
        t.style.opacity = "";
        t.style.display = "none"
      }, 0)
    },
    _modeToPicker: function(t) {
      if (t === "hsb" || t === "rgb") {
        return t.toUpperCase()
      } else {
        if (t === "palette") {
          return "Palette"
        } else {
          return "HSB"
        }
      }
    },
    _pointerUp: function(t) {
      var u = this;
      if (!a(t.target).hasClass("t-colorpicker-mask")) {
        return
      }
      u._collapse();
      u.dispatchEvent("collapse");
      t.stopPropagation()
    },
    _toggleMask: function() {
      var v = this,
        t = document.body,
        u = v._mask;
      if (!v._hidden) {
        t.appendChild(u);
        a(u).on(h, function(w) {
          a(u).on(i, v._pointerUp.bind(v));
          w.stopPropagation()
        })
      } else {
        if (document.getElementById(u.id)) {
          a(v._mask).off();
          t.removeChild(u)
        }
      }
    },
    _expand: function() {
      var w = this,
        t = w._getOffsets(),
        v = w._popup,
        u = w._picker;
      w._hidden = false;
      w._toggleMask();
      v.style.left = t[0] + "px";
      v.style.top = t[1] + "px";
      v.style.display = "inline-block";
      if (!w.transitions) {
        v.classList.add("t-notransitions")
      }
      v.classList.add("t-popup-expand")
    },
    _collapse: function() {
      var w = this,
        v = w._popup,
        u = w._picker;
      w._hidden = true;
      w._toggleMask();
      if (!w.transitions) {
        v.style.display = "none"
      } else {
        v.addEventListener("transitionend", function t() {
          v.style.display = "none";
          v.removeEventListener("transitionend", t)
        })
      }
      v.classList.remove("t-popup-expand")
    },
    _getOffsets: function() {
      var z = this,
        x = WinJS.Utilities.getContentWidth(z.element) / 2,
        w = a(z.element).offset(),
        v = z._picker.width / 2 - x,
        C = a(window).width(),
        B = a(window).height(),
        u, A, y, t;
      y = C - w.left - x * 2;
      t = B - w.top - x * 2;
      u = w.left < v ? w.left : y < v ? v * 2 - y : v;
      A = w.top < v ? w.top : t < v ? v * 2 - t : v;
      return [u * (-1), A * (-1)]
    },
    _trimOptions: function(w) {
      var y = this,
        v = y._mode,
        x = w ? w : y,
        w = {};
      w.width = x.width;
      w.color = x.color;
      w.value = x.value;
      w.previousColor = x.previousColor;
      w.transitions = x.transitions;
      w.tooltip = x.tooltip;
      if (v === "hsb" || v === "rgb") {
        w.opacity = !! x.opacity;
        w.opacityValue = x.opacityValue
      }
      if (v === "hsb") {
        w.brightness = x.brightness
      }
      if (v === "palette") {
        w.defaultPalette = x.defaultPalette;
        w.palette = x.palette;
        w.sectorWidth = x.sectorWidth
      }
      for (var u in w) {
        var t = w[u];
        if (t === o) {
          delete w[u]
        }
      }
      return w
    },
    _changeMode: function(u) {
      var w = this,
        t = w._modeToPicker(w._mode),
        v = w._popup;
      w._picker._destroy();
      w._picker = new Telerik.UI["Rad" + t + "Picker"](v, u);
      w._fixChoppyAnimation();
      w._changePipetteValue(w._picker.value);
      w._listenOnEvents()
    },
    _listenOnEvents: function() {
      var u = this,
        t = u._picker;
      t.onchange = function(v) {
        u._value = t.value;
        u._changePipetteValue(t.value);
        u.dispatchEvent("change", {
          value: v.detail.value
        })
      };
      t.onselect = function(v) {
        u._changePipetteValue(t.value);
        u.dispatchEvent("select", {
          value: v.detail.value
        })
      }
    },
    _changePipetteValue: function(t) {
      this._pipette.style.background = t
    }
  });
  d(l, s.Utilities.eventMixin, s.Utilities.createEventProperties("change", "select", "expand", "collapse"));
  e("Telerik.UI", {
    RadColorPicker: l
  })
})(this, jQuery);
(function(b, a, i) {
  var m = WinJS,
    d = m.Namespace.define,
    h = Telerik.UI,
    k = Telerik.Utilities,
    f = k.setPrivate,
    l = kendo.dataviz,
    j = l.uniqueId,
    e = null,
    g = 2;
  var c = m.Class.define(function(n) {
    var o = this,
      n = n || {};
    m.UI.setOptions(o, n);
    f(o, "_groupId", j())
  }, {
    position: function(n) {
      a("#" + this._groupId).attr("transform", "translate(" + n[0] + ", " + n[1] + ")")
    },
    render: function() {
      var v = this,
        s = v.picker,
        t = l.Point2D,
        w = s._view,
        q = s._mainGroup,
        u = v.radius * s._ratio,
        n = w.createGroup({
          id: v._groupId
        }),
        o, p;
      o = w.createCircle(t(0, 0), u, {
        fillOpacity: 1,
        stroke: "#000000",
        strokeWidth: g
      });
      n.children.push(o);
      p = w.createCircle(t(0, 0), u - g, {
        fillOpacity: 1,
        stroke: "#ffffff",
        strokeWidth: g
      });
      n.children.push(p);
      q.children.push(n)
    }
  });
  d("Telerik.UI._ColorBase", {
    _Handle: c
  })
})(this, jQuery);
(function(e, a, o) {
  var t = WinJS,
    g = t.Namespace.define,
    n = Telerik.UI,
    q = Telerik.Utilities,
    r = WinJS.Utilities,
    c = q.color,
    j = q.setPrivate,
    s = kendo.dataviz,
    b = Telerik.UI._ColorBase._Animations,
    p = s.uniqueId,
    m = "http://www.w3.org/2000/svg",
    h = null,
    l = 2,
    f = 10,
    k = 20,
    i = 2;
  var d = t.Class.define(function(v, u) {
    var w = this;
    j(w, "_originalDiameter", u * v._ratio);
    j(w, "_r", u / 2 * v._ratio, true);
    j(w, "_width", (u * v._ratio) + l);
    j(w, "_picker", v);
    j(w, "_id", p());
    j(w, "_groupId", p());
    j(w, "_gradientId", p());
    j(w, "_backgroundId", p());
    j(w, "_opacityCircleId", p());
    j(w, "_handleRadius", f * v._ratio);
    j(w, "_handle", new Telerik.UI._ColorBase._Handle({
      picker: v,
      radius: f
    }));
    j(w, "_animBorder", new b({
      selector: "#" + w._id,
      picker: v
    }));
    j(w, "_animGradient", new b({
      selector: "#g" + w._gradientId,
      picker: v
    }));
    j(w, "_animBackground", new b({
      selector: "#" + w._opacityCircleId,
      picker: v
    }))
  }, {
    _expanded: false,
    render: function() {
      var C = this,
        B = s.Point2D,
        A = C._picker,
        w = A.color,
        z = A._mainGroup,
        D = A._view,
        u = A.width / 2,
        y = D.createGroup({
          id: C._groupId
        }),
        v = A.opacity ? "url(#g" + C._gradientId + ")" : A.value,
        x;
      y.children.push(D.createCircle(B(u, u), C._r, {
        id: C._opacityCircleId,
        fill: "url(#" + C._backgroundId + ")"
      }));
      y.children.push(D.createCircle(B(u, u), C._r, {
        id: C._id,
        fill: v,
        fillOpacity: 1,
        stroke: "#000000",
        strokeWidth: l
      }));
      if (A.opacity) {
        x = D.createGradient({
          id: "g" + C._gradientId,
          type: "radial",
          cx: u,
          cy: u,
          r: C._r,
          stops: [{
            offset: 0,
            color: w.toHex(),
            opacity: 1
          }, {
            offset: 0.3,
            color: w.toHex(),
            opacity: 0.8
          }, {
            offset: 0.6,
            color: w.toHex(),
            opacity: 0.6
          }, {
            offset: 0.9,
            color: w.toHex(),
            opacity: 0.1
          }, {
            offset: 1,
            color: w.toHex(),
            opacity: 0
          }]
        });
        y.children.push(x)
      }
      z.children.push(y);
      if (A.opacity) {
        C._handle.render()
      }
    },
    changeFill: function(z) {
      var y = this,
        w = y._picker,
        x = a("#g" + y._gradientId).children(),
        v = x.length,
        u;
      if (!z) {
        z = w.color
      }
      if (w.opacity) {
        z = a.extend({}, z);
        z.a = 1;
        for (u = 0; u < v - 1; u++) {
          x[u].style.stopColor = z.toCssRgba()
        }
        if (x[v - 1]) {
          x[v - 1].style.stopColor = "rgba(255, 255, 255, 0)"
        }
      } else {
        a("#" + y._id).attr("fill", z.toCssRgba())
      }
    },
    opacityByXY: function() {
      var A = this,
        y = A._picker,
        D = y._xoc,
        E = y._yoc,
        x = 0,
        w = A._handleRadius,
        C = A._r - x - w - l,
        z = (100 - k),
        v, B, u;
      v = ((Math.atan2(E, D) * 180 / Math.PI + 360) % 360) + 90;
      u = y._distanceFromCenter(D, E) - x - (w / 2);
      u = y._normalizeRange(0, C, u);
      B = u * 100 / (C - (i * 2));
      B = y._normalizeRange(0, 100, B);
      B = Math.abs(B - 100);
      return B / z >= 1 ? 1 : B / z
    },
    positionHandle: function(D, C, A) {
      var H = this,
        E = H._picker,
        G = A ? 0 : k,
        D = (D >= 0 ? D : E.opacityValue) * (100 - G),
        D = Math.abs(D - 100),
        C = C || false,
        B = 0,
        z = H._handleRadius,
        I = H._r - B - z - l,
        K = E._xoc,
        M = E._yoc,
        u = E._outerR,
        w = A ? -90 : ((Math.atan2(M, K) * 180 / Math.PI + 360) % 360),
        F = E._toRadians(w),
        v = (D / 100 * (I - (i * 2))) + B + (z / 2),
        J = v * Math.cos(F),
        L = v * Math.sin(F);
      if (D === G) {
        J = L = 0
      }
      if (C && L > 0) {
        L = L * (-1)
      }
      H._handle.position([u + J, u + L])
    },
    _appendDefs: function() {
      var B = this,
        x = B._picker,
        v = x._view.defsId,
        u = document.getElementById(v),
        w, y, z, A;
      w = document.createElementNS(m, "pattern");
      w.id = B._backgroundId;
      w.setAttribute("patternUnits", "userSpaceOnUse");
      w.setAttribute("width", 20);
      w.setAttribute("height", 20);
      y = document.createElementNS(m, "rect");
      y.setAttribute("width", 20);
      y.setAttribute("height", 20);
      y.setAttribute("fill", "#fff");
      w.appendChild(y);
      z = document.createElementNS(m, "rect");
      z.setAttribute("width", 10);
      z.setAttribute("height", 10);
      z.setAttribute("fill", "#ccc");
      w.appendChild(z);
      A = document.createElementNS(m, "rect");
      A.setAttribute("x", 10);
      A.setAttribute("y", 10);
      A.setAttribute("width", 10);
      A.setAttribute("height", 10);
      A.setAttribute("fill", "#ccc");
      w.appendChild(A);
      u.appendChild(w)
    },
    _changeRadius: function() {
      var x = this,
        u = x._expanded,
        w = x._r,
        v;
      if (u) {
        w = w / 1.8
      } else {
        w = w * 1.8
      }
      x._expanded = !u;
      x._animBorder.play({
        r: w
      }, x._r);
      x._animGradient.play({
        r: w
      }, x._r);
      x._animBackground.play({
        r: w
      }, x._r);
      x._r = w
    }
  });
  g("Telerik.UI._ColorBase", {
    _CurrentColor: d
  })
})(this, jQuery);
(function(c, a, k) {
  var o = WinJS,
    e = o.Namespace.define,
    j = Telerik.UI,
    m = Telerik.Utilities,
    b = m.color,
    g = m.setPrivate,
    n = kendo.dataviz,
    l = n.uniqueId,
    f = null,
    d = 19,
    i = 2;
  var h = o.Class.define(function(q, p) {
    var r = this,
      p = p || {};
    g(r, "_picker", q);
    g(r, "_width", 42 * q._ratio);
    g(r, "_fill", p.fill);
    g(r, "_radius", p.radius);
    g(r, "_value", p.value);
    g(r, "_points", p.points);
    g(r, "_groupId", l());
    g(r, "_handleRadius", d);
    g(r, "_handle", new Telerik.UI._ColorBase._Handle({
      picker: q,
      radius: r._handleRadius
    }));
    r._minMaxSliderDegrees()
  }, {
    render: function() {
      var z = this,
        v = z._picker,
        A = v._view,
        u = v._mainGroup,
        w = n.Point2D,
        p = v.width / 2,
        x = z._radius,
        s = A.createGroup({
          id: z._groupId
        }),
        t;
      for (t = 0; t <= 359; t++) {
        var z = this,
          B = t < 359 ? 2 : 1,
          y, q;
        y = new n.Ring(w(p, p), x - z._width, x, t, B);
        q = A.createRing(y, {});
        s.children.push(q)
      }
      u.children.push(s);
      z._handle.render()
    },
    fill: function(p) {
      this._fill(p)
    },
    valueByXY: function() {
      var s = this,
        r = s._picker,
        t = r._xoc,
        u = r._yoc,
        q = s._points / 360,
        p;
      p = ((Math.atan2(u, t) * 180 / Math.PI + 180) % 360);
      p = p >= s._maxDegrees ? p = 360 : p <= s._minDegrees ? 0 : p;
      return p * q
    },
    positionHandle: function(C) {
      var A = this,
        u = A._picker,
        t = A._points / 360,
        B = C >= 0 ? C : A._value,
        s = (B / t),
        s = u._normalizeRange(A._minDegrees, A._maxDegrees, s) + 180,
        z = u._toRadians(s),
        w = A._radius,
        p = u.width / 2,
        q = w - (A._width / 2),
        D = p + q * Math.cos(z),
        E = p + q * Math.sin(z);
      A._handle.position([D, E])
    },
    _minMaxSliderDegrees: function() {
      var s = this,
        r = s._picker,
        p = s._radius * 2 * Math.PI,
        q = 360 / p;
      s._minDegrees = q * s._handleRadius * r._ratio + (i * q);
      s._maxDegrees = 360 - s._minDegrees
    }
  });
  e("Telerik.UI._ColorBase", {
    _RingSlider: h
  })
})(this, jQuery);
(function(e, a, t) {
  var x = WinJS,
    d = x.Class.derive,
    g = x.Namespace.define,
    s = Telerik.UI,
    v = Telerik.Utilities,
    c = v.color,
    o = v.setPrivate,
    w = kendo.dataviz,
    u = w.uniqueId,
    k = Telerik.Utilities._pointerEvent,
    i = null,
    h = ".telerikColorPicker",
    l = k("down") + h,
    m = k("move") + h,
    n = k("up") + h,
    b = 42,
    r = 2,
    f = 19,
    j = 2,
    p = "t-previousColor";
  var q = d(s._ColorBase, function(y, z) {
    var A = this,
      z = z || {};
    y.tabIndex = 1;
    a(y).addClass("t-color-picker");
    s._ColorBase.call(A, y, z);
    x.UI.setOptions(A, z);
    A._initialized = true;
    o(A, "_mainGroupId", u());
    o(A, "_mainGroup", null, true);
    o(A, "_innerGroupId", u());
    o(A, "_previousColorRingId", u());
    o(A, "_previousColorBackgroundId", u());
    o(A, "_gradientId", u());
    A._init(z);
    A._render();
    A._attachEvents();
    A._afterLayout(A._afterLayoutFuncCallback.bind(A))
  }, {
    _brightness: 0,
    _value: c.parseColor("#000"),
    _prevColor: c.parseColor("#000"),
    _opacityValue: 1,
    _defaultOpacityWidth: 450,
    color: {
      get: function() {
        return this._color || c.parseColor(this.value)
      },
      set: function(A) {
        var z = this,
          y;
        if (typeof A === "string") {
          A = c.parseColor(A)
        }
        z._color = A;
        z._value = A;
        y = A.toHSV().v * 100;
        z._brightness = y;
        if (z._currentColor) {
          z._currentColor.changeFill()
        }
        if (z._initialized) {
          z._bRing.fill();
          z._bRing.positionHandle(y);
          z._positionColorWheelHandle();
          z._currentColor.positionHandle(A.a, true, true)
        }
      }
    },
    value: {
      get: function() {
        var y = this,
          z = y._value;
        return y._opacity ? z.toCssRgba() : z.toCss()
      },
      set: function(z) {
        var y = this;
        if (typeof z === "string") {
          z = c.parseColor(z)
        }
        y.color = z
      }
    },
    previousColor: {
      get: function() {
        var y = this,
          z = y._prevColor;
        return y._opacity ? z.toCssRgba() : z.toCss()
      },
      set: function(z) {
        var y = this;
        if (typeof z === "string") {
          z = c.parseColor(z)
        }
        y._prevColor = z;
        y._changePreviousRingFill()
      }
    },
    opacity: {
      get: function() {
        return this._opacity || false
      },
      set: function(z) {
        var y = this;
        y._opacity = !! z;
        y._internalWidth();
        if (y._initialized) {
          y._opacityValue = 1
        }
      }
    },
    opacityValue: {
      get: function() {
        return this._opacityValue
      },
      set: function(A) {
        var y = this,
          z = a.extend({}, y.color);
        A = y._normalizeRange(0, 1, A);
        y._opacityValue = A;
        z.a = A;
        y.color = z;
        if (y._initialized) {
          y._currentColor.positionHandle(A, true, true)
        }
      }
    },
    brightness: {
      get: function() {
        return this._brightness
      },
      set: function(A) {
        var y = this,
          z;
        y._brightness = A;
        z = y.color.toHSV();
        z.v = y._brightness / 100;
        y.color = z;
        if (y._initialized) {
          y._bRing.positionHandle(y._brightness)
        }
      }
    },
    _afterLayoutFuncCallback: function() {
      var y = this;
      if (!y._initialized) {
        return
      }
      y._bRing.fill();
      y._currentColor.changeFill();
      y._bRing.positionHandle(y._brightness);
      y._positionColorWheelHandle();
      y._appendTooltip();
      if (y.opacity) {
        y._currentColor.positionHandle(y.opacityValue, true, true);
        y._currentColor._appendDefs()
      }
    },
    _attachEvents: function() {
      var z = this,
        y = a(z.element);
      y.on(l, z._pointerDown.bind(z))
    },
    _changeBrightnessInColorObject: function(z) {
      var A = this,
        B = {}, y;
      y = A._bRing.valueByXY();
      a.extend(B, A.color.toHSV());
      B.v = y / 100;
      if (z) {
        A._brightness = y
      }
      return B
    },
    _pointerDown: function(A) {
      var L = this,
        B = a(L.element),
        J = L._previousColorRadius,
        C = L._colorWheelInnerRadius,
        D = L._outerR,
        K = L._r,
        E = A.originalEvent.pageX,
        F = A.originalEvent.pageY,
        G = B.offset(),
        H = document.getElementById(L._previousColorRingId),
        I = document.getElementById(L._previousColorBackgroundId),
        y = p + " t-hidden " + L._noTransitionClass,
        M, N, z;
      if (L._gesture) {
        return
      }
      L._gesture = true;
      L._pos = G;
      L._xoc = E - G.left - D;
      L._yoc = F - G.top - D;
      if (L._pointOnRing(L._xoc, L._yoc, C, K - j)) {
        L._ring = "colorWheel";
        N = L._colorByXY();
        L._currentColor.changeFill(N);
        L._positionColorWheelHandle(N)
      }
      if (L._pointOnRing(L._xoc, L._yoc, K + j, D)) {
        L._ring = "brightnessRing";
        N = L._changeBrightnessInColorObject();
        L._currentColor.changeFill(N);
        L._bRing.positionHandle(N.v * 100)
      }
      if (L._pointOnRing(L._xoc, L._yoc, 0, J + j) && !L.opacity) {
        L._ring = "previousRing"
      }
      if (L._pointOnRing(L._xoc, L._yoc, 0, L._currentColor._r) && L.opacity) {
        z = ((Math.atan2(L._yoc, L._xoc) * 180 / Math.PI + 360) % 360) + 180;
        if (z >= 180 && z <= 360) {
          L._ring = "previousRing"
        } else {
          L._ring = "opacityRing";
          N = a.extend({}, L.color);
          H.setAttribute("class", y);
          I.setAttribute("class", y);
          L._currentColor._changeRadius();
          M = L._currentColor.opacityByXY();
          L._currentColor.positionHandle(M);
          N.a = M
        }
      }
      if (L._checkForFlyOutParent(L.element)) {
        L._pointerUpElement = L._findFlyOutClickEater();
        L._pointerUpElement.on(n, L._pointerUp.bind(L))
      }
      if (L._ring != "previousRing") {
        L._valueToTooltip(N);
        L._tooltip.classList.add(L._tooltipVissibleClass)
      }
      a(document).on(m, L._pointerMove.bind(L));
      a(document).on(n, L._pointerUp.bind(L));
      A.preventDefault();
      A.stopPropagation()
    },
    _pointerMove: function(y) {
      var E = this,
        D = E._ring,
        z = E._outerR,
        A = y.originalEvent.pageX,
        B = y.originalEvent.pageY,
        C = E._pos,
        G = E.color.toBytes(),
        F;
      E._xoc = A - C.left - z;
      E._yoc = B - C.top - z;
      if (D === "opacityRing") {
        G = a.extend({}, E.color);
        F = E._currentColor.opacityByXY();
        E._currentColor.positionHandle(F);
        G.a = F
      }
      if (D === "colorWheel") {
        G = E._colorByXY();
        E._currentColor.changeFill(G);
        E._positionColorWheelHandle(G)
      }
      if (D === "brightnessRing") {
        G = E._changeBrightnessInColorObject();
        E._currentColor.changeFill(G);
        E._bRing.positionHandle(G.v * 100)
      }
      E._valueToTooltip(G);
      E.dispatchEvent("select", {
        value: E.opacity ? G.toCssRgba() : G.toCss()
      });
      y.preventDefault();
      y.stopPropagation()
    },
    _pointerUp: function(z) {
      var E = this,
        D = E._ring,
        A = a(E.element),
        G = a.extend({}, E.color),
        B = document.getElementById(E._previousColorRingId),
        C = document.getElementById(E._previousColorBackgroundId),
        y = p + " " + E._noTransitionClass,
        F;
      if (D === "opacityRing") {
        F = E._currentColor.opacityByXY();
        E._currentColor._changeRadius();
        E._opacityValue = F;
        G.a = F;
        E.color = G;
        E._currentColor.positionHandle(F, true);
        if (B) {
          B.setAttribute("class", y);
          C.setAttribute("class", y)
        }
      }
      if (D === "colorWheel") {
        E.previousColor = E.color;
        E.color = E._colorByXY()
      }
      if (D === "brightnessRing") {
        E.previousColor = G;
        F = E._changeBrightnessInColorObject(true);
        E.color = F
      }
      if (D === "previousRing") {
        E.color = E._prevColor;
        E.previousColor = G;
        E._bRing.positionHandle(E.color.toHSV().v * 100)
      }
      E.dispatchEvent("change", {
        value: E.value
      });
      if (E._pointerUpElement) {
        E._pointerUpElement.off(n);
        E._pointerUpElement = null
      }
      E._tooltip.classList.remove(E._tooltipVissibleClass);
      a(document).off(m);
      a(document).off(n);
      E._ring = null;
      E._gesture = null;
      z.stopPropagation()
    },
    _valueToTooltip: function(E) {
      if (!E) {
        return
      }
      var C = this,
        E = E.toHSV(),
        A = parseInt(E.h, 10),
        B = (E.s * 100).toFixed(0),
        D = (E.v * 100).toFixed(0),
        y = (E.a * 100).toFixed(0),
        z;
      z = C.opacity ? "H: " + A + " S: " + B + " B: " + D + " A: " + y : "H: " + A + " S: " + B + " B: " + D;
      C._tooltip.innerHTML = z;
      C._positionTooltip()
    },
    _colorByXY: function() {
      var D = this,
        G = D._xoc,
        H = D._yoc,
        B = D._colorWheelInnerRadius,
        A = D._handleRadius,
        F = D._r - B - (A * 2),
        C = D.opacityValue,
        z, E, y;
      z = ((Math.atan2(H, G) * 180 / Math.PI + 360) % 360) + 90;
      y = D._distanceFromCenter(G, H) - B - A;
      y = D._normalizeRange(0, F, y);
      E = y * 100 / (F - (j / 2));
      E = D._normalizeRange(0, 100, E);
      return c.fromHSV(z % 360, E / 100, D._brightness / 100, C)
    },
    _positionColorWheelHandle: function(A) {
      var H = this,
        E = H._colorWheelInnerRadius,
        D = H._handleRadius,
        J = H._r - E - (D * 2),
        I = A ? A.toHSV() : H.color.toHSV(),
        F = H._outerR,
        z = F,
        C = I.h - 90,
        G = H._toRadians(C),
        B = (I.s * (J - (j / 2))) + E + D,
        K = z + B * Math.cos(G),
        L = z + B * Math.sin(G);
      H._colorWheelHandle.position([K, L])
    },
    _changePreviousRingFill: function() {
      var y = this;
      a("#" + y._previousColorRingId).attr("fill", y._prevColor.toCssRgba())
    },
    _render: function() {
      var N = this,
        G = w.Point2D,
        P = N.width,
        A = N._d,
        J = N._r,
        y = N._outerR,
        O = N._view,
        C = N._gradientId,
        F = O.createGroup({
          id: N._mainGroupId
        }),
        E = O.createGroup({
          id: N._innerGroupId
        }),
        D, H, I;
      N._mainGroup = F;
      F.children.push(O.createRing(new w.Ring(G(y, y), N._currentColor._r, y, 0, 360), {
        fill: "#000000",
        fillOpacity: 1
      }));
      N._bRing.render();
      F.children.push(O.createRing(new w.Ring(G(y, y), N._currentColor._r + j, J, 0, 360), {
        fill: "#ffffff",
        fillOpacity: 1
      }));
      for (D = 0; D <= 360; D++) {
        var K, M, z, B, L = D - 90;
        M = {
          fill: "url(#g" + D + C + ")",
          fillOpacity: 1
        };
        K = new w.Ring(G(y, y), N._colorWheelInnerRadius, J - j, D, 3);
        z = O.createRing(K, M);
        B = O.createGradient({
          id: "g" + D + C,
          type: "radial",
          cx: y,
          cy: y,
          r: J,
          stops: [{
            offset: 0.3,
            color: "#ffffff",
            opacity: 1
          }, {
            offset: 1,
            color: "hsl(" + L + ", 100%, 50%)",
            opacity: 1
          }]
        });
        E.children.push(B);
        E.children.push(z)
      }
      F.children.push(E);
      H = new w.Ring(G(y, y), 0, N._previousColorRadius, 180, 180);
      F.children.push(O.createRing(H, {
        id: N._previousColorBackgroundId,
        fill: "url(#" + N._currentColor._backgroundId + ")",
        zIndex: 1
      }));
      I = new w.Ring(G(y, y), 0, N._previousColorRadius, 180, 180);
      F.children.push(O.createRing(I, {
        id: N._previousColorRingId,
        fill: N._prevColor.toCssRgba(),
        fillOpacity: 1,
        stroke: "#000000",
        strokeWidth: r,
        zIndex: 1
      }));
      O.children.push(F);
      N._colorWheelHandle.render();
      N._currentColor.render();
      O.renderTo(N.element)
    },
    _refresh: function() {
      var z = this,
        y = z.element;
      a(y).off();
      z._view = new w.SVGView({
        width: z.width,
        height: z.width
      });
      y.innerHTML = "";
      z._init();
      z._render();
      z._attachEvents();
      z._afterLayout(z._afterLayoutFuncCallback.bind(z))
    },
    _fill: function(y) {
      var E = this,
        y = y || [],
        A = 100 / 360,
        B = y[0] ? y[0].toHSV() : E._picker.color.toHSV(),
        D = document.querySelectorAll("#" + E._groupId + " path"),
        z, C;
      if (D.length > 0) {
        for (C = 0; C < 360; C++) {
          z = c.fromHSV(B.h % 360, B.s, (C * A) / 100).toCssRgba();
          D[C].setAttribute("fill", z)
        }
      }
    },
    _init: function(B) {
      var D = this,
        A = B ? B.opacity : D.opacity,
        y = A ? 102 : 60,
        C = D._ratio,
        z = u();
      l += z;
      m += z;
      n += z;
      D._view = new w.SVGView({
        width: D.width,
        height: D.width
      });
      D._currentColor = new Telerik.UI._ColorBase._CurrentColor(D, y);
      D._previousColorRadius = A ? 51 : 30;
      D._previousColorRadius *= C;
      D._bWidth = b * C;
      D._outerD = D.width;
      D._outerR = D.width / 2;
      D._d = D.width - D._bWidth * 2 - j * 2;
      D._r = D._d / 2;
      D._colorWheelInnerRadius = D._currentColor._width / 2;
      D._handleRadius = f * C;
      o(D, "_colorWheelHandle", new Telerik.UI._ColorBase._Handle({
        picker: D,
        radius: f
      }));
      D._bRing = new Telerik.UI._ColorBase._RingSlider(D, {
        radius: D._outerR - j,
        fill: D._fill,
        value: D.color.toHSV().v * 100,
        points: 100
      })
    },
    _destroy: function() {
      var z = this,
        y = z.element;
      a(y).off();
      y.innerHTML = "";
      z._initialized = false;
      z = null
    }
  });
  g("Telerik.UI", {
    RadHSBPicker: q
  })
})(this, jQuery);
(function(d, a, t) {
  var x = WinJS,
    c = x.Class.derive,
    e = x.Namespace.define,
    s = Telerik.UI,
    v = Telerik.Utilities,
    b = v.color,
    m = v.setPrivate,
    w = kendo.dataviz,
    u = w.uniqueId,
    i = Telerik.Utilities._pointerEvent,
    g = null,
    f = ".telerikColorPicker",
    j = i("down") + f,
    k = i("move") + f,
    l = i("up") + f,
    p = 42,
    r = 19,
    q = 2,
    h = 2,
    n = "t-previousColor";
  var o = c(s._ColorBase, function(y, z) {
    var A = this,
      z = z || {};
    y.tabIndex = 1;
    a(y).addClass("t-color-picker");
    s._ColorBase.call(A, y, z);
    x.UI.setOptions(A, z);
    A._initialized = true;
    m(A, "_mainGroupId", u());
    m(A, "_mainGroup", null, true);
    m(A, "_previousColorRingId", u());
    m(A, "_previousColorBackgroundId", u());
    A._init(z);
    A._render()
  }, {
    _value: b.parseColor("#000"),
    _prevColor: b.parseColor("#000"),
    _opacityValue: 1,
    _defaultOpacityWidth: 372,
    color: {
      get: function() {
        return this._color || b.parseColor(this.value)
      },
      set: function(z) {
        var y = this;
        if (typeof z === "string") {
          z = b.parseColor(z)
        }
        y._color = z;
        y._value = z;
        if (y._currentColor) {
          y._currentColor.changeFill()
        }
        if (y._initialized) {
          y._fillSliders();
          y._positionHandles(z);
          y._currentColor.positionHandle(z.a, true, true)
        }
      }
    },
    value: {
      get: function() {
        var y = this,
          z = y._value;
        return y._opacity ? z.toCssRgba() : z.toCss()
      },
      set: function(z) {
        var y = this;
        if (typeof z === "string") {
          z = b.parseColor(z)
        }
        y.color = z
      }
    },
    previousColor: {
      get: function() {
        var y = this,
          z = y._prevColor;
        return y._opacity ? z.toCssRgba() : z.toCss()
      },
      set: function(z) {
        var y = this;
        if (typeof z === "string") {
          z = b.parseColor(z)
        }
        y._prevColor = z;
        y._changePreviousRingFill()
      }
    },
    opacity: {
      get: function() {
        return this._opacity || false
      },
      set: function(z) {
        var y = this;
        y._opacity = !! z;
        y._internalWidth();
        if (y._initialized) {
          y._opacityValue = 1
        }
      }
    },
    opacityValue: {
      get: function() {
        return this._opacityValue
      },
      set: function(A) {
        var y = this,
          z = a.extend({}, y.color);
        A = y._normalizeRange(0, 1, A);
        y._opacityValue = A;
        z.a = A;
        y.color = z;
        if (y._initialized) {
          y._currentColor.positionHandle(A, true, true)
        }
      }
    },
    _attachEvents: function() {
      var z = this,
        y = a(z.element);
      y.on(j, z._pointerDown.bind(z))
    },
    _render: function() {
      var D = this,
        A = w.Point2D,
        F = D.width,
        y = F / 2,
        E = D._view,
        z = E.createGroup({
          id: D._mainGroupId
        }),
        B, C;
      D._mainGroup = z;
      z.children.push(E.createRing(new w.Ring(A(y, y), y - h, y, 0, 360), {
        fill: "#000000"
      }));
      z.children.push(E.createCircle(A(y, y), y - h, {
        fill: "#ffffff"
      }));
      D._b.render();
      D._g.render();
      D._r.render();
      B = new w.Ring(A(y, y), 0, D._previousColorRadius, 180, 180);
      z.children.push(E.createRing(B, {
        id: D._previousColorBackgroundId,
        fill: "url(#" + D._currentColor._backgroundId + ")",
        zIndex: 1
      }));
      C = new w.Ring(A(y, y), 0, D._previousColorRadius, 180, 180);
      z.children.push(E.createRing(C, {
        id: D._previousColorRingId,
        fill: D._prevColor.toCssRgba(),
        stroke: "#000000",
        strokeWidth: q,
        zIndex: 1
      }));
      E.children.push(z);
      D._currentColor.render();
      E.renderTo(D.element);
      D._afterLayout(D._afterLayoutFuncCallback.bind(D))
    },
    _init: function(D) {
      var G = this,
        C = D ? D.opacity : G.opacity,
        z = C ? 102 : 76,
        E = G._ratio,
        H = a.extend({}, G.color),
        y = G._br = (G.width / 2) - h,
        A = G._gr = (G.width / 2) - h * 2 - (p * E),
        F = G._rr = (G.width / 2) - h * 3 - (p * 2 * E),
        B = u();
      j += B;
      k += B;
      l += B;
      G._outerR = G.width / 2;
      G._view = new w.SVGView({
        width: G.width,
        height: G.width
      });
      G._currentColor = new Telerik.UI._ColorBase._CurrentColor(G, z);
      G._previousColorRadius = C ? 51 : 38;
      G._previousColorRadius *= E;
      G._b = new Telerik.UI._ColorBase._RingSlider(G, {
        radius: y,
        fill: G._fill,
        value: H.b,
        points: 255
      });
      G._g = new Telerik.UI._ColorBase._RingSlider(G, {
        radius: A,
        fill: G._fill,
        value: H.g,
        points: 255
      });
      G._r = new Telerik.UI._ColorBase._RingSlider(G, {
        radius: F,
        fill: G._fill,
        value: H.r,
        points: 255
      })
    },
    _afterLayoutFuncCallback: function() {
      var y = this;
      if (!y._initialized) {
        return
      }
      y._attachEvents();
      y._fillSliders();
      y._positionHandles();
      y._appendTooltip();
      if (y.opacity) {
        y._currentColor.positionHandle(y.opacityValue, true, true);
        y._currentColor._appendDefs()
      }
    },
    _fill: function(y) {
      var J = this,
        A = y[0],
        F = y[1],
        D = 255 / 360,
        I = A ? A : J._picker.color,
        G = document.querySelectorAll("#" + J._groupId + " path"),
        B, E;
      if (G.length > 0) {
        for (E = 0; E < 360; E++) {
          var H = F == "r" ? Math.round(E * D) : I.r,
            C = F == "g" ? Math.round(E * D) : I.g,
            z = F == "b" ? Math.round(E * D) : I.b;
          B = b.fromBytes(H, C, z, 1);
          G[E].setAttribute("fill", B.toCss())
        }
      }
    },
    _changePreviousRingFill: function() {
      var y = this;
      a("#" + y._previousColorRingId).attr("fill", y._prevColor.toCssRgba())
    },
    _pointerDown: function(C) {
      var O = this,
        D = a(O.element),
        L = O._previousColorRadius,
        F = O.width / 2,
        G = C.originalEvent.pageX,
        H = C.originalEvent.pageY,
        I = D.offset(),
        A = O.color.toBytes(),
        M = O._ratio,
        y = O._br,
        E = O._gr,
        N = O._rr,
        J = document.getElementById(O._previousColorRingId),
        K = document.getElementById(O._previousColorBackgroundId),
        z = n + " t-hidden " + O._noTransitionClass,
        P, B;
      if (O._gesture) {
        return
      }
      O._gesture = true;
      O._pos = I;
      O._xoc = G - I.left - F;
      O._yoc = H - I.top - F;
      if (O._pointOnRing(O._xoc, O._yoc, E, y)) {
        O._ring = "blueRing";
        P = O._b.valueByXY();
        A = b.fromBytes(A.r, A.g, P, 1);
        O._currentColor.changeFill(A);
        O._b.positionHandle(P)
      }
      if (O._pointOnRing(O._xoc, O._yoc, N, E)) {
        O._ring = "greenRing";
        P = O._g.valueByXY();
        A = b.fromBytes(A.r, P, A.b, 1);
        O._currentColor.changeFill(A);
        O._g.positionHandle(P)
      }
      if (O._pointOnRing(O._xoc, O._yoc, N - (p * M), N)) {
        O._ring = "redRing";
        P = O._r.valueByXY();
        A = b.fromBytes(P, A.g, A.b, 1);
        O._currentColor.changeFill(A);
        O._r.positionHandle(P)
      }
      if (O._pointOnRing(O._xoc, O._yoc, 0, L) && !O.opacity) {
        O._ring = "previousRing"
      }
      if (O._pointOnRing(O._xoc, O._yoc, 0, O._currentColor._r) && O.opacity) {
        B = ((Math.atan2(O._yoc, O._xoc) * 180 / Math.PI + 360) % 360) + 180;
        if (B >= 180 && B <= 360) {
          O._ring = "previousRing"
        } else {
          O._ring = "opacityRing";
          A = a.extend({}, O.color);
          J.setAttribute("class", z);
          K.setAttribute("class", z);
          O._currentColor._changeRadius();
          P = O._currentColor.opacityByXY();
          O._currentColor.positionHandle(P);
          A.a = P
        }
      }
      if (O._checkForFlyOutParent(O.element)) {
        O._pointerUpElement = O._findFlyOutClickEater();
        O._pointerUpElement.on(l, O._pointerUp.bind(O))
      }
      if (O._ring != "previousRing") {
        O._valueToTooltip(A);
        O._tooltip.classList.add(O._tooltipVissibleClass)
      }
      a(document).on(k, O._pointerMove.bind(O));
      a(document).on(l, O._pointerUp.bind(O));
      C.preventDefault();
      C.stopPropagation()
    },
    _pointerMove: function(A) {
      var G = this,
        F = G._ring,
        B = G.width / 2,
        C = A.originalEvent.pageX,
        D = A.originalEvent.pageY,
        E = G._pos,
        z = G.color.toBytes(),
        y = G._opacityValue,
        H;
      G._xoc = C - E.left - B;
      G._yoc = D - E.top - B;
      if (F === "opacityRing") {
        H = G._currentColor.opacityByXY();
        G._currentColor.positionHandle(H);
        z.a = H
      }
      if (F === "blueRing") {
        H = G._b.valueByXY();
        z = b.fromBytes(z.r, z.g, H, y);
        G._currentColor.changeFill(z);
        G._b.positionHandle(H)
      }
      if (F === "greenRing") {
        H = G._g.valueByXY();
        z = b.fromBytes(z.r, H, z.b, y);
        G._currentColor.changeFill(z);
        G._g.positionHandle(H)
      }
      if (F === "redRing") {
        H = G._r.valueByXY();
        z = b.fromBytes(H, z.g, z.b, y);
        G._currentColor.changeFill(z);
        G._r.positionHandle(H)
      }
      G._valueToTooltip(z);
      G.dispatchEvent("select", {
        value: G.opacity ? z.toCssRgba() : z.toCss()
      });
      A.preventDefault();
      A.stopPropagation()
    },
    _pointerUp: function(B) {
      var G = this,
        F = G._ring,
        C = a(G.element),
        A = G.color.toBytes(),
        I = a.extend({}, G.color),
        y = G._opacityValue,
        D = document.getElementById(G._previousColorRingId),
        E = document.getElementById(G._previousColorBackgroundId),
        z = n + " " + G._noTransitionClass,
        H;
      if (F === "previousRing") {
        G.color = G._prevColor;
        G.previousColor = I
      }
      if (F === "opacityRing") {
        H = G._currentColor.opacityByXY();
        G._currentColor._changeRadius();
        G._opacityValue = H;
        I.a = H;
        G.color = I;
        G._currentColor.positionHandle(H, true);
        if (D) {
          D.setAttribute("class", z);
          E.setAttribute("class", z)
        }
      }
      if (F === "blueRing") {
        G.previousColor = G.color;
        G.color = b.fromBytes(A.r, A.g, G._b.valueByXY(), y);
        G.color;
        G._fillSliders()
      }
      if (F === "greenRing") {
        G.previousColor = G.color;
        G.color = b.fromBytes(A.r, G._g.valueByXY(), A.b, y);
        G._fillSliders()
      }
      if (F === "redRing") {
        G.previousColor = G.color;
        G.color = b.fromBytes(G._r.valueByXY(), A.g, A.b, y);
        G._fillSliders()
      }
      G.dispatchEvent("change", {
        value: G.value
      });
      if (G._pointerUpElement) {
        G._pointerUpElement.off(l);
        G._pointerUpElement = null
      }
      G._tooltip.classList.remove(G._tooltipVissibleClass);
      a(document).off(k);
      a(document).off(l);
      G._ring = null;
      G._gesture = null;
      B.preventDefault();
      B.stopPropagation()
    },
    _valueToTooltip: function(E) {
      if (!E) {
        return
      }
      var D = this,
        C = parseInt(E.r, 10),
        B = parseInt(E.g, 10),
        z = parseInt(E.b, 10),
        y = (E.a * 100).toFixed(0),
        A;
      A = D.opacity ? "R: " + C + " G: " + B + " B: " + z + " A: " + y : "R: " + C + " G: " + B + " B: " + z;
      D._tooltip.innerHTML = A;
      D._positionTooltip()
    },
    _fillSliders: function() {
      var y = this;
      y._b.fill([y.color, "b"]);
      y._g.fill([y.color, "g"]);
      y._r.fill([y.color, "r"])
    },
    _positionHandles: function(z) {
      var y = this,
        z = z ? z : y.color;
      y._b.positionHandle(z.b);
      y._g.positionHandle(z.g);
      y._r.positionHandle(z.r)
    },
    _refresh: function() {
      var z = this,
        y = z.element;
      a(y).off();
      y.innerHTML = "";
      z._init();
      z._render()
    },
    _destroy: function() {
      var z = this,
        y = z.element;
      a(y).off();
      y.innerHTML = "";
      z._initialized = false;
      z = null
    }
  });
  e("Telerik.UI", {
    RadRGBPicker: o
  })
})(this, jQuery);
(function(e, a, t) {
  var y = WinJS,
    w = y.Utilities,
    d = y.Class.derive,
    g = y.Namespace.define,
    s = Telerik.UI,
    v = Telerik.Utilities,
    c = v.color,
    o = v.setPrivate,
    x = kendo.dataviz,
    u = x.uniqueId,
    b = Telerik.UI._ColorBase._Animations,
    f = Array.isArray,
    n = Telerik.Utilities._pointerEvent,
    r = "http://www.w3.org/2000/svg",
    i = null,
    h = ".telerikColorPicker",
    k = n("down") + h,
    l = n("move") + h,
    m = n("up") + h,
    q = 2,
    j = 2;
  var p = d(s._ColorBase, function(z, A) {
    var B = this,
      A = A || {};
    if (A.opacity) {
      delete A.opacity
    }
    z.tabIndex = 1;
    a(z).addClass("t-color-picker");
    if (!A.palette || !A.palette.length) {
      A.palette = B._lastStandingPalette;
      if (A.defaultPalette && A.defaultPalette.length) {
        A.palette = A.defaultPalette
      }
    }
    B._generatePalette(A.palette);
    s._ColorBase.call(B, z, A);
    y.UI.setOptions(B, A);
    o(B, "_mainGroupId", u());
    o(B, "_mainGroup", null, true);
    B._init();
    B._render();
    B._initialized = true
  }, {
    _value: i,
    _prevColor: i,
    _width: 430,
    _defaultWidth: 430,
    _ratio: 1,
    _generatedPalette: i,
    _sectorWidth: i,
    _destroyed: false,
    _lastStandingPalette: [
      ["#000000", "#707070", "#B7B7B7", "#FFFFFF"],
      ["#E15C00", "#E98D32", "#F2B976", "#FCE3BA"],
      ["#D3000F", "#DD4C2F", "#E98B66", "#F3C2A8"],
      ["#D80070", "#E04E8D", "#E992B6", "#F4C9DD"],
      ["#782B89", "#874794", "#B793C1", "#DBC7DF"],
      ["#49338C", "#705CA1", "#998CC1", "#C6BFDF"],
      ["#246CB5", "#3786C5", "#7FABDA", "#BDD4EE"],
      ["#3CAFE4", "#71C3EC", "#9FD7F3", "#C5E6F9"],
      ["#35A39B", "#5CBAB7", "#9ED2D0", "#D0E9EC"],
      ["#3BA121", "#7BB64E", "#ACCE86", "#D8E7C1"],
      ["#B9CB00", "#CED63F", "#E4E586", "#F5F4C1"],
      ["#FCEB00", "#FDEF45", "#FDF488", "#FEF9C5"]
    ],
    defaultPalette: {
      get: function() {
        return this._defaultPalette || this._lastStandingPalette
      },
      set: function(C) {
        var B = this,
          z = B._lastStandingPalette,
          A;
        if (!C || !C.length) {
          C = z
        }
        B._defaultPalette = C;
        if (!B.palette || !B.palette.length) {
          B.palette = C
        }
      }
    },
    palette: {
      get: function() {
        return this._palette
      },
      set: function(B) {
        var A = this,
          z;
        if (!B || !B.length) {
          B = this.defaultPalette
        }
        A._palette = B;
        A._generatePalette();
        z = A._generatedPalette.length;
        A._sectorWidth = (A._width * Math.PI) / z;
        A._setDefaultValue();
        if (A._initialized) {
          A._refresh()
        }
      }
    },
    width: {
      get: function() {
        return this._width
      },
      set: function(C) {
        var B = this,
          z = B._defaultWidth,
          A = B._generatedPalette.length;
        B._ratio = C / z;
        B._width = C;
        B._sectorWidth = (C * Math.PI) / A;
        if (B._initialized) {
          B._refresh()
        }
      }
    },
    color: {
      get: function() {
        return this._color || c.parseColor(this.value)
      },
      set: function(B) {
        var A = this,
          z;
        if (typeof B === "string") {
          B = c.parseColor(B)
        }
        z = A._indexByColor(B.toHex());
        if (z === t) {
          return
        }
        A._color = B;
        A._value = B;
        if (A._currentColor) {
          A._currentColor.changeFill()
        }
        if (A._initialized && !A._gesture) {
          A._renderMark(z)
        }
      }
    },
    value: {
      get: function() {
        var z = this,
          A = z._value;
        return A.toCss()
      },
      set: function(B) {
        var A = this,
          z;
        if (typeof B === "string") {
          B = c.parseColor(B)
        }
        z = A._indexByColor(B.toHex());
        if (z === t) {
          return
        }
        A.color = B
      }
    },
    previousColor: {
      get: function() {
        var z = this,
          A = z._prevColor;
        return A.toCss()
      },
      set: function(A) {
        var z = this;
        if (typeof A === "string") {
          A = c.parseColor(A)
        }
        z._prevColor = A;
        z._changePreviousRingFill()
      }
    },
    sectorWidth: {
      get: function() {
        return this._sectorWidth
      },
      set: function(C) {
        var B = this,
          A = B._generatedPalette.length,
          z = C * A,
          D = z / Math.PI;
        B._sectorWidth = C;
        B.width = D > 0 ? D : B._width
      }
    },
    _afterLayoutFuncCallback: function() {
      var A = this,
        z = A._indexByColor(A.value);
      if (!A._destroyed) {
        A._attachEvents();
        A._renderMark(z);
        A._appendTooltip()
      }
    },
    _attachEvents: function() {
      var A = this,
        z = a(A.element);
      z.on(k, A._pointerDown.bind(A))
    },
    _changePreviousRingFill: function() {
      var z = this;
      a("#" + z._previousColorRingId).attr("fill", z._prevColor.toCssRgba())
    },
    _render: function() {
      var K = this,
        G = K._generatedPalette,
        D = G.length,
        L = K._view,
        H = x.Point2D,
        J = K.width / 2,
        A = 360 / D,
        F = L.createGroup({
          id: K._mainGroupId
        }),
        B, I;
      K._mainGroup = F;
      F.children.push(L.createRing(new x.Ring(H(J, J), 0, J, 0, 360), {
        fill: "#000000",
        fillOpacity: 1
      }));
      F.children.push(L.createRing(new x.Ring(H(J, J), 0, J - j - 1, 0, 360), {
        fill: "#ffffff",
        fillOpacity: 1
      }));
      for (B = 0; B < D; B++) {
        var C = G[B];
        if (f(C)) {
          K._renderMultipleSectors(C, J, B * A, A)
        } else {
          K._renderSingleSector(C, J, B, A)
        }
      }
      for (B = 0; B < D; B++) {
        var z, E;
        z = K._getPointOnCircle(J, J - j - 1, B * A + 180);
        E = L.createLine(J, J, z.x, z.y, {
          stroke: "#ffffff",
          strokeWidth: q
        });
        F.children.push(E)
      }
      I = new x.Ring(H(J, J), 0, K._previousColorRadius, 180, 180);
      F.children.push(L.createRing(I, {
        id: K._previousColorRingId,
        fill: K._prevColor.toCssRgba(),
        fillOpacity: 1,
        stroke: "#000000",
        strokeWidth: q,
        zIndex: 1
      }));
      L.children.push(F);
      K._currentColor.render();
      L.renderTo(K.element);
      K._afterLayout(K._afterLayoutFuncCallback.bind(K))
    },
    _renderSingleSector: function(B, D, A, z) {
      var G = this,
        C = x.Point2D,
        F, E;
      E = c.parseColor(B).toCssRgba();
      F = {
        fill: E,
        fillOpacity: 1
      };
      G._createSector(C(D, D), G._innerRadius, D, A * z, z, F)
    },
    _renderMultipleSectors: function(C, H, z, M) {
      var L = this,
        E = C.length,
        G = x.Point2D,
        J = H - L._innerRadius,
        D = J / E,
        A, K;
      for (A = 0; A < E; A++) {
        var I = c.parseColor(C[A]).toCssRgba(),
          B = H - (D * A) - D,
          F = H - (D * A);
        K = {
          fill: I
        };
        L._createSector(G(H, H), B, F, z, M, K)
      }
    },
    _renderMark: function(E) {
      var U = this,
        P = U._ratio,
        L = U._generatedPalette,
        I = L.length,
        V = U._view,
        N = x.Point2D,
        O = U.width / 2,
        C = 360 / I,
        D = U._markId,
        T = 5 * P,
        J = document.getElementById(U._mainGroupId),
        Q, M, G, R;
      if (f(E)) {
        G = E[1];
        R = E[2]
      }
      if (G === t) {
        var z = U._width * Math.PI,
          A = 360 / z,
          B = A * (3 * P);
        Q = V.createRing(new x.Ring(N(O, O), U._innerRadius, O - T + (1.4 * P), E * C + B, C - (B * 2)), {
          id: D,
          fill: "#000000"
        })
      } else {
        var S = O - U._innerRadius,
          H = (S / R),
          F = O - (H * G) - H,
          K = O - (H * G) - T + (1.4 * P),
          z = K * 2 * Math.PI,
          A = 360 / z,
          B = A * (3 * P);
        Q = V.createRing(new x.Ring(N(O, O), F, K, (E[0] * C) + B, C - (B * 2)), {
          id: D
        })
      }
      a("#" + D).remove();
      M = document.createElementNS(r, "path");
      M.id = D;
      M.setAttribute("d", Q.renderPoints());
      M.setAttribute("fill-opacity", 0);
      M.style.stroke = "#fff";
      M.style.strokeWidth = T;
      if (J) {
        J.appendChild(M)
      }
    },
    _createSector: function(z, C, D, F, B, G) {
      var H = this,
        I = H._view,
        G = G || {}, A, E;
      E = new x.Ring(z, C, D - j, F, B);
      A = I.createRing(E, G);
      H._mainGroup.children.push(A)
    },
    _pointerDown: function(z) {
      var F = this,
        A = a(F.element),
        C = z.originalEvent.pageX,
        D = z.originalEvent.pageY,
        E = A.offset(),
        B = F.width / 2,
        G;
      if (F._gesture) {
        return
      }
      F._gesture = true;
      F._pos = E;
      F._xoc = C - E.left - B;
      F._yoc = D - E.top - B;
      if (F._pointOnRing(F._xoc, F._yoc, 0, F._innerRadius)) {
        F._ring = "previousRing"
      }
      if (F._pointOnRing(F._xoc, F._yoc, F._innerRadius, B)) {
        F._ring = "sectorRing";
        G = F._calculateCurrentColor();
        F._valueToTooltip(G);
        F._tooltip.classList.add(F._tooltipVissibleClass)
      }
      if (F._checkForFlyOutParent(F.element)) {
        F._pointerUpElement = F._findFlyOutClickEater();
        F._pointerUpElement.on(m, F._pointerUp.bind(F))
      }
      a(document).on(l, F._pointerMove.bind(F));
      a(document).on(m, F._pointerUp.bind(F));
      z.preventDefault();
      z.stopPropagation()
    },
    _pointerMove: function(z) {
      var E = this,
        B = z.originalEvent.pageX,
        C = z.originalEvent.pageY,
        D = E._pos,
        A = E.width / 2,
        F;
      E._xoc = B - D.left - A;
      E._yoc = C - D.top - A;
      if (E._ring === "sectorRing") {
        F = E._calculateCurrentColor();
        E._valueToTooltip(F);
        E.dispatchEvent("select", {
          value: c.parseColor(F).toCss()
        })
      }
      z.preventDefault();
      z.stopPropagation()
    },
    _pointerUp: function(z) {
      var D = this,
        A = a(D.element),
        E, C, B;
      if (D._ring === "previousRing") {
        E = a.extend({}, D.color);
        D.color = D._prevColor;
        D.previousColor = E;
        B = D._indexByColor(D.color.toHex());
        D._renderMark(B)
      }
      if (D._ring === "sectorRing") {
        D.previousColor = D.color;
        D.color = D._calculateCurrentColor()
      }
      D.dispatchEvent("change", {
        value: D.color.toCss()
      });
      if (D._pointerUpElement) {
        D._pointerUpElement.off(m);
        D._pointerUpElement = null
      }
      D._tooltip.classList.remove(D._tooltipVissibleClass);
      a(document).off(l);
      a(document).off(m);
      D._gesture = null;
      D._ring = null;
      z.stopPropagation()
    },
    _valueToTooltip: function(A) {
      if (!A) {
        return
      }
      var z = this;
      z._tooltip.innerHTML = A;
      z._positionTooltip()
    },
    _calculateCurrentColor: function() {
      var M = this,
        G = M._generatedPalette,
        F = G.length,
        B = 360 / F,
        N = M._xoc,
        O = M._yoc,
        L = (M.width / 2) - M._innerRadius,
        A, J, I, z;
      A = ((Math.atan2(O, N) * 180 / Math.PI + 180) % 360);
      J = Math.ceil(A / B) - 1;
      J = J < 0 ? 0 : J;
      I = G[J];
      if (f(I)) {
        var K = I.length,
          H = L / K,
          C = M._distanceFromCenter(N, O) - M._innerRadius,
          C = M._normalizeRange(0, L, C),
          D = Math.ceil(C / H),
          E = Math.abs(D - K);
        if (K === E) {
          E -= 1
        }
        M._renderMark([J, E, K]);
        z = I[E]
      } else {
        M._renderMark(J);
        z = I
      }
      M._currentColor.changeFill(c.parseColor(z));
      return z
    },
    _indexByColor: function(G, z) {
      var F = this,
        E = z || F._generatedPalette,
        D = E.length,
        B = null,
        A, C;
      for (A = 0; A < D; A++) {
        if (f(E[A])) {
          C = F._indexByColor(G, E[A]);
          if (C !== t) {
            B = [A, C, E[A].length];
            break
          }
        } else {
          if (c.parseColor(E[A]).toHex() === c.parseColor(G).toHex()) {
            B = A;
            break
          }
        }
      }
      if (B !== null) {
        return B
      }
    },
    _generatePalette: function(z) {
      var J = this,
        F = z || J.palette.slice(),
        C = F.length,
        B;
      for (B = 0; B < C; B++) {
        if (F[B] === null || F[B].length === 0) {
          F.splice(B, 1);
          C -= 1;
          B -= 1;
          continue
        }
        if (F[B].baseColor) {
          var D = F[B],
            I = D.steps || 3,
            H = (D.saturation || 0) / 100,
            M = (D.brightness || 0) / 100,
            A = c.parseColor(F[B].baseColor).toHSV(),
            K = [],
            E;
          K[0] = A.toHex();
          for (E = 1; E <= I; E++) {
            var G = A.s,
              L = A.v;
            G = J._normalizeRange(0, 1, G + H);
            L = J._normalizeRange(0, 1, L + M);
            A.s = G;
            A.v = L;
            K[E] = A.toHex();
            if ((G === 0 || G === 1) && (L === 0 || L === 1)) {
              break
            }
          }
          F[B] = K
        }
      }
      J._generatedPalette = F
    },
    _setDefaultValue: function() {
      var C = this,
        A, z, D = C._value,
        B = C._prevColor;
      A = C._generatedPalette[0] || "";
      z = c.parseColor(f(A) ? A[0] || "" : A);
      if (D === i || !C._indexByColor(D.toHex())) {
        C.value = z
      }
      if (B === i || !C._indexByColor(B.toHex())) {
        C.previousColor = z
      }
    },
    _init: function() {
      var D = this,
        B = D._ratio,
        z = 60,
        C = D._generatedPalette.length,
        A = u();
      k += A;
      l += A;
      m += A;
      D._view = new x.SVGView({
        width: D.width,
        height: D.width
      });
      D._setDefaultValue();
      if (D._sectorWidth === i) {
        D._sectorWidth = (D._width * Math.PI) / C
      }
      D._currentColor = new Telerik.UI._ColorBase._CurrentColor(D, z);
      D._previousColorRadius = 30 * B;
      D._innerRadius = 37 * B;
      D._markId = u();
      D._previousColorRingId = u()
    },
    _refresh: function() {
      var A = this,
        z = A.element;
      a(z).off();
      z.innerHTML = "";
      A._init();
      A._render()
    },
    _destroy: function() {
      var A = this,
        z = A.element;
      a(z).off();
      z.innerHTML = "";
      A._initialized = false;
      A._destroyed = true;
      A = null
    }
  });
  g("Telerik.UI", {
    RadPalettePicker: p
  })
})(this, jQuery);
(function(d, a, i) {
  var k = WinJS,
    c = k.Class.derive,
    e = k.Namespace.define,
    h = Telerik.UI,
    j = Telerik.Utilities,
    g = 10;
  var f = c(h.ListBase, function(l, m) {
    var n = this;
    h.ListBase.call(n, l, m);
    n._initialize("kendoAutoComplete", n._input);
    n._postInitialize(m);
    j.setPrivate(n, "_placeholderElement", n._input, true);
    n._registerInputForeColorUpdate(true)
  }, {
    _optionsMap: {
      autoSuggest: "suggest"
    },
    text: {
      get: function() {
        return this._widget.value()
      },
      set: function(l) {
        this._widget.value(l)
      }
    },
    dataValueField: {
      get: function() {
        return this._widget.options.dataValueField
      },
      set: function(l) {
        this._widget.options.dataValueField = l
      }
    },
    filter: {
      get: function() {
        return this._widget.options.filter
      },
      set: function(l) {
        this._widget.options.filter = l + ""
      }
    },
    minLength: {
      get: function() {
        return this._widget.options.minLength
      },
      set: function(l) {
        l = parseInt(l, g);
        if (!isNaN(l)) {
          this._widget.options.minLength = l
        }
      }
    },
    placeholder: {
      get: function() {
        var l = this;
        return l._placeholderElement ? l._placeholderElement.placeholder : ""
      },
      set: function(m) {
        var l = this;
        if (l._placeholderElement) {
          l._placeholderElement.placeholder = m
        }
      }
    },
    autoSuggest: {
      get: function() {
        return this._widget.options.suggest
      },
      set: function(l) {
        this._widget.options.suggest = !! l
      }
    },
    suggest: function(l) {
      return this._widget.suggest(l)
    },
    highlightFirst: {
      get: function() {
        return this._widget.options.highlightFirst
      },
      set: function(l) {
        this._widget.options.highlightFirst = !! l
      }
    },
    separator: {
      get: function() {
        return this._widget.options.separator
      },
      set: function(l) {
        this._widget.options.separator = l + ""
      }
    },
    _registerInputForeColorUpdate: function(o) {
      var n = this,
        m = n._input;
      if (!m) {
        return
      }
      if (o != false) {
        if (!n._colorUpdateHandler) {
          n._colorUpdateHandler = function l(q) {
            var r = "t-typed-text",
              s = q.target,
              p = a(s);
            if (s.value !== "") {
              p.addClass(r)
            } else {
              p.removeClass(r)
            }
          }
        }
        m.addEventListener("blur", n._colorUpdateHandler)
      } else {
        if (n._colorUpdateHandler) {
          m.removeEventListener("blur", n._colorUpdateHandler)
        }
        n._colorUpdateHandler = null
      }
    },
    _destroy: function b() {
      var l = this;
      if (!l._isDestroyed) {
        l._registerInputForeColorUpdate(false);
        h.ListBase.prototype._destroy.call(l)
      }
    }
  });
  e("Telerik.UI", {
    RadAutoCompleteBox: f
  })
})(this, jQuery);
(function(n, a, J) {
  var d = WinJS.Class.define,
    e = WinJS.Class.derive,
    o = WinJS.Class.mix,
    p = WinJS.Namespace.define,
    L = WinJS.Utilities,
    K = Telerik.Utilities,
    A = K.setPrivate,
    D = document.documentElement,
    E = WinJS.UI.setOptions,
    m = WinJS.UI.executeTransition,
    r = "Telerik.UI.Behaviors",
    q = p(r),
    B = WinJS.Promise,
    v = K._pointerEvent,
    u = "object",
    F = "string",
    t = "number",
    s = null,
    x = v("down"),
    y = v("move"),
    z = v("up"),
    w = v("cancel"),
    k = "dragstart",
    f = "drag",
    h = "dragend",
    g = "dragcancel",
    I = "transitionend",
    i = "dragenter",
    j = "dragleave",
    l = "drop",
    C = "reorder",
    H = "transform",
    G = "cubic-bezier(0.1, 0.9, 0.2, 1)",
    c = {
      dragged: "t-dragged",
      noscroll: "t-no-scroll"
    };
  p(r, {
    Behavior: d(function(M) {
      E(this, M)
    }, {
      dispose: function() {
        this._disposeEvents()
      }
    })
  });
  o(q.Behavior, Telerik.UI.Common.eventMixin);
  p(r, {
    Drag: e(q.Behavior, function(M) {
      var N = this,
        M = M || {};
      if (!M.container) {
        M.container = document.body
      }
      q.Behavior.call(N, M);
      N._initialize()
    }, {
      _dragging: false,
      _dragged: s,
      _position: s,
      _containerPosition: s,
      _pointerOffset: s,
      _origin: s,
      _coord: s,
      _pointerId: s,
      _pointerDownDelegate: s,
      _pointerMoveDelegate: s,
      _pointerUpDelegate: s,
      element: s,
      handle: s,
      axis: s,
      container: s,
      transformSelector: "",
      cancelTransition: 167,
      cancelTiming: G,
      dropTargets: {
        get: function() {
          var M = this;
          if (!M._dropTargets) {
            A(M, "_dropTargets", [], true)
          }
          return M._dropTargets
        },
        set: function(N) {
          var M = this;
          if (N instanceof Array) {
            A(M, "_dropTargets", N, true)
          } else {
            if (N instanceof q.DropTarget) {
              A(M, "_dropTargets", [N], true)
            }
          }
        }
      },
      threshold: 20,
      dragging: {
        get: function() {
          return this._dragging
        }
      },
      dragged: {
        get: function() {
          return this._dragged
        }
      },
      position: {
        get: function() {
          return this._position
        }
      },
      containerPosition: {
        get: function() {
          return this._containerPosition
        }
      },
      pointerOffset: {
        get: function() {
          return this._pointerOffset
        }
      },
      origin: {
        get: function() {
          return this._origin
        }
      },
      coordinates: {
        get: function() {
          return this._coord
        }
      },
      filter: function() {
        return true
      },
      _initialize: function() {
        var M = this;
        M._pointerDownDelegate = M.drag.bind(M);
        M._pointerMoveDelegate = M._pointerMove.bind(M);
        M._pointerUpDelegate = M._pointerUp.bind(M);
        M.container.addEventListener(x, M._pointerDownDelegate, false)
      },
      _getComparer: function(M) {
        if (typeof M === F) {
          return function(N) {
            return a(N).is(M)
          }
        } else {
          if (M instanceof HTMLElement) {
            return function(N) {
              return M === N
            }
          } else {
            if (M && typeof M.length === t) {
              return function(N) {
                return [].indexOf.call(M, N) > -1
              }
            }
          }
        }
        return function() {
          return false
        }
      },
      _overElement: function(P, O) {
        var R = this,
          Q = O.target,
          N = R.container,
          M = R._getComparer(P);
        while (Q && Q !== N) {
          if (M(Q)) {
            break
          }
          Q = Q.parentNode
        }
        return Q != N ? Q : s
      },
      _getDraggable: function(M) {
        var P = this,
          O = P._overElement(P.element, M),
          N = !P.handle || P._overElement(P.handle, M);
        return N && O && P.filter(O) ? O : s
      },
      _getDimension: function(M, N) {
        return L.convertToPixels(M, window.getComputedStyle(M, s)[N])
      },
      _getContainerPosition: function() {
        var O = this,
          M = O.container,
          N = L.getPosition(M);
        N.width -= (O._getDimension(M, "borderLeftWidth") + O._getDimension(M, "borderRightWidth"));
        N.height -= (O._getDimension(M, "borderTopWidth") + O._getDimension(M, "borderBottomWidth"));
        return N
      },
      _initializeDrag: function(N) {
        var O = this,
          M = O._dragged;
        O._position = L.getPosition(M);
        O._containerPosition = O._getContainerPosition();
        O._pointerOffset = {
          left: N.pageX - O._position.left,
          top: N.pageY - O._position.top
        };
        O._origin = {
          left: N.pageX,
          top: N.pageY
        };
        O._coord = O._coordinates(N);
        if (M._transition) {
          M._transition.cancel()
        }
        L.addClass(M, c.dragged)
      },
      drag: function(N) {
        var O = this,
          M = O._getDraggable(N);
        if (!M) {
          return
        }
        if (O._pointerId) {
          O._dispatchCancelable(g, N);
          return
        }
        O._dragged = M;
        O._initializeDrag(N);
        O._toggleDragEvents(true);
        O._pointerId = N.pointerId
      },
      _dispatchCancelable: function(P, O) {
        var T = this,
          S = T._notifyTargets(O),
          M = T._args(O, S),
          Q = P === h,
          R = !T._getTargets().length || S.length,
          N = P === g || O.type === w || (Q && !R) || T.dispatchEvent(P, M);
        if (N || Q) {
          T._notifyDropTargets(O, N)
        }
        if (N) {
          T.dispatchEvent(g, M);
          T._animateCancel().then(function() {
            T.dispatchEvent(I, M)
          });
          T._cleanUp()
        } else {
          if (Q && T.dragged) {
            L.removeClass(T.dragged, c.dragged)
          }
        }
        return N
      },
      _getTargets: function() {
        var N = this,
          M = N.dropTargets || [];
        if (typeof M.length !== t) {
          M = [M]
        }
        return M
      },
      _notifyTargets: function(M) {
        var P = this,
          O = P._getTargets(),
          N = [];
        O.forEach(function(Q) {
          if (Q.pointerMove(P, M)) {
            N.push(Q)
          }
        });
        return N
      },
      _notifyDropTargets: function(N, M) {
        this._getTargets().forEach(function(O) {
          O.pointerUp(N, M)
        })
      },
      _args: function(M, N) {
        var O = this;
        return {
          dragged: O._dragged,
          domEvent: M,
          dropTargets: N,
          coordinates: O._coord || {}
        }
      },
      _animateCancel: function() {
        var N = this,
          M = N._dragged;
        return N.cancelTransition ? m(N._dragged, {
          property: H,
          delay: 0,
          duration: N.cancelTransition,
          timing: N.cancelTiming,
          to: ""
        }).then(function() {
          L.removeClass(M, c.dragged)
        }) : B.as()
      },
      _constrain: function(O) {
        var S = this,
          R = S._position,
          N = S._containerPosition,
          Q = S._pointerOffset,
          M = (S.axis + "").toUpperCase(),
          P = Math.max(N.left + Q.left, Math.min(O.pageX, N.left + N.width - R.width + Q.left)),
          T = Math.max(N.top + Q.top, Math.min(O.pageY, N.top + N.height - R.height + Q.top));
        if (M === "X") {
          T = R.top + Q.top
        } else {
          if (M === "Y") {
            P = R.left + Q.left
          }
        }
        return {
          left: P,
          top: T
        }
      },
      _coordinates: function(O) {
        var R = this,
          M = R._constrain(O),
          Q = R._coord ? R._coord.offset : {
            left: 0,
            top: 0
          }, P = {
            left: M.left - R._origin.left,
            top: M.top - R._origin.top
          }, N = {
            left: P.left - Q.left,
            top: P.top - Q.top
          };
        return {
          origin: {
            left: R._origin.left,
            top: R._origin.top
          },
          current: {
            left: R._position.left + P.left,
            top: R._position.top + P.top
          },
          offset: P,
          delta: N,
          direction: {
            x: Math.max(-1, Math.min(N.left, 1)),
            y: Math.max(-1, Math.min(N.top, 1))
          }
        }
      },
      _translate: function(M) {
        var P = this,
          N = P._dragged,
          O = "translate(" + M.left + "px, " + M.top + "px)",
          Q = P.transformSelector ? N._transformed || (N._transformed = L.query(P.transformSelector, N)) : new L.QueryCollection(N);
        Q.setStyle(H, O)
      },
      _pointerMove: function(O) {
        var P = this,
          M = !P._origin;
        if (O.pointerId !== P._pointerId) {
          P._dispatchCancelable(g, O);
          return
        }
        if (!P._dragging && !M && Math.abs(O.pageX - P._origin.left) < P.threshold && Math.abs(O.pageY - P._origin.top) < P.threshold) {
          return
        }
        if (!P._dragging && !M) {
          P._toggleClick(P._dragged, false);
          M = P._dispatchCancelable(k, O)
        }
        if (M) {
          return
        }
        P._dragging = true;
        var N = P._coordinates(O);
        if (N.delta.left || N.delta.top) {
          P._translate(N.offset);
          P._coord = N;
          P._dispatchCancelable(f, O)
        }
      },
      _toggleClick: function(M, N) {
        if (N) {
          if (M._prevFunc) {
            M.removeEventListener("click", M._prevFunc, true);
            M._prevFunc = null
          }
        } else {
          M._prevFunc = function(O) {
            O.stopImmediatePropagation()
          };
          M.addEventListener("click", M._prevFunc, true)
        }
      },
      _cleanUp: function() {
        var N = this,
          M = N._dragged;
        N._toggleDragEvents(false);
        if (M) {
          msSetImmediate(function() {
            N._toggleClick(M, true)
          });
          M.style[H] = "";
          if (M._transformed) {
            M._transformed.setStyle(H, "")
          }
          if (!N._dragging) {
            L.removeClass(M, c.dragged)
          }
          N._dragged = s
        }
        N._getTargets().forEach(function(O) {
          O._pos = s
        });
        N._dragging = false;
        N._pointerId = s;
        N._position = s;
        N._containerPosition = s;
        N._pointerOffset = s;
        N._origin = s;
        N._coord = s
      },
      _pointerUp: function(N) {
        var O = this,
          M;
        if (N.pointerId !== O._pointerId) {
          O._dispatchCancelable(g, N);
          return
        }
        M = O._dragging ? O._dispatchCancelable(h, N) : false;
        if (!M) {
          O._cleanUp()
        }
        N.preventDefault();
        N.stopPropagation()
      },
      _toggleDragEvents: function(M) {
        var O = this,
          N = M ? "addEventListener" : "removeEventListener";
        D[N](y, O._pointerMoveDelegate);
        D[N](z, O._pointerUpDelegate);
        D[N](w, O._pointerUpDelegate)
      },
      dispose: function() {
        var M = this;
        M._cleanUp();
        M._pointerDownDelegate = s;
        M._pointerMoveDelegate = s;
        M._pointerUpDelegate = s;
        q.Behavior.prototype.dispose.call(M)
      }
    })
  });
  o(q.Drag, L.createEventProperties(k, f, h, g, I));

  function b(O, P) {
    var Q = O.left + O.width,
      M = O.top + O.height,
      R = P.left + P.width,
      N = P.top + P.height;
    return !(M < P.top || O.top > N || Q < P.left || O.left > R)
  }
  p(r, {
    DropTarget: e(q.Behavior, function(M, N) {
      var O = this;
      O.element = M;
      q.Behavior.call(O, N)
    }, {
      _pos: s,
      _in: false,
      element: s,
      detectBoundary: true,
      _dispatch: function(N, M) {
        this.dispatchEvent(N, {
          domEvent: M
        })
      },
      isOver: function(M, O) {
        var Q = this,
          P = Q._pos || (Q._pos = L.getPosition(Q.element));
        if (!M.dragging) {
          return false
        }
        if (Q.detectBoundary) {
          var N = {
            left: M.position.left + M.coordinates.offset.left,
            top: M.position.top + M.coordinates.offset.top,
            width: M.position.width,
            height: M.position.height
          };
          return b(P, N)
        }
        return P.left <= O.pageX && (P.left + P.width) >= O.pageX && P.top <= O.pageY && (P.top + P.height) >= O.pageY
      },
      pointerMove: function(N, O) {
        var P = this,
          M = P.isOver(N, O);
        if (M !== P._in) {
          P._in = M;
          P._dispatch(M ? i : j, O)
        }
        return P._in
      },
      pointerUp: function(N, M) {
        var O = this;
        if (O._in) {
          O._in = false;
          O._dispatch(M ? j : l, N)
        }
      }
    })
  });
  o(q.DropTarget, L.createEventProperties(i, j, l));
  p(r, {
    Reorder: e(q.Behavior, function(M) {
      var N = this,
        M = M || {};
      if (!M.container) {
        M.container = document.body
      }
      q.Behavior.call(N, M);
      N._initialize()
    }, {
      _items: s,
      _cache: s,
      _moved: s,
      _lock: false,
      _deferred: s,
      _index: s,
      _initialIndex: s,
      _transitions: s,
      _hidden: s,
      _initializeDragDelegate: s,
      _reorderDelegate: s,
      _releaseDelegate: s,
      _cancelDelegate: s,
      drag: s,
      container: s,
      handle: s,
      itemsSelector: "",
      transformSelector: "",
      threshold: 0.5,
      transitions: true,
      deferTimeout: 50,
      sensitivity: 3,
      transitionDuration: 167,
      transitionTiming: G,
      isRtl: s,
      _initialize: function() {
        var N = this,
          M = N.drag;
        N._initializeDragDelegate = N._initializeReorder.bind(N);
        N._reorderDelegate = N._reorder.bind(N);
        N._releaseDelegate = N._release.bind(N);
        N._cancelDelegate = N._cleanUp.bind(N);
        if (K.getType(M) === u) {
          if (!(M instanceof q.Drag)) {
            M = N.drag = new q.Drag(M)
          }
        } else {
          M = N.drag = new q.Drag({
            container: N.container,
            element: N.container.children,
            transformSelector: N.transformSelector,
            handle: N.handle
          })
        }
        if (!M.transformSelector) {
          M.transformSelector = N.transformSelector
        }
        M.dropTargets.push(new q.DropTarget(N.container));
        M.addEventListener("dragstart", N._initializeDragDelegate);
        M.addEventListener("drag", N._reorderDelegate);
        M.addEventListener("dragend", N._releaseDelegate);
        M.addEventListener("dragcancel", N._cancelDelegate);
        N.container.classList.add(c.noscroll)
      },
      _initializeReorder: function(M) {
        var N = this;
        N._items = N.itemsSelector ? new L.query(N.itemsSelector, N.container) : N.container.children;
        if (N.isRtl) {
          N._items.reverse()
        }
        N._removeHiddenItems();
        N._cache = [];
        N._cache.length = N._items.length;
        N._index = N._initialIndex = [].indexOf.call(N._items, M.dragged);
        N._transitions = [];
        N._moved = []
      },
      _removeHiddenItems: function() {
        var P = this,
          N = P._items,
          M = P._hidden = [],
          O = [];
        [].forEach.call(N, function(R, Q) {
          if (!R.offsetWidth) {
            M.push({
              item: R,
              index: Q
            })
          } else {
            O.push(R)
          }
        });
        return P._items = O
      },
      _restoreHiddenItems: function() {
        var P = this,
          M = P._hidden,
          N = P._index,
          O = P._initialIndex,
          Q = [];
        M.forEach(function(R) {
          var S = R.index;
          if (S <= N) {
            N = P._index = N + 1
          }
          if (S <= O) {
            O = P._initialIndex = O + 1
          }
          if (N < O) {
            if (N < S && S < O) {
              Q.push({
                item: R.item
              })
            }
          } else {
            if (N > O) {
              if (N > S && S > O) {
                Q.push({
                  item: R.item
                })
              }
            }
          }
        });
        if (Q.length) {
          [].unshift.apply(P._moved, Q)
        }
      },
      _getItemPosition: function(M) {
        var P = this,
          N = P._items[M],
          O = L.getPosition(N);
        O.item = N;
        O.delta = 0;
        return O
      },
      _cached: function(M) {
        var N = this;
        if (M < 0 || M > N._items.length - 1) {
          return s
        }
        return N._cache[M] || (N._cache[M] = N._getItemPosition(M))
      },
      _updateCache: function(O) {
        var Q = this,
          M = Q._cache,
          N = Q._cached(Q._index),
          P = M.indexOf(O);
        M.splice(Q._index, 1);
        M.splice(P, 0, N);
        Q._index = P
      },
      _isInSwapArea: function(N, R, P, O) {
        var M = R[N.edge] + R.delta,
          S = R[N.size],
          Q = S / 2;
        return O > 0 ? M < P && (M + S) <= (P + Q) : (M + S) > P && M >= (P - Q)
      },
      _isOutsideSwapArea: function(N, R, P, O) {
        var M = R[N.edge] + R.delta,
          S = R[N.size],
          Q = S / 2;
        return O > 0 ? M > P || (M + Q) > P : (M + S) < P || (M + Q) < P
      },
      _getReorderDimensions: function() {
        var O = this,
          N = O._cached(O._index),
          M = O._cached(O._index + 1) || O._cached(O._index - 1);
        return N.left === M.left ? {
          axis: "y",
          edge: "top",
          size: "height"
        } : {
          axis: "x",
          edge: "left",
          size: "width"
        }
      },
      _getRelativeDirection: function(N) {
        var O = this.drag,
          M = O.coordinates;
        return M.direction[N.axis] || Math.max(-1, Math.min(M.current[N.edge] - O.position[N.edge], 1))
      },
      _getSwitchingPositions: function(P) {
        var X = this,
          M = X._cache,
          R = X.drag,
          N = R.coordinates,
          V = R.position,
          T = X._index,
          W = [],
          O = N.current[P.edge],
          Q = X._getRelativeDirection(P),
          S = Q > 0 ? O + V[P.size] : O;
        if (!Q) {
          return W
        }
        T += Q;
        while (T >= 0 && T < M.length) {
          var U = X._cached(T);
          if (X._isInSwapArea(P, U, S, Q)) {
            W.push(U)
          } else {
            if (X._isOutsideSwapArea(P, U, S, Q)) {
              break
            }
          }
          T += Q
        }
        return W
      },
      _shouldThrottle: function() {
        var N = this,
          M = N.drag.coordinates;
        return N.deferTimeout > 0 && Math.max(Math.abs(M.delta.left), Math.abs(M.delta.top)) > N.sensitivity
      },
      _reorder: function(N) {
        var Q = this,
          O = N.dropTargets.length === 1 && N.dropTargets[0].element === Q.container;
        if (Q._items.length < 2) {
          return
        }
        if (!Q._lock) {
          Q._lock = true;
          clearTimeout(Q._deferred);
          if (!O) {
            if (Q._moved.length) {
              Q._restoreMoved(N)
            }
          } else {
            var M = Q._getReorderDimensions(),
              P = Q._getSwitchingPositions(M);
            if (P.length) {
              if (Q._shouldThrottle()) {
                Q._deferred = setTimeout(Q._switch.bind(Q, P, M, N), Q.deferTimeout)
              } else {
                Q._switch(P, M, N)
              }
            }
          }
          Q._lock = false
        }
      },
      _transition: function(M, O) {
        var N = this;
        return WinJS.UI.executeTransition(M, {
          property: H,
          delay: 0,
          duration: N.transitionDuration,
          timing: N.transitionTiming,
          to: O
        })
      },
      _translate: function(N, M) {
        var S = this,
          R = "translate(" + M.left + "px, " + M.top + "px)",
          T = S.transformSelector ? N._transformed || (N._transformed = L.query(S.transformSelector, N)) : new L.QueryCollection(N);
        if (!S.transitions) {
          T.setStyle(H, R);
          return
        }
        var O = [].indexOf.call(S._items, N),
          P = S._transitions[O],
          Q = function() {
            S._transitions[O] = s
          };
        if (P) {
          T.setStyle(H, R)
        } else {
          S._transitions[O] = S._transition(T, R).then(Q, Q)
        }
      },
      _switch: function(R, N, Q) {
        var S = this,
          P = S.drag,
          O = S._getRelativeDirection(N),
          M = (-O) * P.position[N.size];
        R.forEach(function(U) {
          var T = U.item,
            V = U.delta,
            W = {
              left: 0,
              top: 0
            };
          U.delta = V + M;
          W[N.edge] = U.delta;
          S._translate(T, W);
          S._updateMovedArray(U)
        });
        S._updateCache(R[R.length - 1]);
        S.dispatchEvent(C, {
          domEvent: Q.domEvent,
          dragged: S.drag.dragged,
          items: R.map(function(T) {
            return T.item
          }),
          direction: O
        })
      },
      _updateMovedArray: function(O) {
        var N = this._moved;
        if (O.delta) {
          N.push(O)
        } else {
          var M = N.indexOf(O);
          if (M > -1) {
            N.splice(M, 1)
          }
        }
      },
      _restoreMoved: function(M) {
        var Q = this,
          O = Q._moved,
          N = [];
        while (O.length) {
          var P = O[0];
          N.push(P.item);
          P.delta = 0;
          Q._translate(P.item, {
            left: 0,
            top: 0
          });
          Q._updateMovedArray(P)
        }
        Q._updateCache(Q._cached(Q._initialIndex));
        Q.dispatchEvent(C, {
          domEvent: M.domEvent,
          dragged: Q.drag.dragged,
          items: N,
          direction: Math.max(-1, Math.min(Q._index - Q._initialIndex, 1))
        })
      },
      _removeStyles: function() {
        var Q = this,
          O = Q._items || [];
        B.join(Q._transitions || []).cancel();
        Q._transitions = [];
        for (var M = 0, P = O.length; M < P; M++) {
          var N = O[M];
          if (N === Q.drag.dragged) {
            continue
          }
          if (N._transformed) {
            N._transformed.setStyle(H, "");
            N._transformed = s
          } else {
            N.style[H] = ""
          }
        }
      },
      _cleanUp: function() {
        var M = this;
        clearTimeout(M._deferred);
        M._deferred = s;
        M._removeStyles();
        M._items = s;
        M._index = s;
        M._cache = s;
        M._moved = s;
        M._hidden = s
      },
      _release: function(M) {
        var N = this;
        N._restoreHiddenItems();
        N.dispatchEvent(l, {
          domEvent: M.domEvent,
          dragged: N.drag.dragged,
          items: N._moved.map(function(O) {
            return O.item
          }),
          index: N._index,
          direction: Math.max(-1, Math.min(N._index - N._initialIndex, 1)),
          isRtl: N.isRtl,
          len: N._items.length - 1 + N._hidden.length
        });
        N._cleanUp()
      },
      dispose: function() {
        var M = this;
        M._cleanUp();
        M.drag.dispose();
        M.drag = s;
        M.container.classList.remove(c.noscroll);
        M.container = s;
        M._initializeDragDelegate = s;
        M._reorderDelegate = s;
        M._releaseDelegate = s;
        M._cancelDelegate = s;
        q.Behavior.prototype.dispose.call(M)
      }
    })
  });
  o(q.Reorder, L.createEventProperties(C, l))
})(this, jQuery);
(function(c, a, g) {
  var i = WinJS,
    b = i.Class.derive,
    d = i.Namespace.define,
    f = Telerik.UI,
    h = Telerik.Utilities;
  var e = b(f.CascadingListBase, function(j, k) {
    var l = this;
    f.ListBase.call(l, j, k);
    l._initialize("kendoComboBox", l._input);
    l._postInitialize(k);
    h.setPrivate(l, "_placeholderElement", l._widget.input[0], true)
  }, {
    _optionsMap: {
      autoSuggest: "suggest"
    },
    text: {
      get: function() {
        return this._widget.text()
      },
      set: function(j) {
        this._widget.text(j)
      }
    },
    index: {
      get: function() {
        return this._widget.selectedIndex
      },
      set: function(k) {
        var j = this;
        if (j._initialized) {
          j._widget.select(k)
        } else {
          j._widget.options.index = k
        }
      }
    },
    filter: {
      get: function() {
        return this._widget.options.filter
      },
      set: function(j) {
        this._widget.options.filter = j + ""
      }
    },
    minLength: {
      get: function() {
        return this._widget.options.minLength
      },
      set: function(j) {
        j = parseInt(j, 10);
        if (!isNaN(j)) {
          this._widget.options.minLength = j
        }
      }
    },
    placeholder: {
      get: function() {
        var j = this;
        return j._placeholderElement ? j._placeholderElement.placeholder : ""
      },
      set: function(k) {
        var j = this;
        if (j._placeholderElement) {
          j._placeholderElement.placeholder = k
        }
      }
    },
    autoSuggest: {
      get: function() {
        return this._widget.options.suggest
      },
      set: function(j) {
        this._widget.options.suggest = !! j
      }
    },
    open: function() {
      if (!this.isOpen) {
        return this._widget.open()
      }
    },
    toggle: function(j) {
      return this._widget.toggle(j)
    },
    suggest: function(j) {
      return this._widget.suggest(j)
    },
    highlightFirst: {
      get: function() {
        return this._widget.options.highlightFirst
      },
      set: function(j) {
        this._widget.options.highlightFirst = !! j
      }
    },
  });
  d("Telerik.UI", {
    RadComboBox: e
  })
})(this, jQuery);
(function(o, E) {
  var q = o.kendo,
    l = q.deepExtend,
    u = q.dataviz.ui.registerTheme;
  var a = "#000",
    p = "#808080",
    r = "none",
    s = "outside",
    t = "outsideEnd",
    v = "Segoe UI",
    D = " Semibold",
    w = "11px " + v,
    x = w + D,
    y = "12px " + v,
    z = y + D,
    A = "14px " + v,
    B = "15px " + v,
    C = "30px " + v,
    g = "#292929",
    f = g,
    e = "#4B4B4B",
    h = e,
    i = "rgba(0, 0, 0, ",
    b = i + "0.14)",
    c = i + "0.35)",
    M = "rgba(255, 255, 255, ",
    G = M + "0.12)",
    H = M + "0.35)",
    I = M + "0.4)",
    J = M + "0.6)",
    L = M + "0.8)",
    d = i + "0.6)",
    F = "#fff",
    K = M + "0.6)";
  var j = {
    title: {
      font: C
    },
    axisDefaults: {
      title: {
        font: x
      },
      labels: {
        font: w
      },
      majorGridLines: {
        dashType: "dash"
      },
      crosshair: {
        color: p,
        tooltip: {
          font: w,
          color: a,
          background: F,
          border: {
            color: p,
            width: 2
          }
        }
      }
    },
    categoryAxis: {
      justified: true,
      majorGridLines: {
        visible: false
      }
    },
    tooltip: {
      font: A,
      color: a,
      background: F,
      border: {
        color: p,
        width: 2
      }
    },
    legend: {
      labels: {
        font: w
      },
      inactiveItems: {
        labels: {
          color: "#919191"
        },
        markers: {
          color: "#919191"
        }
      }
    },
    seriesDefaults: {
      visible: true,
      overlay: {
        gradient: r
      },
      highlight: {
        visible: true
      },
      labels: {
        position: t,
        font: z,
        background: "",
        color: ""
      },
      errorBars: {
        color: "#232323"
      },
      area: {
        opacity: 0.4,
        line: {
          width: 1,
          opacity: 1,
          style: "normal"
        },
        markers: {
          visible: true,
          size: 8
        },
      },
      line: {
        width: 2
      },
      pie: {
        overlay: {
          gradient: "roundedBevel"
        }
      },
      candlestick: {
        downColor: "#ccc",
        line: {
          color: "#ccc"
        }
      },
      ohlc: {
        highlight: {
          line: {
            width: 2
          }
        }
      },
      bullet: {
        gap: 1.5,
        spacing: 0.4,
        target: {
          color: "#ff0000"
        }
      },
      verticalBullet: {
        gap: 1.5,
        spacing: 0.4,
        target: {
          color: "#ff0000"
        }
      },
      funnel: {
        labels: {
          position: "center"
        },
        segmentSpacing: 0,
        neckRatio: 0.3,
        dynamicSlope: false
      }
    },
    seriesColors: ["#1E98E4", "#FFC500", "#FF2A00", "#CACACA", "#434343", "#00FF9C", "#6D31FF", "#00B2A1", "#B9FF85", "#FF8000"]
  };
  var k = {
    dark: {
      title: {
        color: L
      },
      legend: {
        labels: {
          color: I
        }
      },
      axisDefaults: {
        title: {
          color: J
        },
        labels: {
          color: I
        },
        line: {
          color: H
        },
        majorGridLines: {
          color: G
        }
      },
      chartArea: {
        background: r
      },
      seriesDefaults: {
        labels: {
          color: "#CACACA"
        },
        errorBars: {
          color: "#ffffff"
        }
      }
    },
    light: {
      title: {
        color: g
      },
      legend: {
        labels: {
          color: h
        }
      },
      axisDefaults: {
        title: {
          color: f
        },
        labels: {
          color: e
        },
        line: {
          color: c
        },
        majorGridLines: {
          color: b
        }
      },
      seriesDefaults: {
        labels: {
          color: "#545454"
        }
      }
    }
  };
  var m = {
    scale: {
      labels: {
        font: B,
        position: s
      }
    }
  };
  var n = {
    light: {
      scale: {
        labels: {
          color: d
        },
        majorTicks: {
          color: d
        },
        minorTicks: {
          color: d
        },
        rangePlaceholderColor: d
      }
    },
    dark: {
      pointer: {
        color: F
      },
      scale: {
        labels: {
          color: K
        },
        majorTicks: {
          color: K
        },
        minorTicks: {
          color: K
        },
        rangePlaceholderColor: K
      }
    }
  };
  u("dark", {
    chart: l({}, j, k.dark),
    gauge: l({}, m, n.dark)
  });
  u("light", {
    chart: l({}, j, k.light),
    gauge: l({}, m, n.light)
  })
})(this);
(function(c, a, g) {
  var i = WinJS,
    b = i.Class.derive,
    d = i.Namespace.define,
    f = Telerik.UI,
    h = Telerik.Utilities;
  var e = b(f.CascadingListBase, function(j, k) {
    if (k && k.valueTemplate && typeof k.valueTemplate !== "string") {
      k.valueTemplate = h.getTemplate(k.valueTemplate, true)
    }
    var l = this;
    f.ListBase.call(l, j, k);
    l._initialize("kendoDropDownList", l._input);
    l._postInitialize(k)
  }, {
    text: {
      get: function() {
        return this._widget.text()
      },
      set: function(j) {
        this._widget.text(j)
      }
    },
    index: {
      get: function() {
        return this._widget.selectedIndex
      },
      set: function(k) {
        var j = this;
        if (j._initialized) {
          j._widget.select(k)
        } else {
          j._widget.options.index = k
        }
      }
    },
    optionLabel: {
      get: function() {
        return this._widget.options.optionLabel || ""
      },
      set: function(k) {
        k = k + "";
        var j = this._widget.options;
        if (j.optionLabel !== k) {
          j.optionLabel = k;
          this.refresh()
        }
      }
    },
    valueTemplate: {
      get: function() {
        var j = this._widget.options.valueTemplate;
        return j && j._originalTemplate ? j._originalTemplate : j
      },
      set: function(m) {
        var l = this,
          n = l._widget,
          j = n.options.valueTemplate,
          o = h.getTemplate(m, true);
        if (j && j._originalTemplate) {
          j = j._originalTemplate
        }
        if (o !== g && m !== j) {
          var k = l.dataSource;
          delete n.options.dataSource;
          n.options.valueTemplate = o;
          l.dataSource = k
        }
      }
    },
    open: function() {
      if (!this.isOpen) {
        return this._widget.open()
      }
    },
    search: function(j) {
      return this._widget.search(j)
    },
    toggle: function(j) {
      return this._widget.toggle(j)
    }
  });
  d("Telerik.UI", {
    RadDropDownList: e
  })
})(this, jQuery);
(function(h, a, r) {
  var u = WinJS,
    e = u.Class.derive,
    t = u.Utilities,
    i = u.Namespace.define,
    q = Telerik.UI,
    s = Telerik.Utilities,
    k = "Telerik.UI.Gauge",
    j = i(k),
    b = q.Common,
    l = "number",
    f = "function",
    c = q._ControlConfiguration,
    d = c.defineProperty,
    g = c.getMapping,
    m = s.setPrivate;
  i(k, {
    _LabelConfiguration: e(q._ControlConfiguration, function(w, x, v) {
      q._ControlConfiguration.call(this, w, x, v)
    }, {
      _validators: {
        position: ["outside", "inside"]
      },
      background: d("background", ""),
      border: {
        get: function() {
          var v = this;
          if (!v._border) {
            m(v, "_border", new b._BorderConfiguration(v._owner, g(v, "border"), v._defaults.border))
          }
          return v._border
        }
      },
      color: d("color", ""),
      font: d("font", ""),
      format: d("format", ""),
      margin: {
        get: function() {
          var v = this;
          if (!v._margin) {
            m(v, "_margin", new b._BoxConfiguration(v._owner, g(v, "margin"), {
              left: 5,
              right: 5,
              top: 5,
              bottom: 5
            }))
          }
          return v._margin
        }
      },
      padding: {
        get: function() {
          var v = this;
          if (!v._padding) {
            m(v, "_padding", new b._BoxConfiguration(v._owner, g(v, "padding"), v._defaults.padding))
          }
          return v._padding
        }
      },
      position: d("position", "outside"),
      template: d("template", ""),
      visible: d("visible", true)
    }),
    _TickConfiguration: e(q._ControlConfiguration, function(w, x, v) {
      q._ControlConfiguration.call(this, w, x, v)
    }, {
      color: d("color", ""),
      size: d("size", 0),
      visible: d("visible", true),
      width: d("width", 0.5)
    }),
    _RadialPointerConfiguration: e(q._ControlConfiguration, function(w, x, v) {
      q._ControlConfiguration.call(this, w, x, v)
    }, {
      _optionsMap: {
        capSize: "cap.size",
        capColor: "cap.color"
      },
      capSize: d("capSize", 0.5),
      capColor: d("capColor", ""),
      color: d("color", "")
    }),
    _LinearPointerTrackConfiguration: e(q._ControlConfiguration, function(w, x, v) {
      q._ControlConfiguration.call(this, w, x, v)
    }, {
      border: {
        get: function() {
          var v = this;
          if (!v._border) {
            m(v, "_border", new b._BorderConfiguration(v._owner, g(v, "border"), v._defaults.border))
          }
          return v._border
        }
      },
      color: d("color", ""),
      opacity: d("opacity", 1),
      size: d("size", 0),
      visible: d("visible", false)
    }),
    _LinearPointerConfiguration: e(q._ControlConfiguration, function(w, x, v) {
      q._ControlConfiguration.call(this, w, x, v)
    }, {
      _validators: {
        shape: ["barIndicator", "arrow"]
      },
      border: {
        get: function() {
          var v = this;
          if (!v._border) {
            m(v, "_border", new b._BorderConfiguration(v._owner, g(v, "border"), v._defaults.border))
          }
          return v._border
        }
      },
      color: d("color", ""),
      margin: {
        get: function() {
          var v = this;
          if (!v._margin) {
            m(v, "_margin", new b._BoxConfiguration(v._owner, g(v, "margin"), {
              left: 3,
              right: 3,
              top: 3,
              bottom: 3
            }))
          }
          return v._margin
        }
      },
      opacity: d("opacity", 1),
      shape: d("shape", "barIndicator"),
      size: d("size", 0),
      track: {
        get: function() {
          var v = this;
          if (!v._track) {
            m(v, "_track", new j._LinearPointerTrackConfiguration(v._owner, g(v, "track"), v._defaults.track))
          }
          return v._track
        }
      }
    }),
    _LineConfiguration: e(q.Common._BorderConfiguration, function(w, x, v) {
      q.Common._BorderConfiguration.call(this, w, x, v)
    }, {
      visible: d("visible", true)
    })
  });
  var n = e(q.WidgetWrapper, function(v, w) {
    var x = this;
    w = w || {};
    if (!w.theme) {
      w.theme = "dark"
    }
    x._optionsMap.value = "pointer.value";
    s.setPrivate(x, "_defaults", {});
    s.setPrivate(x, "_modified", {});
    q.WidgetWrapper.call(x, v, w);
    x._initialize(x._widgetName, x._recreateContent())
  }, {
    _optionsMap: {
      background: "gaugeArea.background",
      border: "gaugeArea.border",
      width: "gaugeArea.width",
      height: "gaugeArea.height",
      margin: "gaugeArea.margin",
      labels: "scale.labels",
      min: "scale.min",
      max: "scale.max",
      majorUnit: "scale.majorUnit",
      minorUnit: "scale.minorUnit",
      reverse: "scale.reverse",
      majorTicks: "scale.majorTicks",
      minorTicks: "scale.minorTicks",
      ranges: "scale.ranges",
      rangeSize: "scale.rangeSize",
      rangePlaceholderColor: "scale.rangePlaceholderColor"
    },
    _validators: {
      rangeSize: {
        type: ["number", "null"]
      }
    },
    _recreateContent: function() {
      var y = this,
        v = a(y.element),
        w = t.getContentHeight(v[0]);
      if (y._widget && typeof y._widget.destroy === f) {
        y._widget.destroy()
      }
      var x = v.empty().append("<div></div>").find("div");
      if (w) {
        x.css("height", w + "px")
      }
      return x[0]
    },
    _saveModifiedOptions: function() {
      var z = this,
        x = {};
      for (var v in z) {
        if (v.charCodeAt(0) !== 95) {
          var y = z[v];
          if (y instanceof q._ControlConfiguration) {
            var w = y._toOption();
            if (w !== r && Object.keys(w)) {
              x[v] = w
            }
          }
        }
      }
      s.merge(z._options, z._modified, x)
    },
    theme: d("theme", "dark"),
    background: d("background", "none"),
    border: {
      get: function() {
        var v = this;
        if (!v._border) {
          m(v, "_border", new b._BorderConfiguration(v, g(v, "border")))
        }
        return v._border
      }
    },
    width: d("width", function() {
      var v = this._widget,
        w = v.options.gaugeArea.width;
      if (typeof w !== l) {
        w = v.wrapper.find("svg").width()
      }
      return w
    }),
    height: d("height", function() {
      var w = this._widget,
        v = w.options.gaugeArea.height;
      if (typeof v !== l) {
        v = w.wrapper.find("svg").height()
      }
      return v
    }),
    margin: {
      get: function() {
        var v = this;
        if (!v._margin) {
          m(v, "_margin", new b._BoxConfiguration(v, g(v, "margin"), {
            left: 5,
            right: 5,
            top: 5,
            bottom: 5
          }))
        }
        return v._margin
      }
    },
    transitions: d("transitions", true),
    labels: {
      get: function() {
        var v = this;
        if (!v._labels) {
          m(v, "_labels", new j._LabelConfiguration(v, g(v, "labels")))
        }
        return v._labels
      }
    },
    minorUnit: d("minorUnit", function() {
      var w = this,
        v = parseFloat(w._widget.options.scale.minorUnit);
      return isNaN(v) ? w._getDefaultScale().options.minorUnit : v
    }),
    majorUnit: d("majorUnit", function() {
      var w = this,
        v = parseFloat(w._widget.options.scale.majorUnit);
      return isNaN(v) ? w._getDefaultScale().options.majorUnit : v
    }),
    _getDefaultScale: function() {
      var v = this;
      return v instanceof q.RadLinearGauge ? new kendo.dataviz.LinearScale({
        min: v.min,
        max: v.max
      }) : new kendo.dataviz.RadialScale({
        min: v.min,
        max: v.max
      })
    },
    min: d("min", 0),
    max: d("max", function() {
      var x = this,
        w = parseFloat(x._widget.options.scale.max),
        v = x instanceof q.RadLinearGauge ? 50 : 100;
      return isNaN(w) ? v : w
    }),
    reverse: d("reverse", false),
    majorTicks: {
      get: function() {
        var v = this;
        if (!v._majorTicks) {
          m(v, "_majorTicks", new j._TickConfiguration(v, g(v, "majorTicks"), {
            size: 15
          }))
        }
        return v._majorTicks
      }
    },
    minorTicks: {
      get: function() {
        var v = this;
        if (!v._minorTicks) {
          m(v, "_minorTicks", new j._TickConfiguration(v, g(v, "minorTicks"), {
            size: 10
          }))
        }
        return v._minorTicks
      }
    },
    ranges: d("ranges", []),
    rangeSize: d("rangeSize", null),
    rangePlaceholderColor: d("rangePlaceholderColor", "rgba(255, 255, 255, 0.6)"),
    svg: {
      get: function() {
        return this._widget.svg()
      }
    },
    value: {
      get: function() {
        return this._widget.value()
      },
      set: function(x) {
        x = parseFloat(x);
        if (!isNaN(x)) {
          var w = this,
            y = w._widget,
            v;
          y.value(x);
          v = y.value();
          y.options.pointer.value = y.value();
          w._options.value = v
        }
      }
    },
    redraw: function() {
      var v = this;
      v._saveModifiedOptions();
      v._initialize(v._widgetName, v._recreateContent())
    }
  });
  var o = e(n, function(v, w) {
    var x = kendo.deepExtend({
      minorTicks: {
        size: 20
      },
      majorTicks: {
        size: 25,
        width: 1
      }
    }, w);
    n.call(this, v, x)
  }, {
    _widgetName: "kendoLinearGauge",
    _optionsMap: {
      mirror: "scale.mirror",
      vertical: "scale.vertical",
      line: "scale.line"
    },
    mirror: d("mirror", false),
    vertical: d("vertical", true),
    line: {
      get: function() {
        var v = this;
        if (!v._line) {
          m(v, "_line", new j._LineConfiguration(v, g(v, "line")))
        }
        return v._line
      }
    },
    pointer: {
      get: function() {
        var w = this;
        if (!w._pointer) {
          var x = w._widget,
            v = x.options.pointer;
          m(w, "_pointer", new j._LinearPointerConfiguration(w, g(w, "pointer"), {
            border: {
              color: v.color,
              width: 1
            },
            size: x._pointers[0].options.size,
            track: {
              border: {
                width: 1
              },
              size: x._pointers[0].options.size,
              visible: !! v.track && !! v.track.color
            }
          }))
        }
        return w._pointer
      }
    }
  });
  var p = e(n, function(v, w) {
    if (w && w.pointer && (w.pointer.capSize || w.pointer.capColor)) {
      w.pointer.cap = {
        size: w.pointer.capSize,
        color: w.pointer.capColor
      };
      delete w.pointer.capSize;
      delete w.pointer.capColor
    }
    var x = kendo.deepExtend({
      minorTicks: {
        size: 0
      },
      majorTicks: {
        size: 3,
        width: 1.5
      }
    }, w);
    n.call(this, v, x)
  }, {
    _widgetName: "kendoRadialGauge",
    _optionsMap: {
      startAngle: "scale.startAngle",
      endAngle: "scale.endAngle",
      rangeDistance: "scale.rangeDistance"
    },
    rangeDistance: d("rangeDistance", function() {
      return this._widget._model._plotArea.scale.options.rangeDistance
    }),
    startAngle: d("startAngle", function() {
      return this._widget._model._plotArea.scale.options.startAngle
    }),
    endAngle: d("endAngle", function() {
      return this._widget._model._plotArea.scale.options.endAngle
    }),
    pointer: {
      get: function() {
        var v = this;
        if (!v._pointer) {
          m(v, "_pointer", new j._RadialPointerConfiguration(v, g(v, "pointer")))
        }
        return v._pointer
      }
    }
  });
  i("Telerik.UI", {
    RadRadialGauge: p,
    RadLinearGauge: o
  })
})(this, jQuery);
(function(d, a, q) {
  var c = WinJS.Class.derive,
    f = WinJS.Namespace.define,
    p = Telerik.UI,
    g = Telerik.Utilities._pointerEvent,
    h = g("down"),
    j = g("up"),
    i = g("out");
  f("Telerik.UI.HubTile", {
    MosaicFlipMode: {
      individual: "individual",
      row: "row"
    }
  });
  var b = c(p.Control, function(r, s) {
    this._updateIntervalRef = null;
    s = s || {};
    p.Control.call(this, r, s);
    WinJS.UI.setOptions(this, s);
    WinJS.Utilities.addClass(r, "t-hubtile");
    Telerik.Utilities.setPrivate(this, "_isIE10", kendo.support.browser.version === 10);
    this._render();
    this._registerEvents();
    this._startStopUpdateInterval(!this.isFrozen)
  }, {
    _destroy: function e() {
      var r = this;
      if (!r._isDestroyed) {
        r._isDestroyed = true;
        r.isFrozen = true;
        r._registerEvents(false);
        r.element.innerText = ""
      }
    },
    _tileClicked: function(r) {
      this.dispatchEvent("tileinvoked", null)
    },
    _pointerDownAnimation: function() {
      var s = this,
        r = s.element;
      if (s._isInListView == null) {
        s._isInListView = s._checkParentListView(r)
      }
      if (!s._isInListView) {
        s._pointerIsDown = true;
        WinJS.UI.Animation.pointerDown(r)
      }
    },
    _pointerUpAnimation: function() {
      var s = this,
        r = s.element;
      if (s._isInListView == null) {
        s._isInListView = s._checkParentListView(r)
      }
      if (!s._isInListView && s._pointerIsDown) {
        s._pointerIsDown = false;
        WinJS.UI.Animation.pointerUp(r)
      }
    },
    _checkParentListView: function(r) {
      while (r && !WinJS.Utilities.hasClass(r, "win-listview")) {
        r = r.parentNode
      }
      return !!r
    },
    _registerEvents: function(t) {
      var s = this,
        r = s.element;
      if (t != false) {
        if (!s._pointerDownHandler) {
          s._pointerDownHandler = s._pointerDownAnimation.bind(s)
        }
        if (!s._pointerUpHandler) {
          s._pointerUpHandler = s._pointerUpAnimation.bind(s)
        }
        if (!s._tileClickedHandler) {
          s._tileClickedHandler = s._tileClicked.bind(s)
        }
        r.addEventListener(h, s._pointerDownHandler);
        r.addEventListener(j, s._pointerUpHandler);
        r.addEventListener(i, s._pointerUpHandler);
        r.addEventListener("click", s._tileClickedHandler)
      } else {
        if (s._pointerDownHandler) {
          r.removeEventListener(h, s._pointerDownHandler)
        }
        if (s._pointerUpHandler) {
          r.removeEventListener(j, s._pointerUpHandler)
        }
        if (s._pointerUpHandler) {
          r.removeEventListener(i, s._pointerUpHandler)
        }
        if (s._tileClickedHandler) {
          r.removeEventListener("click", s._tileClickedHandler)
        }
        s._pointerDownHandler = null;
        s._pointerUpHandler = null;
        s._tileClickedHandler = null
      }
    },
    _createTile: function(r) {
      var t = document.createElement("div"),
        s = this._isIE10 ? this._transformDuration : this._transformDuration * 2;
      t.className = "t-tile " + r;
      t.style.transition = "transform " + s + "s linear";
      return t
    },
    _render: function() {
      this._renderCalled = false;
      var t = this.element;
      WinJS.Utilities.query(".t-hubtile>*", t).setStyle("display", "none");
      this._size = {
        width: t.clientWidth || parseInt(t.style.width, 10),
        height: t.clientHeight || parseInt(t.style.height, 10)
      };
      if (isNaN(this._size.width)) {
        this._size.width = 248
      }
      if (isNaN(this._size.height)) {
        this._size.height = 120
      }
      var s = this._createTile("t-front");
      t.appendChild(s);
      this._setFrontContent(s);
      var r = this._createTile("t-back");
      t.appendChild(r);
      this._setItemTemplate(r, this.backContentTemplate);
      this._setBgColor(t);
      this._renderCalled = true
    },
    _bgColor: null,
    _setBgColor: function(s) {
      var r = s.style.backgroundColor;
      if (r) {
        this._bgColor = r
      } else {
        r = this._bgColor
      }
      if (r) {
        WinJS.Utilities.query(".t-tile.t-front", s).setStyle("background-color", r);
        WinJS.Utilities.query(".t-tile.t-back", s).setStyle("background-color", r)
      }
    },
    _setItemTemplate: function(r, s) {
      if (!s) {
        return
      }
      if (s instanceof WinJS.Binding.Template) {
        s = s.element
      }
      if (s instanceof HTMLElement) {
        s = s.innerHTML
      }
      if (typeof(s) === "function") {
        s = s(r)
      }
      if (s) {
        WinJS.Utilities.setInnerHTMLUnsafe(r, s);
        if (s.indexOf && s.indexOf("data-win-control") != -1) {
          msSetImmediate(function() {
            WinJS.UI.processAll(r)
          })
        }
      }
    },
    _setFrontContent: function(r) {
      this._setItemTemplate(r, this._frontContentTemplate);
      var s = document.createElement("span");
      s.className = "t-tiletitle";
      s.innerText = this.title;
      r.appendChild(s)
    },
    _updateInterval: 3,
    updateInterval: {
      get: function() {
        return this._updateInterval
      },
      set: function(r) {
        if (!isNaN(r) && r > 0) {
          this._updateInterval = r
        }
      }
    },
    _updateDeviation: 0,
    updateDeviation: {
      get: function() {
        return this._updateDeviation
      },
      set: function(r) {
        if (!isNaN(r) && r > 0) {
          this._updateDeviation = r
        }
      }
    },
    _isFrozen: false,
    isFrozen: {
      get: function() {
        return this._isFrozen
      },
      set: function(r) {
        this._isFrozen = r;
        this._startStopUpdateInterval(!r)
      }
    },
    _title: "",
    title: {
      get: function() {
        return this._title
      },
      set: function(s) {
        this._title = s;
        if (this.element) {
          var r = this.element.querySelector(".t-tile.t-front>span.t-tiletitle");
          if (r) {
            r.innerText = s
          }
        }
      }
    },
    _backContentTemplate: null,
    backContentTemplate: {
      get: function() {
        return this._backContentTemplate
      },
      set: function(r) {
        this._backContentTemplate = r;
        this._refresh()
      }
    },
    __frontContentTemplate: null,
    _frontContentTemplate: {
      get: function() {
        return this.__frontContentTemplate
      },
      set: function(r) {
        this.__frontContentTemplate = r
      }
    },
    __size: null,
    _size: {
      get: function() {
        return this.__size
      },
      set: function(r) {
        this.__size = r
      }
    },
    __transformDuration: 0.25,
    _transformDuration: {
      get: function() {
        return this.__transformDuration
      },
      set: function(r) {
        this.__transformDuration = r;
        this._refresh()
      }
    },
    _refresh: function() {
      if (this._renderCalled) {
        var r = this.element,
          s = r.querySelector(".t-tile");
        while (s) {
          s.removeNode(true);
          s = r.querySelector(".t-tile")
        }
        this._render()
      }
    },
    _startStopUpdateInterval: function(s) {
      var r = this;
      if (s) {
        if (r._updateIntervalRef) {
          return
        }
        r._isFrozen = false;
        r._updateTick(true)
      } else {
        if (!r._updateIntervalRef) {
          return
        }
        r._isFrozen = true;
        clearTimeout(r._updateIntervalRef);
        r._updateIntervalRef = null
      }
    },
    _updateTick: function(s) {
      var t = this,
        r = 0;
      if (!s) {
        t._update()
      }
      do {
        r = (t.updateInterval + Math.round(Math.random() * t.updateDeviation * 2) - t.updateDeviation) * 1000
      } while (r < 0);
      t._nextUpdateTimeout = r;
      t._updateIntervalRef = setTimeout(t._updateTick.bind(t), r)
    },
    _update: function() {
      this.flip()
    },
    flip: function() {
      if (this.backContentTemplate == null) {
        return
      }
      var r = this.element;
      if (!r) {
        this._startStopUpdateInterval(false);
        return
      }
      this._flip(r)
    },
    _flip: function(r) {
      if (this._isIE10) {
        WinJS.Utilities.addClass(r, "t-semiflip");
        window.setTimeout(function() {
          WinJS.Utilities.toggleClass(r, "t-flip");
          WinJS.Utilities.removeClass(r, "t-semiflip")
        }, this._transformDuration * 1000)
      } else {
        WinJS.Utilities.toggleClass(r, "t-flip")
      }
    }
  });
  WinJS.Class.mix(b, WinJS.Utilities.createEventProperties("tileinvoked"));
  var l = c(b, function(r, s) {
    s = s || {};
    WinJS.Utilities.addClass(r, "t-hubControl");
    b.call(this, r, s)
  }, {
    _frontContentTemplate: {
      get: function() {
        return this._createHubTileContent()
      }
    },
    _createDivSpan: function(r, s) {
      var t = document.createElement("div");
      t.className = r;
      var u = document.createElement("span");
      t.appendChild(u);
      if (s) {
        WinJS.Utilities.setInnerHTMLUnsafe(u, s)
      }
      return t
    },
    _createHubTileContent: function() {
      var r = document.createElement("div");
      r.appendChild(this._createDivSpan("t-tileMessage", this.message));
      r.appendChild(this._createDivSpan("t-tileCount", this.notification));
      var s = document.createElement("div");
      s.className = "t-tileImage";
      if (this.imageSource) {
        var t = document.createElement("img");
        t.alt = this.message || "image";
        t.src = this.imageSource;
        s.appendChild(t)
      }
      r.appendChild(s);
      return r
    },
    _notification: 0,
    notification: {
      get: function() {
        return this._notification
      },
      set: function(s) {
        this._notification = s;
        var r = this.element.querySelector(".t-tile.t-front .t-tileCount span");
        if (r) {
          WinJS.Utilities.setInnerHTML(r, s);
          WinJS.UI.Animation.updateBadge(r)
        }
      }
    },
    _imageSource: null,
    imageSource: {
      get: function() {
        return this._imageSource
      },
      set: function(r) {
        this._imageSource = r;
        this._refresh()
      }
    },
    _message: null,
    message: {
      get: function() {
        return this._message
      },
      set: function(s) {
        this._message = s;
        var r = this.element.querySelector(".t-tile.t-front .t-tileMessage span");
        if (r) {
          WinJS.UI.Animation.exitContent(r, null).done(function() {
            WinJS.Utilities.setInnerHTML(r, s);
            WinJS.UI.Animation.enterContent(r, null)
          })
        }
      }
    }
  });
  var k = c(b, function(r, s) {
    WinJS.Utilities.addClass(r, "t-hubCustom");
    b.call(this, r, s)
  }, {
    frontContentTemplate: {
      get: function() {
        return this._frontContentTemplate
      },
      set: function(r) {
        this._frontContentTemplate = r;
        this._refresh()
      }
    }
  });
  var n = c(b, function(r, s) {
    var t = this;
    t._imagesCache = [];
    t._loadedImages = [];
    t._currentSrc = null;
    s = s || {};
    if (s.updateInterval == null) {
      s.updateInterval = 10
    }
    WinJS.Utilities.addClass(r, "t-hubPictureRotator");
    b.call(t, r, s);
    t._initRandomImagePreload();
    t._initRandomImagePreload()
  }, {
    _frontContentTemplate: {
      get: function() {
        return this._createRotatorTileContent()
      }
    },
    _update: function() {
      if (this.backContentTemplate != null) {
        b.prototype._update.call(this)
      }
      this._doSlide()
    },
    _doSlide: function() {
      if (!this.element) {
        this.isFrozen = true;
        return
      }
      var r = this.element.querySelector(".t-tile.t-front ul");
      if (!r) {
        this.isFrozen = true;
        return
      }
      var u = this._size.height;
      var t = parseInt(r.style.top, 10);
      if (isNaN(t)) {
        t = 0
      }
      t -= u;
      var s = WinJS.UI.Animation.createPeekAnimation(r);
      r.style.top = t + "px";
      s.execute().done(function() {
        var v = r && r.childElementCount > 2 ? r.querySelector("li:nth-last-child(3)") : null;
        if (v) {
          v.removeNode(true);
          t += u;
          r.style.top = t + "px"
        }
      });
      this._initRandomImagePreload()
    },
    _getRandomSrc: function(s) {
      var w = this,
        v = w.picturesSource,
        t = v.length,
        u = 0,
        r = v[0] || "";
      if (t > 1) {
        do {
          u = Math.floor(Math.random() * t);
          r = v[u]
        } while (u == v.indexOf(w._currentSrc))
      }
      w._currentSrc = r;
      return r
    },
    _imageLoaded: function(r, z) {
      var v = null,
        C = 0,
        t = 0;
      if (typeof(z) !== "string") {
        v = r.target;
        C = v.naturalWidth;
        t = v.naturalHeight;
        z = v.getAttribute("src", 2);
        this._loadedImages[z] = {
          width: C,
          height: t
        }
      } else {
        var s = this._loadedImages[z];
        C = s.width;
        t = s.height
      }
      var B = this._size.width,
        A = this._size.height;
      var D = B / C,
        u = A / t,
        y = D < u ? u : D;
      if (this._imagesCache[z]) {
        v = this._imagesCache[z];
        v.src = z;
        this._imagesCache[z] = null
      }
      if (v) {
        var x = Math.floor(C * y),
          w = Math.floor(t * y);
        v.style.width = x + "px";
        v.style.height = w + "px";
        if (x > B) {
          v.style.left = -Math.floor((x - B) / 2) + "px"
        }
        if (w > A) {
          v.style.top = -Math.floor((w - A) / 2) + "px"
        }
        v.style.display = ""
      }
    },
    _initImagePreload: function(t, r) {
      this._imagesCache[t] = r;
      if (this._loadedImages[t]) {
        this._imageLoaded(r, t)
      } else {
        if (t) {
          var s = new Image();
          t = encodeURI(t);
          s.style.border = "0";
          s.style.position = "absolute";
          s.style.top = "-10000px";
          s.style.left = "-10000px";
          this.element.appendChild(s);
          s.onload = this._imageLoaded.bind(this);
          s.src = t
        }
      }
    },
    _initRandomImagePreload: function() {
      var s = this._getRandomSrc();
      var r = this._createImageItem();
      this._initImagePreload(s, r)
    },
    _createRotatorTileContent: function() {
      var r = document.createElement("div");
      var s = document.createElement("ul");
      r.appendChild(s);
      return r
    },
    _createImageItem: function() {
      var t = document.createElement("li");
      var r = document.createElement("img");
      r.alt = "random image";
      r.style.display = "none";
      t.appendChild(r);
      var s = this.element.querySelector(".t-tile.t-front ul");
      if (s) {
        s.appendChild(t)
      }
      return r
    },
    _picturesSource: [],
    picturesSource: {
      get: function() {
        return this._picturesSource
      },
      set: function(r) {
        if (Telerik.Utilities.getType(r) === "array") {
          this._picturesSource = r
        }
      }
    },
  });
  var o = c(b, function(r, s) {
    s = s || {};
    if (s.updateInterval == null) {
      s.updateInterval = 5
    }
    WinJS.Utilities.addClass(r, "t-hubSlide");
    b.call(this, r, s)
  }, {
    _frontContentTemplate: {
      get: function() {
        return this._createSlideTiles()
      }
    },
    _createSlideTiles: function() {
      var r = this.element.querySelector(".t-tile.t-front");
      if (r) {
        var t = document.createElement("div");
        t.className = "t-slideTop";
        t.style.top = -this._size.height + "px";
        this._createSlideContent(t, this.topContentTemplate);
        r.appendChild(t);
        var s = document.createElement("div");
        s.className = "t-slideBottom";
        s.style.top = "0px";
        this._createSlideContent(s, this.bottomContentTemplate);
        r.appendChild(s)
      }
    },
    _createSlideContent: function(r, t) {
      if (typeof(t) == "string") {
        t = t.trim();
        if ((t.indexOf("data:image/") == 0 && t.indexOf("base64") != -1) || t.indexOf("http://") == 0 || t.indexOf("https://") == 0 || t.indexOf("ms-appx://") == 0 || t.indexOf("/") == 0 || t.indexOf("\\") == 0) {
          var s = new Image(this._size.width, this._size.height);
          s.src = t;
          r.appendChild(s);
          return
        }
      }
      this._setItemTemplate(r, t)
    },
    _update: function() {
      this._doSlide()
    },
    _doSlide: function() {
      if (!this.element) {
        this.isFrozen = true;
        return
      }
      var v = this.element.querySelector(".t-tile.t-front .t-slideTop");
      var r = this.element.querySelector(".t-tile.t-front .t-slideBottom");
      if (!v || !r) {
        this.isFrozen = true;
        return
      }
      var u = this._size.height;
      var t = parseInt(v.style.top, 10);
      if (isNaN(t)) {
        t = -u
      }
      t += u / 2;
      if (t > 0) {
        t = -u
      }
      var s = WinJS.UI.Animation.createPeekAnimation([v, r]);
      v.style.top = t + "px";
      r.style.top = (u + t) + "px";
      s.execute()
    },
    _topTemplate: null,
    topContentTemplate: {
      get: function() {
        return this._topTemplate
      },
      set: function(r) {
        this._topTemplate = r;
        this._refresh()
      }
    },
    _bottomTemplate: null,
    bottomContentTemplate: {
      get: function() {
        return this._bottomTemplate
      },
      set: function(r) {
        this._bottomTemplate = r;
        this._refresh()
      }
    },
  });
  var m = c(n, function(r, s) {
    this._slideIndices = [];
    this._updateCounter = 0;
    s = s || {};
    if (s.updateInterval == null) {
      s.updateInterval = 1
    }
    WinJS.Utilities.addClass(r, "t-hubMosaic");
    n.call(this, r, s);
    WinJS.Utilities.removeClass(r, "t-hubPictureRotator")
  }, {
    _cornersIndices: [
      [0, 1, 3, 4],
      [1, 2, 4, 5],
      [3, 4, 6, 7],
      [4, 5, 7, 8]
    ],
    _maxTileRows: 3,
    _maxTileColumns: 3,
    _maxItems: {
      get: function() {
        return this._maxTileRows * this._maxTileColumns
      }
    },
    _flipsBeforeCorner: 20,
    _bigTileSlide: null,
    _bigTileSrc: null,
    _frontContentTemplate: {
      get: function() {
        return this._createRotatorMosaicContent()
      }
    },
    _createRotatorMosaicContent: function() {
      var t = document.createElement("div");
      var s = this.element.style.backgroundColor;
      for (var w = 0; w < this._maxItems; w++) {
        var y = document.createElement("div");
        var u = this.tileCssClass ? this.tileCssClass : "";
        y.className = u + " t-mosaicTile t-row" + (Math.floor(w / this._maxTileColumns) + 1) + " t-column" + ((w % this._maxTileColumns) + 1);
        var v = this._createTile("t-front");
        var x = new Image(this._size.width / this._maxTileColumns, this._size.height / this._maxTileRows);
        x.style.display = "none";
        v.appendChild(x);
        if (s) {
          v.style.backgroundColor = s
        }
        y.appendChild(v);
        var r = this._createTile("t-back");
        x = new Image(this._size.width / this._maxTileColumns, this._size.height / this._maxTileRows);
        x.style.display = "none";
        r.appendChild(x);
        if (s) {
          r.style.backgroundColor = s
        }
        y.appendChild(r);
        t.appendChild(y)
      }
      return t
    },
    _setBgColor: function(s) {
      var r = s.style.backgroundColor;
      if (r) {
        this._bgColor = r
      } else {
        r = this._bgColor
      }
      s = s.querySelector(".t-mosaicTile");
      if (s) {
        s = s.parentNode
      }
      if (s) {
        n.prototype._setBgColor.call(this, s)
      }
    },
    _fillSlideIndices: function() {
      var s = 0,
        t = [],
        r;
      switch (this.flipMode) {
        case Telerik.UI.HubTile.MosaicFlipMode.individual:
          for (r = 0; r < this._flipsBeforeCorner; r++) {
            s = Math.floor(Math.random() * (this._maxItems));
            t.push(s)
          }
          s = Math.floor(Math.random() * this._cornersIndices.length);
          t.push(s + this._maxItems);
          t = t.reverse();
          break;
        case Telerik.UI.HubTile.MosaicFlipMode.row:
          for (r = 0; r < this._maxTileRows; r++) {
            do {
              s = Math.floor(Math.random() * (this._maxTileRows) + 1)
            } while (t.length != 0 && t.indexOf(s) != -1);
            t.push(s)
          }
          break
      }
      this._slideIndices = t
    },
    _fillCornerIndices: function() {
      var r = [],
        u = this._cornersIndices[this._bigTileSlide].length;
      for (var s = u; s > 0; s--) {
        var t;
        do {
          t = Math.floor(Math.random() * u)
        } while (r[t] != null);
        r[t] = true;
        this._slideIndices.push(t)
      }
    },
    _slideRow: function() {
      if (this._slideIndices.length == 0) {
        this._fillSlideIndices();
        if (this._bigTileSrc == null) {
          this._bigTileSrc = this._getRandomSrc()
        } else {
          this._bigTileSrc = null
        }
      }
      var u = this._slideIndices.pop();
      for (var r = 0, s = this._maxTileColumns; r < s; r++) {
        var v = this.element.querySelector(".t-mosaicTile.t-row" + u + ".t-column" + (r + 1));
        if (v) {
          var t = v.querySelector((WinJS.Utilities.hasClass(v, "t-flip") ? ".t-front" : ".t-back") + " img");
          if (t) {
            var w = this._size.height / this._maxTileRows,
              x = this._size.width / this._maxTileColumns;
            t.style.display = this._bigTileSrc == null ? "none" : "";
            t.src = this._bigTileSrc == null ? "#" : this._bigTileSrc;
            t.width = this._size.width;
            t.height = this._size.height;
            t.style.position = "absolute";
            t.style.top = (-(u - 1) * w) + "px";
            t.style.left = (-r * x) + "px"
          }
          this._flip(v)
        }
      }
    },
    _tempImage: "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
    _slideIndividual: function() {
      if (this._slideIndices.length == 0) {
        this._bigTileSlide = null;
        this._bigTileSrc = null;
        this._fillSlideIndices()
      }
      var w = this._slideIndices.pop(),
        s = -1;
      if (w >= this._maxItems) {
        this._bigTileSlide = w - this._maxItems;
        this._bigTileSrc = this._getRandomSrc();
        this._fillCornerIndices();
        w = this._slideIndices.pop()
      }
      if (this._bigTileSlide != null) {
        s = w;
        w = this._cornersIndices[this._bigTileSlide][w]
      }
      var x = Math.floor(w / this._maxTileColumns) + 1,
        v = ((w % this._maxTileColumns) + 1);
      var z = this.element.querySelector(".t-mosaicTile.t-row" + x + ".t-column" + v);
      if (z) {
        var t = WinJS.Utilities.hasClass(z, "t-flip");
        var u = z.querySelector((t ? ".t-front" : ".t-back") + " img");
        var r = z.querySelector((t ? ".t-back" : ".t-front") + " img");
        var y = this._bigTileSrc ? this._bigTileSrc : this._getRandomSrc();
        if (!y) {
          y = this._tempImage
        }
        if (u) {
          if (r.style.position == "absolute" || r.style.display == "none" || this._bigTileSrc) {
            u.style.display = "";
            u.src = y;
            var A = this._size.height / this._maxTileRows,
              B = this._size.width / this._maxTileColumns;
            if (s >= 0) {
              u.style.position = "absolute";
              u.width = B * 2;
              u.height = A * 2;
              switch (s) {
                case 0:
                  u.style.top = "0px";
                  u.style.left = "0px";
                  break;
                case 1:
                  u.style.top = "0px";
                  u.style.left = -B + "px";
                  break;
                case 2:
                  u.style.top = -A + "px";
                  u.style.left = "0px";
                  break;
                case 3:
                  u.style.top = -A + "px";
                  u.style.left = -B + "px";
                  break
              }
            } else {
              u.style.position = "";
              u.width = B;
              u.height = A
            }
          } else {
            u.style.display = "none"
          }
        }
        this._flip(z)
      }
    },
    _update: function() {
      if (++this._updateCounter == this._updatesBeforeFlip) {
        this._updateCounter = 0;
        b.prototype._update.call(this)
      }
      this._doSlide()
    },
    _doSlide: function() {
      switch (this.flipMode) {
        case Telerik.UI.HubTile.MosaicFlipMode.individual:
          this._slideIndividual();
          break;
        case Telerik.UI.HubTile.MosaicFlipMode.row:
          this._slideRow();
          break
      }
    },
    _flipMode: Telerik.UI.HubTile.MosaicFlipMode.individual,
    flipMode: {
      get: function() {
        return this._flipMode
      },
      set: function(r) {
        if (this._flipMode != r) {
          this._slideIndices = [];
          this._flipMode = r
        }
      }
    },
    _tileCssClass: "",
    tileCssClass: {
      get: function() {
        return this._tileCssClass
      },
      set: function(r) {
        this._tileCssClass = r
      }
    }
  });
  f("Telerik.UI", {
    _HubTileBase: b,
    RadHubTile: l,
    RadCustomHubTile: k,
    RadPictureRotatorHubTile: n,
    RadSlideHubTile: o,
    RadMosaicHubTile: m
  })
})(this, jQuery);
(function(d, a, j) {
  var f = "t-notification",
    c = "t-fading",
    h = "t-pressed",
    e = ".RadNotification",
    b = "<a href='#' draggable='false'></a><img /><h3></h3><p></p>",
    g = Telerik.Utilities._pointerEvent;
  var i = WinJS.Class.derive(Telerik.UI.Control, function(k, l) {
    var m = this;
    if (!k) {
      k = document.createElement("div");
      document.body.appendChild(k);
      m._autoElement = true
    }
    WinJS.UI.setOptions(m, l);
    Telerik.UI.Control.call(m, k, l);
    MSApp.execUnsafeLocalFunction(function() {
      a(k).empty().addClass(f).append(b).on("click" + e, m._click.bind(m)).on("mouseenter" + e, m._timeout.bind(m, false)).on("mouseleave" + e, m._timeout.bind(m, true)).on(g("down") + e, m._pressed.bind(m)).find("img").attr("src", m.iconUrl)[m.iconUrl ? "show" : "hide"]().end().find("h3").text(m.title).end().find("p").html(m.text)
    });
    if (m.visible) {
      m.show()
    }
  }, {
    visible: false,
    title: "",
    text: "",
    iconUrl: "",
    url: "",
    autoDispose: false,
    showDuration: 5000,
    fadeDuration: 3000,
    show: function() {
      var k = this;
      if (k._disposed) {
        return
      }
      i.register(k);
      k.element.style.display = "";
      k.element.style.right = "0";
      k.visible = true;
      k._timeout(true)
    },
    hide: function(m) {
      var l = this,
        k = "-" + WinJS.Utilities.getTotalWidth(l.element) + "px";
      if (l._disposed) {
        return
      }
      l._timeout(false);
      l.visible = false;
      if (m) {
        l.element.classList.add(c);
        l._fadeTimeout = setTimeout(function() {
          i.unregister(l);
          l.element.style.display = "none";
          l.element.style.right = k;
          l.element.classList.remove(c);
          if (l.autoDispose) {
            l.dispose()
          }
        }, l.fadeDuration)
      } else {
        l.element.style.right = k;
        setTimeout(function() {
          i.unregister(l);
          if (l.autoDispose) {
            l.dispose()
          }
        }, 300)
      }
    },
    _click: function(k) {
      var m = this,
        l;
      if (m._canceled) {
        return
      }
      if (k.target.tagName === "A") {
        m.hide()
      } else {
        l = m.dispatchEvent("click", {
          domEvent: k
        });
        if (!l && m.url) {
          Windows.System.Launcher.launchUriAsync(new Windows.Foundation.Uri(m.url))
        }
        if (!l) {
          m.hide()
        }
      }
    },
    _timeout: function(k) {
      var l = this;
      clearTimeout(l._hideTimeout);
      clearTimeout(l._fadeTimeout);
      l.element.classList.remove(c);
      if (k) {
        l._hideTimeout = setTimeout(function() {
          l.hide(true)
        }, l.showDuration)
      }
    },
    _pressed: function(k) {
      var o = this,
        n = a(document.documentElement),
        l = k.originalEvent,
        m = l.pointerType === 2 || l.pointerType === "touch";
      if (k.target.tagName === "A") {
        return
      }
      o.element.classList.add(h);
      n.one(g("up"), o._released.bind(o));
      o._canceled = false;
      if (m) {
        n.on(g("move") + e, o._moved.bind(o));
        o._start = {
          x: l.pageX,
          y: l.pageY
        };
        o._prevX = l.pageX
      }
    },
    _moved: function(l) {
      var p = this,
        m = p.element,
        n = l.originalEvent,
        o = p._start || {
          x: n.pageX,
          y: n.pageY
        }, q = 20,
        k = n.pageX - o.x,
        r = Math.abs(k) >= q || Math.abs(o.y - n.pageY) >= q;
      p._timeout(false);
      if (r) {
        p._canceled = true;
        m.classList.remove(h)
      }
      if (p._canceled) {
        m.style.transition = "none";
        m.style.right = -Math.max(0, k) + "px"
      }
      p._velo = n.pageX - p._prevX;
      p._prevX = n.pageX
    },
    _released: function(l) {
      var n = this,
        m = n.element,
        k = Math.abs(parseInt(m.style.right));
      m.classList.remove(h);
      m.style.transition = "";
      if (k >= m.offsetWidth / 2 || n._velo > 10) {
        n._canceled = true;
        n.hide()
      } else {
        m.style.right = "0";
        n._timeout(true)
      }
      delete n._start;
      delete n._prevX;
      delete n._velo;
      a(document.documentElement).off(g("move") + e)
    },
    dispose: function() {
      var l = this,
        k = a(l.element).off(e);
      l._disposed = true;
      if (l._autoElement) {
        k.remove()
      } else {
        k.empty().removeClass(f).css({
          top: "",
          right: "",
          display: ""
        })
      }
    }
  }, {
    _instances: [],
    register: function(m) {
      var k = i._instances,
        o = k.length;
      if (k.indexOf(m) > -1) {
        return
      }
      for (var l = 0; l < k.length; l++) {
        if (!k[l]) {
          o = l;
          break
        }
      }
      k[o] = m;
      if (k[o - 1]) {
        var n = k[o - 1],
          p = parseFloat(n.element.currentStyle.top);
        if (isNaN(p)) {
          p = 0
        }
        m.element.style.top = p + WinJS.Utilities.getTotalHeight(n.element) + 10 + "px"
      }
    },
    unregister: function(m) {
      var k = i._instances,
        l = k.indexOf(m);
      if (l > -1) {
        k[l] = null;
        if (l === k.length - 1) {
          k.pop()
        }
        m.element.style.top = ""
      }
    },
  });
  WinJS.Class.mix(i, WinJS.Utilities.createEventProperties("click"));
  WinJS.Namespace.define("Telerik.UI", {
    RadNotification: i
  })
})(this, jQuery);
(function(i, a, z) {
  var D = WinJS,
    f = D.Class.derive,
    k = D.Class.mix,
    n = D.Namespace.define,
    C = D.Utilities,
    B = Telerik.Utilities,
    y = Telerik.UI,
    e = Telerik.Culture,
    r = B._pointerEvent,
    s = r("down"),
    t = r("move"),
    u = r("up"),
    b = "boolean",
    q = "number",
    p = null,
    v = 10,
    d = "t-numericbox",
    g = "t-disablePanZoom",
    j = "win-interactive",
    A = ".k-icon.k-i-arrow-n",
    h = ".k-icon.k-i-arrow-s";
  var w = f(y.WidgetWrapper, function(F, H) {
    var I = this,
      G = F && F.tagName.toLowerCase() === "input" ? F : p;
    if (G === F) {
      F = a(F).wrap("<span></span>").parent()[0]
    }
    var E = a(F).addClass(d + " " + j);
    if (!G) {
      G = document.createElement("input");
      E.empty().append(G)
    }
    B.setPrivate(I, "_isRtl", kendo.support.isRtl(F));
    B.setPrivate(I, "_input", G);
    B.setPrivate(I, "_dragStartPoint", p, true);
    B.setPrivate(I, "_dragStartValue", p, true);
    B.setPrivate(I, "_oldOffset", p, true);
    B.setPrivate(I, "_isDragActive", p, true);
    B.setPrivate(I, "_sensitivityCount", 0, true);
    B.setPrivate(I, "_sensitivity", 1, true);
    B.setPrivate(I, "_swipe", p, true);
    B.setPrivate(I, "_wheel", p, true);
    B.setPrivate(I, "_timer", p, true);
    H = H || {};
    if (!H.hasOwnProperty("incrementTooltip")) {
      H.incrementTooltip = I._getString("incrementTooltip")
    }
    if (!H.hasOwnProperty("decrementTooltip")) {
      H.decrementTooltip = I._getString("decrementTooltip")
    }
    if (H.hasOwnProperty("culture")) {
      e._checkCulture(H.culture)
    }
    y.WidgetWrapper.call(I, F, H);
    I._initialize("kendoNumericTextBox", G);
    B.setPrivate(I, "_formattedInput", I._input.parentNode.querySelector(".k-formatted-value"));
    B.setPrivate(I, "_old", I._widget.value(), true);
    I._bindHandlers();
    if (H.swipe !== z) {
      I.swipe = H.swipe
    } else {
      I.swipe = true
    }
    if (H.wheel !== z) {
      I.wheel = H.wheel
    } else {
      I.wheel = true
    }
    if (H.sensitivity !== z) {
      I.sensitivity = H.sensitivity
    }
    G.type = "number";
    if (!I.enabled) {
      I._widget.enable(false)
    }
  }, {
    _optionsMap: {
      enabled: "enable",
      incrementTooltip: "upArrowText",
      decrementTooltip: "downArrowText"
    },
    _eventsMap: {
      onchange: "change",
      onspin: "spin"
    },
    _destroy: function() {
      var E = this;
      if (!E._isDestroyed) {
        E.wheel = false;
        E.swipe = false;
        y.WidgetWrapper.prototype._destroy.call(E)
      }
    },
    _bindHandlers: function() {
      var E = this;
      E._boundDownHandler = function(F) {
        E._pointerDown(F)
      };
      E._boundWheelHandler = function(F) {
        E._mouseWheel(F)
      };
      E._boundMoveHandler = E._pointerMove.bind(E);
      E._boundUpHandler = E._pointerUp.bind(E)
    },
    _checkForFlyOutParent: function(E) {
      while (E && !WinJS.Utilities.hasClass(E, "win-flyout")) {
        E = E.parentNode
      }
      return !!E
    },
    _pointerDown: function(F) {
      var H = this,
        I = H._widget,
        E = I.value(),
        G = H.element;
      if (H.swipe && H._options.swipe === z && H._checkForFlyOutParent(G)) {
        H.swipe = false
      } else {
        H._dragStartPoint = {
          x: F.screenX,
          y: F.screenY
        };
        H._dragStartValue = E;
        H._timer = setTimeout(function() {
          document.addEventListener(t, H._boundMoveHandler, false)
        }, 100);
        document.addEventListener(u, H._boundUpHandler, false)
      }
    },
    _pointerMove: function(F) {
      var J = this,
        E;
      if (J._dragStartPoint !== p) {
        var G, H = Math.abs(F.screenX - J._dragStartPoint.x),
          I = Math.abs(F.screenY - J._dragStartPoint.y);
        if (H > I) {
          G = (J._isRtl ? -1 : 1) * (F.screenX - J._dragStartPoint.x)
        } else {
          G = -(F.screenY - J._dragStartPoint.y)
        }
        if (J._oldOffset) {
          E = G - J._oldOffset
        }
        J._oldOffset = G;
        if (Math.abs(E) > 0) {
          J._calculateSwipe(E)
        }
      }
    },
    _pointerUp: function(E) {
      var F = this,
        G = F._widget;
      if (F._isDragActive !== p) {
        G._update(G.value());
        if (F._old !== G.value()) {
          F._old = G.value();
          G.trigger("change")
        }
      }
      F._dragStartPoint = p;
      F._isDragActive = p;
      F._oldOffset = p;
      clearTimeout(F._timer);
      document.removeEventListener(t, F._boundMoveHandler, false);
      document.removeEventListener(u, F._boundUpHandler, false)
    },
    _checkDirection: function(E) {
      return (E > 0) ? 1 : -1
    },
    _calculateSwipe: function(F) {
      var K = this,
        H = K._sensitivity,
        M = K._widget,
        L = M.value(),
        I = M.options.step,
        J = 1,
        E = Math.abs(F),
        G = K._checkDirection(F);
      if (K._old === L) {
        K._old = L
      }
      K._isDragActive = true;
      if (E > H) {
        J = Math.round(E / H)
      }
      K._sensitivityCount += E;
      if (K._sensitivityCount >= H) {
        K._sensitivityCount = 0;
        L += I * J * G;
        K._input.blur();
        M.value(M._adjust(L));
        M.trigger("spin")
      }
    },
    _mouseWheel: function(G) {
      var I = this,
        K = I._widget,
        J = K.value(),
        H = K.options.step,
        E = G.wheelDelta,
        F = I._checkDirection(E);
      J += H * F;
      K._update(J);
      K.trigger("spin");
      G.stopPropagation();
      G.preventDefault()
    },
    sensitivity: {
      get: function() {
        var E = this;
        return E._sensitivity
      },
      set: function(F) {
        F = parseInt(F, 10);
        var E = this;
        E._sensitivity = F
      }
    },
    wheel: {
      get: function() {
        var E = this;
        return E._wheel
      },
      set: function(F) {
        F = !! F;
        var E = this;
        if (F !== E._wheel) {
          E._wheel = F;
          if (E._wheel) {
            E._input.addEventListener("mousewheel", E._boundWheelHandler, false)
          } else {
            E._input.removeEventListener("mousewheel", E._boundWheelHandler, false)
          }
        }
      }
    },
    swipe: {
      get: function() {
        var E = this;
        return E._swipe
      },
      set: function(F) {
        F = !! F;
        var E = this;
        if (F !== E._swipe) {
          E._swipe = F;
          if (E._swipe) {
            E._formattedInput.addEventListener(s, E._boundDownHandler, false);
            a(E._formattedInput).addClass(g)
          } else {
            E._formattedInput.removeEventListener(s, E._boundDownHandler, false);
            a(E._formattedInput).removeClass(g)
          }
        }
      }
    },
    enabled: {
      get: function() {
        var F = this;
        if (typeof(F._enabled) !== b) {
          var E = F._widget.options.enable;
          if (typeof(E) === b) {
            F._enabled = E
          } else {
            F._enabled = true
          }
        }
        return F._enabled
      },
      set: function(F) {
        F = !! F;
        var E = this;
        E._enabled = F;
        E._widget.enable(F)
      }
    },
    value: {
      get: function() {
        var E = this._widget.value();
        return E === z ? p : E
      },
      set: function(E) {
        return this._widget.value(E)
      }
    },
    decimals: {
      get: function() {
        var E = this._widget.options.decimals;
        return typeof E === q ? E : kendo.culture().numberFormat.decimals
      },
      set: function(F) {
        var E = this,
          G = E._widget;
        F = parseInt(F, v);
        if (!isNaN(F) && F >= 0 && F !== E.decimals) {
          G.options.decimals = F;
          G._update(G.value())
        }
      }
    },
    format: {
      get: function() {
        return this._widget.options.format
      },
      set: function(F) {
        F = F + "";
        var G = this._widget,
          E = G.options;
        if (F !== E.format) {
          E.format = F;
          G._update(G.value())
        }
      }
    },
    min: {
      get: function() {
        return this._widget.options.min
      },
      set: function(F) {
        if (F !== p) {
          F = parseFloat(F)
        }
        var G = this._widget,
          E = G.options.min;
        if ((!isNaN(F) || F === p) && F !== E) {
          G.options.min = F;
          G._update(G.value())
        }
      }
    },
    max: {
      get: function() {
        return this._widget.options.max
      },
      set: function(F) {
        if (F !== p) {
          F = parseFloat(F)
        }
        var G = this._widget,
          E = G.options.max;
        if ((!isNaN(F) || F === p) && F !== E) {
          G.options.max = F;
          G._update(G.value())
        }
      }
    },
    step: {
      get: function() {
        return this._widget.options.step
      },
      set: function(F) {
        F = parseFloat(F);
        var G = this._widget,
          E = G.options.step;
        if (!isNaN(F) && F !== E) {
          G.options.step = F
        }
      }
    },
    placeholder: {
      get: function() {
        return this._widget.options.placeholder
      },
      set: function(F) {
        F = F + "";
        var G = this._widget,
          E = G.options.placeholder;
        if (F !== E) {
          G.options.placeholder = F;
          G._text.attr("placeholder", F)
        }
      }
    },
    incrementTooltip: {
      get: function() {
        return this._widget.options.upArrowText
      },
      set: function(F) {
        var G = this._widget,
          E = G.options;
        if (F !== E.upArrowText) {
          E.upArrowText = F;
          G.wrapper.find(A).attr("title", F).text(F)
        }
      }
    },
    decrementTooltip: {
      get: function() {
        return this._widget.options.downArrowText
      },
      set: function(F) {
        var G = this._widget,
          E = G.options;
        if (F !== E.downArrowText) {
          E.downArrowText = F;
          G.wrapper.find(h).attr("title", F).text(F)
        }
      }
    },
    culture: {
      get: function() {
        var E = this._widget.options.culture,
          F = E !== "" ? E : e.getCurrent();
        return F
      },
      set: function(E) {
        var F = this._widget;
        e._checkCulture(E);
        F.options.culture = E;
        F._update(F.value())
      }
    },
    focus: function() {
      return this._widget.focus()
    }
  });
  k(w, C.createEventProperties("change", "spin"));
  n("Telerik.UI", {
    RadNumericBox: w
  });
  var o = ".kendoNumericTextBox",
    l = "mouseleave" + o,
    m = "touchcancel" + o + " touchend" + o + " mouseup" + o + " " + l,
    x = "k-state-selected";

  function c(E, F) {
    return '<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-' + E + '" title="' + F + '">' + F + "</span></span>"
  }
  kendo.ui.NumericTextBox.prototype._arrows = function() {
    var K = this,
      E, I = K.options,
      J = I.spinners,
      F = K.element;
    E = F.siblings(".k-icon");
    if (!E[0]) {
      E = a(c("n", I.upArrowText)).insertAfter(F);
      a(c("s", I.downArrowText)).insertAfter(E);
      E = F.siblings(".k-link");
      E.wrapAll('<span class="k-select"/>')
    }
    if (!J) {
      E.parent().toggle(J);
      K._inputWrapper.addClass("k-expand-padding")
    }
    K._upArrow = E.eq(0);
    K._upArrowEventHandler = new kendo.UserEvents(K._upArrow);
    K._downArrow = E.eq(1);
    K._downArrowEventHandler = new kendo.UserEvents(K._downArrow);
    var H = function G() {
      clearTimeout(K._spinning);
      E.removeClass(x)
    };
    K._upArrowEventHandler.bind(["tap", "end", "cancel"], H);
    K._downArrowEventHandler.bind(["tap", "end", "cancel"], H)
  };
  (function() {
    var F = kendo.ui.NumericTextBox.prototype,
      G = F._click,
      E = function() {
        var I = this,
          H = I.element[0].setSelectionRange;
        I.element[0].setSelectionRange = function() {
          var J = this;
          if (a(J).parents("body").length) {
            H.apply(J, arguments)
          }
          J.setSelectionRange = H
        };
        G.apply(I, arguments)
      };
    F._click = E
  })()
})(this, jQuery);
(function(p, a, F) {
  var E = Telerik.UI,
    l = WinJS.Class.define,
    m = WinJS.Class.derive,
    s = WinJS.Class.mix,
    t = WinJS.Namespace.define,
    u = "Telerik.UI.Pagination",
    i = WinJS.Utilities.createEventProperties,
    H = Telerik.Utilities,
    x = H.setPrivate,
    e = WinJS.Utilities.addClass,
    A = WinJS.Utilities.removeClass,
    C = WinJS.UI.setOptions,
    G = MSApp.execUnsafeLocalFunction,
    r = Telerik.Localization._strings,
    k = Telerik.Data.DataSource,
    j = {
      container: "t-pagination",
      button: "t-button",
      prev: "t-prev",
      next: "t-next",
      thumbnails: "t-thumbnails",
      defaultTemplate: "t-default",
      customTemplate: "t-custom",
      label: "t-label",
      item: "t-item",
      selected: "t-selected",
      afterSelected: "t-after-selected",
      disabled: "t-disabled"
    }, v = null,
    y = 10,
    D = "string",
    o = "function",
    f = "array",
    g = "change",
    B = "selectionchanged",
    h = "click";
  var b = m(E.Control, function(I, J) {
    var K = this;
    E.Control.call(K, I, J);
    x(K, "_items", []);
    x(K, "_index", -1, true);
    x(K, "_itemTemplate", v, true);
    x(K, "_listElement", document.createElement("ul"), true);
    x(K, "_enabled", true, true);
    x(K, "_animationPromise", v, true);
    C(K, J);
    x(K, "_initialized", true);
    K.refresh()
  }, {
    dataSource: {
      get: function() {
        return this._dataSource || v
      },
      set: function(J) {
        var I = this;
        if (I._dataSource !== J) {
          if (J instanceof k) {
            I._changeDataSource(J)
          } else {
            I._changeDataSource(new k(J))
          }
        }
      }
    },
    selectedIndex: {
      get: function() {
        return this._index
      },
      set: function(K) {
        var J = this;
        K = parseInt(K, y);
        if (!isNaN(K)) {
          if (!J._initialized) {
            J._index = K;
            return
          }
          var I = J._index;
          if (I !== K) {
            J._index = K;
            J._selectedIndexChanged(I, K)
          }
        }
      }
    },
    selectedItem: {
      get: function() {
        var I = this;
        return I.items[I._index] || v
      },
      set: function(K) {
        var J = this,
          I = J.items.indexOf(K);
        if (K instanceof c && I > -1) {
          J.selectedIndex = I
        }
      }
    },
    items: {
      get: function() {
        return this._items
      }
    },
    itemTemplate: {
      get: function() {
        return this._itemTemplate
      },
      set: function(J) {
        var I = this;
        I._itemTemplate = J;
        if (I._initialized && I._dataSource) {
          I._render()
        }
      }
    },
    enabled: {
      get: function() {
        return this._enabled
      },
      set: function(K) {
        var I = this,
          J = !! K;
        if (J !== I._enabled) {
          I._enabled = J;
          if (I._initialized) {
            (J ? A : e)(I.element, j.disabled)
          }
        }
      }
    },
    transitions: true,
    refresh: function() {
      var J = this,
        I = J.dataSource;
      if (I) {
        J.element.innerHTML = "";
        I.fetch()
      }
    },
    _changeDataSource: function(I) {
      var J = this;
      if (J._dataSource && J._refreshHandler) {
        J._dataSource.removeEventListener(g, J._refreshHandler)
      } else {
        x(J, "_refreshHandler", J._render.bind(J))
      }
      I.addEventListener(g, J._refreshHandler);
      x(J, "_dataSource", I, true);
      J.refresh()
    },
    _render: function() {
      var Q = this,
        I = Q.dataSource.data,
        M = Q._listElement,
        P = H.getTemplate(Q.itemTemplate);
      if (!Q.enabled) {
        e(Q.element, j.disabled)
      }
      if (!M.parentNode) {
        Q.element.appendChild(M)
      }
      while (Q.items.length) {
        Q.items.pop().dispose()
      }
      var O;
      if (P) {
        for (var J = 0, L = I.length; J < L; J++) {
          var N = J === Q.selectedIndex,
            K = Q._createItem(P, I[J], J, N);
          Q.items.push(K);
          K.render();
          if (N) {
            O = K
          }
        }
      }
      if (O) {
        msSetImmediate(function() {
          Q._changeSelectedState(O, true)
        })
      }
    },
    _createItem: function(M, I, K, L) {
      var N = this,
        J = document.createElement("li");
      return new c(J, {
        owner: N,
        template: M,
        dataItem: I,
        index: K,
        selected: L,
        onclick: N._itemClick.bind(N)
      })
    },
    _itemClick: function(I) {
      var L = this,
        K = L.selectedIndex,
        J = I.target.index;
      if (L.enabled && J !== K) {
        L.selectedIndex = J
      }
    },
    _selectedIndexChanged: function(K, I) {
      var M = this,
        L = M.items[K],
        J = M.items[I];
      if (L) {
        M._changeSelectedState(L, false)
      }
      if (J) {
        M._changeSelectedState(J, true)
      }
      M.dispatchEvent(B)
    },
    _changeSelectedState: function(I, J) {
      var K = this;
      I.selected = J;

      function L() {
        var M = K.items[I.index + 1];
        if (J && I !== K.selectedItem) {
          return
        }
        a(I.element)[J ? "addClass" : "removeClass"](j.selected);
        if (M) {
          a(M.element)[J ? "addClass" : "removeClass"](j.afterSelected)
        }
      }
      if (J) {
        K._scrollIntoView(I).then(L)
      } else {
        L()
      }
    },
    _scrollIntoView: function(I) {
      var K = this,
        J = K._getScrollPosition(I);
      if (J !== false && J !== K.element.scrollLeft) {
        return K._animateScroll(J)
      }
      return WinJS.Promise.wrap()
    },
    _getScrollPosition: function(L) {
      var P = this,
        I = P.element,
        K = P._listElement,
        J = L.element;
      if (I.offsetWidth < K.offsetWidth) {
        var O = P.items[L.index - 1] || L,
          N = P.items[L.index + 1] || L,
          M;
        if (O && I.scrollLeft > O.element.offsetLeft) {
          M = Math.max(O.element.offsetLeft, J.offsetLeft - I.offsetWidth + J.offsetWidth + 1)
        } else {
          if (N && (I.scrollLeft + I.offsetWidth) < (N.element.offsetLeft + N.element.offsetWidth)) {
            M = Math.min(J.offsetLeft, N.element.offsetLeft - I.offsetWidth + N.element.offsetWidth + 1)
          }
        }
        if (M !== F) {
          return Math.round(Math.max(0, Math.min(M, K.offsetWidth - I.offsetWidth)))
        }
      }
      return false
    },
    _animateScroll: function(M) {
      var N = this,
        J = N.element,
        L = N._listElement;
      if (N._animationPromise) {
        N._animationPromise.cancel()
      }
      L.style.marginLeft = "-" + J.scrollLeft + "px";
      J.style.overflowX = "hidden";
      J.scrollLeft = 0;

      function K() {
        N._animationPromise = v;
        L.style.marginLeft = J.style.overflowX = "";
        J.scrollLeft = M
      }
      if (N.transitions) {
        var I = WinJS.UI.Animation.createRepositionAnimation(L);
        L.style.marginLeft = "-" + M + "px";
        return (N._animationPromise = I.execute().then(K, K))
      }
      return WinJS.Promise.wrap(K())
    }
  });
  s(b, i(B));
  var c = m(E.Control, function(I, J) {
    var K = this;
    E.Control.call(K, I, J);
    C(K, J);
    K._clickEventDispatcher = K.dispatchEvent.bind(K, h);
    K.element.addEventListener(h, K._clickEventDispatcher)
  }, {
    owner: v,
    template: v,
    dataItem: v,
    index: -1,
    selected: false,
    _destroy: function q() {
      var I = this;
      if (!I._isDestroyed) {
        I.element.removeEventListener(h, I._clickEventDispatcher);
        I._clickEventDispatcher = null
      }
    },
    render: function() {
      var K = this,
        J = K.template,
        I = K.element;
      K.owner._listElement.appendChild(I);
      if (typeof J === o) {
        G(function() {
          a(I).empty().append(J(K.dataItem))
        })
      }
    },
    dispose: function() {
      var I = this;
      a(I.element).empty().remove();
      I._disposeEvents();
      I.owner = v;
      I.dataItem = v;
      I.index = -1;
      I.selected = false
    }
  });
  s(c, i(h));
  var w = l(function() {}, {
    currentIndex: -1,
    pageCount: 0,
    dataSource: v,
    previous: function() {},
    next: function() {},
    dispose: function() {}
  });
  s(w, Telerik.UI.Common.eventMixin, i("change"));
  var n = m(w, function(I) {
    var J = this;
    J.flipView = I;
    x(J, "_pageCount", 0, true);
    x(J, "_dataSource", [], true);
    x(J, "_change", J._onFlipViewEvent.bind(J), true);
    I.addEventListener("pagecompleted", J._change);
    I.addEventListener("datasourcecountchanged", J._change);
    J._gatherPageData()
  }, {
    flipView: v,
    currentIndex: {
      get: function() {
        return this.flipView.currentPage
      },
      set: function(I) {
        this.flipView.currentPage = I
      }
    },
    pageCount: {
      get: function() {
        return this._pageCount
      }
    },
    dataSource: {
      get: function() {
        return this._dataSource
      }
    },
    previous: function() {
      return this.flipView.previous()
    },
    next: function() {
      return this.flipView.next()
    },
    dispose: function() {
      var I = this;
      I.flipView.removeEventListener("pagecompleted", I._change);
      I.flipView.removeEventListener("datasourcecountchanged", I._change);
      I._change = v
    },
    _gatherPageData: function() {
      var I = this;
      return I.flipView.count().then(function(J) {
        I._pageCount = J;
        I._dataSource = I.flipView.itemDataSource.list;
        return WinJS.Promise.wrap()
      })
    },
    _onFlipViewEvent: function() {
      var I = this;
      I._gatherPageData().then(function() {
        I.dispatchEvent(g)
      })
    }
  });
  var d = m(E.Control, function(I, J) {
    var K = this;
    E.Control.call(K, I, J);
    x(K, "_currentIndex", -1, true);
    x(K, "_currentIndexFormat", "", true);
    x(K, "_itemCount", 0, true);
    x(K, "_itemCountFormat", "", true);
    x(K, "_separator", "/", true);
    x(K, "_template", v, true);
    C(K, J);
    x(K, "_initialized", true, true)
  }, {
    currentIndex: {
      get: function() {
        return this._currentIndex
      },
      set: function(J) {
        var I = this,
          J = parseInt(J, y);
        if (!isNaN(J) && J !== I._currentIndex) {
          I._currentIndex = J;
          I._render()
        }
      }
    },
    currentIndexFormat: {
      get: function() {
        return this._currentIndexFormat
      },
      set: function(J) {
        var I = this,
          J = J + "";
        if (J !== I._currentIndexFormat) {
          I._currentIndexFormat = J;
          I._render()
        }
      }
    },
    itemCount: {
      get: function() {
        return this._itemCount
      },
      set: function(J) {
        var I = this,
          J = parseInt(J, y);
        if (!isNaN(J) && J !== I._itemCount) {
          I._itemCount = J;
          I._render()
        }
      }
    },
    itemCountFormat: {
      get: function() {
        return this._itemCountFormat
      },
      set: function(J) {
        var I = this,
          J = J + "";
        if (J !== I._itemCountFormat) {
          I._itemCountFormat = J;
          I._render()
        }
      }
    },
    separator: {
      get: function() {
        return this._separator
      },
      set: function(J) {
        var I = this,
          J = J + "";
        if (J !== I._separator) {
          I._separator = J;
          I._render()
        }
      }
    },
    template: {
      get: function() {
        return this._template
      },
      set: function(J) {
        var I = this;
        if (J !== I._template) {
          I._template = J;
          I._render()
        }
      }
    },
    _setValues: function(J, I) {
      var K = this;
      K._initialized = false;
      K.currentIndex = J;
      K.itemCount = I;
      K._initialized = true;
      K._render()
    },
    _render: function() {
      var L = this,
        J = L.currentIndex + 1,
        I = L.itemCount;
      if (!L._initialized) {
        return
      }
      if (J < 1 || I < 1) {
        L.element.innerHTML = "";
        return
      }
      if (L.currentIndexFormat) {
        J = kendo.toString(J, L.currentIndexFormat)
      }
      if (L.itemCountFormat) {
        I = kendo.toString(I, L.itemCountFormat)
      }
      var K = H.getTemplate(L.template) || H.getTemplate(z.defaultLabelTemplate);
      if (K) {
        G(function() {
          a(L.element).html(K({
            page: J,
            count: I,
            separator: L.separator
          }))
        })
      }
    }
  });
  var z = m(E.Control, function(I, J) {
    var K = this;
    J = J || {};
    E.Control.call(K, I, J);
    x(K, "_provider", v, true);
    x(K, "_pageProvider", v, true);
    x(K, "_prevDS", v, true);
    x(K, "_prevDSCount", v, true);
    x(K, "_showButtons", true, true);
    x(K, "_showThumbnails", true, true);
    x(K, "_showLabel", true, true);
    x(K, "_enabled", true, true);
    K._createStructure(J);
    if (J.pageProvider) {
      K.pageProvider = J.pageProvider
    }
    C(K, J);
    K._initializeProvider();
    K._render();
    x(K, "_initialized", true)
  }, {
    pageProvider: {
      get: function() {
        return this._pageProvider
      },
      set: function(J) {
        var I = this;
        if (J !== I._pageProvider) {
          I._pageProvider = I._getPageProvider(J);
          I._initializeProvider();
          I._onProviderChange()
        }
      }
    },
    thumbnails: {
      get: function() {
        return this._listView
      }
    },
    label: {
      get: function() {
        return this._label
      }
    },
    itemTemplate: {
      get: function() {
        var I = this;
        return I._listView ? I._listView.itemTemplate : v
      },
      set: function(J) {
        var I = this;
        if (I._listView) {
          if (J === v || J === F) {
            J = z.defaultItemTemplate
          }
          I._listView.itemTemplate = J;
          I._updateListViewCssClass()
        }
      }
    },
    showButtons: {
      get: function() {
        return this._showButtons
      },
      set: function(J) {
        var I = this;
        if ( !! J !== I._showButtons) {
          I._showButtons = J;
          I._togglePrevButton();
          I._toggleNextButton()
        }
      }
    },
    showThumbnails: {
      get: function() {
        return this._showThumbnails
      },
      set: function(J) {
        var I = this;
        if ( !! J !== I._showThumbnails) {
          I._showThumbnails = J;
          I._toggleThumbnails()
        }
      }
    },
    showLabel: {
      get: function() {
        return this._showLabel
      },
      set: function(J) {
        var I = this;
        if (I._showLabel !== !! J) {
          I._showLabel = J;
          I._toggleLabel()
        }
      }
    },
    enabled: {
      get: function() {
        return this._enabled
      },
      set: function(L) {
        var K = this,
          J = K._provider,
          I = K._enabled = !! L;
        (K._enabled ? A : e)(K.element, j.disabled);
        K._disablePrevNext(I);
        K._listView.enabled = I
      }
    },
    currentIndex: {
      get: function() {
        var J = this,
          I = J._provider;
        return I ? I.currentIndex : -1
      },
      set: function(K) {
        var J = this,
          I = J._provider,
          K = parseInt(K, y);
        if (I && !isNaN(K)) {
          I.currentIndex = K
        }
      }
    },
    previous: function() {
      var I = this;
      if (I._provider) {
        I._provider.previous()
      }
    },
    next: function() {
      var I = this;
      if (I._provider) {
        I._provider.next()
      }
    },
    _createStructure: function(M) {
      var O = this,
        I = O.element;
      e(I, j.container);
      if (!O.enabled) {
        e(I, j.disabled)
      }
      var K = document.createElement("div");
      e(K, j.thumbnails);
      x(O, "_listView", new b(K, M.thumbnails));
      O._listView.addEventListener(B, O._onSelection.bind(O));
      O._listView.itemTemplate = z.defaultItemTemplate;
      O._updateListViewCssClass();
      var J = document.createElement("span");
      e(J, j.label);
      x(O, "_label", new d(J, M.label));
      var N = document.createElement("button");
      e(N, j.button + " " + j.prev);
      N.addEventListener(h, O.previous.bind(O));
      x(O, "_prevButtonElement", N);
      var L = document.createElement("button");
      e(L, j.button + " " + j.next);
      L.addEventListener(h, O.next.bind(O));
      x(O, "_nextButtonElement", L)
    },
    _getPageProvider: function(I) {
      if (I.tagName && I.winControl) {
        I = I.winControl
      } else {
        if (typeof I === D) {
          I = document.querySelector(I);
          if (I && I.winControl) {
            I = I.winControl
          }
        }
      }
      if (!I || typeof I.constructor !== o) {
        throw new Telerik.Error("Telerik.UI.RadPagination.PageContainerIsInvalid", r.pageContainerIsInvalid)
      }
      return I
    },
    _initializeProvider: function() {
      var L = this,
        K = L.pageProvider,
        J = K ? z.getPageProvider(K.constructor) : v,
        I = L._provider;
      if (I) {
        I.dispose()
      }
      if (K instanceof w) {
        I = K
      } else {
        if (J) {
          I = new J(K)
        }
      }
      if (I) {
        I.addEventListener(g, L._onProviderChange.bind(L));
        L._provider = I
      }
    },
    _onProviderChange: function() {
      var I = this;
      I._updateLabel();
      I._updateListView();
      I._disablePrevNext(I._enabled)
    },
    _render: function() {
      var I = this;
      I._togglePrevButton();
      I._toggleNextButton();
      I._toggleThumbnails();
      I._toggleLabel()
    },
    _togglePrevButton: function() {
      var K = this,
        J = K.element,
        I = K._prevButtonElement;
      if (!K.showButtons) {
        if (I.parentNode === J) {
          J.removeChild(I)
        }
      } else {
        if (I.parentNode !== J) {
          J.insertAdjacentElement("afterBegin", I)
        }
      }
    },
    _toggleNextButton: function() {
      var K = this,
        J = K.element,
        I = K._nextButtonElement;
      if (!K.showButtons) {
        if (I.parentNode === J) {
          J.removeChild(I)
        }
      } else {
        if (I.parentNode !== J) {
          K._prevButtonElement.insertAdjacentElement("afterEnd", I)
        }
      }
    },
    _toggleThumbnails: function() {
      var L = this,
        I = L.element,
        J = L._listView;
      if (!L.showThumbnails) {
        if (J.element.parentNode === I) {
          I.removeChild(J.element)
        }
      } else {
        if (J.element.parentNode !== I) {
          var K = L.showLabel ? L._labelElement : v;
          if (K && K.parentNode === I) {
            I.insertBefore(J.element, K)
          } else {
            I.appendChild(J.element)
          }
          L._updateListView()
        }
      }
    },
    _updateListView: function() {
      var L = this,
        J = L._listView,
        K = L._provider;
      if (!L._showThumbnails) {
        return
      }
      if (K) {
        var I = K.dataSource;
        if (H.getType(I) === f && L._prevDSCount !== I.length) {
          L._prevDS = I;
          L._prevDSCount = I.length;
          J.dataSource = new k(I)
        } else {
          if (L._prevDS !== I) {
            L._prevDS = I;
            J.dataSource = I instanceof k ? I : new k(I)
          }
        }
        J.selectedIndex = K.currentIndex
      }
    },
    _updateListViewCssClass: function() {
      var K = this,
        J = K._listView,
        I = J.element;
      if (J.itemTemplate === z.defaultItemTemplate) {
        A(I, j.customTemplate);
        e(I, j.defaultTemplate)
      } else {
        A(I, j.defaultTemplate);
        e(I, j.customTemplate)
      }
    },
    _onSelection: function(I) {
      var L = this,
        J = L._listView.selectedIndex,
        K = L._provider;
      if (K) {
        K.currentIndex = J
      }
    },
    _toggleLabel: function() {
      var K = this,
        I = K.element,
        J = K._label.element;
      if (!K.showLabel) {
        if (J.parentNode === I) {
          I.removeChild(J)
        }
      } else {
        if (J.parentNode !== I) {
          I.appendChild(J);
          K._updateLabel()
        }
      }
    },
    _updateLabel: function() {
      var K = this,
        I = K._label,
        J = K._provider;
      if (J && J.pageCount > 0) {
        I._setValues(J.currentIndex, J.pageCount)
      }
    },
    _disablePrevNext: function(I) {
      var K = this,
        J = K._provider;
      K._prevButtonElement.disabled = !I || !K.currentIndex;
      K._nextButtonElement.disabled = !I || (J && K.currentIndex === J.pageCount - 1)
    }
  }, {
    _pageableTypes: [],
    _pageProviders: [],
    defaultItemTemplate: "<div class=" + j.item + "></div>",
    defaultLabelTemplate: "<span>#=page#</span><span>#=separator#</span><span>#=count#</span>",
    registerPageProvider: function(I, K) {
      var M = this,
        N = M._pageableTypes,
        L = M._pageProviders;
      if (typeof I !== o) {
        throw new Telerik.Error("Telerik.UI.RadPagination.PageableControlIsInvalid", r.pageableControlIsInvalid)
      }
      if (!(typeof K === o && K.prototype instanceof w)) {
        throw new Telerik.Error("Telerik.UI.RadPagination.PageProviderIsInvalid", r.pageProviderIsInvalid)
      }
      var J = N.indexOf(I);
      if (J < 0) {
        J = N.length;
        N[J] = I
      }
      L[J] = K
    },
    getPageProvider: function(I) {
      var K = this,
        L = K._pageableTypes,
        J = K._pageProviders;
      if (typeof I !== o) {
        throw new Telerik.Error("Telerik.UI.RadPagination.PageableControlIsInvalid", r.pageableControlIsInvalid)
      }
      return J[L.indexOf(I)]
    }
  });
  z.registerPageProvider(WinJS.UI.FlipView, n);
  t("Telerik.UI", {
    RadPagination: z
  });
  t(u, {
    _ListView: b,
    _ListViewItem: c,
    _PageIndexLabel: d,
    PageProvider: w,
    FlipViewPageProvider: n
  })
})(this, jQuery);
(function(global, $, undefined) {
  var ui = Telerik.UI,
    define = WinJS.Class.define,
    derive = WinJS.Class.derive,
    mix = WinJS.Class.mix,
    createEventProperties = WinJS.Utilities.createEventProperties,
    namespace = WinJS.Namespace.define,
    setOptions = ui.setOptions,
    nsName = "Telerik.UI.RadialMenu",
    util = Telerik.Utilities,
    utilities = WinJS.Utilities,
    priv = util.setPrivate,
    getType = util.getType,
    getProperty = util.getPropertyValue,
    setProperty = util.setPropertyValue,
    Class = kendo.Class,
    deepExtend = kendo.deepExtend,
    dataviz = kendo.dataviz,
    renderTemplate = dataviz.renderTemplate,
    Point2D = dataviz.Point2D,
    ViewElement = dataviz.ViewElement,
    ElementAnimation = dataviz.ElementAnimation,
    Ring = dataviz.Ring,
    SVGView = dataviz.SVGView,
    interpolateValue = dataviz.interpolateValue,
    uniqueId = dataviz.uniqueId,
    IDPool = dataviz.IDPool,
    html = document.documentElement,
    pevent = Telerik.Utilities._pointerEvent,
    Configuration = Telerik.UI._Configuration,
    notPreviousValidator = util._validators.notPrevious,
    floatValidator = util._validators.floatValue,
    OBJECT = "object",
    ARRAY = "array",
    STRING = "string",
    FUNCTION = "function",
    NS = ".telerikRadialMenu",
    CLICK = "click",
    FOCUSIN = "focusin",
    POINTERLEAVE = "onpointerleave" in document ? pevent("leave") : "mouseleave",
    POINTERMOVE = pevent("move"),
    POINTERDOWN = pevent("down"),
    POINTERUP = pevent("up"),
    POINTEROVER = pevent("over"),
    RADIUS = 132.5,
    STARTANGLE = -22.5,
    MAXITEMS = 8,
    MINCENTERCLICKABLEWIDTH = 70,
    DEGREE = Math.PI / 180,
    RADIAN = 180 / Math.PI,
    OUTERRIMRATIO = 0.17,
    OUTERRIMOUTLINERATIO = 0.017,
    OUTERRIMCOLLAPSEDRATIO = 0.08,
    HOVEROVERLAYRATIO = 0.06,
    SELECTIONOVERLAYRATIO = 0.034,
    ITEMRIMRATIO = 0.45,
    EXPANDARROWRATIO = 0.1,
    HOVERARROWRATIO = 0.06,
    HOVERARROWINSET = 0.02,
    CENTERRATIO = 0.15,
    CENTERRIMRATIO = 0.015,
    SECTORMARGINRATIO = 0.02,
    SECTOROFFSETRATIO = 0.01,
    ITEMCONTENTPOSITIONRATIO = 0.65,
    TEXTFONTRATIO = 0.08,
    ICONFONTRATIO = 0.15,
    ICONIMAGERATIO = 0.3,
    TOOLTIPOFFSETRATIO = 0.05,
    ANIMATIONDURATION = 167,
    EASING = "easeOutQuad",
    EXPANDARROWICON = "\uE0E4",
    BACKICON = "\uE112",
    AUTOSHOWHIDEDELAYONSELECT = 100,
    showEvent = {
      tap: CLICK,
      hover: POINTEROVER,
      focus: FOCUSIN,
      select: POINTERUP
    }, hideEvent = {
      tap: POINTERDOWN,
      hover: POINTERDOWN,
      focus: POINTERDOWN,
      select: POINTERUP
    };
  $.easing.easeOutQuad = kendo.jQuery.easing.easeOutQuad = function(x, t, b, c, d) {
    return -c * (t /= d) * (t - 2) + b
  };
  var originalRenderId = ViewElement.fn.renderId;
  ViewElement.fn.renderId = function() {
    var element = this,
      className = element.options.className,
      style = element.options.style,
      styleStr = "",
      output = originalRenderId.call(element);
    if (className) {
      output += " " + element.renderAttr("class", className)
    }
    if (style) {
      for (var key in style) {
        styleStr += key + ":" + style[key] + ";"
      }
      output += " " + element.renderAttr("style", styleStr)
    }
    return output
  };
  dataviz.SVGText.fn.refresh = function(domElement) {
    var options = this.options;
    $(domElement).attr({
      "fill-opacity": options.fillOpacity,
      x: Math.round(options.x),
      y: Math.round(options.y + options.baseline)
    })
  };
  var SVGImage = ViewElement.extend({
    init: function(options) {
      var that = this;
      ViewElement.fn.init.call(that, options);
      that.template = renderTemplate(SVGImage.template)
    },
    options: {
      url: "",
      x: 0,
      y: 0,
      width: 0,
      height: 0
    },
    refresh: function(domElement) {
      var options = this.options;
      $(domElement).attr({
        x: options.x - options.width / 2,
        y: options.y - options.height / 2,
        width: options.width,
        height: options.height,
        "xlink:href": options.url
      })
    },
    clone: function() {
      return new SVGImage(deepExtend({}, this.options))
    }
  });
  SVGImage.template = "<image #= d.renderId() # #= d.renderDataAttributes() # x='#= Math.round(d.options.x - d.options.width / 2) #' y='#= Math.round(d.options.y - d.options.height / 2) #' width='#= d.options.width #'height='#= d.options.height #'xlink:href='#= d.options.url #' />";
  SVGView.fn.createImage = function(options) {
    return this.decorate(new SVGImage(options))
  };
  var SVGString = ViewElement.extend({
    init: function(options) {
      var that = this;
      ViewElement.fn.init.call(that, options);
      that.template = renderTemplate(SVGString.template)
    },
    options: {
      svg: "",
      x: 0,
      y: 0,
      width: 0,
      height: 0,
      fillOpacity: 0,
      strokeOpacity: 0,
      color: ""
    },
    refresh: function(domElement) {
      var options = this.options,
        elem = $(domElement),
        color = options.color;
      elem.attr({
        transform: "translate(" + Math.round(options.x - options.width / 2) + ", " + Math.round(options.y - options.height / 2) + ")"
      }).add("*", domElement).attr({
        "fill-opacity": options.fillOpacity,
        "stroke-opacity": options.strokeOpacity,
      });
      if (color) {
        elem.attr({
          fill: color,
          stroke: color
        })
      }
    },
  });
  SVGString.template = "<g #= d.renderId() # #= d.renderDataAttributes() # transform='translate(#= Math.round(d.options.x - d.options.width / 2) #, #= Math.round(d.options.y - d.options.height / 2) #)' fill-opacity='#= d.options.fillOpacity #' stroke-opacity='d.options.strokeOpacity'> #= d.options.svg # </g>";
  SVGView.fn.createSVGString = function(options) {
    return this.decorate(new SVGString(options))
  };
  SVGView.fn.playAnimations = function() {
    var view = this,
      transitions = view.options.transitions,
      deferreds = [];
    for (var i = 0; i < view.animations.length; i++) {
      if (transitions) {
        deferreds.push(view.animations[i].play())
      } else {
        view.animations[i].goTo(1)
      }
    }
    return view.animationDeferred = $.when.apply($, deferreds)
  };

  function resprom() {
    return $.Deferred().resolve().promise()
  }
  var _ItemStyle = derive(Configuration, function(options) {
    Configuration.apply(this, arguments)
  }, {
    background: defineAutoUpdatingStyleProperty("background", ""),
    color: defineAutoUpdatingStyleProperty("color", ""),
    font: defineAutoUpdatingStyleProperty("font", ""),
    iconColor: defineAutoUpdatingStyleProperty("iconColor", ""),
    iconFont: defineAutoUpdatingStyleProperty("iconFont", ""),
    border: defineAutoUpdatingStyleProperty("border", ""),
    hoverColor: defineAutoUpdatingStyleProperty("hoverColor", ""),
    selectedColor: defineAutoUpdatingStyleProperty("selectedColor", ""),
    disabledColor: defineAutoUpdatingStyleProperty("disabledColor", "")
  }, {
    createDefault: function(options) {
      return new _ItemStyle(deepExtend({
        background: "rgba(255, 255, 255, 0)",
        color: "#000",
        iconColor: "#000",
        border: "",
        hoverColor: "#114571",
        selectedColor: "#114571",
        disabledColor: "#999999"
      }, options))
    }
  });
  var _ExpandSectorStyle = derive(Configuration, function(options) {
    Configuration.apply(this, arguments)
  }, {
    background: defineAutoUpdatingStyleProperty("background", ""),
    border: defineAutoUpdatingStyleProperty("border", ""),
    arrow: defineAutoUpdatingStyleProperty("arrow", ""),
    hoverColor: defineAutoUpdatingStyleProperty("hoverColor", ""),
    hoverArrow: defineAutoUpdatingStyleProperty("hoverArrow", "")
  }, {
    createDefault: function(options) {
      return new _ExpandSectorStyle(deepExtend({
        background: "#006AC1",
        border: "#fff",
        arrow: "#fff",
        hoverColor: "black",
        hoverArrow: "#fff"
      }, options))
    }
  });
  var _CenterItemStyle = derive(Configuration, function(options) {
    Configuration.apply(this, arguments)
  }, {
    background: defineAutoUpdatingStyleProperty("background", ""),
    border: defineAutoUpdatingStyleProperty("border", ""),
    iconColor: defineAutoUpdatingStyleProperty("iconColor", ""),
    iconFont: defineAutoUpdatingStyleProperty("iconFont", ""),
    hoverColor: defineAutoUpdatingStyleProperty("hoverColor", "")
  }, {
    createDefault: function(options) {
      return new _CenterItemStyle(deepExtend({
        background: "#FFF",
        border: "#000",
        iconColor: "#000",
        iconFont: "",
        hoverColor: "#D9D9D9"
      }, options))
    }
  });
  var ItemExpandSector = define(function(item) {
    var that = this;
    that.item = item;
    priv(that, "_modified", {}, true);
    priv(that, "_initialized", {}, true)
  }, {
    render: function(view) {
      var that = this,
        item = that.item,
        dims = item._dimensions(view.options.hasNestedViews),
        group = view.createGroup({
          className: "t-expand-sector"
        }),
        backOptions = item._margins(0, SECTOROFFSETRATIO, null, dims.itemRadius),
        frontOptions = item._margins(SECTORMARGINRATIO, SECTOROFFSETRATIO, null, dims.itemRadius),
        expandArrowFont = dims.expandArrowHeight + "px Segoe UI Symbol",
        expandArrowRotation = dims.centerAngle - 90,
        expandArrowSize = dataviz.measureText(EXPANDARROWICON, {
          font: expandArrowFont
        }, expandArrowRotation),
        modelMapId = view.registerDiscoverable(that);
      group.options.id = modelMapId;
      group.children.push(view.createRing(new Ring(backOptions.center, backOptions.innerRadius, backOptions.radius, backOptions.startAngle, backOptions.angle), {
        fill: item.expandSectorStyle.border,
        strokeWidth: 0,
        data: {
          modelId: modelMapId
        },
        animation: ExpandSectorAnimation,
        dimensionOptions: backOptions,
        totalRadius: dims.totalRadius,
        id: uniqueId()
      }));
      group.children.push(view.createRing(new Ring(frontOptions.center, frontOptions.innerRadius, frontOptions.radius, frontOptions.startAngle, frontOptions.angle), {
        fill: that.enabled ? item.expandSectorStyle.background : item.style.disabledColor,
        strokeWidth: 0,
        data: {
          modelId: modelMapId
        },
        animation: ExpandSectorAnimation,
        dimensionOptions: frontOptions,
        totalRadius: dims.totalRadius,
        id: uniqueId()
      }));
      group.children.push(view.createText(EXPANDARROWICON, {
        x: dims.expandSectorCenter.x - expandArrowSize.width / 2,
        y: dims.expandSectorCenter.y - expandArrowSize.height / 2,
        size: expandArrowSize,
        font: expandArrowFont,
        baseline: expandArrowSize.baseline,
        rotation: expandArrowRotation,
        color: item.expandSectorStyle.arrow,
        data: {
          modelId: modelMapId
        },
        animation: ExpandArrowAnimation,
        id: uniqueId()
      }));
      view.expandGroup.children.push(group)
    },
    hover: function(enabled) {
      var that = this,
        style = that.item.expandSectorStyle,
        fill = (enabled ? style.hoverColor || style.background : style.background) || "none",
        arrow = (enabled ? style.hoverArrow || style.arrow : style.arrow) || "none",
        selector = that.item._selector || $(document.body),
        modelMapId = that.modelMapId;
      if (that.enabled && modelMapId) {
        selector.find("#" + modelMapId + " path:nth-child(2)").attr("fill", fill);
        selector.find("#" + modelMapId + " text").attr("fill", arrow)
      }
    },
    enabled: Configuration.defineProperty("enabled", true, notPreviousValidator, function(value) {
      this.enable(value)
    }),
    enable: function(enabled) {
      var that = this,
        item = that.item,
        selector = item._selector || $(document.body),
        modelMapId = that.modelMapId;
      if (modelMapId) {
        selector.find("#" + modelMapId + " path:nth-child(2)").attr("fill", enabled ? item.expandSectorStyle.background : item.style.disabledColor)
      }
    },
    intersects: function(point) {
      var that = this,
        item = that.item,
        startAngle = item.startAngle % 360,
        angle = item.angle,
        radius = item._dims.radius,
        segmentWidth = Math.sqrt(point.x * point.x + point.y * point.y),
        segmentAngle = Math.atan2(point.y, point.x) * RADIAN + 180,
        normalSegmentAngle = startAngle < 0 && segmentAngle > 180 ? segmentAngle - 360 : segmentAngle,
        intersects = segmentWidth >= radius && startAngle <= normalSegmentAngle && normalSegmentAngle <= startAngle + angle;
      return intersects
    }
  });

  function updateOwnerMenu() {
    var item = this,
      menu;
    if (!(item instanceof MenuItem || item instanceof CenterItem)) {
      return
    }
    menu = RadRadialMenu.instances.filter(function(menu) {
      return menu._initialized && (item instanceof CenterItem ? menu.center === item : menu.getCurrentItems().indexOf(item) > -1)
    })[0];
    if (menu) {
      menu._render(true)
    }
  }
  function defineAutoUpdatingProperty(key, defaultValue) {
    return Configuration.defineProperty(key, defaultValue, null, updateOwnerMenu)
  }
  function defineAutoUpdatingStyleProperty(key, defaultValue) {
    return Configuration.defineProperty(key, defaultValue, null, function() {
      updateOwnerMenu.call(this.item)
    })
  }
  var MenuItem = derive(Configuration, function(options) {
    var that = this;
    priv(that, "_items", [], true);
    Configuration.call(that, options)
  }, {
    id: null,
    text: defineAutoUpdatingProperty("text", ""),
    icon: defineAutoUpdatingProperty("icon", ""),
    tooltip: defineAutoUpdatingProperty("tooltip", ""),
    selectable: Configuration.defineProperty("selectable", false),
    deselectable: Configuration.defineProperty("deselectable", true),
    group: Configuration.defineProperty("group", ""),
    index: defineAutoUpdatingProperty("index", -1),
    autoCollapse: Configuration.defineProperty("autoCollapse", false),
    parent: null,
    style: {
      get: function() {
        var that = this,
          style = that._style;
        if (!style) {
          style = priv(that, "_style", _ItemStyle.createDefault(), true);
          style.item = that
        }
        return style
      },
      set: function(value) {
        var that = this;
        if (value && getType(value) === OBJECT) {
          priv(that, "_style", value instanceof _ItemStyle ? value : _ItemStyle.createDefault(value), true);
          that._style.item = that
        }
      }
    },
    expandSectorStyle: {
      get: function() {
        var that = this,
          sectorStyle = that._expandSectorStyle;
        if (!sectorStyle) {
          sectorStyle = priv(that, "_expandSectorStyle", _ExpandSectorStyle.createDefault(), true);
          sectorStyle.item = that
        }
        return sectorStyle
      },
      set: function(value) {
        var that = this;
        if (value && getType(value) === OBJECT) {
          priv(that, "_expandSectorStyle", value instanceof _ExpandSectorStyle ? value : _ExpandSectorStyle.createDefault(value), true);
          that._expandSectorStyle.item = that
        }
      }
    },
    items: {
      get: function() {
        var that = this,
          items = that._items,
          item, i;
        for (i = 0; i < items.length && i < MAXITEMS; i++) {
          item = items[i];
          if (getType(item) === OBJECT && !(item instanceof MenuItem)) {
            if (getType(item.type) === FUNCTION) {
              item = items[i] = new item.type(item)
            } else {
              item = items[i] = new MenuItem(item)
            }
            item.parent = that
          }
        }
        if (items.length > MAXITEMS) {
          items.splice(MAXITEMS, items.length - MAXITEMS)
        }
        return items
      },
      set: function(value) {
        var that = this,
          get;
        if (getType(value) === ARRAY) {
          value = Array.apply(null, value);
          if (value.length > MAXITEMS) {
            value.splice(MAXITEMS, value.length - MAXITEMS)
          }
          that._items = value;
          get = that.items
        }
      }
    },
    _dispatch: function(eventName, details, onsuccess) {
      var that = this,
        prevented = that.dispatchEvent(eventName, details);
      if (!prevented && getType(onsuccess) === FUNCTION) {
        onsuccess()
      }
    },
    _getParents: function() {
      var item = this,
        parents = [];
      while (item.parent) {
        parents.unshift(item.parent);
        item = item.parent
      }
      return parents
    },
    _margins: function(marginRatio, offsetRatio, radius, innerRadius) {
      var that = this,
        totalRadius = that.totalRadius,
        radius = radius != null ? radius : totalRadius,
        startAngle = that.startAngle,
        angle = that.angle,
        centerAngle = startAngle + angle / 2,
        margin = totalRadius * marginRatio,
        offset = totalRadius * offsetRatio,
        x = margin * Math.cos(centerAngle * DEGREE),
        y = margin * Math.sin(centerAngle * DEGREE);
      return {
        center: {
          x: -x,
          y: -y
        },
        radius: radius - margin - offset,
        innerRadius: Math.max(0, innerRadius - margin + offset),
        startAngle: startAngle,
        angle: angle
      }
    },
    _dimensions: function(hasNestedViews) {
      var that = this,
        center = {
          x: 0,
          y: 0
        }, dims = {}, totalRadius = dims.totalRadius = that.totalRadius,
        expandSectorRatio = hasNestedViews ? OUTERRIMRATIO : OUTERRIMCOLLAPSEDRATIO,
        itemRadius = dims.itemRadius = totalRadius - totalRadius * expandSectorRatio,
        innerRadius = dims.innerRadius = totalRadius - totalRadius * (OUTERRIMRATIO + ITEMRIMRATIO),
        overlayRadius = dims.overlayRadius = itemRadius + totalRadius * HOVEROVERLAYRATIO,
        selectionRadius = dims.selectionRadius = itemRadius + totalRadius * SELECTIONOVERLAYRATIO,
        centerAngle = dims.centerAngle = that.startAngle + that.angle / 2,
        itemCenter = dims.itemCenter = new Ring(center, null, itemRadius * ITEMCONTENTPOSITIONRATIO, 0, 360).point(centerAngle),
        font = dims.font = that.style.font || Math.ceil(totalRadius * TEXTFONTRATIO) + "px Segoe UI",
        iconFont = dims.iconFont = that.style.iconFont || Math.ceil(totalRadius * ICONFONTRATIO) + "px Segoe UI Symbol",
        iconImageSize = dims.iconImageSize = Math.ceil(totalRadius * ICONIMAGERATIO),
        textHeight = dims.textHeight = that.text ? dataviz.measureText("A", {
          font: font
        }).height : 0,
        iconHeight = dims.iconHeight = that.icon ? dataviz.measureText("A", {
          font: iconFont
        }).height : 0,
        expandArrowHeight = dims.expandArrowHeight = totalRadius * EXPANDARROWRATIO,
        expandCenterRing = new Ring(center, null, itemRadius + (totalRadius - itemRadius) / 2, 0, 360),
        expandSectorCenter = dims.expandSectorCenter = expandCenterRing.point(centerAngle),
        hoverArrowHeight = dims.hoverArrowHeight = totalRadius * HOVERARROWRATIO,
        hoverArrowSide = dims.hoverArrowSide = Math.sqrt(4 * Math.pow(hoverArrowHeight, 2) / 3),
        arrowTipRing = new Ring(center, null, itemRadius - hoverArrowHeight + totalRadius * HOVERARROWINSET, 0, 360),
        arrowTipSectorCenter = dims.arrowTipSectorCenter = arrowTipRing.point(centerAngle);
      return dims
    },
    _getTextParts: function(text, font) {
      var parts = text.split(/\n/gim),
        size, i, x = 0,
        y = 0;
      for (i = 0; i < parts.length; i++) {
        size = dataviz.measureText(parts[i], {
          font: font
        });
        size.x = x - size.width / 2;
        size.y = y - size.height / 2;
        y += size.height;
        size.text = parts[i];
        parts[i] = size
      }
      return parts
    },
    render: function(view) {
      var that = this,
        dims = that._dimensions(view.options.hasNestedViews),
        itemDims = that._dims = that._margins(SECTORMARGINRATIO, SECTOROFFSETRATIO, dims.itemRadius, dims.innerRadius),
        ring = new Ring(itemDims.center, itemDims.innerRadius, itemDims.radius, itemDims.startAngle, itemDims.angle),
        overlayDims = that._margins(SECTORMARGINRATIO, SECTOROFFSETRATIO, dims.overlayRadius, dims.itemRadius),
        overlayRing = new Ring(overlayDims.center, overlayDims.innerRadius, overlayDims.radius, overlayDims.startAngle, overlayDims.angle),
        selectionDims = that._margins(SECTORMARGINRATIO, SECTOROFFSETRATIO, dims.selectionRadius, dims.itemRadius),
        selectionRing = new Ring(selectionDims.center, selectionDims.innerRadius, selectionDims.radius, selectionDims.startAngle, selectionDims.angle),
        group = view.createGroup({
          className: "t-radial-item"
        }),
        overlayGroup = view.createGroup({
          className: "t-hover",
          style: {
            display: "none"
          }
        }),
        selectionGroup = view.createGroup({
          className: "t-selection",
          style: {
            display: that.selected ? "block" : "none"
          }
        }),
        parts, part, modelMapId = view.registerDiscoverable(that);
      group.options.id = modelMapId;
      if (that.items.length) {
        var expandSector = that.expandSector = new ItemExpandSector(that);
        expandSector.render(view)
      }
      itemDims.collapsedRadius = dims.totalRadius * (CENTERRATIO + CENTERRIMRATIO);
      group.children.push(view.createRing(ring, {
        fill: that.style.background,
        data: {
          modelId: modelMapId
        },
        animation: ItemSectorAnimation,
        dimensionOptions: itemDims,
        id: uniqueId()
      }));
      if (that.icon) {
        if (typeof that.icon === STRING) {
          if (that.icon.length === 1) {
            part = that._getTextParts(that.icon, dims.iconFont)[0];
            group.children.push(view.createText(part.text, {
              x: dims.itemCenter.x + part.x,
              y: dims.itemCenter.y - (dims.textHeight / 2) + part.y,
              baseline: part.baseline,
              color: that.enabled ? (that.selected ? that.expandSectorStyle.background : that.style.iconColor) : that.style.disabledColor,
              font: dims.iconFont,
              data: {
                modelId: modelMapId
              },
              className: "t-font-icon",
              animation: ItemTextAnimation,
              increment: "+10",
              id: uniqueId()
            }))
          } else {
            group.children.push(view.createImage({
              url: that.icon,
              x: dims.itemCenter.x,
              y: dims.itemCenter.y,
              width: dims.iconImageSize,
              height: dims.iconImageSize,
              data: {
                modelId: modelMapId
              },
              animation: ItemImageAnimation,
              id: uniqueId()
            }))
          }
        } else {
          if (util.getType(that.icon) === OBJECT) {
            if (that.icon.svg) {
              group.children.push(view.createSVGString(deepExtend({}, that.icon, {
                className: "t-svg-icon",
                x: dims.itemCenter.x,
                y: dims.itemCenter.y,
                data: {
                  modelId: modelMapId
                },
                color: that.enabled ? "" : that.style.disabledColor,
                animation: ItemTextAnimation,
                fillOpacity: 0,
                strokeOpacity: 0,
                increment: "+10",
                id: uniqueId()
              })))
            } else {
              group.children.push(view.createImage(deepExtend({}, that.icon, {
                x: dims.itemCenter.x,
                y: dims.itemCenter.y,
                data: {
                  modelId: modelMapId
                },
                animation: ItemImageAnimation,
                id: uniqueId()
              })))
            }
          }
        }
      }
      if (that.text) {
        parts = that._getTextParts(that.text, dims.font);
        for (var i = 0; i < parts.length; i++) {
          part = parts[i];
          group.children.push(view.createText(part.text, {
            x: dims.itemCenter.x + part.x,
            y: dims.itemCenter.y + (dims.iconHeight / 2) + part.y,
            baseline: part.baseline,
            color: that.enabled ? (that.selected ? that.expandSectorStyle.background : that.style.color) : that.style.disabledColor,
            font: dims.font,
            data: {
              modelId: modelMapId
            },
            animation: ItemTextAnimation,
            id: uniqueId()
          }))
        }
      }
      overlayGroup.children.push(view.createRing(overlayRing, {
        fill: that.style.hoverColor,
        data: {
          modelId: modelMapId
        }
      }));
      overlayGroup.children.push(view.createPolyline([new Point2D(dims.arrowTipSectorCenter.x, dims.arrowTipSectorCenter.y), new Point2D(dims.arrowTipSectorCenter.x + dims.hoverArrowSide / 2, dims.arrowTipSectorCenter.y + dims.hoverArrowHeight), new Point2D(dims.arrowTipSectorCenter.x - dims.hoverArrowSide / 2, dims.arrowTipSectorCenter.y + dims.hoverArrowHeight)], true, {
        rotation: [dims.centerAngle + 90, dims.arrowTipSectorCenter.x, dims.arrowTipSectorCenter.y],
        fill: that.style.hoverColor,
        data: {
          modelId: modelMapId
        }
      }));
      group.children.push(overlayGroup);
      if (that.selectable) {
        selectionGroup.children.push(view.createRing(selectionRing, {
          fill: that.style.selectedColor,
          animation: ExpandSectorAnimation,
          dimensionOptions: selectionDims,
          totalRadius: dims.totalRadius,
          id: uniqueId()
        }));
        selectionGroup.children.push(view.createPolyline([new Point2D(dims.arrowTipSectorCenter.x, dims.arrowTipSectorCenter.y), new Point2D(dims.arrowTipSectorCenter.x + dims.hoverArrowSide / 2, dims.arrowTipSectorCenter.y + dims.hoverArrowHeight), new Point2D(dims.arrowTipSectorCenter.x - dims.hoverArrowSide / 2, dims.arrowTipSectorCenter.y + dims.hoverArrowHeight)], true, {
          rotation: [dims.centerAngle + 90, dims.arrowTipSectorCenter.x, dims.arrowTipSectorCenter.y],
          fill: that.style.hoverColor,
          animation: ItemTextAnimation,
          id: uniqueId()
        }));
        group.children.push(selectionGroup)
      }
      view.children.push(group)
    },
    hover: function(enabled) {
      var that = this,
        selector = that._selector || $(document.body);
      if (that.enabled && that.modelMapId) {
        selector.find("#" + that.modelMapId + " .t-hover").toggle(enabled)
      }
    },
    selected: {
      get: Configuration.createGetter("selected", false),
      set: function(value) {
        var that = this,
          modelMapId = that.modelMapId,
          selector = that._selector || $(document.body),
          setter = Configuration.createSetter("selected"),
          style = that.style,
          expandStyle = that.expandSectorStyle,
          textColor = value ? expandStyle.background : style.color,
          iconColor = value ? expandStyle.background : style.iconColor;
        setter.call(that, value);
        if (that.selectable && that.enabled && modelMapId) {
          selector.find("#" + modelMapId + " .t-selection")[value ? "show" : "hide"]();
          selector.find("#" + modelMapId + " text:not(.t-font-icon)").attr("fill", textColor);
          selector.find("#" + modelMapId + " .t-font-icon").attr("fill", iconColor)
        }
      },
      enumerable: true,
      configurable: false
    },
    enabled: {
      get: Configuration.createGetter("enabled", true),
      set: function(value) {
        var that = this,
          setter = Configuration.createSetter("enabled"),
          selector = that._selector || $(document.body),
          svgIconSelector;
        setter.call(that, value);
        if (that.modelMapId) {
          selector.find("#" + that.modelMapId + " text").attr("fill", value ? that.style.color : that.style.disabledColor);
          selector.find("#" + that.modelMapId + " .t-font-icon").attr("fill", value ? that.style.iconColor : that.style.disabledColor);
          svgIconSelector = selector.find("#" + that.modelMapId + " .t-svg-icon");
          if (value) {
            svgIconSelector.removeAttr("fill stroke");
            svgIconSelector.find("[fill], [stroke]").each(function() {
              var elem = $(this),
                lastSavedFill = elem.data("fill"),
                lastSavedStroke = elem.data("stroke");
              if (lastSavedFill) {
                elem.attr("fill", lastSavedFill)
              }
              if (lastSavedStroke) {
                elem.attr("stroke", lastSavedStroke)
              }
            })
          } else {
            svgIconSelector.attr({
              fill: that.style.disabledColor,
              stroke: that.style.disabledColor
            });
            svgIconSelector.find("[fill], [stroke]").each(function() {
              var elem = $(this),
                fill = elem.attr("fill"),
                stroke = elem.attr("stroke");
              if (fill) {
                elem.data("fill", fill).attr("fill", that.style.disabledColor)
              }
              if (stroke) {
                elem.data("stroke", stroke).attr("stroke", that.style.disabledColor)
              }
            })
          }
        }
      }
    },
    intersects: function(point) {
      var that = this,
        startAngle = that.startAngle % 360,
        angle = that.angle,
        innerRadius = that._dims.innerRadius,
        segmentWidth = Math.sqrt(point.x * point.x + point.y * point.y),
        segmentAngle = Math.atan2(point.y, point.x) * RADIAN + 180,
        normalSegmentAngle = startAngle < 0 && segmentAngle > 180 ? segmentAngle - 360 : segmentAngle,
        intersects = segmentWidth >= innerRadius && startAngle <= normalSegmentAngle && normalSegmentAngle <= startAngle + angle;
      return intersects
    }
  });
  mix(MenuItem, ui.Common.eventMixin, createEventProperties("select", "deselect", "action"));
  var ColorPickerItem = derive(MenuItem, function(options) {
    MenuItem.apply(this, arguments)
  }, {
    selectable: {
      get: function() {
        return false
      }
    },
    deselectable: {
      get: function() {
        return false
      }
    },
    selected: {
      get: function() {
        return false
      }
    },
    items: {
      get: function() {
        return []
      }
    },
    colorPicker: {
      get: function() {
        var that = this,
          picker = that._colorPicker;
        if (!picker) {
          picker = priv(that, "_colorPicker", new Telerik.UI.RadColorPicker(document.createElement("div"), that._pickerOptions), true)
        }
        return picker
      },
      set: function(value) {
        var that = this,
          picker = that._colorPicker;
        priv(that, "_pickerOptions", value, true);
        if (picker) {
          for (var key in value) {
            if (picker[key] !== undefined) {
              picker[key] = value[key]
            }
          }
        }
      }
    },
    render: function(view) {
      var that = this,
        expandSector = that.expandSector = new ItemExpandSector(that),
        modified = that._modified;
      if (!that.text) {
        modified.text = ColorPickerItem.text
      }
      if (!that.icon) {
        modified.icon = {
          svg: that._defaultIconSvg(),
          width: 25,
          height: 25
        }
      } else {
        if (typeof that.icon.svg === STRING && that.icon.svg.indexOf("t-colorpicker-icon") > -1) {
          modified.icon.svg = that._defaultIconSvg()
        }
      }
      expandSector.enabled = that.enabled;
      expandSector.render(view);
      MenuItem.prototype.render.apply(that, arguments)
    },
    _defaultIconSvg: function() {
      var that = this;
      return renderTemplate(ColorPickerItem.icon)({
        enabled: that.enabled,
        disabledColor: that.style.disabledColor,
        baseColor: that.style.iconColor,
        accentColor: that.colorPicker.value,
        strokeOpacity: 0,
        fillOpacity: 0
      })
    },
    enabled: {
      get: Configuration.createGetter("enabled", true),
      set: function(value) {
        var that = this,
          setter = Object.getOwnPropertyDescriptor(MenuItem.prototype, "enabled").set;
        setter.apply(that, arguments);
        if (that.expandSector) {
          that.expandSector.enabled = value
        }
      }
    },
    navigate: function(menu) {
      var that = this,
        picker = that.colorPicker,
        menuPopup = menu._popup,
        menuToggle = menu.toggle,
        menuHide = menu.hide,
        pickerCollapse = function() {
          setTimeout(function() {
            if (picker.element.parentNode) {
              picker.element.parentNode.removeChild(picker.element)
            }
          }, picker._picker._duration);
          menu.toggle = menuToggle;
          menu.hide = menuHide;
          var prevTransitions = menu.transitions;
          menu.transitions = false;
          menu._maskClick();
          menu.transitions = prevTransitions;
          picker.removeEventListener("collapse", pickerCollapse);
          picker.removeEventListener("change", colorChange)
        }, colorChange = function() {
          that._changeIconSelectedColor(picker.value);
          menu._dispatchItemActionSequence(that)
        };
      menuPopup.appendChild(picker.element);
      picker.addEventListener("collapse", pickerCollapse);
      picker.addEventListener("change", colorChange);
      menu.toggle = function() {
        if (!arguments[0]) {
          picker.collapse();
          pickerCollapse()
        }
      };
      menu.hide = function() {
        picker.collapse();
        pickerCollapse();
        menuHide.apply(menu, arguments)
      };
      picker.transitions = menu.transitions;
      picker.expand()
    },
    _changeIconSelectedColor: function(value) {
      if (this.modelMapId) {
        $("#" + this.modelMapId + " .t-colorpicker-icon path:last-child").attr("fill", value)
      }
    }
  }, {
    text: "Color",
    icon: '<g class="t-colorpicker-icon"><path data-fill="#= d.baseColor #" fill="#= d.enabled ? d.baseColor : d.disabledColor #" stroke-opacity="#= d.strokeOpacity #" fill-opacity="#= d.fillOpacity #" d="m 23.979831,-4.6662987 c -1.333124,-1.3433651 -3.49339,-1.3433651 -4.825204,0 L 15.661238,-1.1495328 14.628295,-2.189387 11.778528,0.67944939 18.778416,7.7261775 21.628183,4.8586606 20.48382,3.7053198 23.97852,0.18855379 c 1.333125,-1.34204539 1.333125,-3.51544639 0.0013,-4.85485249 z"/><path data-fill="#= d.accentColor #" data-stroke="#= d.baseColor #" stroke="#= d.enabled ? d.baseColor : d.disabledColor #" stroke-width="1" fill="#= d.enabled ? d.accentColor : d.disabledColor #" stroke-opacity="#= d.strokeOpacity #" fill-opacity="#= d.fillOpacity #" d="M 14.487099,9.2637335 15.775302,7.985354 7.835205,15.883995 C 7.184667,16.652384 6.010869,17.307637 4.82293,17.04365 L 2.574331,18.571 0.651,16.704239 2.206635,14.427355 c -0.183848,-0.645824 0.05657,-1.772482 0.66468,-2.503159 L 5.318198,9.429062 11.133182,3.4840415 5.4903024,9.2544913"/></g>'
  });
  var CenterItem = derive(Configuration, function(options) {
    Configuration.apply(this, arguments)
  }, {
    icon: defineAutoUpdatingProperty("icon", ""),
    style: {
      get: function() {
        var that = this,
          style = that._style;
        if (!style) {
          style = priv(that, "_style", _CenterItemStyle.createDefault(), true);
          style.item = that
        }
        return style
      },
      set: function(value) {
        var that = this;
        if (getType(value) === OBJECT) {
          priv(that, "_style", value instanceof _CenterItemStyle ? value : _CenterItemStyle.createDefault(value), true);
          that._style.item = that
        }
      }
    },
    render: function(view) {
      var that = this,
        totalRadius = view.options.radius,
        radius = totalRadius * CENTERRATIO,
        centerIconFont = Math.ceil(totalRadius * ICONFONTRATIO) + "px Segoe UI Symbol",
        group = view.createGroup({
          className: "t-center-item"
        }),
        modelMapId = view.registerDiscoverable(that);
      group.options.id = modelMapId;
      group.children.push(view.createCircle({
        x: 0,
        y: 0
      }, MINCENTERCLICKABLEWIDTH / 2, {
        fill: "rgba(0,0,0,0)",
        data: {
          modelId: modelMapId
        }
      }));
      group.children.push(view.createCircle({
        x: 0,
        y: 0
      }, radius, {
        fill: that.style.background,
        stroke: that.style.border,
        strokeWidth: totalRadius * CENTERRIMRATIO,
        data: {
          modelId: modelMapId
        }
      }));
      if (that.icon || that.back) {
        if (util.getType(that.icon) === STRING || that.back) {
          if (that.icon.length === 1 || that.back) {
            var iconFont = that.back ? centerIconFont : that.style.iconFont || centerIconFont,
              part = MenuItem.prototype._getTextParts(that.back ? BACKICON : that.icon, iconFont)[0];
            group.children.push(view.createText(part.text, {
              x: part.x,
              y: part.y,
              baseline: part.baseline,
              color: that.style.iconColor,
              font: iconFont,
              data: {
                modelId: modelMapId
              }
            }))
          } else {
            group.children.push(view.createImage({
              url: that.icon,
              width: totalRadius * ICONIMAGERATIO,
              height: totalRadius * ICONIMAGERATIO,
              data: {
                modelId: modelMapId
              },
              id: uniqueId()
            }))
          }
        } else {
          if (util.getType(that.icon) === OBJECT) {
            group.children.push(view.createImage(deepExtend({}, that.icon, {
              x: 0,
              y: 0,
              data: {
                modelId: modelMapId
              },
              id: uniqueId()
            })))
          }
        }
      }
      view.children.push(group)
    },
    hover: function(enabled) {
      var that = this,
        style = that.style,
        selector = that._selector || $(document.body);
      if (that.modelMapId) {
        selector.find("#" + that.modelMapId + " circle:nth-child(2)").attr("fill", (enabled ? style.hoverColor : style.background) || "none")
      }
    }
  });
  var AnimationScenario = Class.extend({
    init: function(options) {
      var that = this;
      that.options = deepExtend({}, that.options, options)
    },
    prepare: function(animation) {
      var options = this.options,
        defaults = animation.constructor.fn.options;
      animation.options.easing = options.easing || defaults.easing;
      animation.options.delay = options.delay != null ? options.delay : defaults.delay;
      animation.options.duration = options.duration != null ? options.duration : defaults.duration
    },
    setup: function(element) {
      var that = this,
        fields = that.options.fields,
        key, opts;
      for (key in fields) {
        opts = fields[key];
        setProperty(element, key, opts.start)
      }
    },
    step: function(element, pos) {
      var that = this,
        fields = that.options.fields,
        interpolate, key, opts, value;
      for (key in fields) {
        opts = fields[key];
        interpolate = opts.interpolate || interpolateValue;
        value = interpolate(opts.start, opts.end, pos);
        setProperty(element, key, value)
      }
    }
  });
  var AnimationBase = ElementAnimation.extend({
    init: function(element, options) {
      var that = this;
      that.options = deepExtend({}, that.options, options);
      that.element = element;
      that.scenarios = that.buildScenarios()
    },
    options: {
      easing: EASING,
      delay: 0,
      duration: ANIMATIONDURATION,
      current: 0
    },
    buildScenarios: function() {
      return []
    },
    setScenario: function(index) {
      var that = this;
      that.options.current = index
    },
    current: function() {
      var that = this,
        scenarios = that.scenarios || [],
        index = that.options.current;
      return scenarios[index]
    },
    setup: function() {
      var that = this,
        element = that.element,
        scenario = that.current();
      if (scenario) {
        that._stopped = false;
        scenario.prepare(that);
        scenario.setup(element)
      }
    },
    play: function() {
      var anim = this,
        deferred;
      if (!anim._stopped) {
        deferred = anim.deferred = $.Deferred()
      }
      ElementAnimation.fn.play.call(anim);
      return deferred
    },
    step: function(pos) {
      var that = this,
        element = that.element,
        scenario = that.current();
      if (scenario) {
        scenario.step(element, pos)
      }
    },
    abort: function() {
      var that = this,
        deferred = that.deferred;
      ElementAnimation.fn.abort.call(that);
      that.goTo(1);
      if (deferred && deferred.state() !== "resolved") {
        deferred.resolve()
      }
    },
    goTo: function(pos) {
      var that = this,
        element = that.element,
        domElement = that.container.querySelector("#" + element.options.id),
        scenario = that.current();
      if (scenario) {
        if (!pos) {
          scenario.setup(element)
        } else {
          that.step(pos)
        }
      }
      element.refresh(domElement)
    }
  });
  var OuterCircleAnimation = AnimationBase.extend({
    buildScenarios: function() {
      var element = this.element,
        start = element.options.startRadius,
        end = element.r;
      return [new AnimationScenario({
        fields: {
          r: {
            start: start,
            end: end
          }
        }
      }), new AnimationScenario({
        delay: ANIMATIONDURATION,
        fields: {
          r: {
            start: end,
            end: start
          }
        }
      }), new AnimationScenario({
        fields: {
          r: {
            start: end,
            end: end
          }
        }
      }), new AnimationScenario({
        fields: {
          r: {
            start: end,
            end: end
          }
        }
      })]
    }
  });
  var InnerCircleAnimation = AnimationBase.extend({
    buildScenarios: function() {
      var element = this.element,
        start = element.options.startRadius,
        end = element.r,
        shrink = element.options.shrinkRadius;
      return [new AnimationScenario({
        fields: {
          r: {
            start: start,
            end: end
          }
        }
      }), new AnimationScenario({
        delay: ANIMATIONDURATION,
        fields: {
          r: {
            start: end,
            end: start
          }
        }
      }), new AnimationScenario({
        fields: {
          r: {
            start: shrink,
            end: end
          }
        }
      }), new AnimationScenario({
        delay: ANIMATIONDURATION / 3,
        fields: {
          r: {
            start: end,
            end: shrink
          }
        }
      })]
    }
  });
  var ExpandSectorAnimation = AnimationBase.extend({
    buildScenarios: function() {
      var element = this.element,
        dims = element.options.dimensionOptions,
        shrinkRadius = getShrinkRadius(element.options.totalRadius),
        config = element.config;
      return [new AnimationScenario({
        delay: ANIMATIONDURATION - ANIMATIONDURATION / 3,
        duration: ANIMATIONDURATION / 3,
        fields: {
          "config.r": {
            start: dims.innerRadius,
            end: config.r
          },
          "config.ir": {
            start: dims.innerRadius - (dims.radius - dims.innerRadius),
            end: config.ir
          },
          "config.startAngle": {
            start: dims.startAngle - dims.angle,
            end: config.startAngle
          },
          "options.fillOpacity": {
            start: 0,
            end: 1
          },
          "options.strokeOpacity": {
            start: 0,
            end: 1
          }
        }
      }), new AnimationScenario({
        fields: {
          "config.r": {
            start: config.r,
            end: dims.innerRadius
          },
          "config.ir": {
            start: config.ir,
            end: dims.innerRadius - (dims.radius - dims.innerRadius)
          },
          "config.startAngle": {
            start: config.startAngle,
            end: dims.startAngle - dims.angle
          },
          "options.fillOpacity": {
            start: 1,
            end: 0,
          },
          "options.strokeOpacity": {
            start: 1,
            end: 0
          }
        }
      }), new AnimationScenario({
        fields: {
          "config.r": {
            start: shrinkRadius - (dims.radius - dims.innerRadius),
            end: config.r
          },
          "config.ir": {
            start: shrinkRadius - 2 * (dims.radius - dims.innerRadius),
            end: config.ir
          },
          "config.startAngle": {
            start: config.startAngle,
            end: config.startAngle
          },
          "options.fillOpacity": {
            start: 0,
            end: 1
          },
          "options.strokeOpacity": {
            start: 0,
            end: 1
          }
        }
      }), new AnimationScenario({
        delay: ANIMATIONDURATION * 0.7,
        duration: ANIMATIONDURATION,
        fields: {
          "config.r": {
            start: config.r,
            end: shrinkRadius - (dims.radius - dims.innerRadius)
          },
          "config.ir": {
            start: config.ir,
            end: shrinkRadius - 2 * (dims.radius - dims.innerRadius)
          },
          "config.startAngle": {
            start: config.startAngle,
            end: config.startAngle
          },
          "options.fillOpacity": {
            start: 1,
            end: 0
          },
          "options.strokeOpacity": {
            start: 1,
            end: 0
          }
        }
      })]
    }
  });
  var ExpandArrowAnimation = AnimationBase.extend({
    buildScenarios: function() {
      var scenario1 = new AnimationScenario({
        delay: ANIMATIONDURATION,
        fields: {
          "options.fillOpacity": {
            start: 0,
            end: 1
          }
        }
      }),
        scenario2 = new AnimationScenario({
          duration: ANIMATIONDURATION / 3,
          fields: {
            "options.fillOpacity": {
              start: 1,
              end: 0
            }
          }
        });
      return [scenario1, scenario2, scenario1, scenario2]
    }
  });
  var ItemTextAnimation = AnimationBase.extend({
    buildScenarios: function() {
      var options = this.element.options,
        increment = options.increment,
        scenario1 = new AnimationScenario({
          delay: ANIMATIONDURATION,
          fields: {
            "options.fillOpacity": {
              start: 0,
              end: 1
            },
            "options.strokeOpacity": {
              start: 0,
              end: 1
            }
          }
        }),
        scenario2 = new AnimationScenario({
          duration: ANIMATIONDURATION / 3,
          fields: {
            "options.fillOpacity": {
              start: 1,
              end: 0
            },
            "options.strokeOpacity": {
              start: 1,
              end: 0
            }
          }
        });
      if (increment) {
        scenario1.options.fields["options.y"] = {
          start: eval("options.y" + increment),
          end: options.y
        };
        scenario2.options.fields["options.y"] = {
          start: options.y,
          end: eval("options.y" + increment)
        }
      }
      return [scenario1, scenario2, scenario1, scenario2]
    }
  });
  var ItemImageAnimation = AnimationBase.extend({
    buildScenarios: function() {
      var options = this.element.options,
        increment = options.increment,
        scenario1 = new AnimationScenario({
          delay: ANIMATIONDURATION,
          fields: {
            "options.width": {
              start: 0,
              end: options.width
            },
            "options.height": {
              start: 0,
              end: options.height
            },
            "options.x": {
              start: 0,
              end: options.x
            },
            "options.y": {
              start: 0,
              end: options.y
            },
          }
        }),
        scenario2 = new AnimationScenario({
          duration: ANIMATIONDURATION / 3,
          fields: {
            "options.width": {
              start: options.width,
              end: 0
            },
            "options.height": {
              start: options.height,
              end: 0
            },
            "options.x": {
              start: options.x,
              end: 0
            },
            "options.y": {
              start: options.y,
              end: 0
            }
          }
        });
      return [scenario1, scenario2, scenario1, scenario2]
    }
  });
  var ItemSectorAnimation = AnimationBase.extend({
    buildScenarios: function() {
      var element = this.element,
        config = element.config,
        dims = element.options.dimensionOptions;
      return [new AnimationScenario({
        delay: ANIMATIONDURATION / 3,
        duration: ANIMATIONDURATION - ANIMATIONDURATION / 3,
        fields: {
          "config.r": {
            start: dims.innerRadius,
            end: config.r
          },
          "config.startAngle": {
            start: dims.startAngle - dims.angle,
            end: config.startAngle
          },
          "options.fillOpacity": {
            start: 0,
            end: 1
          },
          "options.strokeOpacity": {
            start: 0,
            end: 1
          }
        }
      }), new AnimationScenario({
        fields: {
          "config.startAngle": {
            start: dims.startAngle,
            end: dims.startAngle - dims.angle
          },
          "options.fillOpacity": {
            start: 1,
            end: 0
          },
          "options.strokeOpacity": {
            start: 1,
            end: 0
          }
        }
      }), new AnimationScenario({
        delay: ANIMATIONDURATION / 2,
        duration: ANIMATIONDURATION,
        fields: {
          "config.r": {
            start: dims.radius - dims.collapsedRadius,
            end: config.r
          },
          "config.ir": {
            start: dims.innerRadius - dims.collapsedRadius,
            end: config.ir
          },
          "config.startAngle": {
            start: config.startAngle,
            end: config.startAngle
          },
          "options.fillOpacity": {
            start: 0,
            end: 1
          },
          "options.strokeOpacity": {
            start: 0,
            end: 1
          }
        }
      }), new AnimationScenario({
        delay: 0,
        fields: {
          "config.r": {
            start: config.r,
            end: dims.radius - dims.collapsedRadius
          },
          "config.ir": {
            start: config.ir,
            end: dims.innerRadius - dims.collapsedRadius
          },
          "config.startAngle": {
            start: config.startAngle,
            end: config.startAngle
          },
          "options.fillOpacity": {
            start: 1,
            end: 0
          },
          "options.strokeOpacity": {
            start: 1,
            end: 0
          }
        }
      })]
    }
  });
  var DefaultAnimationDecorator = Class.extend({
    init: function(view) {
      this.view = view
    },
    decorate: function(element) {
      var that = this,
        view = that.view,
        animation = element.options.animation;
      if (animation && animation.fn instanceof AnimationBase) {
        view.animations.push(new animation(element, {
          current: view.options.scenario
        }))
      }
      return element
    }
  });

  function getShrinkRadius(radius) {
    return radius - (radius * OUTERRIMRATIO) - (radius * CENTERRATIO)
  }
  var ItemView = define(function(options) {
    var that = this;
    that.modelMap = {};
    setOptions(that, options)
  }, {
    items: null,
    createSvgView: function() {
      var that = this,
        transitions = that.transitions,
        expanded = that.expanded,
        immediate = that.immediate,
        shrinked = that.shrinked,
        svgView = new SVGView({
          width: 0,
          height: 0,
          radius: that.radius,
          hasNestedViews: that.hasNestedViews,
          transitions: transitions && expanded && !immediate,
          scenario: expanded ? (shrinked ? 2 : 0) : 1
        });
      svgView.decorators.push(new DefaultAnimationDecorator(svgView));
      svgView.registerDiscoverable = function(model) {
        var id = model.modelMapId = uniqueId();
        that.modelMap[id] = model;
        return id
      };
      svgView.animationDeferred = $.Deferred().resolve();
      return svgView
    },
    _orderItems: function(items) {
      var result = [],
        outstanding = [],
        ordered = items.reduce(function(arr, item) {
          if (item && item.index > -1) {
            if (arr[item.index]) {
              outstanding.push(arr[item.index])
            }
            arr[item.index] = item
          }
          return arr
        }, []),
        unordered = items.reduce(function(arr, item) {
          if (!item || item.index < 0) {
            arr.push(item)
          }
          return arr
        }, []),
        i;
      for (i = 0; i < MAXITEMS; i++) {
        result[i] = ordered[i] || unordered.shift() || outstanding.shift()
      }
      return result
    },
    deferred: {
      get: function() {
        return (this.svgView || {}).animationDeferred || $.Deferred().resolve()
      }
    },
    render: function(container) {
      var that = this,
        radius = that.radius,
        startAngle = that.startAngle,
        angle = 360 / MAXITEMS,
        items = that.items,
        view = that.svgView = that.createSvgView(),
        item, i, outerRimStrokeWidth = radius * OUTERRIMOUTLINERATIO,
        outerRimRadius = radius - outerRimStrokeWidth,
        innerRimRadius = radius - radius * OUTERRIMRATIO,
        innerRimCollapsedRadius = radius - radius * OUTERRIMCOLLAPSEDRATIO,
        outerCircleId = that.outerCircleId = uniqueId(),
        innerCircleId = that.innerCircleId = uniqueId(),
        animStartRadius = radius * CENTERRATIO,
        rendered, selector = $(container);
      view.children.push(view.createCircle({
        x: 0,
        y: 0
      }, outerRimRadius, {
        fill: that.background,
        stroke: that.border,
        strokeWidth: outerRimStrokeWidth,
        id: outerCircleId,
        animation: OuterCircleAnimation,
        startRadius: animStartRadius
      }));
      view.children.push(view.expandGroup = view.createGroup({
        className: "t-expand-groups"
      }));
      view.children.push(view.createCircle({
        x: 0,
        y: 0
      }, view.options.hasNestedViews ? innerRimRadius : innerRimCollapsedRadius, {
        fill: that.innerBackground,
        id: innerCircleId,
        animation: InnerCircleAnimation,
        startRadius: animStartRadius,
        shrinkRadius: innerRimRadius - animStartRadius
      }));
      items = that._orderItems(items);
      for (i = 0; i < items.length; i++) {
        item = items[i];
        if (item) {
          item.totalRadius = radius;
          item.startAngle = startAngle;
          item.angle = angle;
          item._selector = selector;
          item.render(view)
        }
        startAngle += angle
      }
      that.center._selector = selector;
      that.center.render(view);
      view.animations.forEach(function(animation) {
        animation.container = container
      });
      rendered = view.renderTo(container);
      view.options.transitions = that.transitions;
      return rendered
    },
    getElement: function(e) {
      var that = this,
        target = $(e.target),
        modelId = target.data("modelId"),
        element;
      if (modelId) {
        element = that.modelMap[modelId]
      }
      return element
    },
    pointerMove: function(e) {
      var that = this,
        element = that.getElement(e);
      if (element) {
        that.hover(element)
      }
    },
    gestureMove: function(gesture) {
      var that = this,
        items = that.items,
        i, intersected;
      for (i = 0; i < items.length; i++) {
        if (items[i] && items[i].intersects(gesture.delta)) {
          intersected = items[i];
          break
        }
      }
      if (intersected && intersected.expandSector && intersected.expandSector.intersects(gesture.delta)) {
        intersected = intersected.expandSector
      }
      that.hover(intersected)
    },
    gestureEnd: function(e) {
      var that = this,
        element = that.getElement(e) || that.hovered;
      that.hover(null);
      if (element) {
        if (element instanceof CenterItem) {
          return {
            action: element.back ? "back" : "toggle"
          }
        } else {
          if (element instanceof MenuItem && element.enabled) {
            return {
              action: "select",
              item: element
            }
          } else {
            if (element instanceof ItemExpandSector && element.enabled) {
              return {
                action: "navigate",
                item: element.item
              }
            }
          }
        }
      }
    },
    hover: function(element) {
      var that = this,
        hovered = that.hovered,
        centerHovered = element instanceof CenterItem;
      if (element == hovered) {
        return
      }
      if (hovered) {
        hovered.hover(false);
        hovered = that.hovered = null
      }
      if (element && element.hover && (that.expanded || centerHovered)) {
        hovered = that.hovered = element;
        element.hover(true)
      }
      if (that.expanded) {
        that.tooltip(element)
      }
    },
    select: function(item) {
      var that = this,
        group = item.group,
        selected = !item.selected,
        itemsInGroup = [];
      if (group) {
        itemsInGroup = that.items.filter(function(itemInView) {
          return itemInView.group === group
        })
      }
      itemsInGroup.forEach(function(itemInGroup) {
        if (itemInGroup !== item) {
          itemInGroup.selected = false
        }
      });
      if (selected || item.deselectable) {
        item.selected = selected
      }
    },
    tooltip: function(element) {
      var item = element instanceof MenuItem ? element : (element instanceof ItemExpandSector ? element.item : null);
      if (item && item.tooltip !== false) {
        this.onTooltip(item.tooltip || item.text)
      } else {
        this.onTooltip(null)
      }
    },
    animating: {
      get: function() {
        return this.svgView.animationDeferred.state() !== "resolved"
      }
    },
    playScenario: function(index) {
      var that = this,
        svgView = that.svgView;
      if (!that.transitions) {
        that.goToScenario(index);
        return
      }
      svgView.animations.forEach(function(anim) {
        anim.setScenario(index)
      });
      svgView.setupAnimations();
      svgView.playAnimations()
    },
    goToScenario: function(index) {
      var svgView = this.svgView;
      svgView.animations.forEach(function(anim) {
        anim.abort();
        anim.setScenario(index);
        anim.goTo(1)
      })
    },
    shrink: function() {
      var that = this;
      that.playScenario(3);
      return that.deferred.promise()
    },
    toggle: function(expanded) {
      var that = this,
        method = that.transitions ? "playScenario" : "goToScenario";
      that.tooltip(null);
      if (expanded !== that.expanded) {
        that[method](+!expanded)
      }
      return that.deferred.promise()
    },
    destroy: function() {
      var that = this,
        modelMap = that.modelMap,
        svgView = that.svgView,
        key;
      for (key in modelMap) {
        IDPool.current.free(key);
        delete modelMap[key]
      }
      that.items.forEach(function(item) {
        item._selector = null;
        item.modelMapId = null;
        if (item.expandSector) {
          item.expandSector.modelMapId = null
        }
      });
      that.items = [];
      if (that.center) {
        that.center.modelMapId = null;
        that.center = null
      }
      if (svgView) {
        svgView.destroy();
        svgView = that.svgView = null
      }
    }
  });

  function renderOnChange() {
    if (this._initialized) {
      this._render(true)
    }
  }
  function showOnChange() {
    if (this._initialized && this.visible) {
      this.show()
    }
  }
  function isValidPosition(position) {
    return ["top", "bottom", "left", "right", "center", "top left", "top right", "bottom left", "bottom right"].indexOf(position) > -1
  }
  function contains(parent, child) {
    return parent && child && (parent === child || child.parentNode === parent || (child.parentNode && parent.contains(child.parentNode)))
  }
  function getParentWithSelector(element, selector) {
    var all = document.querySelectorAll(selector),
      i, item;
    for (i = 0; i < all.length; i++) {
      item = all[i];
      if (item.contains(element)) {
        return item
      }
    }
  }
  var RadRadialMenu = derive(ui.Control, function(element, options) {
    var that = this,
      options = options || {}, popup, mask, tooltip;
    priv(that, "_path", [], true);
    priv(that, "_modified", {}, true);
    priv(that, "_delegates", [], true);
    ui.Control.apply(that, arguments);
    setOptions(that, options);
    element.classList.add("t-radial-menu");
    element.innerHTML = "";
    popup = priv(that, "_popup", document.createElement("div"), true);
    popup.id = uniqueId();
    popup.classList.add("t-radial-popup");
    popup.tabIndex = 0;
    tooltip = priv(that, "_tooltip", document.createElement("div"), true);
    tooltip.classList.add("t-radial-tooltip");
    mask = priv(that, "_mask", document.createElement("div"), true);
    mask.id = uniqueId();
    mask.classList.add("t-radial-mask");
    that._on(mask, "click", that._maskClick);
    that._bindTrigger();
    that._render();
    that._domEvents(true);
    if (that.visible) {
      that.show()
    }
    RadRadialMenu.instances.push(that);
    priv(that, "_initialized", true, true)
  }, {
    popup: {
      get: function() {
        return this._popup
      }
    },
    startAngle: Configuration.defineProperty("startAngle", STARTANGLE, floatValidator, renderOnChange),
    radius: Configuration.defineProperty("radius", RADIUS, floatValidator, renderOnChange),
    visible: Configuration.defineProperty("visible", true, notPreviousValidator, function() {
      if (this._initialized) {
        this[this.visible ? "show" : "hide"]()
      }
    }),
    target: Configuration.defineProperty("target", null, notPreviousValidator, function() {
      var that = this;
      if (that._initialized) {
        that._bindTrigger();
        if (that.visible) {
          that.show()
        }
      }
    }),
    trigger: Configuration.defineProperty("trigger", "tap", function(value, prev) {
      var valid = ["none", "tap", "hover", "focus", "select"];
      if (valid.indexOf(value) > -1 && value !== prev) {
        return value
      }
    }, function() {
      if (this._initialized) {
        this._bindTrigger()
      }
    }),
    position: Configuration.defineProperty("position", "right", function(value, prev) {
      if (isValidPosition(value) && value !== prev) {
        return value
      }
    }, showOnChange),
    offsetLeft: Configuration.defineProperty("offsetLeft", 0, floatValidator, showOnChange),
    offsetTop: Configuration.defineProperty("offsetTop", 0, floatValidator, showOnChange),
    expanded: Configuration.defineProperty("expanded", false, notPreviousValidator, function(value) {
      var that = this;
      if (that._initialized) {
        that.toggle(value)
      }
    }),
    autoCollapse: Configuration.defineProperty("autoCollapse", true),
    transitions: Configuration.defineProperty("transitions", true, null, function(value) {
      var that = this;
      if (that._initialized) {
        that._view.transitions = value;
        that._view.svgView.transitions = value
      }
    }),
    background: Configuration.defineProperty("background", "#EAEAEA", notPreviousValidator, renderOnChange),
    border: Configuration.defineProperty("border", "#212121", notPreviousValidator, renderOnChange),
    innerBackground: Configuration.defineProperty("innerBackground", "#FFF", notPreviousValidator, renderOnChange),
    center: {
      get: function() {
        var that = this,
          center = that._center;
        if (!center) {
          center = priv(that, "_center", new CenterItem({
            icon: "\uE115"
          }), true)
        }
        return center
      },
      set: function(value) {
        var that = this,
          prev = that.center;
        if (getType(value) === OBJECT && value !== prev) {
          priv(that, "_center", value instanceof CenterItem ? value : new CenterItem(value), true);
          if (that._initialized) {
            that._render(true)
          }
        }
      }
    },
    items: {
      get: function() {
        var that = this,
          items = that._items,
          item, i;
        if (!items) {
          items = priv(that, "_items", [], true)
        }
        for (i = 0; i < items.length && i < MAXITEMS; i++) {
          item = items[i];
          if (getType(item) === OBJECT && !(item instanceof MenuItem)) {
            if (getType(item.type) === FUNCTION) {
              items[i] = new item.type(item)
            } else {
              items[i] = new MenuItem(item)
            }
          }
        }
        if (items.length > MAXITEMS) {
          items.splice(MAXITEMS, items.length - MAXITEMS)
        }
        return items
      },
      set: function(value) {
        var that = this,
          get;
        if (getType(value) === ARRAY) {
          value = Array.apply(null, value);
          if (value.length > MAXITEMS) {
            value.splice(MAXITEMS, value.length - MAXITEMS)
          }
          that._items = value;
          get = that.items;
          if (that._initialized) {
            that._path.length = 0;
            that._render(true)
          }
        }
      }
    },
    getCurrentItems: function() {
      var that = this,
        path = that._path,
        key = "items",
        i;
      for (i = 0; i < path.length; i++) {
        key += "[" + path[i] + "].items"
      }
      return getProperty(that, key)
    },
    getAllItems: function() {
      var that = this,
        allItems = [],
        walker = function(items) {
          items.forEach(function(item) {
            if (item) {
              allItems.push(item);
              if (item.items.length) {
                walker(item.items)
              }
            }
          })
        };
      walker(that.items);
      return allItems
    },
    getItem: function(id) {
      return this.getAllItems().filter(function(item) {
        return item && item.id === id
      })[0]
    },
    _on: function(target, eventName, handler, one) {
      var that = this,
        delegates = that._delegates,
        item = {
          target: target,
          eventName: eventName,
          original: handler,
          delegate: one ? function() {
            item.original.apply(that, arguments);
            that._off(target, eventName, handler)
          } : handler.bind(that)
        };
      delegates.push(item);
      target.addEventListener(eventName, item.delegate)
    },
    _one: function(target, eventName, handler) {
      this._on(target, eventName, handler, true)
    },
    _off: function(target, eventName, handler) {
      var that = this,
        delegates = that._delegates,
        items = delegates.filter(function(item) {
          return (!target || item.target === target) && (!eventName || item.eventName === eventName) && (!handler || item.original === handler)
        });
      items.forEach(function(item) {
        delegates.splice(delegates.indexOf(item), 1);
        item.target.removeEventListener(item.eventName, item.delegate)
      })
    },
    _domEvents: function(on) {
      var that = this,
        popup = that._popup;
      if (on === false) {
        delete that._domEventsOn;
        that._off(popup, POINTERMOVE, that._elementPointerMove);
        that._off(popup, POINTERLEAVE, that._pointerLeave);
        that._off(popup, POINTERDOWN, that._pointerDown);
        return
      }
      if (that._domEventsOn) {
        return
      }
      that._on(popup, POINTERMOVE, that._elementPointerMove);
      that._on(popup, POINTERLEAVE, that._pointerLeave);
      that._on(popup, POINTERDOWN, that._pointerDown);
      that._domEventsOn = true
    },
    _isHoverInteractive: function() {
      var that = this;
      return !that._gesture && !that._view.animating
    },
    _elementPointerMove: function(e) {
      var that = this;
      if (that._isHoverInteractive()) {
        that._view.pointerMove(e)
      }
    },
    _pointerLeave: function(e) {
      var that = this;
      if (that._isHoverInteractive()) {
        that._view.hover(null)
      }
    },
    _pointerDown: function(e) {
      var that = this,
        offset = $("svg", that._popup).offset();
      if (that._gesture) {
        return
      }
      that._on(html, POINTERMOVE, that._pointerMove);
      that._gesture = {
        target: that._hovered,
        start: {
          x: offset.left,
          y: offset.top
        }
      };
      that._one(html, POINTERUP, that._pointerUp);
      e.preventDefault();
      e.stopPropagation()
    },
    _pointerMove: function(e) {
      var that = this,
        gesture = that._gesture,
        view = that._view;
      gesture.current = {
        x: e.pageX,
        y: e.pageY
      };
      gesture.delta = {
        x: gesture.current.x - gesture.start.x,
        y: gesture.current.y - gesture.start.y
      };
      view.gestureMove(gesture)
    },
    _args: function(item, target) {
      var that = this;
      return {
        item: item,
        menu: that,
        actionTarget: target || that._currentTarget,
        selection: that._currentSelection
      }
    },
    _pointerUp: function(e) {
      var that = this,
        view = that._view,
        result = view.gestureEnd(e),
        details;
      if (result && !view.animating) {
        details = that._args(result.item);
        switch (result.action) {
          case "toggle":
            that._dispatch(that.expanded ? "collapse" : "expand", details, function() {
              that.toggle()
            });
            break;
          case "navigate":
            that._dispatch("navigate", details, function() {
              var firstRealItem = result.item.items.filter(function(child) {
                return child instanceof MenuItem
              })[0];
              if (firstRealItem) {
                that.navigate(firstRealItem)
              } else {
                if (getType(result.item.navigate) === FUNCTION) {
                  result.item.navigate(that)
                }
              }
            });
            break;
          case "back":
            that._dispatch("navigate", details, function() {
              that.back()
            });
            break;
          case "select":
            that._dispatchItemActionSequence(result.item);
            break
        }
      }
      that._gesture = null;
      that._off(html, POINTERMOVE, that._pointerMove)
    },
    _dispatch: function(eventName, details, onsuccess) {
      var that = this,
        prevented = that.dispatchEvent(eventName, details);
      if (!prevented && getType(onsuccess) === FUNCTION) {
        onsuccess()
      }
    },
    _dispatchItemActionSequence: function(item) {
      var that = this,
        view = that._view,
        details = that._args(item),
        actionSequence = function() {
          item._dispatch("action", details, function() {
            that._dispatch("action", details, function() {
              if (item.autoCollapse) {
                that._dispatch("collapse", details, function() {
                  that.toggle(false)
                })
              }
            })
          })
        }, selectionSequence = function(selectDeselect) {
          view.select(item);
          item._dispatch(selectDeselect, details, function() {
            that._dispatch(selectDeselect, details, actionSequence)
          })
        };
      if (item.selectable) {
        if (item.selected) {
          if (item.deselectable) {
            selectionSequence("deselect")
          } else {
            actionSequence()
          }
        } else {
          selectionSequence("select")
        }
      } else {
        actionSequence()
      }
    },
    _autoHide: function(enabled) {
      var that = this,
        target = that._currentTarget,
        trigger = that.trigger;
      that._off(html, hideEvent[trigger], that._hideHandler);
      if (enabled && target) {
        that._on(html, hideEvent[trigger], that._hideHandler)
      }
    },
    _hideCondition: function(trigger, target) {
      var that = this,
        selection = document.getSelection(),
        currentTarget = that._currentTarget;
      if (trigger === "select") {
        return selection.isCollapsed || !(contains(currentTarget, target) && contains(currentTarget, selection.anchorNode) && contains(currentTarget, selection.focusNode))
      }
      return !contains(currentTarget, target)
    },
    _hideHandler: function(e) {
      var that = this,
        trigger = that.trigger,
        eventTarget = e.target,
        offMask = eventTarget !== that._mask,
        offPopup = !contains(that._popup, eventTarget),
        notAnimating = !that._view.animating,
        handler = function() {
          if (that._hideCondition(trigger, eventTarget)) {
            that._dispatch("hide", that._args(null), function() {
              that._off(html, hideEvent[trigger], that._hideHandler);
              that.hide()
            })
          }
        };
      if (!that.expanded && offMask && offPopup && notAnimating) {
        if (trigger === "select") {
          setTimeout(handler, AUTOSHOWHIDEDELAYONSELECT)
        } else {
          handler()
        }
      }
    },
    _showCondition: function(trigger, target) {
      var selection;
      if (trigger === "select") {
        selection = document.getSelection();
        return !selection.isCollapsed && contains(target, selection.anchorNode) && contains(target, selection.focusNode)
      }
      return true
    },
    _showHandler: function(target) {
      var that = this,
        lastTarget = that._currentTarget,
        trigger = that.trigger,
        handler = function() {
          if (!(that.visible && lastTarget === target) && that._showCondition(trigger, target)) {
            that._dispatch("show", that._args(null, target), that.show.bind(that, target, null, null, null))
          }
        };
      if (trigger === "select") {
        setTimeout(handler, AUTOSHOWHIDEDELAYONSELECT)
      } else {
        handler()
      }
    },
    _bindTrigger: function() {
      var that = this,
        body = document.body,
        current = that._currentTarget,
        target = that.target,
        trigger = that.trigger,
        eventName = showEvent[trigger];
      if (trigger === "none") {
        return
      }
      that._off(body);
      if (current) {
        that._off(current)
      }
      current = that._currentTarget = null;
      if (target && typeof target === STRING) {
        that._on(body, eventName, function(e) {
          var elem = e.target.msMatchesSelector(target) ? e.target : getParentWithSelector(e.target, target);
          if (elem) {
            that._showHandler(elem)
          }
        })
      } else {
        target = $(target);
        if (target.length) {
          that._on(target[0], eventName, function(e) {
            that._showHandler(e.currentTarget)
          })
        }
      }
    },
    _updateMask: function() {
      var that = this,
        body = document.body,
        popup = that._popup,
        mask = that._mask;
      if (that.expanded) {
        if (body.contains(popup)) {
          body.insertBefore(mask, popup)
        } else {
          body.appendChild(mask)
        }
      } else {
        if (mask.parentNode) {
          mask.parentNode.removeChild(mask)
        }
      }
    },
    _maskClick: function() {
      var that = this;
      if (that.autoCollapse) {
        that._dispatch("collapse", that._args(null), function() {
          that.toggle(false)
        })
      }
    },
    _toggleElements: function(expanded) {
      $(this._popup).find(".t-expand-groups, .t-radial-item").toggle(expanded)
    },
    toggle: function(expanded) {
      var that = this,
        expanded = expanded != null ? expanded : !that.expanded,
        view = that._view,
        path = that._path,
        promise;
      if (expanded) {
        that._toggleElements(true)
      }
      promise = view.toggle(expanded);
      that._modified.expanded = expanded;
      view.expanded = expanded;
      if (!expanded && path.length) {
        path.length = 0;
        promise.then(function() {
          that._render(true)
        })
      }
      if (!expanded) {
        promise.then(function() {
          that._toggleElements(false)
        })
      }
      that._updateMask();
      return promise
    },
    _getPathTo: function(item) {
      var that = this,
        items = that.items,
        parents = item._getParents(),
        path = [],
        index, i;
      for (i = 0; i < parents.length; i++) {
        index = items.indexOf(parents[i]);
        if (index > -1) {
          path.push(index);
          items = parents[i].items
        } else {
          return resprom()
        }
      }
      return path
    },
    navigate: function(item) {
      var that = this,
        item = getType(item) === STRING ? that.getItem(item) : item,
        allItems = that.getAllItems(),
        path;
      if (that.expanded && item instanceof MenuItem && allItems.indexOf(item) > -1) {
        path = that._getPathTo(item);
        if (path.join(",") !== that._path.join(",")) {
          that._path = path;
          return that._toPath()
        }
      }
      return resprom()
    },
    back: function(top) {
      var that = this,
        path = that._path;
      if (path.length && that.expanded) {
        if (top) {
          path.length = 0
        } else {
          path.pop()
        }
        return that._toPath()
      }
      return resprom()
    },
    _toPath: function() {
      var that = this,
        view = that._view;
      return view.shrink().then(function() {
        that._render(false, true);
        return that._view.deferred.promise()
      })
    },
    _onTooltip: function(text) {
      var that = this,
        hidden = "t-hidden",
        radius = that.radius,
        popup = that._popup,
        tooltip = that._tooltip;
      if (text) {
        tooltip.innerHTML = text;
        if (tooltip.parentNode !== popup) {
          tooltip.classList.add(hidden);
          popup.appendChild(tooltip);
          tooltip.style.bottom = radius + (TOOLTIPOFFSETRATIO * radius) + "px"
        }
        tooltip.style.left = -utilities.getTotalWidth(tooltip) / 2 + "px";
        tooltip.classList.remove(hidden)
      } else {
        tooltip.classList.add(hidden)
      }
    },
    _getPopupCoord: function(coord, position) {
      var radius = this.radius,
        left, top, diagonal = Math.round(radius * Math.cos(45 * DEGREE));
      switch (position) {
        case "left":
          left = coord.left - radius;
          top = coord.top + coord.height / 2;
          break;
        case "right":
          left = coord.left + coord.width + radius;
          top = coord.top + coord.height / 2;
          break;
        case "top":
          left = coord.left + coord.width / 2;
          top = coord.top - radius;
          break;
        case "bottom":
          left = coord.left + coord.width / 2;
          top = coord.top + coord.height + radius;
          break;
        case "top left":
          left = coord.left - diagonal;
          top = coord.top - diagonal;
          break;
        case "top right":
          left = coord.left + coord.width + diagonal;
          top = coord.top - diagonal;
          break;
        case "bottom left":
          left = coord.left - diagonal;
          top = coord.top + coord.height + diagonal;
          break;
        case "bottom right":
          left = coord.left + coord.width + diagonal;
          top = coord.top + coord.height + diagonal;
          break;
        case "center":
          left = coord.left + coord.width / 2;
          top = coord.top + coord.height / 2;
          break
      }
      return {
        left: left,
        top: top
      }
    },
    show: function(target, position, offsetLeft, offsetTop) {
      var that = this,
        target = target != null ? target : that.target,
        position = position != null ? position : that.position,
        offsetLeft = parseFloat(offsetLeft != null ? offsetLeft : that.offsetLeft),
        offsetTop = parseFloat(offsetTop != null ? offsetTop : that.offsetTop),
        popup = that._popup,
        visibleInstance = RadRadialMenu.getVisible(),
        promise, coord;
      position = isValidPosition(position) ? position : "right";
      offsetLeft = isNaN(offsetLeft) ? 0 : offsetLeft;
      offsetTop = isNaN(offsetTop) ? 0 : offsetTop;
      promise = visibleInstance && visibleInstance !== that ? visibleInstance.hide() : resprom();
      that._modified.visible = true;
      return promise.then(function() {
        target = that._currentTarget = $(target)[0];
        if (!target) {
          target = that.element
        }
        coord = that._getPopupCoord(utilities.getPosition(target), position);
        popup.style.left = (coord.left + offsetLeft) + "px";
        popup.style.top = (coord.top + offsetTop) + "px";
        if (that.trigger !== "none") {
          that._autoHide(true)
        }
        document.body.appendChild(popup)
      })
    },
    hide: function() {
      var that = this,
        popup = that._popup;
      that._autoHide(false);
      that._modified.visible = false;
      return that.toggle(false).then(function() {
        if (popup.parentNode) {
          popup.parentNode.removeChild(popup)
        }
      })
    },
    refresh: function(immediate) {
      this._render(immediate)
    },
    _render: function(immediate, shrinked) {
      var that = this,
        items = that.getCurrentItems(),
        hasNestedViews = items.reduce(function(hasNested, item) {
          if (hasNested) {
            return hasNested
          }
          if (item && (item.items.length || item instanceof ColorPickerItem)) {
            hasNested = true
          }
          return hasNested
        }, false),
        view = that._view;
      if (view) {
        view.destroy()
      }
      that.center.back = !! that._path.length;
      view = that._view = new ItemView({
        items: Array.apply(null, items),
        radius: that.radius,
        startAngle: that.startAngle,
        hasNestedViews: hasNestedViews,
        background: that.background,
        border: that.border,
        innerBackground: that.innerBackground,
        center: that.center,
        expanded: that.expanded,
        immediate: immediate,
        shrinked: shrinked,
        transitions: that.transitions,
        onTooltip: that._onTooltip.bind(that)
      });
      view.render(that._popup);
      that._updateMask();
      if (!that.expanded) {
        that._toggleElements(false)
      }
    },
    _destroy: function() {
      var that = this,
        view = that._view,
        popup = that._popup,
        tooltip = that._tooltip,
        mask = that._mask,
        instances = RadRadialMenu.instances,
        index = instances.indexOf(that);
      if (that._isDestroyed) {
        return
      }
      that.hide();
      that.target = null;
      that._off();
      view.destroy();
      IDPool.current.free(popup.id);
      if (popup.parentNode) {
        popup.parentNode.removeChild(popup)
      }
      popup.innerHTML = "";
      popup = that._popup = null;
      if (mask.parentNode) {
        mask.parentNode.removeChild(mask)
      }
      IDPool.current.free(mask.id);
      mask = that._mask = null;
      if (tooltip.parentNode) {
        tooltip.parentNode.removeChild(tooltip)
      }
      tooltip = that._tooltip = null;
      if (index > -1) {
        instances.splice(index, 1)
      }
      ui.Control.prototype._destroy.call(that);
      that._isDestroyed = true
    }
  }, {
    instances: [],
    getVisible: function() {
      var instances = RadRadialMenu.instances,
        i;
      for (i = 0; i < instances.length; i++) {
        if (instances[i].visible) {
          return instances[i]
        }
      }
      return null
    }
  });
  mix(RadRadialMenu, createEventProperties("action", "select", "deselect", "navigate", "expand", "collapse", "show", "hide"));
  namespace("Telerik.UI", {
    RadRadialMenu: RadRadialMenu
  });
  namespace(nsName, {
    _ItemStyle: _ItemStyle,
    _ExpandSectorStyle: _ExpandSectorStyle,
    _CenterItemStyle: _CenterItemStyle,
    MenuItem: MenuItem,
    CenterItem: CenterItem,
    ColorPickerItem: ColorPickerItem
  })
})(this, jQuery);
(function(j, a, v) {
  var y = WinJS,
    f = y.Class.derive,
    m = y.Class.mix,
    n = y.Namespace.define,
    x = y.Utilities,
    s = Telerik,
    u = s.UI,
    w = s.Utilities,
    b = u._ControlConfiguration,
    e = b.defineProperty,
    i = b.getMapping,
    t = w._validators.stringOrUnifiedTemplate,
    o = null,
    h = "function",
    g = ".k-slider-track .k-draghandle",
    k = ".k-icon.k-i-arrow-e",
    d = ".k-icon.k-i-arrow-w",
    c = "t-slider",
    l = "win-interactive";
  n("Telerik.UI.Slider", {
    _TooltipConfiguration: f(b, function(B, C, z, A) {
      b.call(this, B, C, z, A)
    }, {
      _validators: {
        template: t
      },
      enabled: e("enabled", true),
      format: e("format", "{0}"),
      template: e("template", "")
    })
  });
  var r = f(u.WidgetWrapper, function(z, A) {
    var B = this;
    a(z).addClass(c + " " + l);
    if (A && A.hasOwnProperty("tickPlacement")) {
      A.tickPlacement = B._tickPlacementMap[A.tickPlacement]
    }
    if (A && A.tooltip && A.tooltip.template) {
      A.tooltip.template = t(A.tooltip.template)
    }
    u.WidgetWrapper.call(this, z, A);
    w.setPrivate(B, "_requiresLayout", true);
    B._initialize(B._widgetName, B._recreateContent());
    B._hideTitlesOnDrag()
  }, {
    _eventsMap: {
      onchange: "change",
      onslide: "slide"
    },
    _reinit: function() {
      var z = this;
      z._options = z._widget.options;
      z._initialize(z._widgetName, z._recreateContent())
    },
    _recreateContent: function() {
      var A = this;
      if (A._widget && typeof A._widget.destroy === h) {
        A._widget.destroy()
      }
      var z = a(A.element).empty().append("<div></div>").find("div");
      A._options.orientation === "vertical" ? A._setOrientationClass(A.element, "vertical") : A._setOrientationClass(A.element);
      return z[0]
    },
    _setOrientationClass: function(z, A) {
      if (A === "vertical") {
        z.classList.remove("t-slider-horizontal");
        z.classList.add("t-slider-vertical")
      } else {
        z.classList.remove("t-slider-vertical");
        z.classList.add("t-slider-horizontal")
      }
    },
    _hideTitlesOnDrag: function() {
      var D = this,
        C = document.documentElement,
        z, A = w._pointerEvent("up");

      function B() {
        if (z) {
          z.forEach(function(E) {
            E.setAttribute("title", E.getAttribute("data-title"));
            E.removeAttribute("data-title")
          });
          z = o
        }
      }
      D.addEventListener("slide", function(E) {
        if (!z) {
          z = x.query("[title]", D.element);
          z.forEach(function(G) {
            G.setAttribute("data-title", G.getAttribute("title"));
            G.removeAttribute("title")
          });
          C.addEventListener(A, function F(G) {
            C.removeEventListener(A, F);
            B()
          })
        }
      })
    },
    enabled: {
      get: function() {
        return this._widget.options.enabled
      },
      set: function(z) {
        this._widget.enable( !! z)
      }
    },
    largeStep: {
      get: function() {
        return this._widget.options.largeStep
      },
      set: function(B) {
        B = parseInt(B, 10);
        var A = this,
          z = A._widget.options;
        if (!isNaN(B) && B !== z.largeStep) {
          z.largeStep = B;
          A._reinit()
        }
      }
    },
    smallStep: {
      get: function() {
        return this._widget.options.smallStep
      },
      set: function(B) {
        B = parseInt(B, 10);
        var A = this,
          z = A._widget.options;
        if (!isNaN(B) && B !== z.smallStep) {
          z.smallStep = B;
          A._reinit()
        }
      }
    },
    min: {
      get: function() {
        return this._widget.options.min
      },
      set: function(B) {
        B = parseInt(B, 10);
        var A = this,
          z = A._widget.options;
        if (!isNaN(B) && B !== z.min) {
          z.min = B;
          A._reinit()
        }
      }
    },
    max: {
      get: function() {
        return this._widget.options.max
      },
      set: function(B) {
        B = parseInt(B, 10);
        var A = this,
          z = A._widget.options;
        if (!isNaN(B) && B !== z.max) {
          z.max = B;
          A._reinit()
        }
      }
    },
    orientation: {
      get: function() {
        return this._widget.options.orientation
      },
      set: function(B) {
        B = B + "";
        var A = this,
          z = A._widget.options;
        if ((B === "horizontal" || B === "vertical") && B !== z.orientation) {
          z.orientation = B;
          A._reinit()
        }
      }
    },
    _tickPlacementMap: {
      none: "none",
      topLeft: "inside",
      bottomRight: "minorOutside",
      both: "minorMajorOutside",
      inside: "topLeft",
      minorOutside: "bottomRight",
      minorMajorOutside: "both"
    },
    tickPlacement: {
      get: function() {
        return this._tickPlacementMap[this._widget.options.tickPlacement]
      },
      set: function(B) {
        B = B + "";
        var A = this,
          z = A._widget.options;
        if ((B === "minorMajorOutside" || B === "none" || B === "minorOutside" || B === "inside") && B !== z.tickPlacement) {
          z.tickPlacement = A._tickPlacementMap[B];
          A._reinit()
        }
      }
    },
    tooltip: {
      get: function() {
        var z = this,
          A = z._tooltip;
        if (!A) {
          A = new u.Slider._TooltipConfiguration(z, i(z, "tooltip"), o, function(B) {
            var C = z._widget;
            C.options.tooltip[B.key] = B.value;
            z._reinit()
          });
          s.Utilities.setPrivate(z, "_tooltip", A)
        }
        return A
      }
    }
  });
  m(r, x.createEventProperties("change", "slide"));
  var q = f(r, function(z, A) {
    var B = this;
    A = A || {};
    if (!A.hasOwnProperty("showButtons")) {
      A.showButtons = false
    }
    if (!A.hasOwnProperty("decreaseButtonTooltip")) {
      A.decreaseButtonTooltip = B._getString("decreaseButtonTooltip")
    }
    if (!A.hasOwnProperty("increaseButtonTooltip")) {
      A.increaseButtonTooltip = B._getString("increaseButtonTooltip")
    }
    if (!A.hasOwnProperty("dragHandleTooltip")) {
      A.dragHandleTooltip = B._getString("dragHandleTooltip")
    }
    r.call(B, z, A)
  }, {
    _widgetName: "kendoSlider",
    _optionsMap: {
      increaseButtonTooltip: "increaseButtonTitle",
      decreaseButtonTooltip: "decreaseButtonTitle",
      dragHandleTooltip: "dragHandleTitle"
    },
    _recreateContent: function() {
      var z = this;
      if (z._widget && typeof z._widget.destroy === h) {
        z._widget.destroy()
      }
      z._options.orientation === "vertical" ? z._setOrientationClass(z.element, "vertical") : z._setOrientationClass(z.element);
      return a("input", a(z.element).empty().append("<input />"))[0]
    },
    value: {
      get: function() {
        return this._widget.value()
      },
      set: function(z) {
        return this._widget.value(z)
      }
    },
    showButtons: {
      get: function() {
        return this._widget.options.showButtons
      },
      set: function(B) {
        B = !! B;
        var A = this,
          z = A._widget.options;
        if (B !== z.showButtons) {
          z.showButtons = B;
          A._reinit()
        }
      }
    },
    increaseButtonTooltip: {
      get: function() {
        return this._widget.options.increaseButtonTitle
      },
      set: function(z) {
        z = z + "";
        var A = this._widget;
        A.options.increaseButtonTitle = z;
        A.wrapper.find(k).attr("title", z).text(z)
      }
    },
    decreaseButtonTooltip: {
      get: function() {
        return this._widget.options.decreaseButtonTitle
      },
      set: function(z) {
        z = z + "";
        var A = this._widget;
        A.options.decreaseButtonTitle = z;
        A.wrapper.find(d).attr("title", z).text(z)
      }
    },
    dragHandleTooltip: {
      get: function() {
        return this._widget.options.dragHandleTitle
      },
      set: function(z) {
        z = z + "";
        var A = this._widget;
        A.options.dragHandleTitle = z;
        A.wrapper.find(g).attr("title", z)
      }
    }
  });
  var p = f(r, function(z, A) {
    var B = this;
    A = A || {};
    if (!A.hasOwnProperty("leftDragHandleTooltip")) {
      A.leftDragHandleTooltip = B._getString("leftDragHandleTooltip")
    }
    if (!A.hasOwnProperty("rightDragHandleTooltip")) {
      A.rightDragHandleTooltip = B._getString("rightDragHandleTooltip")
    }
    r.call(this, z, A)
  }, {
    _widgetName: "kendoRangeSlider",
    _optionsMap: {
      leftDragHandleTooltip: "leftDragHandleTitle",
      rightDragHandleTooltip: "rightDragHandleTitle"
    },
    _recreateContent: function() {
      var z = r.prototype._recreateContent.call(this);
      return a(z).append("<input /><input />")[0]
    },
    leftDragHandleTooltip: {
      get: function() {
        return this._widget.options.leftDragHandleTitle
      },
      set: function(z) {
        z = z + "";
        var A = this._widget;
        A.options.leftDragHandleTitle = z;
        a(A.wrapper.find(g)[0]).attr("title", z)
      }
    },
    rightDragHandleTooltip: {
      get: function() {
        return this._widget.options.rightDragHandleTitle
      },
      set: function(z) {
        z = z + "";
        var A = this._widget;
        A.options.rightDragHandleTitle = z;
        a(A.wrapper.find(g)[1]).attr("title", z)
      }
    },
    values: {
      get: function() {
        return this._widget.values()
      },
      set: function(z) {
        if (z instanceof Array) {
          return this._widget.values(z[0], z[1])
        }
      }
    },
    selectionStart: {
      get: function() {
        return this._widget.values()[0]
      },
      set: function(z) {
        z = parseInt(z, 10);
        if (!isNaN(z)) {
          var A = this._widget;
          return A.values(z, A.values()[1])
        }
      }
    },
    selectionEnd: {
      get: function() {
        return this._widget.values()[1]
      },
      set: function(z) {
        z = parseInt(z, 10);
        if (!isNaN(z)) {
          var A = this._widget;
          return A.values(A.values()[0], z)
        }
      }
    }
  });
  kendo.ui.RangeSlider.prototype._setZIndex = function(z) {
    this.wrapper.find(".k-draghandle").each(function(A) {
      a(this).css("z-index", z == "firstHandle" ? 2 - A : 1 + A)
    })
  };
  n("Telerik.UI", {
    RadSlider: q,
    RadRangeSlider: p
  })
})(this, jQuery);
(function(d, a, i) {
  var k = WinJS,
    c = k.Class.derive,
    e = k.Namespace.define,
    h = Telerik.UI,
    j = Telerik.Utilities,
    f = function() {};

  function b(l) {
    return {
      get: function() {
        var m = this._widget.options[l];
        return m && m._originalTemplate ? m._originalTemplate : m
      },
      set: function(o) {
        var n = this,
          p = n._widget,
          m = p.options[l],
          q = j.getTemplate(o, true);
        if (m && m._originalTemplate) {
          m = m._originalTemplate
        }
        if (q !== i && o !== m) {
          p.options[l] = q;
          p._template();
          n.dataSource = n.dataSource
        }
      }
    }
  }
  var g = c(h.ListBase, function(l, m) {
    var o = this,
      n = document.createElement("select");
    a(l).empty().append(n);
    j.setPrivate(o, "_input", n);
    h.ListBase.call(o, l, m);
    o._initialize("kendoMultiSelect", o._input);
    o._postInitialize(m)
  }, {
    value: {
      get: function() {
        return this._widget.value()
      },
      set: function(l) {
        this._widget.value(l)
      }
    },
    template: {
      get: f,
      set: f
    },
    itemTemplate: b("itemTemplate"),
    tagTemplate: b("tagTemplate"),
    highlightFirst: {
      get: function() {
        return this._widget.options.highlightFirst
      },
      set: function(l) {
        this._widget.options.highlightFirst = !! l
      }
    },
    filter: {
      get: function() {
        return this._widget.options.filter
      },
      set: function(l) {
        this._widget.options.filter = l + ""
      }
    },
    minLength: {
      get: function() {
        return this._widget.options.minLength
      },
      set: function(l) {
        l = parseInt(l, 10);
        if (!isNaN(l)) {
          this._widget.options.minLength = l
        }
      }
    },
    placeholder: {
      get: function() {
        return this._widget.options.placeholder || ""
      },
      set: function(l) {
        var m = this._widget,
          l = l + "";
        if (l !== m.options.placeholder) {
          m.options.placeholder = l;
          m._placeholder()
        }
      }
    },
    maxSelectedItems: {
      get: function() {
        return this._widget.options.maxSelectedItems
      },
      set: function(l) {
        var m = this._widget,
          l = l === null ? l : parseInt(l, 10);
        if (l === null || !isNaN(l)) {
          m.options.maxSelectedItems = l
        }
      }
    },
    open: function() {
      if (!this.isOpen) {
        return this._widget.open()
      }
    },
    toggle: function(l) {
      return this._widget.toggle(l)
    },
    dataItems: function() {
      return this._widget.dataItems()
    }
  });
  e("Telerik.UI", {
    RadTokenInput: g
  });
  kendo.ui.MultiSelect.prototype.select = function(n) {
    var o = this,
      m = !isNaN(n) ? n : (n = a(n)).data("idx"),
      l = o.dataSource.view()[m];
    if (o._dataItems.indexOf(l) > -1) {
      return
    }
    o._select(n)
  }
})(this, jQuery);

function showTrialMessage() {
  var d = WinJS.Application.sessionState,
    b = d.telerikControlsInternal,
    f = "Telerik UI for Windows 8 Trial",
    g = "http://www.telerik.com/purchase/individual-windows-8.aspx?utm_source=trial&utm_medium=web&utm_campaign=Windows8",
    e = "To get access to the latest updates across <br /> the Windows 8 suite and Telerik's dedicated <br /> support please purchase a commercial license now.",
    a = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA7FJREFUeNrEVklPFEEUrmqaQXFJcImIaIJIIuISwQ1RXNFEIyaaGOPJf+DvMVy8eTPRRA9IFIXgQlSQg+KOSgwwCooMMNMz7fe6v4IeZZhGMuElX151dVW9pd5SeiyeVIa0+pf0DB9gFliKs4uAQszFwCcjtuWqEGSHFpo+Z4SqAtuaAJtQcyR7DmvXAMVAHvAVGALcSSe1CrxI+/P51E2sTmnh2vsezM+zZL1KJFOyTtshrS3CxGXwjeJO4KocRkGXsLZqRlWnD3kFgU0QPiazMm2FsFTW7ROhPKcdeMd/e4DKEGdsBmo5lqBKhXF1KUQf4rgfuE+rlwNHGGhyxzeUH2CefjBL3L0MOAbIddTD6h5YPeAkU7adxc3iyjrP1Uo5QCvvVugwsI7jVkTzg5m0hjAx7jxjpA5Cb9p5ViKbq8uNi6DMa7DOKS/4bpb936lQJpI9Hzk+AJSpLHe82HOT9vJUXPgIGOe/o+I+eqYZ1g5nOgSulX8PGeVLwA/C6kIr4FIrvUaoamArP16CdXPtTmAH17wBnoeIE1nzguMaYJsRnAgWBVajSiojd/uBa0yELuW4B/idTSqsnqCSxshyi5qfBC5oPwhKGaWdNF8SvoquF3oGROmZWkb3rIQAkwKznZ+SEd0Wq4zweuA4cI4L3gId2ldMBO8KzHdxX4kIjzteNcok1FzbFk51AL3G1S3AFyqwCdgNcTEGRYyldS+wUgRqP5f7ubeBeZqJ1tIzokBUghTp5Fi8zwRmr9PFBcAJIAL0AfdoXYWnkK9clJrLvUukNsDqCKyzAtDM4RqcvZ4x1A6hfaZJmL74GWijBdIMGrDhNvhTuqqEeSiufk9vVNNDtVj7g4Fm6o/DwlPP70+BOuAJdgIdpcVzqfYCZj/wGBgApCpdBFZj4Wnwa8Av4K7yrSnAnrOz9Akxrg3WRpHDGtw1uWua9whwi/co93mKe7uYi2LVBlY0xfkuuj4TpLI9MXksQj2ZMbxA/nlRaHVF+y1Q2liTtDX23GLe8ZDpx9IIvHnftL9fH5pnD0DgSNpDIPCi8N2tvYD5yf8SYCs4HibSCOVyFGx0ri+QYK022lbo6ZzrDVkS1XwEi80SbI1MKcnfZtMYdE4F+9WpjNZ302KVK4uNcCkEjQwGueM7Yd5E8xHs8pQzLIlJvqsGswrQ8xcsLbCO5wyyMOSUzGNPovgbq1hL8IGuc+Bmb/94PClP7oh574LiwUdBRsF6qsn/n2DXddVCkKUWiP4IMADg2gZHphhCdwAAAABJRU5ErkJggg==";
  if (!b) {
    var c = Math.floor((Math.random() * 5) + 2) * 1000;
    setTimeout(function() {
      new Telerik.UI.RadNotification(null, {
        title: f,
        text: e,
        url: g,
        iconUrl: a,
        autoDispose: true,
        visible: true
      })
    }, c);
    d.telerikControlsInternal = 3801
  }
}(function(e, a, j) {
  var k = WinJS,
    c = k.Class.define,
    d = k.Class.derive,
    g = k.Namespace.define,
    f = k.Class.mix,
    i = Telerik.UI;
  var b = c(function(l) {
    this._element = l.element;
    this._zoomable = l
  }, {
    getPanAxis: function() {
      return "both"
    },
    configureForZoom: function(m, l, o, n) {
      this._zoomable._configureForZoom(m, l, o, n)
    },
    setCurrentItem: function(l, m) {
      this._x = l;
      this._y = m
    },
    getCurrentItem: function() {
      return new WinJS.Promise(function(l) {
        l({
          item: null,
          position: {
            left: 0,
            top: 0,
            width: 0,
            height: 0
          }
        })
      })
    },
    positionItem: function(l, m) {},
    beginZoom: function() {
      this._zoomable._beginZoom()
    },
    endZoom: function(l) {
      this._zoomable._endZoom(l)
    }
  });
  var h = d(i.Control, function(l, m) {
    var n = this;
    m = m || {};
    i.Control.call(n, l, m);
    k.UI.setOptions(n, m);
    n.zoomableView = new b(n)
  }, {
    isCurrentView: {
      get: function() {
        return this._isCurrentView
      }
    },
    isZoomedOut: {
      get: function() {
        return this._isZoomedOut
      }
    },
    triggerZoom: function() {
      this._triggerZoom()
    },
    _configureForZoom: function(m, l, p, n) {
      var o = this;
      o._isZoomedOut = m;
      o._isCurrentView = l;
      o._triggerZoom = p
    },
    _beginZoom: function() {
      this.dispatchEvent("beginzoom")
    },
    _endZoom: function(l) {
      this._isCurrentView = l;
      this.dispatchEvent("endzoom")
    }
  });
  f(h, k.Utilities.createEventProperties("beginzoom", "endzoom"));
  g("Telerik.UI", {
    RadZoomable: h
  })
})(this, jQuery);
(function() {
  WinJS.Namespace.define("Telerik.Localization", {
    _raddatepicker: {
      selectorHeader: "Select Date",
      "_selectorHeader.comment": "The default text for the date selector's header.",
      emptyContent: "Select Date",
      "_emptyContent.comment": "The default text that shows in the picker when no date is selected.",
      leapYear: "Leap Year",
      "_leapYear.comment": "The text displayed leap year items in the selector."
    }
  })
})();
(function() {
  WinJS.Namespace.define("Telerik.Localization", {
    _radgrid: {
      "editable.confirmation": "Confirm deletion",
      "groupable.empty": "Drag a column header here to group",
      "filterable.and": "And",
      "filterable.clear": "Clear filter",
      "filterable.filter": "Filter",
      "filterable.info": "Show items with value that:",
      "filterable.isTrue": "is true",
      "filterable.isFalse": "is false",
      "filterable.or": "Or",
      "filterable.selectValue": "-Select value-",
      "filterable.operators.string.eq": "Is equal to",
      "filterable.operators.string.neq": "Is not equal to",
      "filterable.operators.string.startswith": "Starts with",
      "filterable.operators.string.contains": "Contains",
      "filterable.operators.string.doesnotcontain": "Does not contain",
      "filterable.operators.string.endswith": "Ends with",
      "filterable.operators.number.eq": "Is equal to",
      "filterable.operators.number.neq": "Is not equal to",
      "filterable.operators.number.gte": "Is greater than or equal to",
      "filterable.operators.number.gt": "Is greater than",
      "filterable.operators.number.lte": "Is less than or equal to",
      "filterable.operators.number.lt": "Is less than",
      "filterable.operators.date.eq": "Is equal to",
      "filterable.operators.date.neq": "Is not equal to",
      "filterable.operators.date.gte": "Is after or equal to",
      "filterable.operators.date.gt": "Is after",
      "filterable.operators.date.lte": "Is before or equal to",
      "filterable.operators.date.lt": "Is before",
      "filterable.operators.enums.eq": "Is equal to",
      "filterable.operators.enums.neq": "Is not equal to"
    }
  })
})();
(function() {
  WinJS.Namespace.define("Telerik.Localization", {
    _radnumericbox: {
      incrementTooltip: "Increase value",
      "_incrementTooltip.comment": "Specifies the text of the tooltip on the up arrow.",
      decrementTooltip: "Decrease value",
      "_decrementTooltip.comment": "Specifies the text of the tooltip on the down arrow."
    }
  })
})();
(function() {
  WinJS.Namespace.define("Telerik.Localization", {
    _radrangeslider: {
      leftDragHandleTooltip: "drag",
      "_leftDragHandleTooltip.comment": "The title of the left/bottom drag handle of the range slider.",
      rightDragHandleTooltip: "drag",
      "_rightDragHandleTooltip.comment": "The title of the right/top drag handle of the range slider."
    }
  })
})();
(function() {
  WinJS.Namespace.define("Telerik.Localization", {
    _radscheduler: {
      today: "Today",
      save: "Save",
      cancel: "Cancel",
      destroy: "Delete",
      deleteWindowTitle: "Delete event",
      ariaSlotLabel: "Selected from {0:t} to {1:t}",
      ariaEventLabel: "{0} on {1:D} at {2:t}",
      "views.day": "Day",
      "views.week": "Week",
      "views.agenda": "Agenda",
      "views.month": "Month",
      yesterday: "Yesterday",
      tomorrow: "Tomorrow",
      allDay: "all day",
      showFullDay: "Show full day",
      showWorkDay: "Show business hours",
      thisWeek: "This Week",
      lastWeek: "Last Week",
      nextWeek: "Next Week",
      week: "Week ",
      event: "Event",
      date: "Date",
      time: "Time",
      "recurrenceMessages.deleteWindowTitle": "Delete Recurring Item",
      "recurrenceMessages.deleteWindowOccurrence": "Delete current occurrence",
      "recurrenceMessages.deleteWindowSeries": "Delete the series",
      "recurrenceMessages.editWindowTitle": "Edit Recurring Item",
      "recurrenceMessages.editWindowOccurrence": "Edit current occurrence",
      "recurrenceMessages.editWindowSeries": "Edit the series",
      "editor.title": "Title",
      "editor.start": "Start",
      "editor.end": "End",
      "editor.allDayEvent": "All day event",
      "editor.description": "Description",
      "editor.repeat": "Repeat",
      "editor.timezone": " ",
      "editor.startTimezone": "Start timezone",
      "editor.endTimezone": "End timezone",
      "editor.separateTimezones": "Use separate start and end time zones",
      "editor.timezoneEditorTitle": "Timezones",
      "editor.timezoneEditorButton": "Time zone",
      "editor.editorTitle": "Event",
      "recurrenceEditor.frequencies.never": "Never",
      "recurrenceEditor.frequencies.daily": "Daily",
      "recurrenceEditor.frequencies.weekly": "Weekly",
      "recurrenceEditor.frequencies.monthly": "Monthly",
      "recurrenceEditor.frequencies.yearly": "Yearly",
      "recurrenceEditor.end.endLabel": "End: ",
      "recurrenceEditor.end.endNever": "Never",
      "recurrenceEditor.end.endCountAfter": "After ",
      "recurrenceEditor.end.endCountOccurrence": " occurrence(s)",
      "recurrenceEditor.end.endUntilOn": "On ",
      "recurrenceEditor.offsetPositions.first": "first",
      "recurrenceEditor.offsetPositions.second": "second",
      "recurrenceEditor.offsetPositions.third": "third",
      "recurrenceEditor.offsetPositions.fourth": "fourth",
      "recurrenceEditor.offsetPositions.last": "last",
      "recurrenceEditor.daily.repeatEvery": "Repeat every :",
      "recurrenceEditor.daily.days": " day(s)",
      "recurrenceEditor.weekly.weeks": " week(s)",
      "recurrenceEditor.weekly.repeatEvery": "Repeat every: ",
      "recurrenceEditor.weekly.repeatOn": "Repeat on: ",
      "recurrenceEditor.monthly.repeatEvery": "Repeat every: ",
      "recurrenceEditor.monthly.repeatOn": "Repeat on: ",
      "recurrenceEditor.monthly.months": " month(s)",
      "recurrenceEditor.monthly.day": "Day ",
      "recurrenceEditor.yearly.repeatEvery": "Repeat every: ",
      "recurrenceEditor.yearly.repeatOn": "Repeat on: ",
      "recurrenceEditor.yearly.years": " year(s)",
      "recurrenceEditor.yearly.of": " of "
    }
  })
})();
(function() {
  WinJS.Namespace.define("Telerik.Localization", {
    _radslider: {
      decreaseButtonTooltip: "Decrease",
      "_decreaseButtonTooltip.comment": "The title of the decrease button of the slider.",
      increaseButtonTooltip: "Increase",
      "_increaseButtonTooltip.comment": "The title of the increase button of the slider.",
      dragHandleTooltip: "drag",
      "_dragHandleTooltip.comment": "The title of the drag handle of the slider."
    }
  })
})();
(function() {
  WinJS.Namespace.define("Telerik.Localization", {
    _radtimepicker: {
      selectorHeader: "Select Time",
      "_selectorHeader.comment": "The default text for the time selector's header.",
      emptyContent: "Select Time",
      "_emptyContent.comment": "The default text that shows in the picker when no time is selected."
    }
  })
})();
(function() {
  function a(ao, al) {
    var an = WinJS.Utilities.query(ao, al).get(0),
      am = an ? an.winControl : null;
    return am
  }
  WinJS.Namespace.define("Telerik.UI", {
    find: {
      Chart: function g(am, al) {
        return a(am, al)
      },
      arLineSeries: function d(am, al) {
        return a(am, al)
      },
      arAreaSeries: function b(am, al) {
        return a(am, al)
      },
      arColumnSeries: function c(am, al) {
        return a(am, al)
      },
      Sparkline: function C(am, al) {
        return a(am, al)
      },
      Grid: function m(am, al) {
        return a(am, al)
      },
      DatePicker: function k(am, al) {
        return a(am, al)
      },
      TimePicker: function D(am, al) {
        return a(am, al)
      },
      Calendar: function f(am, al) {
        return a(am, al)
      },
      Scheduler: function z(am, al) {
        return a(am, al)
      },
      ColorPicker: function h(am, al) {
        return a(am, al)
      },
      HSBPicker: function n(am, al) {
        return a(am, al)
      },
      RGBPicker: function y(am, al) {
        return a(am, al)
      },
      PalettePicker: function t(am, al) {
        return a(am, al)
      },
      AutoCompleteBox: function e(am, al) {
        return a(am, al)
      },
      ComboBox: function i(am, al) {
        return a(am, al)
      },
      DropDownList: function l(am, al) {
        return a(am, al)
      },
      LinearGauge: function p(am, al) {
        return a(am, al)
      },
      RadialGauge: function v(am, al) {
        return a(am, al)
      },
      HubTile: function o(am, al) {
        return a(am, al)
      },
      CustomHubTile: function j(am, al) {
        return a(am, al)
      },
      PictureRotatorHubTile: function u(am, al) {
        return a(am, al)
      },
      SlideHubTile: function A(am, al) {
        return a(am, al)
      },
      MosaicHubTile: function q(am, al) {
        return a(am, al)
      },
      NumericBox: function r(am, al) {
        return a(am, al)
      },
      Pagination: function s(am, al) {
        return a(am, al)
      },
      RadialMenu: function w(am, al) {
        return a(am, al)
      },
      Slider: function B(am, al) {
        return a(am, al)
      },
      RangeSlider: function x(am, al) {
        return a(am, al)
      },
      TokenInput: function E(am, al) {
        return a(am, al)
      },
      Zoomable: function F(am, al) {
        return a(am, al)
      }
    },
    to: {
      Chart: function L(al) {
        return al
      },
      arLineSeries: function I(al) {
        return al
      },
      arAreaSeries: function G(al) {
        return al
      },
      arColumnSeries: function H(al) {
        return al
      },
      Sparkline: function ah(al) {
        return al
      },
      Grid: function R(al) {
        return al
      },
      DatePicker: function P(al) {
        return al
      },
      TimePicker: function ai(al) {
        return al
      },
      Calendar: function K(al) {
        return al
      },
      Scheduler: function ae(al) {
        return al
      },
      ColorPicker: function M(al) {
        return al
      },
      HSBPicker: function S(al) {
        return al
      },
      RGBPicker: function ad(al) {
        return al
      },
      PalettePicker: function Y(al) {
        return al
      },
      AutoCompleteBox: function J(al) {
        return al
      },
      ComboBox: function N(al) {
        return al
      },
      DropDownList: function Q(al) {
        return al
      },
      LinearGauge: function U(al) {
        return al
      },
      RadialGauge: function aa(al) {
        return al
      },
      HubTile: function T(al) {
        return al
      },
      CustomHubTile: function O(al) {
        return al
      },
      PictureRotatorHubTile: function Z(al) {
        return al
      },
      SlideHubTile: function af(al) {
        return al
      },
      MosaicHubTile: function V(al) {
        return al
      },
      NumericBox: function W(al) {
        return al
      },
      Pagination: function X(al) {
        return al
      },
      RadialMenu: function ab(al) {
        return al
      },
      Slider: function ag(al) {
        return al
      },
      RangeSlider: function ac(al) {
        return al
      },
      TokenInput: function aj(al) {
        return al
      },
      Zoomable: function ak(al) {
        return al
      }
    }
  })
})();